import{$ as qt,$a as Wc,A as i_,Aa as la,Ab as F_,B as Et,Ba as p_,Bb as j_,C as yo,Ca as bi,D as We,Da as Fp,E as Cp,Ea as da,F as Bc,Fa as ha,G as Ap,Ga as er,H as mi,Ha as fa,I as wo,Ia as m_,J as _o,Ja as Gc,K as o_,Ka as g_,L as kp,La as Vt,M as yr,Ma as v_,N as s_,Na as b_,O as zc,Oa as y_,P as wr,Pa as jp,Q as Dp,Qa as w_,R as a_,Ra as j,S as u_,Sa as q,T as c_,Ta as ct,U as qc,Ua as Io,V as xn,Va as dn,W as Hc,Wa as Sn,X as ve,Xa as nt,Y as Ut,Ya as pa,Z as _r,Za as $c,_ as ht,_a as __,a as K,aa as l_,ab as Yc,b as ge,ba as Zt,bb as Up,ca as Op,cb as I_,d as Tn,da as it,db as Vp,e as bO,ea as Y,eb as E_,f as Tp,fa as Rp,fb as Bp,g as t_,ga as d_,gb as Qc,h as e_,ha as ua,hb as T_,i as n_,ia as oe,ib as Xc,j as xp,ja as Ht,jb as x_,k as Sp,ka as gi,kb as S_,l as tr,la as Kc,lb as C_,m as ln,ma as h_,mb as Zc,n as br,na as ca,nb as A_,o as W,oa as Ir,ob as k_,p as oa,pa as Np,pb as se,q as k,qa as Un,qb as D_,r as A,ra as Vn,rb as zp,s as Uc,sa as je,sb as O_,t as sa,ta as Ue,tb as R_,u as kt,ua as Mp,ub as ma,v as Vc,va as Pp,vb as N_,w as $e,wa as Lp,wb as M_,x as tt,xa as Er,xb as P_,y as aa,ya as vi,yb as L_,z as r_,za as f_,zb as qp}from"./chunk-OFF7C5QK.js";function qI(e){return No(void 0,e)}function No(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(var i in t)!t.hasOwnProperty(i)||!qN(i)||(e[i]=No(e[i],t[i]));return e}function qN(e){return e!=="__proto__"}function KI(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},i=t||"demo-project",o=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var u=oa({iss:"https://securetoken.google.com/"+i,aud:i,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},e),l="";return[BI(JSON.stringify(n)),BI(JSON.stringify(u)),l].join(".")}function Ar(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function GI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ar())}function qm(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $I(){return typeof self=="object"&&self.self===self}function WI(){var e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function YI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function QI(){return Ar().indexOf("Electron/")>=0}function XI(){var e=Ar();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function ZI(){return Ar().indexOf("MSAppHost/")>=0}function JI(){return!qm()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function GN(e,t){return e.replace($N,function(n,i){var o=t[i];return o!=null?String(o):"<"+i+"?>"})}function Hm(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function tE(e,t){var n=new WN(e,t);return n.subscribe.bind(n)}function YN(e,t){if(typeof e!="object"||e===null)return!1;for(var n=0,i=t;n<i.length;n++){var o=i[n];if(o in e&&typeof e[o]=="function")return!0}return!1}function zm(){}function Bt(e){return e&&e._delegate?e._delegate:e}var zI,VN,BN,zN,BI,HI,HN,KN,_l,$N,vj,WN,bj,Va=Tn(()=>{"use strict";Vc();zI=function(e){for(var t=[],n=0,i=0;i<e.length;i++){var o=e.charCodeAt(i);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},VN=function(e){for(var t=[],n=0,i=0;n<e.length;){var o=e[n++];if(o<128)t[i++]=String.fromCharCode(o);else if(o>191&&o<224){var a=e[n++];t[i++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){var a=e[n++],u=e[n++],l=e[n++],h=((o&7)<<18|(a&63)<<12|(u&63)<<6|l&63)-65536;t[i++]=String.fromCharCode(55296+(h>>10)),t[i++]=String.fromCharCode(56320+(h&1023))}else{var a=e[n++],u=e[n++];t[i++]=String.fromCharCode((o&15)<<12|(a&63)<<6|u&63)}}return t.join("")},BN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[],o=0;o<e.length;o+=3){var a=e[o],u=o+1<e.length,l=u?e[o+1]:0,h=o+2<e.length,p=h?e[o+2]:0,m=a>>2,b=(a&3)<<4|l>>4,y=(l&15)<<2|p>>6,_=p&63;h||(_=64,u||(y=64)),i.push(n[m],n[b],n[y],n[_])}return i.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(zI(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):VN(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[],o=0;o<e.length;){var a=n[e.charAt(o++)],u=o<e.length,l=u?n[e.charAt(o)]:0;++o;var h=o<e.length,p=h?n[e.charAt(o)]:64;++o;var m=o<e.length,b=m?n[e.charAt(o)]:64;if(++o,a==null||l==null||p==null||b==null)throw Error();var y=a<<2|l>>4;if(i.push(y),p!==64){var _=l<<4&240|p>>2;if(i.push(_),b!==64){var I=p<<6&192|b;i.push(I)}}}return i},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},zN=function(e){var t=zI(e);return BN.encodeByteArray(t,!0)},BI=function(e){return zN(e).replace(/\./g,"")};HI=function(){function e(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,i){t.resolve=n,t.reject=i})}return e.prototype.wrapCallback=function(t){var n=this;return function(i,o){i?n.reject(i):n.resolve(o),typeof t=="function"&&(n.promise.catch(function(){}),t.length===1?t(i):t(i,o))}},e}();HN="FirebaseError",KN=function(e){W(t,e);function t(n,i,o){var a=e.call(this,i)||this;return a.code=n,a.customData=o,a.name=HN,Object.setPrototypeOf(a,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(a,_l.prototype.create),a}return t}(Error),_l=function(){function e(t,n,i){this.service=t,this.serviceName=n,this.errors=i}return e.prototype.create=function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=n[0]||{},a=this.service+"/"+t,u=this.errors[t],l=u?GN(u,o):"Error",h=this.serviceName+": "+l+" ("+a+").",p=new KN(a,h,o);return p},e}();$N=/\{\$([^}]+)}/g;vj=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(t,n){n||(n=0);var i=this.W_;if(typeof t=="string")for(var o=0;o<16;o++)i[o]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(var o=0;o<16;o++)i[o]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(var o=16;o<80;o++){var a=i[o-3]^i[o-8]^i[o-14]^i[o-16];i[o]=(a<<1|a>>>31)&4294967295}for(var u=this.chain_[0],l=this.chain_[1],h=this.chain_[2],p=this.chain_[3],m=this.chain_[4],b,y,o=0;o<80;o++){o<40?o<20?(b=p^l&(h^p),y=1518500249):(b=l^h^p,y=1859775393):o<60?(b=l&h|p&(l|h),y=2400959708):(b=l^h^p,y=3395469782);var a=(u<<5|u>>>27)+b+m+y+i[o]&4294967295;m=p,p=h,h=(l<<30|l>>>2)&4294967295,l=u,u=a}this.chain_[0]=this.chain_[0]+u&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+h&4294967295,this.chain_[3]=this.chain_[3]+p&4294967295,this.chain_[4]=this.chain_[4]+m&4294967295},e.prototype.update=function(t,n){if(t!=null){n===void 0&&(n=t.length);for(var i=n-this.blockSize,o=0,a=this.buf_,u=this.inbuf_;o<n;){if(u===0)for(;o<=i;)this.compress_(t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<n;)if(a[u]=t.charCodeAt(o),++u,++o,u===this.blockSize){this.compress_(a),u=0;break}}else for(;o<n;)if(a[u]=t[o],++u,++o,u===this.blockSize){this.compress_(a),u=0;break}}this.inbuf_=u,this.total_+=n}},e.prototype.digest=function(){var t=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);for(var o=0,i=0;i<5;i++)for(var a=24;a>=0;a-=8)t[o]=this.chain_[i]>>a&255,++o;return t},e}();WN=function(){function e(t,n){var i=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(i)}).catch(function(o){i.error(o)})}return e.prototype.next=function(t){this.forEachObserver(function(n){n.next(t)})},e.prototype.error=function(t){this.forEachObserver(function(n){n.error(t)}),this.close(t)},e.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},e.prototype.subscribe=function(t,n,i){var o=this,a;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");YN(t,["next","error","complete"])?a=t:a={next:t,error:n,complete:i},a.next===void 0&&(a.next=zm),a.error===void 0&&(a.error=zm),a.complete===void 0&&(a.complete=zm);var u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{o.finalError?a.error(o.finalError):a.complete()}catch{}}),this.observers.push(a),u},e.prototype.unsubscribeOne=function(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},e.prototype.forEachObserver=function(t){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,t)},e.prototype.sendOne=function(t,n){var i=this;this.task.then(function(){if(i.observers!==void 0&&i.observers[t]!==void 0)try{n(i.observers[t])}catch(o){typeof console<"u"&&console.error&&console.error(o)}})},e.prototype.close=function(t){var n=this;this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},e}();bj=4*60*60*1e3;});function XN(e){return e===_i?void 0:e}function ZN(e){return e.instantiationMode==="EAGER"}var Mo,_i,QN,eE,Km=Tn(()=>{"use strict";Vc();Va();Mo=function(){function e(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},e.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},e.prototype.setServiceProps=function(t){return this.serviceProps=t,this},e.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},e}();_i="[DEFAULT]";QN=function(){function e(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(t){var n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){var i=new HI;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{var o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise},e.prototype.getImmediate=function(t){var n,i=this.normalizeInstanceIdentifier(t?.identifier),o=(n=t?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error("Service "+this.name+" is not available")}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(t){var n,i;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,!!this.shouldAutoInitialize()){if(ZN(t))try{this.getOrInitializeService({instanceIdentifier:_i})}catch{}try{for(var o=Uc(this.instancesDeferred.entries()),a=o.next();!a.done;a=o.next()){var u=sa(a.value,2),l=u[0],h=u[1],p=this.normalizeInstanceIdentifier(l);try{var m=this.getOrInitializeService({instanceIdentifier:p});h.resolve(m)}catch{}}}catch(b){n={error:b}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}}},e.prototype.clearInstance=function(t){t===void 0&&(t=_i),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},e.prototype.delete=function(){return k(this,void 0,void 0,function(){var t;return A(this,function(n){switch(n.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(kt(kt([],sa(t.filter(function(i){return"INTERNAL"in i}).map(function(i){return i.INTERNAL.delete()}))),sa(t.filter(function(i){return"_delete"in i}).map(function(i){return i._delete()}))))];case 1:return n.sent(),[2]}})})},e.prototype.isComponentSet=function(){return this.component!=null},e.prototype.isInitialized=function(t){return t===void 0&&(t=_i),this.instances.has(t)},e.prototype.getOptions=function(t){return t===void 0&&(t=_i),this.instancesOptions.get(t)||{}},e.prototype.initialize=function(t){var n,i;t===void 0&&(t={});var o=t.options,a=o===void 0?{}:o,u=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(u))throw Error(this.name+"("+u+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var l=this.getOrInitializeService({instanceIdentifier:u,options:a});try{for(var h=Uc(this.instancesDeferred.entries()),p=h.next();!p.done;p=h.next()){var m=sa(p.value,2),b=m[0],y=m[1],_=this.normalizeInstanceIdentifier(b);u===_&&y.resolve(l)}}catch(I){n={error:I}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(n)throw n.error}}return l},e.prototype.onInit=function(t,n){var i,o=this.normalizeInstanceIdentifier(n),a=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;a.add(t),this.onInitCallbacks.set(o,a);var u=this.instances.get(o);return u&&t(u,o),function(){a.delete(t)}},e.prototype.invokeOnInitCallbacks=function(t,n){var i,o,a=this.onInitCallbacks.get(n);if(a)try{for(var u=Uc(a),l=u.next();!l.done;l=u.next()){var h=l.value;try{h(t,n)}catch{}}}catch(p){i={error:p}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}},e.prototype.getOrInitializeService=function(t){var n=t.instanceIdentifier,i=t.options,o=i===void 0?{}:i,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:XN(n),options:o}),this.instances.set(n,a),this.instancesOptions.set(n,o),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch{}return a||null},e.prototype.normalizeInstanceIdentifier=function(t){return t===void 0&&(t=_i),this.component?this.component.multipleInstances?t:_i:t},e.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},e}();eE=function(){function e(t){this.name=t,this.providers=new Map}return e.prototype.addComponent=function(t){var n=this.getProvider(t.name);if(n.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);n.setComponent(t)},e.prototype.addOrOverwriteComponent=function(t){var n=this.getProvider(t.name);n.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},e.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var n=new QN(t,this);return this.providers.set(t,n),n},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}()});function Cn(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var i=Array(e),o=0,t=0;t<n;t++)for(var a=arguments[t],u=0,l=a.length;u<l;u++,o++)i[o]=a[u];return i}function rE(e){Gm.forEach(function(t){t.setLogLevel(e)})}function iE(e,t){for(var n=function(u){var l=null;t&&t.level&&(l=nE[t.level]),e===null?u.userLogHandler=null:u.userLogHandler=function(h,p){for(var m=[],b=2;b<arguments.length;b++)m[b-2]=arguments[b];var y=m.map(function(_){if(_==null)return null;if(typeof _=="string")return _;if(typeof _=="number"||typeof _=="boolean")return _.toString();if(_ instanceof Error)return _.message;try{return JSON.stringify(_)}catch{return null}}).filter(function(_){return _}).join(" ");p>=(l??h.logLevel)&&e({level:gt[p].toLowerCase(),message:y,args:m,type:h.name})}},i=0,o=Gm;i<o.length;i++){var a=o[i];n(a)}}var Ii,Gm,gt,nE,JN,tM,eM,Il,El=Tn(()=>{"use strict";Gm=[],gt=function(e){return e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",e}(gt||{}),nE={debug:gt.DEBUG,verbose:gt.VERBOSE,info:gt.INFO,warn:gt.WARN,error:gt.ERROR,silent:gt.SILENT},JN=gt.INFO,tM=(Ii={},Ii[gt.DEBUG]="log",Ii[gt.VERBOSE]="log",Ii[gt.INFO]="info",Ii[gt.WARN]="warn",Ii[gt.ERROR]="error",Ii),eM=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=new Date().toISOString(),a=tM[t];if(a)console[a].apply(console,Cn(["["+o+"]  "+e.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}},Il=function(){function e(t){this.name=t,this._logLevel=JN,this._logHandler=eM,this._userLogHandler=null,Gm.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in gt))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(t){this._logLevel=typeof t=="string"?nE[t]:t},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Cn([this,gt.DEBUG],t)),this._logHandler.apply(this,Cn([this,gt.DEBUG],t))},e.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Cn([this,gt.VERBOSE],t)),this._logHandler.apply(this,Cn([this,gt.VERBOSE],t))},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Cn([this,gt.INFO],t)),this._logHandler.apply(this,Cn([this,gt.INFO],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Cn([this,gt.WARN],t)),this._logHandler.apply(this,Cn([this,gt.WARN],t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Cn([this,gt.ERROR],t)),this._logHandler.apply(this,Cn([this,gt.ERROR],t))},e}()});function bM(e){var t={},n=new Map,i={__esModule:!0,initializeApp:u,app:a,registerVersion:p,setLogLevel:rE,onLog:m,apps:null,SDK_VERSION:vM,INTERNAL:{registerComponent:h,removeApp:o,components:n,useAsService:b}};i.default=i,Object.defineProperty(i,"apps",{get:l});function o(y){delete t[y]}function a(y){if(y=y||xl,!Hm(t,y))throw Po.create("no-app",{appName:y});return t[y]}a.App=e;function u(y,_){if(_===void 0&&(_={}),typeof _!="object"||_===null){var I=_;_={name:I}}var E=_;E.name===void 0&&(E.name=xl);var S=E.name;if(typeof S!="string"||!S)throw Po.create("bad-app-name",{appName:String(S)});if(Hm(t,S))throw Po.create("duplicate-app",{appName:S});var O=new e(y,E,i);return t[S]=O,O}function l(){return Object.keys(t).map(function(y){return t[y]})}function h(y){var _=y.name;if(n.has(_))return Lo.debug("There were multiple attempts to register component "+_+"."),y.type==="PUBLIC"?i[_]:null;if(n.set(_,y),y.type==="PUBLIC"){var I=function(F){if(F===void 0&&(F=a()),typeof F[_]!="function")throw Po.create("invalid-app-argument",{appName:_});return F[_]()};y.serviceProps!==void 0&&No(I,y.serviceProps),i[_]=I,e.prototype[_]=function(){for(var F=[],V=0;V<arguments.length;V++)F[V]=arguments[V];var rt=this._getService.bind(this,_);return rt.apply(this,y.multipleInstances?F:[])}}for(var E=0,S=Object.keys(t);E<S.length;E++){var O=S[E];t[O]._addComponent(y)}return y.type==="PUBLIC"?i[_]:null}function p(y,_,I){var E,S=(E=gM[y])!==null&&E!==void 0?E:y;I&&(S+="-"+I);var O=S.match(/\s|\//),F=_.match(/\s|\//);if(O||F){var V=['Unable to register library "'+S+'" with version "'+_+'":'];O&&V.push('library name "'+S+'" contains illegal characters (whitespace or "/")'),O&&F&&V.push("and"),F&&V.push('version name "'+_+'" contains illegal characters (whitespace or "/")'),Lo.warn(V.join(" "));return}h(new Mo(S+"-version",function(){return{library:S,version:_}},"VERSION"))}function m(y,_){if(y!==null&&typeof y!="function")throw Po.create("invalid-log-argument");iE(y,_)}function b(y,_){if(_==="serverAuth")return null;var I=_;return I}return i}function sE(){var e=bM(Tl);e.INTERNAL=oa(oa({},e.INTERNAL),{createFirebaseNamespace:sE,extendNamespace:t,createSubscribe:tE,ErrorFactory:_l,deepExtend:No});function t(n){No(e,n)}return e}function wM(e){var t=e.getComponent();return t?.type==="VERSION"}function _M(e,t){e.INTERNAL.registerComponent(new Mo("platform-logger",function(n){return new yM(n)},"PRIVATE")),e.registerVersion(oE,rM,t),e.registerVersion("fire-js","")}var kr,nM,Po,oE,rM,iM,oM,sM,aM,uM,cM,lM,dM,hM,fM,pM,mM,be,xl,gM,Lo,Tl,vM,Wm,yM,$m,IM,aE,Q,Ba=Tn(()=>{"use strict";Vc();Va();Km();El();nM=(kr={},kr["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",kr["bad-app-name"]="Illegal App name: '{$appName}",kr["duplicate-app"]="Firebase App named '{$appName}' already exists",kr["app-deleted"]="Firebase App named '{$appName}' already deleted",kr["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",kr["invalid-log-argument"]="First argument to `onLog` must be null or a function.",kr),Po=new _l("app","Firebase",nM),oE="@firebase/app",rM="0.6.30",iM="@firebase/analytics",oM="@firebase/app-check",sM="@firebase/auth",aM="@firebase/database",uM="@firebase/functions",cM="@firebase/installations",lM="@firebase/messaging",dM="@firebase/performance",hM="@firebase/remote-config",fM="@firebase/storage",pM="@firebase/firestore",mM="firebase-wrapper";xl="[DEFAULT]",gM=(be={},be[oE]="fire-core",be[iM]="fire-analytics",be[oM]="fire-app-check",be[sM]="fire-auth",be[aM]="fire-rtdb",be[uM]="fire-fn",be[cM]="fire-iid",be[lM]="fire-fcm",be[dM]="fire-perf",be[hM]="fire-rc",be[fM]="fire-gcs",be[pM]="fire-fst",be["fire-js"]="fire-js",be[mM]="fire-js-all",be);Lo=new Il("@firebase/app");Tl=function(){function e(t,n,i){var o=this;this.firebase_=i,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=qI(t),this.container=new eE(n.name),this._addComponent(new Mo("app",function(){return o},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(a){return o._addComponent(a)})}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var t=this;return new Promise(function(n){t.checkDestroyed_(),n()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(n){return n.delete()}))}).then(function(){t.isDeleted_=!0})},e.prototype._getService=function(t,n){var i;n===void 0&&(n=xl),this.checkDestroyed_();var o=this.container.getProvider(t);return!o.isInitialized()&&((i=o.getComponent())===null||i===void 0?void 0:i.instantiationMode)==="EXPLICIT"&&o.initialize(),o.getImmediate({identifier:n})},e.prototype._removeServiceInstance=function(t,n){n===void 0&&(n=xl),this.container.getProvider(t).clearInstance(n)},e.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(n){Lo.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,n)}},e.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Po.create("app-deleted",{appName:this.name_})},e}();Tl.prototype.name&&Tl.prototype.options||Tl.prototype.delete||console.log("dc");vM="8.10.0";Wm=sE();yM=function(){function e(t){this.container=t}return e.prototype.getPlatformInfoString=function(){var t=this.container.getProviders();return t.map(function(n){if(wM(n)){var i=n.getImmediate();return i.library+"/"+i.version}else return null}).filter(function(n){return n}).join(" ")},e}();$I()&&self.firebase!==void 0&&(Lo.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `),$m=self.firebase.SDK_VERSION,$m&&$m.indexOf("LITE")>=0&&Lo.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `));IM=Wm.initializeApp;Wm.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return qm()&&Lo.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),IM.apply(void 0,e)};aE=Wm;_M(aE);Q=aE});var cE={};bO(cE,{default:()=>Q});var EM,uE,lE=Tn(()=>{"use strict";Ba();Ba();EM="firebase",uE="8.10.1";Q.registerVersion(EM,uE,"app");Q.SDK_VERSION=uE});var dE=Tn(()=>{"use strict";Ba();(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(r,s,c){r!=Array.prototype&&r!=Object.prototype&&(r[s]=c.value)};function n(r){r=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,r];for(var s=0;s<r.length;++s){var c=r[s];if(c&&c.Math==Math)return c}return globalThis}var i=n(this);function o(r,s){if(s){var c=i;r=r.split(".");for(var d=0;d<r.length-1;d++){var f=r[d];f in c||(c[f]={}),c=c[f]}r=r[r.length-1],d=c[r],s=s(d),s!=d&&s!=null&&t(c,r,{configurable:!0,writable:!0,value:s})}}function a(r){var s=0;return function(){return s<r.length?{done:!1,value:r[s++]}:{done:!0}}}function u(r){var s=typeof Symbol<"u"&&Symbol.iterator&&r[Symbol.iterator];return s?s.call(r):{next:a(r)}}o("Promise",function(r){function s(v){this.b=0,this.c=void 0,this.a=[];var w=this.f();try{v(w.resolve,w.reject)}catch(C){w.reject(C)}}function c(){this.a=null}function d(v){return v instanceof s?v:new s(function(w){w(v)})}if(r)return r;c.prototype.b=function(v){if(this.a==null){this.a=[];var w=this;this.c(function(){w.g()})}this.a.push(v)};var f=i.setTimeout;c.prototype.c=function(v){f(v,0)},c.prototype.g=function(){for(;this.a&&this.a.length;){var v=this.a;this.a=[];for(var w=0;w<v.length;++w){var C=v[w];v[w]=null;try{C()}catch(D){this.f(D)}}}this.a=null},c.prototype.f=function(v){this.c(function(){throw v})},s.prototype.f=function(){function v(D){return function(J){C||(C=!0,D.call(w,J))}}var w=this,C=!1;return{resolve:v(this.m),reject:v(this.g)}},s.prototype.m=function(v){if(v===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(v instanceof s)this.s(v);else{t:switch(typeof v){case"object":var w=v!=null;break t;case"function":w=!0;break t;default:w=!1}w?this.v(v):this.h(v)}},s.prototype.v=function(v){var w=void 0;try{w=v.then}catch(C){this.g(C);return}typeof w=="function"?this.u(w,v):this.h(v)},s.prototype.g=function(v){this.i(2,v)},s.prototype.h=function(v){this.i(1,v)},s.prototype.i=function(v,w){if(this.b!=0)throw Error("Cannot settle("+v+", "+w+"): Promise already settled in state"+this.b);this.b=v,this.c=w,this.l()},s.prototype.l=function(){if(this.a!=null){for(var v=0;v<this.a.length;++v)g.b(this.a[v]);this.a=null}};var g=new c;return s.prototype.s=function(v){var w=this.f();v.Ra(w.resolve,w.reject)},s.prototype.u=function(v,w){var C=this.f();try{v.call(w,C.resolve,C.reject)}catch(D){C.reject(D)}},s.prototype.then=function(v,w){function C(mt,te){return typeof mt=="function"?function(Jn){try{D(mt(Jn))}catch(Ep){J(Ep)}}:te}var D,J,wt=new s(function(mt,te){D=mt,J=te});return this.Ra(C(v,D),C(w,J)),wt},s.prototype.catch=function(v){return this.then(void 0,v)},s.prototype.Ra=function(v,w){function C(){switch(D.b){case 1:v(D.c);break;case 2:w(D.c);break;default:throw Error("Unexpected state: "+D.b)}}var D=this;this.a==null?g.b(C):this.a.push(C)},s.resolve=d,s.reject=function(v){return new s(function(w,C){C(v)})},s.race=function(v){return new s(function(w,C){for(var D=u(v),J=D.next();!J.done;J=D.next())d(J.value).Ra(w,C)})},s.all=function(v){var w=u(v),C=w.next();return C.done?d([]):new s(function(D,J){function wt(Jn){return function(Ep){mt[Jn]=Ep,te--,te==0&&D(mt)}}var mt=[],te=0;do mt.push(void 0),te++,d(C.value).Ra(wt(mt.length-1),J),C=w.next();while(!C.done)})},s});var l=l||{},h=this||self,p=/^[\w+/_-]+[=]{0,2}$/,m=null;function b(r){return(r=r.querySelector&&r.querySelector("script[nonce]"))&&(r=r.nonce||r.getAttribute("nonce"))&&p.test(r)?r:""}function y(){}function _(r){var s=typeof r;return s!="object"?s:r?Array.isArray(r)?"array":s:"null"}function I(r){var s=_(r);return s=="array"||s=="object"&&typeof r.length=="number"}function E(r){return _(r)=="function"}function S(r){var s=typeof r;return s=="object"&&r!=null||s=="function"}function O(r){return Object.prototype.hasOwnProperty.call(r,F)&&r[F]||(r[F]=++V)}var F="closure_uid_"+(1e9*Math.random()>>>0),V=0;function rt(r,s,c){return r.call.apply(r.bind,arguments)}function lt(r,s,c){if(!r)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var f=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(f,d),r.apply(s,f)}}return function(){return r.apply(s,arguments)}}function P(r,s,c){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?P=rt:P=lt,P.apply(null,arguments)}function St(r,s){var c=Array.prototype.slice.call(arguments,1);return function(){var d=c.slice();return d.push.apply(d,arguments),r.apply(this,d)}}var ys=Date.now;function Z(r,s){function c(){}c.prototype=s.prototype,r.bb=s.prototype,r.prototype=new c,r.prototype.constructor=r}function Gi(r){return r}function T(r,s,c){this.code=ws+r,this.message=s||fC[r]||"",this.a=c||null}Z(T,Error),T.prototype.w=function(){var r={code:this.code,message:this.message};return this.a&&(r.serverResponse=this.a),r},T.prototype.toJSON=function(){return this.w()};function sb(r){var s=r&&r.code;return s?new T(s.substring(ws.length),r.message,r.serverResponse):null}var ws="auth/",fC={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},zd={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function _s(r){for(var s in zd)if(zd[s].id===r)return r=zd[s],{firebaseEndpoint:r.Ua,secureTokenEndpoint:r.$a,identityPlatformEndpoint:r.Xa};return null}var Is;Is=_s("__EID__")?"__EID__":void 0;function ab(r){if(!r)return!1;try{return!!r.$goog_Thenable}catch{return!1}}function qe(r){if(Error.captureStackTrace)Error.captureStackTrace(this,qe);else{var s=Error().stack;s&&(this.stack=s)}r&&(this.message=String(r))}Z(qe,Error),qe.prototype.name="CustomError";function qd(r,s){r=r.split("%s");for(var c="",d=r.length-1,f=0;f<d;f++)c+=r[f]+(f<s.length?s[f]:"%s");qe.call(this,c+r[d])}Z(qd,qe),qd.prototype.name="AssertionError";function $i(r,s){throw new qd("Failure"+(r?": "+r:""),Array.prototype.slice.call(arguments,1))}function Hd(r,s){this.c=r,this.f=s,this.b=0,this.a=null}Hd.prototype.get=function(){if(0<this.b){this.b--;var r=this.a;this.a=r.next,r.next=null}else r=this.c();return r};function ub(r,s){r.f(s),100>r.b&&(r.b++,s.next=r.a,r.a=s)}function cb(){this.b=this.a=null}var lb=new Hd(function(){return new Kd},function(r){r.reset()});cb.prototype.add=function(r,s){var c=lb.get();c.set(r,s),this.b?this.b.next=c:this.a=c,this.b=c};function pC(){var r=Fb,s=null;return r.a&&(s=r.a,r.a=r.a.next,r.a||(r.b=null),s.next=null),s}function Kd(){this.next=this.b=this.a=null}Kd.prototype.set=function(r,s){this.a=r,this.b=s,this.next=null},Kd.prototype.reset=function(){this.next=this.b=this.a=null};var db=Array.prototype.indexOf?function(r,s){return Array.prototype.indexOf.call(r,s,void 0)}:function(r,s){if(typeof r=="string")return typeof s!="string"||s.length!=1?-1:r.indexOf(s,0);for(var c=0;c<r.length;c++)if(c in r&&r[c]===s)return c;return-1},Ot=Array.prototype.forEach?function(r,s,c){Array.prototype.forEach.call(r,s,c)}:function(r,s,c){for(var d=r.length,f=typeof r=="string"?r.split(""):r,g=0;g<d;g++)g in f&&s.call(c,f[g],g,r)};function mC(r,s){for(var c=typeof r=="string"?r.split(""):r,d=r.length-1;0<=d;--d)d in c&&s.call(void 0,c[d],d,r)}var gC=Array.prototype.filter?function(r,s){return Array.prototype.filter.call(r,s,void 0)}:function(r,s){for(var c=r.length,d=[],f=0,g=typeof r=="string"?r.split(""):r,v=0;v<c;v++)if(v in g){var w=g[v];s.call(void 0,w,v,r)&&(d[f++]=w)}return d},Lu=Array.prototype.map?function(r,s){return Array.prototype.map.call(r,s,void 0)}:function(r,s){for(var c=r.length,d=Array(c),f=typeof r=="string"?r.split(""):r,g=0;g<c;g++)g in f&&(d[g]=s.call(void 0,f[g],g,r));return d},vC=Array.prototype.some?function(r,s){return Array.prototype.some.call(r,s,void 0)}:function(r,s){for(var c=r.length,d=typeof r=="string"?r.split(""):r,f=0;f<c;f++)if(f in d&&s.call(void 0,d[f],f,r))return!0;return!1};function bC(r){t:{for(var s=XA,c=r.length,d=typeof r=="string"?r.split(""):r,f=0;f<c;f++)if(f in d&&s.call(void 0,d[f],f,r)){s=f;break t}s=-1}return 0>s?null:typeof r=="string"?r.charAt(s):r[s]}function Wn(r,s){return 0<=db(r,s)}function Fu(r,s){s=db(r,s);var c;return(c=0<=s)&&Array.prototype.splice.call(r,s,1),c}function vn(r,s){var c=0;mC(r,function(d,f){s.call(void 0,d,f,r)&&Array.prototype.splice.call(r,f,1).length==1&&c++})}function Gd(r){return Array.prototype.concat.apply([],arguments)}function Wr(r){var s=r.length;if(0<s){for(var c=Array(s),d=0;d<s;d++)c[d]=r[d];return c}return[]}var hb=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]},yC=/&/g,wC=/</g,_C=/>/g,IC=/"/g,EC=/'/g,TC=/\x00/g,xC=/[\x00&<>"']/;function Tt(r,s){return r.indexOf(s)!=-1}function $d(r,s){return r<s?-1:r>s?1:0}var Wi;t:{var fb=h.navigator;if(fb){var pb=fb.userAgent;if(pb){Wi=pb;break t}}Wi=""}function Qt(r){return Tt(Wi,r)}function mb(r,s){for(var c in r)s.call(void 0,r[c],c,r)}function Yr(r){for(var s in r)return!1;return!0}function cr(r){var s={},c;for(c in r)s[c]=r[c];return s}var gb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ne(r,s){for(var c,d,f=1;f<arguments.length;f++){d=arguments[f];for(c in d)r[c]=d[c];for(var g=0;g<gb.length;g++)c=gb[g],Object.prototype.hasOwnProperty.call(d,c)&&(r[c]=d[c])}}function vb(r,s){t:{try{var c=r&&r.ownerDocument,d=c&&(c.defaultView||c.parentWindow);if(d=d||h,d.Element&&d.Location){var f=d;break t}}catch{}f=null}if(f&&typeof f[s]<"u"&&(!r||!(r instanceof f[s])&&(r instanceof f.Location||r instanceof f.Element))){if(S(r))try{var g=r.constructor.displayName||r.constructor.name||Object.prototype.toString.call(r)}catch{g="<object could not be stringified>"}else g=r===void 0?"undefined":r===null?"null":typeof r;$i("Argument is not a %s (or a non-Element, non-Location mock); got: %s",s,g)}}function On(r,s){this.a=r===ju&&s||"",this.b=bb}On.prototype.ta=!0,On.prototype.sa=function(){return this.a},On.prototype.toString=function(){return"Const{"+this.a+"}"};function Wd(r){return r instanceof On&&r.constructor===On&&r.b===bb?r.a:($i("expected object of type Const, got '"+r+"'"),"type_error:Const")}var bb={},ju={},Uu;function yb(){if(Uu===void 0){var r=null,s=h.trustedTypes;if(s&&s.createPolicy){try{r=s.createPolicy("goog#html",{createHTML:Gi,createScript:Gi,createScriptURL:Gi})}catch(c){h.console&&h.console.error(c.message)}Uu=r}else Uu=r}return Uu}function Yi(r,s){this.a=s===_b?r:""}Yi.prototype.ta=!0,Yi.prototype.sa=function(){return this.a.toString()},Yi.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function wb(r){return r instanceof Yi&&r.constructor===Yi?r.a:($i("expected object of type TrustedResourceUrl, got '"+r+"' of type "+_(r)),"type_error:TrustedResourceUrl")}function Yd(r,s){var c=Wd(r);if(!CC.test(c))throw Error("Invalid TrustedResourceUrl format: "+c);return r=c.replace(SC,function(d,f){if(!Object.prototype.hasOwnProperty.call(s,f))throw Error('Found marker, "'+f+'", in format string, "'+c+'", but no valid label mapping found in args: '+JSON.stringify(s));return d=s[f],d instanceof On?Wd(d):encodeURIComponent(String(d))}),AC(r)}var SC=/%{(\w+)}/g,CC=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,_b={};function AC(r){var s=yb();return r=s?s.createScriptURL(r):r,new Yi(r,_b)}function Me(r,s){this.a=s===Es?r:""}Me.prototype.ta=!0,Me.prototype.sa=function(){return this.a.toString()},Me.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function Vu(r){return r instanceof Me&&r.constructor===Me?r.a:($i("expected object of type SafeUrl, got '"+r+"' of type "+_(r)),"type_error:SafeUrl")}var kC=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,DC=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Ib=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Eb(r){if(r instanceof Me)return r;if(r=typeof r=="object"&&r.ta?r.sa():String(r),Ib.test(r))r=new Me(r,Es);else{r=String(r),r=r.replace(/(%0A|%0D)/g,"");var s=r.match(DC);r=s&&kC.test(s[1])?new Me(r,Es):null}return r}function Tb(r){return r instanceof Me?r:(r=typeof r=="object"&&r.ta?r.sa():String(r),Ib.test(r)||(r="about:invalid#zClosurez"),new Me(r,Es))}var Es={},xb=new Me("about:invalid#zClosurez",Es);function Qi(r,s,c){this.a=c===Sb?r:""}Qi.prototype.ta=!0,Qi.prototype.sa=function(){return this.a.toString()},Qi.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function OC(r){return r instanceof Qi&&r.constructor===Qi?r.a:($i("expected object of type SafeHtml, got '"+r+"' of type "+_(r)),"type_error:SafeHtml")}var Sb={};function RC(r,s){vb(r,"HTMLScriptElement"),r.src=wb(s),(s=r.ownerDocument&&r.ownerDocument.defaultView)&&s!=h?s=b(s.document):(m===null&&(m=b(h.document)),s=m),s&&r.setAttribute("nonce",s)}function Cb(r,s,c,d){return r=r instanceof Me?r:Tb(r),s=s||h,c=c instanceof On?Wd(c):c||"",s.open(Vu(r),c,d,void 0)}function Ab(r,s){for(var c=r.split("%s"),d="",f=Array.prototype.slice.call(arguments,1);f.length&&1<c.length;)d+=c.shift()+f.shift();return d+c.join("%s")}function Qd(r){return xC.test(r)&&(r.indexOf("&")!=-1&&(r=r.replace(yC,"&amp;")),r.indexOf("<")!=-1&&(r=r.replace(wC,"&lt;")),r.indexOf(">")!=-1&&(r=r.replace(_C,"&gt;")),r.indexOf('"')!=-1&&(r=r.replace(IC,"&quot;")),r.indexOf("'")!=-1&&(r=r.replace(EC,"&#39;")),r.indexOf("\0")!=-1&&(r=r.replace(TC,"&#0;"))),r}function Xd(r){return Xd[" "](r),r}Xd[" "]=y;function NC(r,s){var c=FC;return Object.prototype.hasOwnProperty.call(c,r)?c[r]:c[r]=s(r)}var MC=Qt("Opera"),bn=Qt("Trident")||Qt("MSIE"),kb=Qt("Edge"),PC=kb||bn,Db=Qt("Gecko")&&!(Tt(Wi.toLowerCase(),"webkit")&&!Qt("Edge"))&&!(Qt("Trident")||Qt("MSIE"))&&!Qt("Edge"),LC=Tt(Wi.toLowerCase(),"webkit")&&!Qt("Edge");function Ob(){var r=h.document;return r?r.documentMode:void 0}var Bu;t:{var Zd="",Jd=function(){var r=Wi;if(Db)return/rv:([^\);]+)(\)|;)/.exec(r);if(kb)return/Edge\/([\d\.]+)/.exec(r);if(bn)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r);if(LC)return/WebKit\/(\S+)/.exec(r);if(MC)return/(?:Version)[ \/]?(\S+)/.exec(r)}();if(Jd&&(Zd=Jd?Jd[1]:""),bn){var th=Ob();if(th!=null&&th>parseFloat(Zd)){Bu=String(th);break t}}Bu=Zd}var FC={};function Rb(r){return NC(r,function(){for(var s=0,c=hb(String(Bu)).split("."),d=hb(String(r)).split("."),f=Math.max(c.length,d.length),g=0;s==0&&g<f;g++){var v=c[g]||"",w=d[g]||"";do{if(v=/(\d*)(\D*)(.*)/.exec(v)||["","","",""],w=/(\d*)(\D*)(.*)/.exec(w)||["","","",""],v[0].length==0&&w[0].length==0)break;s=$d(v[1].length==0?0:parseInt(v[1],10),w[1].length==0?0:parseInt(w[1],10))||$d(v[2].length==0,w[2].length==0)||$d(v[2],w[2]),v=v[3],w=w[3]}while(s==0)}return 0<=s})}var eh;if(h.document&&bn){var Nb=Ob();eh=Nb||parseInt(Bu,10)||void 0}else eh=void 0;var lr=eh;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var jC=!bn||9<=Number(lr);function Ts(r){var s=document;return typeof r=="string"?s.getElementById(r):r}function Mb(r,s){mb(s,function(c,d){c&&typeof c=="object"&&c.ta&&(c=c.sa()),d=="style"?r.style.cssText=c:d=="class"?r.className=c:d=="for"?r.htmlFor=c:Pb.hasOwnProperty(d)?r.setAttribute(Pb[d],c):d.lastIndexOf("aria-",0)==0||d.lastIndexOf("data-",0)==0?r.setAttribute(d,c):r[d]=c})}var Pb={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function UC(r,s,c){var d=arguments,f=document,g=String(d[0]),v=d[1];if(!jC&&v&&(v.name||v.type)){if(g=["<",g],v.name&&g.push(' name="',Qd(v.name),'"'),v.type){g.push(' type="',Qd(v.type),'"');var w={};Ne(w,v),delete w.type,v=w}g.push(">"),g=g.join("")}return g=zu(f,g),v&&(typeof v=="string"?g.className=v:Array.isArray(v)?g.className=v.join(" "):Mb(g,v)),2<d.length&&VC(f,g,d),g}function VC(r,s,c){function d(w){w&&s.appendChild(typeof w=="string"?r.createTextNode(w):w)}for(var f=2;f<c.length;f++){var g=c[f];if(!I(g)||S(g)&&0<g.nodeType)d(g);else{t:{if(g&&typeof g.length=="number"){if(S(g)){var v=typeof g.item=="function"||typeof g.item=="string";break t}if(E(g)){v=typeof g.item=="function";break t}}v=!1}Ot(v?Wr(g):g,d)}}}function zu(r,s){return s=String(s),r.contentType==="application/xhtml+xml"&&(s=s.toLowerCase()),r.createElement(s)}function Lb(r){h.setTimeout(function(){throw r},0)}var nh;function BC(){var r=h.MessageChannel;if(typeof r>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!Qt("Presto")&&(r=function(){var f=zu(document,"IFRAME");f.style.display="none",document.documentElement.appendChild(f);var g=f.contentWindow;f=g.document,f.open(),f.close();var v="callImmediate"+Math.random(),w=g.location.protocol=="file:"?"*":g.location.protocol+"//"+g.location.host;f=P(function(C){(w=="*"||C.origin==w)&&C.data==v&&this.port1.onmessage()},this),g.addEventListener("message",f,!1),this.port1={},this.port2={postMessage:function(){g.postMessage(v,w)}}}),typeof r<"u"&&!Qt("Trident")&&!Qt("MSIE")){var s=new r,c={},d=c;return s.port1.onmessage=function(){if(c.next!==void 0){c=c.next;var f=c.Hb;c.Hb=null,f()}},function(f){d.next={Hb:f},d=d.next,s.port2.postMessage(0)}}return function(f){h.setTimeout(f,0)}}function qu(r,s){Hu||zC(),rh||(Hu(),rh=!0),Fb.add(r,s)}var Hu;function zC(){if(h.Promise&&h.Promise.resolve){var r=h.Promise.resolve(void 0);Hu=function(){r.then(jb)}}else Hu=function(){var s=jb;!E(h.setImmediate)||h.Window&&h.Window.prototype&&!Qt("Edge")&&h.Window.prototype.setImmediate==h.setImmediate?(nh||(nh=BC()),nh(s)):h.setImmediate(s)}}var rh=!1,Fb=new cb;function jb(){for(var r;r=pC();){try{r.a.call(r.b)}catch(s){Lb(s)}ub(lb,r)}rh=!1}function ut(r,s){if(this.a=Qr,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,r!=y)try{var c=this;r.call(s,function(d){Xr(c,xs,d)},function(d){if(!(d instanceof Xi))try{throw d instanceof Error?d:Error("Promise rejected.")}catch{}Xr(c,Yn,d)})}catch(d){Xr(this,Yn,d)}}var Qr=0,xs=2,Yn=3;function Ub(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Ub.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Vb=new Hd(function(){return new Ub},function(r){r.reset()});function ih(r,s,c){var d=Vb.get();return d.g=r,d.b=s,d.f=c,d}function $(r){if(r instanceof ut)return r;var s=new ut(y);return Xr(s,xs,r),s}function Ct(r){return new ut(function(s,c){c(r)})}function Bb(r,s,c){Kb(r,s,c,null)||qu(St(s,r))}function qC(r){return new ut(function(s,c){var d=r.length,f=[];if(d)for(var g=function(D,J){d--,f[D]=J,d==0&&s(f)},v=function(D){c(D)},w=0,C;w<r.length;w++)C=r[w],Bb(C,St(g,w),v);else s(f)})}function zb(r){return new ut(function(s){var c=r.length,d=[];if(c)for(var f=function(w,C,D){c--,d[w]=C?{Qb:!0,value:D}:{Qb:!1,reason:D},c==0&&s(d)},g=0,v;g<r.length;g++)v=r[g],Bb(v,St(f,g,!0),St(f,g,!1));else s(d)})}ut.prototype.then=function(r,s,c){return Hb(this,E(r)?r:null,E(s)?s:null,c)},ut.prototype.$goog_Thenable=!0,e=ut.prototype,e.oa=function(r,s){return r=ih(r,r,s),r.c=!0,oh(this,r),this},e.o=function(r,s){return Hb(this,null,r,s)},e.cancel=function(r){if(this.a==Qr){var s=new Xi(r);qu(function(){qb(this,s)},this)}};function qb(r,s){if(r.a==Qr)if(r.c){var c=r.c;if(c.b){for(var d=0,f=null,g=null,v=c.b;v&&(v.c||(d++,v.a==r&&(f=v),!(f&&1<d)));v=v.next)f||(g=v);f&&(c.a==Qr&&d==1?qb(c,s):(g?(d=g,d.next==c.f&&(c.f=d),d.next=d.next.next):$b(c),Wb(c,f,Yn,s)))}r.c=null}else Xr(r,Yn,s)}function oh(r,s){r.b||r.a!=xs&&r.a!=Yn||Gb(r),r.f?r.f.next=s:r.b=s,r.f=s}function Hb(r,s,c,d){var f=ih(null,null,null);return f.a=new ut(function(g,v){f.g=s?function(w){try{var C=s.call(d,w);g(C)}catch(D){v(D)}}:g,f.b=c?function(w){try{var C=c.call(d,w);C===void 0&&w instanceof Xi?v(w):g(C)}catch(D){v(D)}}:v}),f.a.c=r,oh(r,f),f.a}e.$c=function(r){this.a=Qr,Xr(this,xs,r)},e.ad=function(r){this.a=Qr,Xr(this,Yn,r)};function Xr(r,s,c){r.a==Qr&&(r===c&&(s=Yn,c=new TypeError("Promise cannot resolve to itself")),r.a=1,Kb(c,r.$c,r.ad,r)||(r.i=c,r.a=s,r.c=null,Gb(r),s!=Yn||c instanceof Xi||KC(r,c)))}function Kb(r,s,c,d){if(r instanceof ut)return oh(r,ih(s||y,c||null,d)),!0;if(ab(r))return r.then(s,c,d),!0;if(S(r))try{var f=r.then;if(E(f))return HC(r,f,s,c,d),!0}catch(g){return c.call(d,g),!0}return!1}function HC(r,s,c,d,f){function g(C){w||(w=!0,d.call(f,C))}function v(C){w||(w=!0,c.call(f,C))}var w=!1;try{s.call(r,v,g)}catch(C){g(C)}}function Gb(r){r.h||(r.h=!0,qu(r.gc,r))}function $b(r){var s=null;return r.b&&(s=r.b,r.b=s.next,s.next=null),r.b||(r.f=null),s}e.gc=function(){for(var r;r=$b(this);)Wb(this,r,this.a,this.i);this.h=!1};function Wb(r,s,c,d){if(c==Yn&&s.b&&!s.c)for(;r&&r.g;r=r.c)r.g=!1;if(s.a)s.a.c=null,Yb(s,c,d);else try{s.c?s.g.call(s.f):Yb(s,c,d)}catch(f){Qb.call(null,f)}ub(Vb,s)}function Yb(r,s,c){s==xs?r.g.call(r.f,c):r.b&&r.b.call(r.f,c)}function KC(r,s){r.g=!0,qu(function(){r.g&&Qb.call(null,s)})}var Qb=Lb;function Xi(r){qe.call(this,r)}Z(Xi,qe),Xi.prototype.name="cancel";function Ku(){sh!=0&&(Xb[O(this)]=this),this.ya=this.ya,this.pa=this.pa}var sh=0,Xb={};Ku.prototype.ya=!1;function Zb(r){if(!r.ya&&(r.ya=!0,r.Da(),sh!=0)){var s=O(r);if(sh!=0&&r.pa&&0<r.pa.length)throw Error(r+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Xb[s]}}Ku.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var GC=Object.freeze||function(r){return r},Jb=!bn||9<=Number(lr),$C=bn&&!Rb("9"),WC=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var r=!1,s=Object.defineProperty({},"passive",{get:function(){r=!0}});try{h.addEventListener("test",y,s),h.removeEventListener("test",y,s)}catch{}return r}();function Pe(r,s){this.type=r,this.b=this.target=s,this.defaultPrevented=!1}Pe.prototype.preventDefault=function(){this.defaultPrevented=!0};function Zr(r,s){if(Pe.call(this,r?r.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,r){var c=this.type=r.type,d=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.b=s,s=r.relatedTarget){if(Db){t:{try{Xd(s.nodeName);var f=!0;break t}catch{}f=!1}f||(s=null)}}else c=="mouseover"?s=r.fromElement:c=="mouseout"&&(s=r.toElement);this.relatedTarget=s,d?(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0):(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType=typeof r.pointerType=="string"?r.pointerType:YC[r.pointerType]||"",this.a=r,r.defaultPrevented&&this.preventDefault()}}Z(Zr,Pe);var YC=GC({2:"touch",3:"pen",4:"mouse"});Zr.prototype.preventDefault=function(){Zr.bb.preventDefault.call(this);var r=this.a;if(r.preventDefault)r.preventDefault();else if(r.returnValue=!1,$C)try{(r.ctrlKey||112<=r.keyCode&&123>=r.keyCode)&&(r.keyCode=-1)}catch{}},Zr.prototype.g=function(){return this.a};var Ss="closure_listenable_"+(1e6*Math.random()|0),QC=0;function XC(r,s,c,d,f){this.listener=r,this.proxy=null,this.src=s,this.type=c,this.capture=!!d,this.Wa=f,this.key=++QC,this.wa=this.Qa=!1}function Gu(r){r.wa=!0,r.listener=null,r.proxy=null,r.src=null,r.Wa=null}function $u(r){this.src=r,this.a={},this.b=0}$u.prototype.add=function(r,s,c,d,f){var g=r.toString();r=this.a[g],r||(r=this.a[g]=[],this.b++);var v=uh(r,s,d,f);return-1<v?(s=r[v],c||(s.Qa=!1)):(s=new XC(s,this.src,g,!!d,f),s.Qa=c,r.push(s)),s};function ah(r,s){var c=s.type;c in r.a&&Fu(r.a[c],s)&&(Gu(s),r.a[c].length==0&&(delete r.a[c],r.b--))}function uh(r,s,c,d){for(var f=0;f<r.length;++f){var g=r[f];if(!g.wa&&g.listener==s&&g.capture==!!c&&g.Wa==d)return f}return-1}var ch="closure_lm_"+(1e6*Math.random()|0),lh={},ty=0;function sn(r,s,c,d,f){if(d&&d.once)dh(r,s,c,d,f);else if(Array.isArray(s))for(var g=0;g<s.length;g++)sn(r,s[g],c,d,f);else c=fh(c),r&&r[Ss]?sy(r,s,c,S(d)?!!d.capture:!!d,f):ey(r,s,c,!1,d,f)}function ey(r,s,c,d,f,g){if(!s)throw Error("Invalid event type");var v=S(f)?!!f.capture:!!f,w=Wu(r);if(w||(r[ch]=w=new $u(r)),c=w.add(s,c,d,v,g),!c.proxy){if(d=ZC(),c.proxy=d,d.src=r,d.listener=c,r.addEventListener)WC||(f=v),f===void 0&&(f=!1),r.addEventListener(s.toString(),d,f);else if(r.attachEvent)r.attachEvent(ry(s.toString()),d);else if(r.addListener&&r.removeListener)r.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.");ty++}}function ZC(){var r=JC,s=Jb?function(c){return r.call(s.src,s.listener,c)}:function(c){if(c=r.call(s.src,s.listener,c),!c)return c};return s}function dh(r,s,c,d,f){if(Array.isArray(s))for(var g=0;g<s.length;g++)dh(r,s[g],c,d,f);else c=fh(c),r&&r[Ss]?ph(r,s,c,S(d)?!!d.capture:!!d,f):ey(r,s,c,!0,d,f)}function He(r,s,c,d,f){if(Array.isArray(s))for(var g=0;g<s.length;g++)He(r,s[g],c,d,f);else d=S(d)?!!d.capture:!!d,c=fh(c),r&&r[Ss]?(r=r.v,s=String(s).toString(),s in r.a&&(g=r.a[s],c=uh(g,c,d,f),-1<c&&(Gu(g[c]),Array.prototype.splice.call(g,c,1),g.length==0&&(delete r.a[s],r.b--)))):r&&(r=Wu(r))&&(s=r.a[s.toString()],r=-1,s&&(r=uh(s,c,d,f)),(c=-1<r?s[r]:null)&&ny(c))}function ny(r){if(typeof r!="number"&&r&&!r.wa){var s=r.src;if(s&&s[Ss])ah(s.v,r);else{var c=r.type,d=r.proxy;s.removeEventListener?s.removeEventListener(c,d,r.capture):s.detachEvent?s.detachEvent(ry(c),d):s.addListener&&s.removeListener&&s.removeListener(d),ty--,(c=Wu(s))?(ah(c,r),c.b==0&&(c.src=null,s[ch]=null)):Gu(r)}}}function ry(r){return r in lh?lh[r]:lh[r]="on"+r}function iy(r,s,c,d){var f=!0;if((r=Wu(r))&&(s=r.a[s.toString()]))for(s=s.concat(),r=0;r<s.length;r++){var g=s[r];g&&g.capture==c&&!g.wa&&(g=oy(g,d),f=f&&g!==!1)}return f}function oy(r,s){var c=r.listener,d=r.Wa||r.src;return r.Qa&&ny(r),c.call(d,s)}function JC(r,s){if(r.wa)return!0;if(!Jb){if(!s)t:{s=["window","event"];for(var c=h,d=0;d<s.length;d++)if(c=c[s[d]],c==null){s=null;break t}s=c}if(d=s,s=new Zr(d,this),c=!0,!(0>d.keyCode||d.returnValue!=null)){t:{var f=!1;if(d.keyCode==0)try{d.keyCode=-1;break t}catch{f=!0}(f||d.returnValue==null)&&(d.returnValue=!0)}for(d=[],f=s.b;f;f=f.parentNode)d.push(f);for(r=r.type,f=d.length-1;0<=f;f--){s.b=d[f];var g=iy(d[f],r,!0,s);c=c&&g}for(f=0;f<d.length;f++)s.b=d[f],g=iy(d[f],r,!1,s),c=c&&g}return c}return oy(r,new Zr(s,this))}function Wu(r){return r=r[ch],r instanceof $u?r:null}var hh="__closure_events_fn_"+(1e9*Math.random()>>>0);function fh(r){return E(r)?r:(r[hh]||(r[hh]=function(s){return r.handleEvent(s)}),r[hh])}function xe(){Ku.call(this),this.v=new $u(this),this.bc=this,this.hb=null}Z(xe,Ku),xe.prototype[Ss]=!0,xe.prototype.addEventListener=function(r,s,c,d){sn(this,r,s,c,d)},xe.prototype.removeEventListener=function(r,s,c,d){He(this,r,s,c,d)},xe.prototype.dispatchEvent=function(r){var s,c=this.hb;if(c)for(s=[];c;c=c.hb)s.push(c);c=this.bc;var d=r.type||r;if(typeof r=="string")r=new Pe(r,c);else if(r instanceof Pe)r.target=r.target||c;else{var f=r;r=new Pe(d,c),Ne(r,f)}if(f=!0,s)for(var g=s.length-1;0<=g;g--){var v=r.b=s[g];f=Yu(v,d,!0,r)&&f}if(v=r.b=c,f=Yu(v,d,!0,r)&&f,f=Yu(v,d,!1,r)&&f,s)for(g=0;g<s.length;g++)v=r.b=s[g],f=Yu(v,d,!1,r)&&f;return f},xe.prototype.Da=function(){if(xe.bb.Da.call(this),this.v){var r=this.v,s=0,c;for(c in r.a){for(var d=r.a[c],f=0;f<d.length;f++)++s,Gu(d[f]);delete r.a[c],r.b--}}this.hb=null};function sy(r,s,c,d,f){r.v.add(String(s),c,!1,d,f)}function ph(r,s,c,d,f){r.v.add(String(s),c,!0,d,f)}function Yu(r,s,c,d){if(s=r.v.a[String(s)],!s)return!0;s=s.concat();for(var f=!0,g=0;g<s.length;++g){var v=s[g];if(v&&!v.wa&&v.capture==c){var w=v.listener,C=v.Wa||v.src;v.Qa&&ah(r.v,v),f=w.call(C,d)!==!1&&f}}return f&&!d.defaultPrevented}function mh(r,s,c){if(E(r))c&&(r=P(r,c));else if(r&&typeof r.handleEvent=="function")r=P(r.handleEvent,r);else throw Error("Invalid listener argument");return 2147483647<Number(s)?-1:h.setTimeout(r,s||0)}function Zi(r){var s=null;return new ut(function(c,d){s=mh(function(){c(void 0)},r),s==-1&&d(Error("Failed to schedule timer."))}).o(function(c){throw h.clearTimeout(s),c})}function ay(r){if(r.X&&typeof r.X=="function")return r.X();if(typeof r=="string")return r.split("");if(I(r)){for(var s=[],c=r.length,d=0;d<c;d++)s.push(r[d]);return s}s=[],c=0;for(d in r)s[c++]=r[d];return s}function uy(r){if(r.Y&&typeof r.Y=="function")return r.Y();if(!r.X||typeof r.X!="function"){if(I(r)||typeof r=="string"){var s=[];r=r.length;for(var c=0;c<r;c++)s.push(c);return s}s=[],c=0;for(var d in r)s[c++]=d;return s}}function tA(r,s){if(r.forEach&&typeof r.forEach=="function")r.forEach(s,void 0);else if(I(r)||typeof r=="string")Ot(r,s,void 0);else for(var c=uy(r),d=ay(r),f=d.length,g=0;g<f;g++)s.call(void 0,d[g],c&&c[g],r)}function Ji(r,s){this.b={},this.a=[],this.c=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(r)if(r instanceof Ji)for(c=r.Y(),d=0;d<c.length;d++)this.set(c[d],r.get(c[d]));else for(d in r)this.set(d,r[d])}e=Ji.prototype,e.X=function(){gh(this);for(var r=[],s=0;s<this.a.length;s++)r.push(this.b[this.a[s]]);return r},e.Y=function(){return gh(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0};function gh(r){if(r.c!=r.a.length){for(var s=0,c=0;s<r.a.length;){var d=r.a[s];Jr(r.b,d)&&(r.a[c++]=d),s++}r.a.length=c}if(r.c!=r.a.length){var f={};for(c=s=0;s<r.a.length;)d=r.a[s],Jr(f,d)||(r.a[c++]=d,f[d]=1),s++;r.a.length=c}}e.get=function(r,s){return Jr(this.b,r)?this.b[r]:s},e.set=function(r,s){Jr(this.b,r)||(this.c++,this.a.push(r)),this.b[r]=s},e.forEach=function(r,s){for(var c=this.Y(),d=0;d<c.length;d++){var f=c[d],g=this.get(f);r.call(s,g,f,this)}};function Jr(r,s){return Object.prototype.hasOwnProperty.call(r,s)}var cy=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function eA(r,s){if(r){r=r.split("&");for(var c=0;c<r.length;c++){var d=r[c].indexOf("="),f=null;if(0<=d){var g=r[c].substring(0,d);f=r[c].substring(d+1)}else g=r[c];s(g,f?decodeURIComponent(f.replace(/\+/g," ")):"")}}}function dr(r,s){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var c;r instanceof dr?(this.i=s!==void 0?s:r.i,Cs(this,r.c),this.l=r.l,this.a=r.a,As(this,r.g),this.f=r.f,vh(this,fy(r.b)),this.h=r.h):r&&(c=String(r).match(cy))?(this.i=!!s,Cs(this,c[1]||"",!0),this.l=ks(c[2]||""),this.a=ks(c[3]||"",!0),As(this,c[4]),this.f=ks(c[5]||"",!0),vh(this,c[6]||"",!0),this.h=ks(c[7]||"")):(this.i=!!s,this.b=new ti(null,this.i))}dr.prototype.toString=function(){var r=[],s=this.c;s&&r.push(Ds(s,ly,!0),":");var c=this.a;return(c||s=="file")&&(r.push("//"),(s=this.l)&&r.push(Ds(s,ly,!0),"@"),r.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.g,c!=null&&r.push(":",String(c))),(c=this.f)&&(this.a&&c.charAt(0)!="/"&&r.push("/"),r.push(Ds(c,c.charAt(0)=="/"?iA:rA,!0))),(c=this.b.toString())&&r.push("?",c),(c=this.h)&&r.push("#",Ds(c,sA)),r.join("")},dr.prototype.resolve=function(r){var s=new dr(this),c=!!r.c;c?Cs(s,r.c):c=!!r.l,c?s.l=r.l:c=!!r.a,c?s.a=r.a:c=r.g!=null;var d=r.f;if(c)As(s,r.g);else if(c=!!r.f){if(d.charAt(0)!="/")if(this.a&&!this.f)d="/"+d;else{var f=s.f.lastIndexOf("/");f!=-1&&(d=s.f.substr(0,f+1)+d)}if(f=d,f==".."||f==".")d="";else if(Tt(f,"./")||Tt(f,"/.")){d=f.lastIndexOf("/",0)==0,f=f.split("/");for(var g=[],v=0;v<f.length;){var w=f[v++];w=="."?d&&v==f.length&&g.push(""):w==".."?((1<g.length||g.length==1&&g[0]!="")&&g.pop(),d&&v==f.length&&g.push("")):(g.push(w),d=!0)}d=g.join("/")}else d=f}return c?s.f=d:c=r.b.toString()!=="",c?vh(s,fy(r.b)):c=!!r.h,c&&(s.h=r.h),s};function Cs(r,s,c){r.c=c?ks(s,!0):s,r.c&&(r.c=r.c.replace(/:$/,""))}function As(r,s){if(s){if(s=Number(s),isNaN(s)||0>s)throw Error("Bad port number "+s);r.g=s}else r.g=null}function vh(r,s,c){s instanceof ti?(r.b=s,aA(r.b,r.i)):(c||(s=Ds(s,oA)),r.b=new ti(s,r.i))}function Lt(r,s,c){r.b.set(s,c)}function an(r,s){return r.b.get(s)}function Le(r){return r instanceof dr?new dr(r):new dr(r,void 0)}function Qu(r,s,c,d){var f=new dr(null,void 0);return r&&Cs(f,r),s&&(f.a=s),c&&As(f,c),d&&(f.f=d),f}function ks(r,s){return r?s?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function Ds(r,s,c){return typeof r=="string"?(r=encodeURI(r).replace(s,nA),c&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function nA(r){return r=r.charCodeAt(0),"%"+(r>>4&15).toString(16)+(r&15).toString(16)}var ly=/[#\/\?@]/g,rA=/[#\?:]/g,iA=/[#\?]/g,oA=/[#\?@]/g,sA=/#/g;function ti(r,s){this.b=this.a=null,this.c=r||null,this.f=!!s}function hr(r){r.a||(r.a=new Ji,r.b=0,r.c&&eA(r.c,function(s,c){r.add(decodeURIComponent(s.replace(/\+/g," ")),c)}))}function dy(r){var s=uy(r);if(typeof s>"u")throw Error("Keys are undefined");var c=new ti(null,void 0);r=ay(r);for(var d=0;d<s.length;d++){var f=s[d],g=r[d];Array.isArray(g)?hy(c,f,g):c.add(f,g)}return c}e=ti.prototype,e.add=function(r,s){hr(this),this.c=null,r=to(this,r);var c=this.a.get(r);return c||this.a.set(r,c=[]),c.push(s),this.b+=1,this};function Rn(r,s){hr(r),s=to(r,s),Jr(r.a.b,s)&&(r.c=null,r.b-=r.a.get(s).length,r=r.a,Jr(r.b,s)&&(delete r.b[s],r.c--,r.a.length>2*r.c&&gh(r)))}e.clear=function(){this.a=this.c=null,this.b=0};function bh(r,s){return hr(r),s=to(r,s),Jr(r.a.b,s)}e.forEach=function(r,s){hr(this),this.a.forEach(function(c,d){Ot(c,function(f){r.call(s,f,d,this)},this)},this)},e.Y=function(){hr(this);for(var r=this.a.X(),s=this.a.Y(),c=[],d=0;d<s.length;d++)for(var f=r[d],g=0;g<f.length;g++)c.push(s[d]);return c},e.X=function(r){hr(this);var s=[];if(typeof r=="string")bh(this,r)&&(s=Gd(s,this.a.get(to(this,r))));else{r=this.a.X();for(var c=0;c<r.length;c++)s=Gd(s,r[c])}return s},e.set=function(r,s){return hr(this),this.c=null,r=to(this,r),bh(this,r)&&(this.b-=this.a.get(r).length),this.a.set(r,[s]),this.b+=1,this},e.get=function(r,s){return r?(r=this.X(r),0<r.length?String(r[0]):s):s};function hy(r,s,c){Rn(r,s),0<c.length&&(r.c=null,r.a.set(to(r,s),Wr(c)),r.b+=c.length)}e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var r=[],s=this.a.Y(),c=0;c<s.length;c++){var d=s[c],f=encodeURIComponent(String(d));d=this.X(d);for(var g=0;g<d.length;g++){var v=f;d[g]!==""&&(v+="="+encodeURIComponent(String(d[g]))),r.push(v)}}return this.c=r.join("&")};function fy(r){var s=new ti;return s.c=r.c,r.a&&(s.a=new Ji(r.a),s.b=r.b),s}function to(r,s){return s=String(s),r.f&&(s=s.toLowerCase()),s}function aA(r,s){s&&!r.f&&(hr(r),r.c=null,r.a.forEach(function(c,d){var f=d.toLowerCase();d!=f&&(Rn(this,d),hy(this,f,c))},r)),r.f=s}function py(r){var s=[];return yh(new uA,r,s),s.join("")}function uA(){}function yh(r,s,c){if(s==null)c.push("null");else{if(typeof s=="object"){if(Array.isArray(s)){var d=s;s=d.length,c.push("[");for(var f="",g=0;g<s;g++)c.push(f),yh(r,d[g],c),f=",";c.push("]");return}if(s instanceof String||s instanceof Number||s instanceof Boolean)s=s.valueOf();else{c.push("{"),f="";for(d in s)Object.prototype.hasOwnProperty.call(s,d)&&(g=s[d],typeof g!="function"&&(c.push(f),gy(d,c),c.push(":"),yh(r,g,c),f=","));c.push("}");return}}switch(typeof s){case"string":gy(s,c);break;case"number":c.push(isFinite(s)&&!isNaN(s)?String(s):"null");break;case"boolean":c.push(String(s));break;case"function":c.push("null");break;default:throw Error("Unknown type: "+typeof s)}}}var my={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},cA=/\uffff/.test("\uFFFF")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function gy(r,s){s.push('"',r.replace(cA,function(c){var d=my[c];return d||(d="\\u"+(c.charCodeAt(0)|65536).toString(16).substr(1),my[c]=d),d}),'"')}function wh(){var r=ie();return bn&&!!lr&&lr==11||/Edge\/\d+/.test(r)}function Os(){return h.window&&h.window.location.href||self&&self.location&&self.location.href||""}function vy(r,s){s=s||h.window;var c="about:blank";r&&(c=Vu(Eb(r)||xb)),s.location.href=c}function by(r,s){var c=[],d;for(d in r)d in s?typeof r[d]!=typeof s[d]?c.push(d):typeof r[d]=="object"&&r[d]!=null&&s[d]!=null?0<by(r[d],s[d]).length&&c.push(d):r[d]!==s[d]&&c.push(d):c.push(d);for(d in s)d in r||c.push(d);return c}function lA(){var r=ie();return r=eo(r)!=Iy?null:(r=r.match(/\sChrome\/(\d+)/i))&&r.length==2?parseInt(r[1],10):null,r&&30>r?!1:!bn||!lr||9<lr}function yy(r){return r=(r||ie()).toLowerCase(),!!(r.match(/android/)||r.match(/webos/)||r.match(/iphone|ipad|ipod/)||r.match(/blackberry/)||r.match(/windows phone/)||r.match(/iemobile/))}function ei(r){r=r||h.window;try{r.close()}catch{}}function wy(r,s,c){var d=Math.floor(1e9*Math.random()).toString();s=s||500,c=c||600;var f=(window.screen.availHeight-c)/2,g=(window.screen.availWidth-s)/2;s={width:s,height:c,top:0<f?f:0,left:0<g?g:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},c=ie().toLowerCase(),d&&(s.target=d,Tt(c,"crios/")&&(s.target="_blank")),eo(ie())==Eh&&(r=r||"http://localhost",s.scrollbars=!0),c=r||"",(r=s)||(r={}),d=window,s=c instanceof Me?c:Eb(typeof c.href<"u"?c.href:String(c))||xb,c=r.target||c.target,f=[];for(v in r)switch(v){case"width":case"height":case"top":case"left":f.push(v+"="+r[v]);break;case"target":case"noopener":case"noreferrer":break;default:f.push(v+"="+(r[v]?1:0))}var v=f.join(",");if((Qt("iPhone")&&!Qt("iPod")&&!Qt("iPad")||Qt("iPad")||Qt("iPod"))&&d.navigator&&d.navigator.standalone&&c&&c!="_self"?(v=zu(document,"A"),vb(v,"HTMLAnchorElement"),s=s instanceof Me?s:Tb(s),v.href=Vu(s),v.setAttribute("target",c),r.noreferrer&&v.setAttribute("rel","noreferrer"),r=document.createEvent("MouseEvent"),r.initMouseEvent("click",!0,!0,d,1),v.dispatchEvent(r),v={}):r.noreferrer?(v=Cb("",d,c,v),r=Vu(s),v&&(PC&&Tt(r,";")&&(r="'"+r.replace(/'/g,"%27")+"'"),v.opener=null,r='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Qd(r)+'">',r=(d=yb())?d.createHTML(r):r,r=new Qi(r,null,Sb),d=v.document)&&(d.write(OC(r)),d.close())):(v=Cb(s,d,c,v))&&r.noopener&&(v.opener=null),v)try{v.focus()}catch{}return v}function dA(r){return new ut(function(s){function c(){Zi(2e3).then(function(){if(!r||r.closed)s();else return c()})}return c()})}var hA=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fA=/^[^@]+@[^@]+$/;function Xu(){var r=null;return new ut(function(s){h.document.readyState=="complete"?s():(r=function(){s()},dh(window,"load",r))}).o(function(s){throw He(window,"load",r),s})}function pA(){return _h(void 0)?Xu().then(function(){return new ut(function(r,s){var c=h.document,d=setTimeout(function(){s(Error("Cordova framework is not ready."))},1e3);c.addEventListener("deviceready",function(){clearTimeout(d),r()},!1)})}):Ct(Error("Cordova must run in an Android or iOS file scheme."))}function _h(r){return r=r||ie(),!(ro()!=="file:"&&ro()!=="ionic:"||!r.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ih(){var r=h.window;try{return!(!r||r==r.top)}catch{return!1}}function yn(){return typeof h.WorkerGlobalScope<"u"&&typeof h.importScripts=="function"}function Nn(){return Q.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Q.INTERNAL.hasOwnProperty("node")?"Node":yn()?"Worker":"Browser"}function _y(){var r=Nn();return r==="ReactNative"||r==="Node"}function mA(){for(var r=50,s=[];0<r;)s.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),r--;return s.join("")}var Eh="Firefox",Iy="Chrome";function eo(r){var s=r.toLowerCase();if(Tt(s,"opera/")||Tt(s,"opr/")||Tt(s,"opios/"))return"Opera";if(Tt(s,"iemobile"))return"IEMobile";if(Tt(s,"msie")||Tt(s,"trident/"))return"IE";if(Tt(s,"edge/"))return"Edge";if(Tt(s,"firefox/"))return Eh;if(Tt(s,"silk/"))return"Silk";if(Tt(s,"blackberry"))return"Blackberry";if(Tt(s,"webos"))return"Webos";if(!Tt(s,"safari/")||Tt(s,"chrome/")||Tt(s,"crios/")||Tt(s,"android"))if(!Tt(s,"chrome/")&&!Tt(s,"crios/")||Tt(s,"edge/")){if(Tt(s,"android"))return"Android";if((r=r.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&r.length==2)return r[1]}else return Iy;else return"Safari";return"Other"}var Ey={md:"FirebaseCore-web",od:"FirebaseUI-web"};function no(r,s){s=s||[];var c=[],d={},f;for(f in Ey)d[Ey[f]]=!0;for(f=0;f<s.length;f++)typeof d[s[f]]<"u"&&(delete d[s[f]],c.push(s[f]));return c.sort(),s=c,s.length||(s=["FirebaseCore-web"]),c=Nn(),c==="Browser"?(d=ie(),c=eo(d)):c==="Worker"&&(d=ie(),c=eo(d)+"-"+c),c+"/JsCore/"+r+"/"+s.join(",")}function ie(){return h.navigator&&h.navigator.userAgent||""}function At(r,s){r=r.split("."),s=s||h;for(var c=0;c<r.length&&typeof s=="object"&&s!=null;c++)s=s[r[c]];return c!=r.length&&(s=void 0),s}function Th(){try{var r=h.localStorage,s=ri();if(r)return r.setItem(s,"1"),r.removeItem(s),wh()?!!h.indexedDB:!0}catch{return yn()&&!!h.indexedDB}return!1}function ni(){return(Zu()||ro()==="chrome-extension:"||_h())&&!_y()&&Th()&&!yn()}function Zu(){return ro()==="http:"||ro()==="https:"}function ro(){return h.location&&h.location.protocol||null}function Rs(r){return r=r||ie(),!(yy(r)||eo(r)==Eh)}function Ns(r){return typeof r>"u"?null:py(r)}function Ty(r){var s={},c;for(c in r)r.hasOwnProperty(c)&&r[c]!==null&&r[c]!==void 0&&(s[c]=r[c]);return s}function io(r){if(r!==null)return JSON.parse(r)}function ri(r){return r||Math.floor(1e9*Math.random()).toString()}function xy(r){return r=r||ie(),!(eo(r)=="Safari"||r.toLowerCase().match(/iphone|ipad|ipod/))}function Sy(){var r=h.___jsl;if(r&&r.H){for(var s in r.H)if(r.H[s].r=r.H[s].r||[],r.H[s].L=r.H[s].L||[],r.H[s].r=r.H[s].L.concat(),r.CP)for(var c=0;c<r.CP.length;c++)r.CP[c]=null}}function fr(r,s){if(r>s)throw Error("Short delay should be less than long delay!");this.a=r,this.c=s,r=ie(),s=Nn(),this.b=yy(r)||s==="ReactNative"}fr.prototype.get=function(){var r=h.navigator;return!(r&&typeof r.onLine=="boolean"&&(Zu()||ro()==="chrome-extension:"||typeof r.connection<"u"))||r.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function xh(){var r=h.document;return r&&typeof r.visibilityState<"u"?r.visibilityState=="visible":!0}function gA(){var r=h.document,s=null;return xh()||!r?$():new ut(function(c){s=function(){xh()&&(r.removeEventListener("visibilitychange",s,!1),c())},r.addEventListener("visibilitychange",s,!1)}).o(function(c){throw r.removeEventListener("visibilitychange",s,!1),c})}function Ms(r){try{var s=new Date(parseInt(r,10));if(!isNaN(s.getTime())&&!/[^0-9]/.test(r))return s.toUTCString()}catch{}return null}function Cy(){return!(!At("fireauth.oauthhelper",h)&&!At("fireauth.iframe",h))}function vA(){var r=h.navigator;return r&&r.serviceWorker&&r.serviceWorker.controller||null}function bA(){var r=h.navigator;return r&&r.serviceWorker?$().then(function(){return r.serviceWorker.ready}).then(function(s){return s.active||null}).o(function(){return null}):$(null)}var Ay={};function Sh(r){Ay[r]||(Ay[r]=!0,typeof console<"u"&&typeof console.warn=="function"&&console.warn(r))}var Ch;try{var Ah={};Object.defineProperty(Ah,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Ah,"abcd",{configurable:!0,enumerable:!0,value:2}),Ch=Ah.abcd==2}catch{Ch=!1}function z(r,s,c){Ch?Object.defineProperty(r,s,{configurable:!0,enumerable:!0,value:c}):r[s]=c}function Se(r,s){if(s)for(var c in s)s.hasOwnProperty(c)&&z(r,c,s[c])}function Mn(r){var s={};return Se(s,r),s}function yA(r){var s={},c;for(c in r)r.hasOwnProperty(c)&&(s[c]=r[c]);return s}function wA(r,s){if(!s||!s.length)return!0;if(!r)return!1;for(var c=0;c<s.length;c++){var d=r[s[c]];if(d==null||d==="")return!1}return!0}function kh(r){var s=r;if(typeof r=="object"&&r!=null){s="length"in r?[]:{};for(var c in r)z(s,c,kh(r[c]))}return s}function Dh(r){var s=r&&(r[Mh]?"phone":null);if(s&&r&&r[Nh]){z(this,"uid",r[Nh]),z(this,"displayName",r[ky]||null);var c=null;r[Rh]&&(c=new Date(r[Rh]).toUTCString()),z(this,"enrollmentTime",c),z(this,"factorId",s)}else throw new T("internal-error","Internal assert: invalid MultiFactorInfo object")}Dh.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function Oh(r){try{var s=new Ps(r)}catch{s=null}return s}var ky="displayName",Rh="enrolledAt",Nh="mfaEnrollmentId",Mh="phoneInfo";function Ps(r){Dh.call(this,r),z(this,"phoneNumber",r[Mh])}Z(Ps,Dh),Ps.prototype.w=function(){var r=Ps.bb.w.call(this);return r.phoneNumber=this.phoneNumber,r};function _A(r){var s={},c=r[IA],d=r[TA],f=r[xA];if(r=Oh(r[EA]),!f||f!=Ju&&f!=Ls&&!c||f==Ls&&!d||f==Ph&&!r)throw Error("Invalid checkActionCode response!");f==Ls?(s[Oy]=c||null,s[Ry]=c||null,s[Dy]=d):(s[Oy]=d||null,s[Ry]=d||null,s[Dy]=c||null),s[SA]=r||null,z(this,AA,f),z(this,CA,kh(s))}var Ph="REVERT_SECOND_FACTOR_ADDITION",Ju="EMAIL_SIGNIN",Ls="VERIFY_AND_CHANGE_EMAIL",IA="email",EA="mfaInfo",TA="newEmail",xA="requestType",Dy="email",Oy="fromEmail",SA="multiFactorInfo",Ry="previousEmail",CA="data",AA="operation";function Lh(r){r=Le(r);var s=an(r,Ny)||null,c=an(r,My)||null,d=an(r,Py)||null;if(d=d&&RA[d]||null,!s||!c||!d)throw new T("argument-error",Ny+", "+My+"and "+Py+" are required in a valid action code URL.");Se(this,{apiKey:s,operation:d,code:c,continueUrl:an(r,kA)||null,languageCode:an(r,DA)||null,tenantId:an(r,OA)||null})}var Ny="apiKey",My="oobCode",kA="continueUrl",DA="languageCode",Py="mode",OA="tenantId",RA={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:Ph,signIn:Ju,verifyAndChangeEmail:Ls,verifyEmail:"VERIFY_EMAIL"};function Ly(r){try{return new Lh(r)}catch{return null}}function tc(r){var s=r[NA];if(typeof s>"u")throw new T("missing-continue-uri");if(typeof s!="string"||typeof s=="string"&&!s.length)throw new T("invalid-continue-uri");this.h=s,this.b=this.a=null,this.g=!1;var c=r[Fy];if(c&&typeof c=="object"){s=c[zy];var d=c[Vy];if(c=c[By],typeof s=="string"&&s.length){if(this.a=s,typeof d<"u"&&typeof d!="boolean")throw new T("argument-error",Vy+" property must be a boolean when specified.");if(this.g=!!d,typeof c<"u"&&(typeof c!="string"||typeof c=="string"&&!c.length))throw new T("argument-error",By+" property must be a non empty string when specified.");this.b=c||null}else{if(typeof s<"u")throw new T("argument-error",zy+" property must be a non empty string when specified.");if(typeof d<"u"||typeof c<"u")throw new T("missing-android-pkg-name")}}else if(typeof c<"u")throw new T("argument-error",Fy+" property must be a non null object when specified.");if(this.f=null,(s=r[Uy])&&typeof s=="object"){if(s=s[qy],typeof s=="string"&&s.length)this.f=s;else if(typeof s<"u")throw new T("argument-error",qy+" property must be a non empty string when specified.")}else if(typeof s<"u")throw new T("argument-error",Uy+" property must be a non null object when specified.");if(s=r[Fh],typeof s<"u"&&typeof s!="boolean")throw new T("argument-error",Fh+" property must be a boolean when specified.");if(this.c=!!s,r=r[jy],typeof r<"u"&&(typeof r!="string"||typeof r=="string"&&!r.length))throw new T("argument-error",jy+" property must be a non empty string when specified.");this.i=r||null}var Fy="android",jy="dynamicLinkDomain",Fh="handleCodeInApp",Uy="iOS",NA="url",Vy="installApp",By="minimumVersion",zy="packageName",qy="bundleId";function ec(r){var s={};s.continueUrl=r.h,s.canHandleCodeInApp=r.c,(s.androidPackageName=r.a)&&(s.androidMinimumVersion=r.b,s.androidInstallApp=r.g),s.iOSBundleId=r.f,s.dynamicLinkDomain=r.i;for(var c in s)s[c]===null&&delete s[c];return s}function MA(r){return Lu(r,function(s){return s=s.toString(16),1<s.length?s:"0"+s}).join("")}var Fs=null;function PA(r){var s=[];return LA(r,function(c){s.push(c)}),s}function LA(r,s){function c(C){for(;d<r.length;){var D=r.charAt(d++),J=Fs[D];if(J!=null)return J;if(!/^[\s\xa0]*$/.test(D))throw Error("Unknown base64 encoding at char: "+D)}return C}FA();for(var d=0;;){var f=c(-1),g=c(0),v=c(64),w=c(64);if(w===64&&f===-1)break;s(f<<2|g>>4),v!=64&&(s(g<<4&240|v>>2),w!=64&&s(v<<6&192|w))}}function FA(){if(!Fs){Fs={};for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),s=["+/=","+/","-_=","-_.","-_"],c=0;5>c;c++)for(var d=r.concat(s[c].split("")),f=0;f<d.length;f++){var g=d[f];Fs[g]===void 0&&(Fs[g]=f)}}}function nc(r){var s=Hy(r);if(!(s&&s.sub&&s.iss&&s.aud&&s.exp))throw Error("Invalid JWT");this.h=r,this.a=s.exp,this.i=s.sub,r=Date.now()/1e3,this.g=s.iat||(r>this.a?this.a:r),this.b=s.provider_id||s.firebase&&s.firebase.sign_in_provider||null,this.f=s.firebase&&s.firebase.tenant||null,this.c=!!s.is_anonymous||this.b=="anonymous"}nc.prototype.T=function(){return this.f},nc.prototype.l=function(){return this.c},nc.prototype.toString=function(){return this.h};function rc(r){try{return new nc(r)}catch{return null}}function Hy(r){if(!r||(r=r.split("."),r.length!=3))return null;r=r[1];for(var s=(4-r.length%4)%4,c=0;c<s;c++)r+=".";try{var d=PA(r);for(r=[],c=s=0;s<d.length;){var f=d[s++];if(128>f)r[c++]=String.fromCharCode(f);else if(191<f&&224>f){var g=d[s++];r[c++]=String.fromCharCode((f&31)<<6|g&63)}else if(239<f&&365>f){g=d[s++];var v=d[s++],w=d[s++],C=((f&7)<<18|(g&63)<<12|(v&63)<<6|w&63)-65536;r[c++]=String.fromCharCode(55296+(C>>10)),r[c++]=String.fromCharCode(56320+(C&1023))}else g=d[s++],v=d[s++],r[c++]=String.fromCharCode((f&15)<<12|(g&63)<<6|v&63)}return JSON.parse(r.join(""))}catch{}return null}var Ky="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),ic=["client_id","response_type","scope","redirect_uri","state"],jh={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:ic},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:ic},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:ic},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:Ky},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Uh(r){for(var s in jh)if(jh[s].fa==r)return jh[s];return null}function Gy(r){var s={};s["facebook.com"]=Wy,s["google.com"]=Qy,s["github.com"]=Yy,s["twitter.com"]=Xy;var c=r&&r[$y];try{if(c)return s[c]?new s[c](r):new Pn(r);if(typeof r[Vh]<"u")return new Bh(r)}catch{}return null}var Vh="idToken",$y="providerId";function Bh(r){var s=r[$y];if(!s&&r[Vh]){var c=rc(r[Vh]);c&&c.b&&(s=c.b)}if(!s)throw Error("Invalid additional user info!");(s=="anonymous"||s=="custom")&&(s=null),c=!1,typeof r.isNewUser<"u"?c=!!r.isNewUser:r.kind==="identitytoolkit#SignupNewUserResponse"&&(c=!0),z(this,"providerId",s),z(this,"isNewUser",c)}function Pn(r){Bh.call(this,r),r=io(r.rawUserInfo||"{}"),z(this,"profile",kh(r||{}))}Z(Pn,Bh);function Wy(r){if(Pn.call(this,r),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}Z(Wy,Pn);function Yy(r){if(Pn.call(this,r),this.providerId!="github.com")throw Error("Invalid provider ID!");z(this,"username",this.profile&&this.profile.login||null)}Z(Yy,Pn);function Qy(r){if(Pn.call(this,r),this.providerId!="google.com")throw Error("Invalid provider ID!")}Z(Qy,Pn);function Xy(r){if(Pn.call(this,r),this.providerId!="twitter.com")throw Error("Invalid provider ID!");z(this,"username",r.screenName||null)}Z(Xy,Pn);function Zy(r){var s=Le(r),c=an(s,"link"),d=an(Le(c),"link");return s=an(s,"deep_link_id"),an(Le(s),"link")||s||d||c||r}function oc(r,s){if(!r&&!s)throw new T("internal-error","Internal assert: no raw session string available");if(r&&s)throw new T("internal-error","Internal assert: unable to determine the session type");this.a=r||null,this.b=s||null,this.type=this.a?js:sc}var js="enroll",sc="signin";oc.prototype.Ha=function(){return this.a?$(this.a):$(this.b)},oc.prototype.w=function(){return this.type==js?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function oo(){}oo.prototype.ka=function(){},oo.prototype.b=function(){},oo.prototype.c=function(){},oo.prototype.w=function(){};function so(r,s){return r.then(function(c){if(c[In]){var d=rc(c[In]);if(!d||s!=d.i)throw new T("user-mismatch");return c}throw new T("user-mismatch")}).o(function(c){throw c&&c.code&&c.code==ws+"user-not-found"?new T("user-mismatch"):c})}function ii(r,s){if(s)this.a=s;else throw new T("internal-error","failed to construct a credential");z(this,"providerId",r),z(this,"signInMethod",r)}ii.prototype.ka=function(r){return hf(r,zh(this))},ii.prototype.b=function(r,s){var c=zh(this);return c.idToken=s,ff(r,c)},ii.prototype.c=function(r,s){return so(pf(r,zh(this)),s)};function zh(r){return{pendingToken:r.a,requestUri:"http://localhost"}}ii.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function jA(r){if(r&&r.providerId&&r.signInMethod&&r.providerId.indexOf("saml.")==0&&r.pendingToken)try{return new ii(r.providerId,r.pendingToken)}catch{}return null}function Qn(r,s,c){if(this.a=null,s.idToken||s.accessToken)s.idToken&&z(this,"idToken",s.idToken),s.accessToken&&z(this,"accessToken",s.accessToken),s.nonce&&!s.pendingToken&&z(this,"nonce",s.nonce),s.pendingToken&&(this.a=s.pendingToken);else if(s.oauthToken&&s.oauthTokenSecret)z(this,"accessToken",s.oauthToken),z(this,"secret",s.oauthTokenSecret);else throw new T("internal-error","failed to construct a credential");z(this,"providerId",r),z(this,"signInMethod",c)}Qn.prototype.ka=function(r){return hf(r,qh(this))},Qn.prototype.b=function(r,s){var c=qh(this);return c.idToken=s,ff(r,c)},Qn.prototype.c=function(r,s){var c=qh(this);return so(pf(r,c),s)};function qh(r){var s={};return r.idToken&&(s.id_token=r.idToken),r.accessToken&&(s.access_token=r.accessToken),r.secret&&(s.oauth_token_secret=r.secret),s.providerId=r.providerId,r.nonce&&!r.a&&(s.nonce=r.nonce),s={postBody:dy(s).toString(),requestUri:"http://localhost"},r.a&&(delete s.postBody,s.pendingToken=r.a),s}Qn.prototype.w=function(){var r={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(r.oauthIdToken=this.idToken),this.accessToken&&(r.oauthAccessToken=this.accessToken),this.secret&&(r.oauthTokenSecret=this.secret),this.nonce&&(r.nonce=this.nonce),this.a&&(r.pendingToken=this.a),r};function UA(r){if(r&&r.providerId&&r.signInMethod){var s={idToken:r.oauthIdToken,accessToken:r.oauthTokenSecret?null:r.oauthAccessToken,oauthTokenSecret:r.oauthTokenSecret,oauthToken:r.oauthTokenSecret&&r.oauthAccessToken,nonce:r.nonce,pendingToken:r.pendingToken};try{return new Qn(r.providerId,s,r.signInMethod)}catch{}}return null}function oi(r,s){this.Qc=s||[],Se(this,{providerId:r,isOAuthProvider:!0}),this.Jb={},this.qb=(Uh(r)||{}).Ja||null,this.pb=null}oi.prototype.Ka=function(r){return this.Jb=cr(r),this};function Jy(r){if(typeof r!="string"||r.indexOf("saml.")!=0)throw new T("argument-error",'SAML provider IDs must be prefixed with "saml."');oi.call(this,r,[])}Z(Jy,oi);function Ke(r){oi.call(this,r,ic),this.a=[]}Z(Ke,oi),Ke.prototype.Ca=function(r){return Wn(this.a,r)||this.a.push(r),this},Ke.prototype.Rb=function(){return Wr(this.a)},Ke.prototype.credential=function(r,s){var c;if(S(r)?c={idToken:r.idToken||null,accessToken:r.accessToken||null,nonce:r.rawNonce||null}:c={idToken:r||null,accessToken:s||null},!c.idToken&&!c.accessToken)throw new T("argument-error","credential failed: must provide the ID token and/or the access token.");return new Qn(this.providerId,c,this.providerId)};function si(){Ke.call(this,"facebook.com")}Z(si,Ke),z(si,"PROVIDER_ID","facebook.com"),z(si,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function t0(r){if(!r)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var s=r;return S(r)&&(s=r.accessToken),new si().credential({accessToken:s})}function ai(){Ke.call(this,"github.com")}Z(ai,Ke),z(ai,"PROVIDER_ID","github.com"),z(ai,"GITHUB_SIGN_IN_METHOD","github.com");function e0(r){if(!r)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var s=r;return S(r)&&(s=r.accessToken),new ai().credential({accessToken:s})}function ui(){Ke.call(this,"google.com"),this.Ca("profile")}Z(ui,Ke),z(ui,"PROVIDER_ID","google.com"),z(ui,"GOOGLE_SIGN_IN_METHOD","google.com");function n0(r,s){var c=r;return S(r)&&(c=r.idToken,s=r.accessToken),new ui().credential({idToken:c,accessToken:s})}function ao(){oi.call(this,"twitter.com",Ky)}Z(ao,oi),z(ao,"PROVIDER_ID","twitter.com"),z(ao,"TWITTER_SIGN_IN_METHOD","twitter.com");function r0(r,s){var c=r;if(S(c)||(c={oauthToken:r,oauthTokenSecret:s}),!c.oauthToken||!c.oauthTokenSecret)throw new T("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Qn("twitter.com",c,"twitter.com")}function pr(r,s,c){this.a=r,this.f=s,z(this,"providerId","password"),z(this,"signInMethod",c===un.EMAIL_LINK_SIGN_IN_METHOD?un.EMAIL_LINK_SIGN_IN_METHOD:un.EMAIL_PASSWORD_SIGN_IN_METHOD)}pr.prototype.ka=function(r){return this.signInMethod==un.EMAIL_LINK_SIGN_IN_METHOD?dt(r,Tk,{email:this.a,oobCode:this.f}):dt(r,O0,{email:this.a,password:this.f})},pr.prototype.b=function(r,s){return this.signInMethod==un.EMAIL_LINK_SIGN_IN_METHOD?dt(r,xk,{idToken:s,email:this.a,oobCode:this.f}):dt(r,D0,{idToken:s,email:this.a,password:this.f})},pr.prototype.c=function(r,s){return so(this.ka(r),s)},pr.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function VA(r){return r&&r.email&&r.password?new pr(r.email,r.password,r.signInMethod):null}function un(){Se(this,{providerId:"password",isOAuthProvider:!1})}function i0(r,s){if(s=Hh(s),!s)throw new T("argument-error","Invalid email link!");return new pr(r,s.code,un.EMAIL_LINK_SIGN_IN_METHOD)}function Hh(r){return r=Zy(r),(r=Ly(r))&&r.operation===Ju?r:null}Se(un,{PROVIDER_ID:"password"}),Se(un,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Se(un,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function mr(r){if(!(r.fb&&r.eb||r.La&&r.ea))throw new T("internal-error");this.a=r,z(this,"providerId","phone"),this.fa="phone",z(this,"signInMethod","phone")}mr.prototype.ka=function(r){return r.gb(Us(this))},mr.prototype.b=function(r,s){var c=Us(this);return c.idToken=s,dt(r,Kk,c)},mr.prototype.c=function(r,s){var c=Us(this);return c.operation="REAUTH",r=dt(r,Gk,c),so(r,s)},mr.prototype.w=function(){var r={providerId:"phone"};return this.a.fb&&(r.verificationId=this.a.fb),this.a.eb&&(r.verificationCode=this.a.eb),this.a.La&&(r.temporaryProof=this.a.La),this.a.ea&&(r.phoneNumber=this.a.ea),r};function BA(r){if(r&&r.providerId==="phone"&&(r.verificationId&&r.verificationCode||r.temporaryProof&&r.phoneNumber)){var s={};return Ot(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(c){r[c]&&(s[c]=r[c])}),new mr(s)}return null}function Us(r){return r.a.La&&r.a.ea?{temporaryProof:r.a.La,phoneNumber:r.a.ea}:{sessionInfo:r.a.fb,code:r.a.eb}}function Xn(r){try{this.a=r||Q.auth()}catch{throw new T("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Se(this,{providerId:"phone",isOAuthProvider:!1})}Xn.prototype.gb=function(r,s){var c=this.a.a;return $(s.verify()).then(function(d){if(typeof d!="string")throw new T("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(s.type){case"recaptcha":var f=S(r)?r.session:null,g=S(r)?r.phoneNumber:r,v;return f&&f.type==js?v=f.Ha().then(function(w){return mk(c,{idToken:w,phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:d}})}):f&&f.type==sc?v=f.Ha().then(function(w){return gk(c,{mfaPendingCredential:w,mfaEnrollmentId:r.multiFactorHint&&r.multiFactorHint.uid||r.multiFactorUid,phoneSignInInfo:{recaptchaToken:d}})}):v=pk(c,{phoneNumber:g,recaptchaToken:d}),v.then(function(w){return typeof s.reset=="function"&&s.reset(),w},function(w){throw typeof s.reset=="function"&&s.reset(),w});default:throw new T("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function o0(r,s){if(!r)throw new T("missing-verification-id");if(!s)throw new T("missing-verification-code");return new mr({fb:r,eb:s})}Se(Xn,{PROVIDER_ID:"phone"}),Se(Xn,{PHONE_SIGN_IN_METHOD:"phone"});function Kh(r){if(r.temporaryProof&&r.phoneNumber)return new mr({La:r.temporaryProof,ea:r.phoneNumber});var s=r&&r.providerId;if(!s||s==="password")return null;var c=r&&r.oauthAccessToken,d=r&&r.oauthTokenSecret,f=r&&r.nonce,g=r&&r.oauthIdToken,v=r&&r.pendingToken;try{switch(s){case"google.com":return n0(g,c);case"facebook.com":return t0(c);case"github.com":return e0(c);case"twitter.com":return r0(c,d);default:return c||d||g||v?v?s.indexOf("saml.")==0?new ii(s,v):new Qn(s,{pendingToken:v,idToken:r.oauthIdToken,accessToken:r.oauthAccessToken},s):new Ke(s).credential({idToken:g,accessToken:c,rawNonce:f}):null}}catch{return null}}function Gh(r){if(!r.isOAuthProvider)throw new T("invalid-oauth-provider")}function wn(r,s,c,d,f,g,v){if(this.c=r,this.b=s||null,this.g=c||null,this.f=d||null,this.i=g||null,this.h=v||null,this.a=f||null,this.g||this.a){if(this.g&&this.a)throw new T("invalid-auth-event");if(this.g&&!this.f)throw new T("invalid-auth-event")}else throw new T("invalid-auth-event")}wn.prototype.getUid=function(){var r=[];return r.push(this.c),this.b&&r.push(this.b),this.f&&r.push(this.f),this.h&&r.push(this.h),r.join("-")},wn.prototype.T=function(){return this.h},wn.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function s0(r){return r=r||{},r.type?new wn(r.type,r.eventId,r.urlResponse,r.sessionId,r.error&&sb(r.error),r.postBody,r.tenantId):null}function zA(){this.b=null,this.a=[]}var $h=null;function qA(r){var s=$h;s.a.push(r),s.b||(s.b=function(c){for(var d=0;d<s.a.length;d++)s.a[d](c)},r=At("universalLinks.subscribe",h),typeof r=="function"&&r(null,s.b))}function Wh(r){var s="unauthorized-domain",c=void 0,d=Le(r);r=d.a,d=d.c,d=="chrome-extension"?c=Ab("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",r):d=="http"||d=="https"?c=Ab("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",r):s="operation-not-supported-in-this-environment",T.call(this,s,c)}Z(Wh,T);function Vs(r,s,c){T.call(this,r,c),r=s||{},r.Kb&&z(this,"email",r.Kb),r.ea&&z(this,"phoneNumber",r.ea),r.credential&&z(this,"credential",r.credential),r.$b&&z(this,"tenantId",r.$b)}Z(Vs,T),Vs.prototype.w=function(){var r={code:this.code,message:this.message};this.email&&(r.email=this.email),this.phoneNumber&&(r.phoneNumber=this.phoneNumber),this.tenantId&&(r.tenantId=this.tenantId);var s=this.credential&&this.credential.w();return s&&Ne(r,s),r},Vs.prototype.toJSON=function(){return this.w()};function ac(r){if(r.code){var s=r.code||"";s.indexOf(ws)==0&&(s=s.substring(ws.length));var c={credential:Kh(r),$b:r.tenantId};if(r.email)c.Kb=r.email;else if(r.phoneNumber)c.ea=r.phoneNumber;else if(!c.credential)return new T(s,r.message||void 0);return new Vs(s,c,r.message)}return null}function Bs(){}Bs.prototype.c=null;function a0(r){return r.c||(r.c=r.b())}var Yh;function uc(){}Z(uc,Bs),uc.prototype.a=function(){var r=u0(this);return r?new ActiveXObject(r):new XMLHttpRequest},uc.prototype.b=function(){var r={};return u0(this)&&(r[0]=!0,r[1]=!0),r};function u0(r){if(!r.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var s=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<s.length;c++){var d=s[c];try{return new ActiveXObject(d),r.f=d}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return r.f}Yh=new uc;function cc(){}Z(cc,Bs),cc.prototype.a=function(){var r=new XMLHttpRequest;if("withCredentials"in r)return r;if(typeof XDomainRequest<"u")return new c0;throw Error("Unsupported browser")},cc.prototype.b=function(){return{}};function c0(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=P(this.qc,this),this.a.onerror=P(this.Tb,this),this.a.onprogress=P(this.rc,this),this.a.ontimeout=P(this.vc,this)}e=c0.prototype,e.open=function(r,s,c){if(c!=null&&!c)throw Error("Only async requests are supported.");this.a.open(r,s)},e.send=function(r){if(r)if(typeof r=="string")this.a.send(r);else throw Error("Only string data is supported");else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(r){return r.toLowerCase()=="content-type"?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Qh(this,4)},e.Tb=function(){this.status=500,this.response=this.responseText="",Qh(this,4)},e.vc=function(){this.Tb()},e.rc=function(){this.status=200,Qh(this,1)};function Qh(r,s){r.readyState=s,r.onreadystatechange&&r.onreadystatechange()}e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function Xh(r,s,c){this.reset(r,s,c,void 0,void 0)}Xh.prototype.a=null;var HA=0;Xh.prototype.reset=function(r,s,c,d,f){typeof f=="number"||HA++,d||ys(),delete this.a};function Zh(r){this.f=r,this.b=this.c=this.a=null}function zs(r,s){this.name=r,this.value=s}zs.prototype.toString=function(){return this.name};var l0=new zs("SEVERE",1e3),Jh=new zs("WARNING",900),KA=new zs("CONFIG",700),GA=new zs("FINE",500);function d0(r){return r.c?r.c:r.a?d0(r.a):($i("Root logger has no level set."),null)}Zh.prototype.log=function(r,s,c){if(r.value>=d0(this).value)for(E(s)&&(s=s()),r=new Xh(r,String(s),this.f),c&&(r.a=c),c=this;c;)c=c.a};var tf={},lc=null;function ef(r){lc||(lc=new Zh(""),tf[""]=lc,lc.c=KA);var s;if(!(s=tf[r])){s=new Zh(r);var c=r.lastIndexOf("."),d=r.substr(c+1);c=ef(r.substr(0,c)),c.b||(c.b={}),c.b[d]=s,s.a=c,tf[r]=s}return s}function cn(r,s){r&&r.log(GA,s,void 0)}function dc(r){this.f=r}Z(dc,Bs),dc.prototype.a=function(){return new hc(this.f)},dc.prototype.b=function(r){return function(){return r}}({});function hc(r){xe.call(this),this.u=r,this.h=void 0,this.readyState=nf,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=ef("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}Z(hc,xe);var nf=0;e=hc.prototype,e.open=function(r,s){if(this.readyState!=nf)throw this.abort(),Error("Error reopening a connection");this.s=r,this.f=s,this.readyState=1,Hs(this)},e.send=function(r){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var s={headers:this.l,method:this.s,credentials:this.h,cache:void 0};r&&(s.body=r),this.u.fetch(new Request(this.f,s)).then(this.uc.bind(this),this.Va.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,qs(this)),this.readyState=nf},e.uc=function(r){this.a&&(this.g=r,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=r.headers,this.readyState=2,Hs(this)),this.a&&(this.readyState=3,Hs(this),this.a&&(this.responseType==="arraybuffer"?r.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):typeof h.ReadableStream<"u"&&"body"in r?(this.response=this.responseText="",this.c=r.body.getReader(),this.m=new TextDecoder,h0(this)):r.text().then(this.tc.bind(this),this.Va.bind(this)))))};function h0(r){r.c.read().then(r.pc.bind(r)).catch(r.Va.bind(r))}e.pc=function(r){if(this.a){var s=this.m.decode(r.value?r.value:new Uint8Array(0),{stream:!r.done});s&&(this.response=this.responseText+=s),r.done?qs(this):Hs(this),this.readyState==3&&h0(this)}},e.tc=function(r){this.a&&(this.response=this.responseText=r,qs(this))},e.sc=function(r){this.a&&(this.response=r,qs(this))},e.Va=function(r){var s=this.i;s&&s.log(Jh,"Failed to fetch url "+this.f,r instanceof Error?r:Error(r)),this.a&&qs(this)};function qs(r){r.readyState=4,r.g=null,r.c=null,r.m=null,Hs(r)}e.setRequestHeader=function(r,s){this.l.append(r,s)},e.getResponseHeader=function(r){return this.b?this.b.get(r.toLowerCase())||"":((r=this.i)&&r.log(Jh,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var r=this.i;return r&&r.log(Jh,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}r=[];for(var s=this.b.entries(),c=s.next();!c.done;)c=c.value,r.push(c[0]+": "+c[1]),c=s.next();return r.join(`\r
`)};function Hs(r){r.onreadystatechange&&r.onreadystatechange.call(r)}Object.defineProperty(hc.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(r){this.h=r?"include":"same-origin"}});function Ks(r){xe.call(this),this.headers=new Ji,this.D=r||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=f0,this.u=this.S=!1}Z(Ks,xe);var f0="";Ks.prototype.b=ef("goog.net.XhrIo");var $A=/^https?$/i,WA=["POST","PUT"];function YA(r,s,c,d,f){if(r.a)throw Error("[goog.net.XhrIo] Object is active with another request="+r.l+"; newUri="+s);c=c?c.toUpperCase():"GET",r.l=s,r.h="",r.P=c,r.J=!1,r.c=!0,r.a=r.D?r.D.a():Yh.a(),r.C=r.D?a0(r.D):a0(Yh),r.a.onreadystatechange=P(r.Wb,r);try{cn(r.b,Zn(r,"Opening Xhr")),r.N=!0,r.a.open(c,String(s),!0),r.N=!1}catch(v){cn(r.b,Zn(r,"Error opening Xhr: "+v.message)),p0(r,v);return}s=d||"";var g=new Ji(r.headers);f&&tA(f,function(v,w){g.set(w,v)}),f=bC(g.Y()),d=h.FormData&&s instanceof h.FormData,!Wn(WA,c)||f||d||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),g.forEach(function(v,w){this.a.setRequestHeader(w,v)},r),r.m&&(r.a.responseType=r.m),"withCredentials"in r.a&&r.a.withCredentials!==r.S&&(r.a.withCredentials=r.S);try{v0(r),0<r.g&&(r.u=QA(r.a),cn(r.b,Zn(r,"Will abort after "+r.g+"ms if incomplete, xhr2 "+r.u)),r.u?(r.a.timeout=r.g,r.a.ontimeout=P(r.Ma,r)):r.s=mh(r.Ma,r.g,r)),cn(r.b,Zn(r,"Sending request")),r.i=!0,r.a.send(s),r.i=!1}catch(v){cn(r.b,Zn(r,"Send error: "+v.message)),p0(r,v)}}function QA(r){return bn&&Rb(9)&&typeof r.timeout=="number"&&r.ontimeout!==void 0}function XA(r){return r.toLowerCase()=="content-type"}e=Ks.prototype,e.Ma=function(){typeof l<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",cn(this.b,Zn(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function p0(r,s){r.c=!1,r.a&&(r.f=!0,r.a.abort(),r.f=!1),r.h=s,m0(r),fc(r)}function m0(r){r.J||(r.J=!0,r.dispatchEvent("complete"),r.dispatchEvent("error"))}e.abort=function(){this.a&&this.c&&(cn(this.b,Zn(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),fc(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),fc(this,!0)),Ks.bb.Da.call(this)},e.Wb=function(){this.ya||(this.N||this.i||this.f?g0(this):this.Jc())},e.Jc=function(){g0(this)};function g0(r){if(r.c&&typeof l<"u"){if(r.C[1]&&Gs(r)==4&&pc(r)==2)cn(r.b,Zn(r,"Local request error detected and ignored"));else if(r.i&&Gs(r)==4)mh(r.Wb,0,r);else if(r.dispatchEvent("readystatechange"),Gs(r)==4){cn(r.b,Zn(r,"Request complete")),r.c=!1;try{var s=pc(r);t:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break t;default:c=!1}var d;if(!(d=c)){var f;if(f=s===0){var g=String(r.l).match(cy)[1]||null;if(!g&&h.self&&h.self.location){var v=h.self.location.protocol;g=v.substr(0,v.length-1)}f=!$A.test(g?g.toLowerCase():"")}d=f}if(d)r.dispatchEvent("complete"),r.dispatchEvent("success");else{try{var w=2<Gs(r)?r.a.statusText:""}catch(C){cn(r.b,"Can not get status: "+C.message),w=""}r.h=w+" ["+pc(r)+"]",m0(r)}}finally{fc(r)}}}}function fc(r,s){if(r.a){v0(r);var c=r.a,d=r.C[0]?y:null;r.a=null,r.C=null,s||r.dispatchEvent("ready");try{c.onreadystatechange=d}catch(f){(r=r.b)&&r.log(l0,"Problem encountered resetting onreadystatechange: "+f.message,void 0)}}}function v0(r){r.a&&r.u&&(r.a.ontimeout=null),r.s&&(h.clearTimeout(r.s),r.s=null)}function Gs(r){return r.a?r.a.readyState:0}function pc(r){try{return 2<Gs(r)?r.a.status:-1}catch{return-1}}function ZA(r){try{return r.a?r.a.responseText:""}catch(s){return cn(r.b,"Can not get responseText: "+s.message),""}}e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case f0:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var r=this.b;return r&&r.log(l0,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(s){return cn(this.b,"Can not get response: "+s.message),null}};function Zn(r,s){return s+" ["+r.P+" "+r.l+" "+pc(r)+"]"}function ci(r){var s=ek;this.g=[],this.u=s,this.s=r||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}ci.prototype.cancel=function(r){if(this.a)this.c instanceof ci&&this.c.cancel();else{if(this.b){var s=this.b;delete this.b,r?s.cancel(r):(s.l--,0>=s.l&&s.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(r=new Ws(this),mc(this),$s(this,!1,r))}},ci.prototype.m=function(r,s){this.i=!1,$s(this,r,s)};function $s(r,s,c){r.a=!0,r.c=c,r.f=!s,y0(r)}function mc(r){if(r.a){if(!r.v)throw new gc(r);r.v=!1}}function JA(r,s){rf(r,null,s,void 0)}function rf(r,s,c,d){r.g.push([s,c,d]),r.a&&y0(r)}ci.prototype.then=function(r,s,c){var d,f,g=new ut(function(v,w){d=v,f=w});return rf(this,d,function(v){v instanceof Ws?g.cancel():f(v)}),g.then(r,s,c)},ci.prototype.$goog_Thenable=!0;function b0(r){return vC(r.g,function(s){return E(s[1])})}function y0(r){if(r.h&&r.a&&b0(r)){var s=r.h,c=vc[s];c&&(h.clearTimeout(c.a),delete vc[s]),r.h=0}r.b&&(r.b.l--,delete r.b),s=r.c;for(var d=c=!1;r.g.length&&!r.i;){var f=r.g.shift(),g=f[0],v=f[1];if(f=f[2],g=r.f?v:g)try{var w=g.call(f||r.s,s);w!==void 0&&(r.f=r.f&&(w==s||w instanceof Error),r.c=s=w),(ab(s)||typeof h.Promise=="function"&&s instanceof h.Promise)&&(d=!0,r.i=!0)}catch(C){s=C,r.f=!0,b0(r)||(c=!0)}}r.c=s,d&&(w=P(r.m,r,!0),d=P(r.m,r,!1),s instanceof ci?(rf(s,w,d),s.C=!0):s.then(w,d)),c&&(s=new w0(s),vc[s.a]=s,r.h=s.a)}function gc(){qe.call(this)}Z(gc,qe),gc.prototype.message="Deferred has already fired",gc.prototype.name="AlreadyCalledError";function Ws(){qe.call(this)}Z(Ws,qe),Ws.prototype.message="Deferred was canceled",Ws.prototype.name="CanceledError";function w0(r){this.a=h.setTimeout(P(this.c,this),0),this.b=r}w0.prototype.c=function(){throw delete vc[this.a],this.b};var vc={};function of(r){var s={},c=s.document||document,d=wb(r).toString(),f=zu(document,"SCRIPT"),g={Xb:f,Ma:void 0},v=new ci(g),w=null,C=s.timeout!=null?s.timeout:5e3;return 0<C&&(w=window.setTimeout(function(){bc(f,!0);var D=new sf(rk,"Timeout reached for loading script "+d);mc(v),$s(v,!1,D)},C),g.Ma=w),f.onload=f.onreadystatechange=function(){f.readyState&&f.readyState!="loaded"&&f.readyState!="complete"||(bc(f,s.xd||!1,w),mc(v),$s(v,!0,null))},f.onerror=function(){bc(f,!0,w);var D=new sf(nk,"Error while loading script "+d);mc(v),$s(v,!1,D)},g=s.attributes||{},Ne(g,{type:"text/javascript",charset:"UTF-8"}),Mb(f,g),RC(f,r),tk(c).appendChild(f),v}function tk(r){var s;return(s=(r||document).getElementsByTagName("HEAD"))&&s.length!=0?s[0]:r.documentElement}function ek(){if(this&&this.Xb){var r=this.Xb;r&&r.tagName=="SCRIPT"&&bc(r,!0,this.Ma)}}function bc(r,s,c){c!=null&&h.clearTimeout(c),r.onload=y,r.onerror=y,r.onreadystatechange=y,s&&window.setTimeout(function(){r&&r.parentNode&&r.parentNode.removeChild(r)},0)}var nk=0,rk=1;function sf(r,s){var c="Jsloader error (code #"+r+")";s&&(c+=": "+s),qe.call(this,c),this.code=r}Z(sf,qe);function yc(r){this.f=r}Z(yc,Bs),yc.prototype.a=function(){return new this.f},yc.prototype.b=function(){return{}};function _n(r,s,c){if(this.c=r,r=s||{},this.l=r.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=r.secureTokenTimeout||ik,this.g=cr(r.secureTokenHeaders||ok),this.h=r.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=r.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=r.firebaseTimeout||sk,this.a=cr(r.firebaseHeaders||ak),c&&(this.a["X-Client-Version"]=c,this.g["X-Client-Version"]=c),c=Nn()=="Node",c=h.XMLHttpRequest||c&&Q.INTERNAL.node&&Q.INTERNAL.node.XMLHttpRequest,!c&&!yn())throw new T("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,yn()?this.f=new dc(self):_y()?this.f=new yc(c):this.f=new cc,this.b=null}var af,In="idToken",ik=new fr(3e4,6e4),ok={"Content-Type":"application/x-www-form-urlencoded"},sk=new fr(3e4,6e4),ak={"Content-Type":"application/json"};function _0(r,s){s?r.a["X-Firebase-Locale"]=s:delete r.a["X-Firebase-Locale"]}function wc(r,s){s&&(r.l=uf("https://securetoken.googleapis.com/v1/token",s),r.h=uf("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",s),r.i=uf("https://identitytoolkit.googleapis.com/v2/",s))}function uf(r,s){return r=Le(r),s=Le(s.url),r.f=r.a+r.f,Cs(r,s.c),r.a=s.a,As(r,s.g),r.toString()}function I0(r,s){s?(r.a["X-Client-Version"]=s,r.g["X-Client-Version"]=s):(delete r.a["X-Client-Version"],delete r.g["X-Client-Version"])}_n.prototype.T=function(){return this.b};function E0(r,s,c,d,f,g,v){lA()||yn()?r=P(r.u,r):(af||(af=new ut(function(w,C){ck(w,C)})),r=P(r.s,r)),r(s,c,d,f,g,v)}_n.prototype.u=function(r,s,c,d,f,g){if(yn()&&(typeof h.fetch>"u"||typeof h.Headers>"u"||typeof h.Request>"u"))throw new T("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var v=new Ks(this.f);if(g){v.g=Math.max(0,g);var w=setTimeout(function(){v.dispatchEvent("timeout")},g)}sy(v,"complete",function(){w&&clearTimeout(w);var C=null;try{C=JSON.parse(ZA(this))||null}catch{C=null}s&&s(C)}),ph(v,"ready",function(){w&&clearTimeout(w),Zb(this)}),ph(v,"timeout",function(){w&&clearTimeout(w),Zb(this),s&&s(null)}),YA(v,r,c,d,f)};var uk=new On(ju,"https://apis.google.com/js/client.js?onload=%{onload}"),T0="__fcb"+Math.floor(1e6*Math.random()).toString();function ck(r,s){if(((window.gapi||{}).client||{}).request)r();else{h[T0]=function(){((window.gapi||{}).client||{}).request?r():s(Error("CORS_UNSUPPORTED"))};var c=Yd(uk,{onload:T0});JA(of(c),function(){s(Error("CORS_UNSUPPORTED"))})}}_n.prototype.s=function(r,s,c,d,f){var g=this;af.then(function(){window.gapi.client.setApiKey(g.c);var v=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:r,method:c,body:d,headers:f,authType:"none",callback:function(w){window.gapi.auth.setToken(v),s&&s(w)}})}).o(function(v){s&&s({error:{message:v&&v.message||"CORS_UNSUPPORTED"}})})};function lk(r,s){return new ut(function(c,d){s.grant_type=="refresh_token"&&s.refresh_token||s.grant_type=="authorization_code"&&s.code?E0(r,r.l+"?key="+encodeURIComponent(r.c),function(f){f?f.error?d(gf(f)):f.access_token&&f.refresh_token?c(f):d(new T("internal-error")):d(new T("network-request-failed"))},"POST",dy(s).toString(),r.g,r.m.get()):d(new T("internal-error"))})}function x0(r,s,c,d,f,g,v){var w=Le(s+c);Lt(w,"key",r.c),v&&Lt(w,"cb",Date.now().toString());var C=d=="GET";if(C)for(var D in f)f.hasOwnProperty(D)&&Lt(w,D,f[D]);return new ut(function(J,wt){E0(r,w.toString(),function(mt){mt?mt.error?wt(gf(mt,g||{})):J(mt):wt(new T("network-request-failed"))},d,C?void 0:py(Ty(f)),r.a,r.v.get())})}function li(r){if(r=r.email,typeof r!="string"||!fA.test(r))throw new T("invalid-email")}function S0(r){"email"in r&&li(r)}function dk(r,s){return dt(r,_k,{identifier:s,continueUri:Zu()?Os():"http://localhost"}).then(function(c){return c.signinMethods||[]})}function hk(r){return dt(r,Nk,{}).then(function(s){return s.authorizedDomains||[]})}function Fe(r){if(!r[In])throw r.mfaPendingCredential?new T("multi-factor-auth-required",null,cr(r)):new T("internal-error")}function cf(r){if(r.phoneNumber||r.temporaryProof){if(!r.phoneNumber||!r.temporaryProof)throw new T("internal-error")}else{if(!r.sessionInfo)throw new T("missing-verification-id");if(!r.code)throw new T("missing-verification-code")}}_n.prototype.Ab=function(){return dt(this,Fk,{})},_n.prototype.Cb=function(r,s){return dt(this,k0,{idToken:r,email:s})},_n.prototype.Db=function(r,s){return dt(this,D0,{idToken:r,password:s})};var fk={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};e=_n.prototype,e.Eb=function(r,s){var c={idToken:r},d=[];return mb(fk,function(f,g){var v=s[g];v===null?d.push(f):g in s&&(c[g]=v)}),d.length&&(c.deleteAttribute=d),dt(this,k0,c)},e.wb=function(r,s){return r={requestType:"PASSWORD_RESET",email:r},Ne(r,s),dt(this,Rk,r)},e.xb=function(r,s){return r={requestType:"EMAIL_SIGNIN",email:r},Ne(r,s),dt(this,kk,r)},e.vb=function(r,s){return r={requestType:"VERIFY_EMAIL",idToken:r},Ne(r,s),dt(this,Dk,r)},e.Fb=function(r,s,c){return r={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:r,newEmail:s},Ne(r,c),dt(this,Ok,r)};function pk(r,s){return dt(r,Lk,s)}e.gb=function(r){return dt(this,Hk,r)};function mk(r,s){return dt(r,jk,s).then(function(c){return c.phoneSessionInfo.sessionInfo})}function C0(r){if(!r.phoneVerificationInfo)throw new T("internal-error");if(!r.phoneVerificationInfo.sessionInfo)throw new T("missing-verification-id");if(!r.phoneVerificationInfo.code)throw new T("missing-verification-code")}function gk(r,s){return dt(r,Uk,s).then(function(c){return c.phoneResponseInfo.sessionInfo})}function vk(r,s,c){return dt(r,Ek,{idToken:s,deleteProvider:c})}function lf(r){if(!r.requestUri||!r.sessionId&&!r.postBody&&!r.pendingToken)throw new T("internal-error")}function df(r,s){return s.oauthIdToken&&s.providerId&&s.providerId.indexOf("oidc.")==0&&!s.pendingToken&&(r.sessionId?s.nonce=r.sessionId:r.postBody&&(r=new ti(r.postBody),bh(r,"nonce")&&(s.nonce=r.get("nonce")))),s}function A0(r){var s=null;if(r.needConfirmation?(r.code="account-exists-with-different-credential",s=ac(r)):r.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(r.code="credential-already-in-use",s=ac(r)):r.errorMessage=="EMAIL_EXISTS"?(r.code="email-already-in-use",s=ac(r)):r.errorMessage&&(s=R0(r.errorMessage)),s)throw s;Fe(r)}function hf(r,s){return s.returnIdpCredential=!0,dt(r,Vk,s)}function ff(r,s){return s.returnIdpCredential=!0,dt(r,zk,s)}function pf(r,s){return s.returnIdpCredential=!0,s.autoCreate=!1,dt(r,Bk,s)}function mf(r){if(!r.oobCode)throw new T("invalid-action-code")}e.ob=function(r,s){return dt(this,Pk,{oobCode:r,newPassword:s})},e.Sa=function(r){return dt(this,yk,{oobCode:r})},e.kb=function(r){return dt(this,bk,{oobCode:r})};var bk={endpoint:"setAccountInfo",A:mf,Z:"email",B:!0},yk={endpoint:"resetPassword",A:mf,G:function(r){var s=r.requestType;if(!s||!r.email&&s!="EMAIL_SIGNIN"&&s!="VERIFY_AND_CHANGE_EMAIL")throw new T("internal-error")},B:!0},wk={endpoint:"signupNewUser",A:function(r){if(li(r),!r.password)throw new T("weak-password")},G:Fe,V:!0,B:!0},_k={endpoint:"createAuthUri",B:!0},Ik={endpoint:"deleteAccount",O:["idToken"]},Ek={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(r){if(!Array.isArray(r.deleteProvider))throw new T("internal-error")}},Tk={endpoint:"emailLinkSignin",O:["email","oobCode"],A:li,G:Fe,V:!0,B:!0},xk={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:li,G:Fe,V:!0},Sk={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:C0,G:Fe,B:!0,Na:!0},Ck={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:C0,G:Fe,B:!0,Na:!0},Ak={endpoint:"getAccountInfo"},kk={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(r){if(r.requestType!="EMAIL_SIGNIN")throw new T("internal-error");li(r)},Z:"email",B:!0},Dk={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(r){if(r.requestType!="VERIFY_EMAIL")throw new T("internal-error")},Z:"email",B:!0},Ok={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(r){if(r.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new T("internal-error")},Z:"email",B:!0},Rk={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(r){if(r.requestType!="PASSWORD_RESET")throw new T("internal-error");li(r)},Z:"email",B:!0},Nk={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},Mk={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(r){if(!r.recaptchaSiteKey)throw new T("internal-error")}},Pk={endpoint:"resetPassword",A:mf,Z:"email",B:!0},Lk={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},k0={endpoint:"setAccountInfo",O:["idToken"],A:S0,V:!0},D0={endpoint:"setAccountInfo",O:["idToken"],A:function(r){if(S0(r),!r.password)throw new T("weak-password")},G:Fe,V:!0},Fk={endpoint:"signupNewUser",G:Fe,V:!0,B:!0},jk={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(r){if(!r.phoneEnrollmentInfo)throw new T("internal-error");if(!r.phoneEnrollmentInfo.phoneNumber)throw new T("missing-phone-number");if(!r.phoneEnrollmentInfo.recaptchaToken)throw new T("missing-app-credential")},G:function(r){if(!r.phoneSessionInfo||!r.phoneSessionInfo.sessionInfo)throw new T("internal-error")},B:!0,Na:!0},Uk={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(r){if(!r.phoneSignInInfo||!r.phoneSignInInfo.recaptchaToken)throw new T("missing-app-credential")},G:function(r){if(!r.phoneResponseInfo||!r.phoneResponseInfo.sessionInfo)throw new T("internal-error")},B:!0,Na:!0},Vk={endpoint:"verifyAssertion",A:lf,Za:df,G:A0,V:!0,B:!0},Bk={endpoint:"verifyAssertion",A:lf,Za:df,G:function(r){if(r.errorMessage&&r.errorMessage=="USER_NOT_FOUND")throw new T("user-not-found");if(r.errorMessage)throw R0(r.errorMessage);Fe(r)},V:!0,B:!0},zk={endpoint:"verifyAssertion",A:function(r){if(lf(r),!r.idToken)throw new T("internal-error")},Za:df,G:A0,V:!0},qk={endpoint:"verifyCustomToken",A:function(r){if(!r.token)throw new T("invalid-custom-token")},G:Fe,V:!0,B:!0},O0={endpoint:"verifyPassword",A:function(r){if(li(r),!r.password)throw new T("wrong-password")},G:Fe,V:!0,B:!0},Hk={endpoint:"verifyPhoneNumber",A:cf,G:Fe,B:!0},Kk={endpoint:"verifyPhoneNumber",A:function(r){if(!r.idToken)throw new T("internal-error");cf(r)},G:function(r){if(r.temporaryProof)throw r.code="credential-already-in-use",ac(r);Fe(r)}},Gk={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:cf,G:Fe,B:!0},$k={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(r){if(!!r[In]^!!r.refreshToken)throw new T("internal-error")},B:!0,Na:!0};function dt(r,s,c){if(!wA(c,s.O))return Ct(new T("internal-error"));var d=!!s.Na,f=s.Vb||"POST",g;return $(c).then(s.A).then(function(){return s.V&&(c.returnSecureToken=!0),s.B&&r.b&&typeof c.tenantId>"u"&&(c.tenantId=r.b),d?x0(r,r.i,s.endpoint,f,c,s.Ib,s.mb||!1):x0(r,r.h,s.endpoint,f,c,s.Ib,s.mb||!1)}).then(function(v){return g=v,s.Za?s.Za(c,g):g}).then(s.G).then(function(){if(!s.Z)return g;if(!(s.Z in g))throw new T("internal-error");return g[s.Z]})}function R0(r){return gf({error:{errors:[{message:r}],code:400,message:r}})}function gf(r,s){var c=(r.error&&r.error.errors&&r.error.errors[0]||{}).reason||"",d={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(c=d[c]?new T(d[c]):null)return c;c=r.error&&r.error.message||"",d={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},Ne(d,s||{}),s=(s=c.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<s.length?s[1]:void 0;for(var f in d)if(c.indexOf(f)===0)return new T(d[f],s);return!s&&r&&(s=Ns(r)),new T("internal-error",s)}function Wk(r){this.b=r,this.a=null,this.sb=Yk(this)}function Yk(r){return eD().then(function(){return new ut(function(s,c){At("gapi.iframes.getContext")().open({where:document.body,url:r.b,messageHandlersFilter:At("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(d){function f(){clearTimeout(g),s()}r.a=d,r.a.restyle({setHideOnLeave:!1});var g=setTimeout(function(){c(Error("Network Error"))},tD.get());d.ping(f).then(f,function(){c(Error("Network Error"))})})})})}function Qk(r,s){return r.sb.then(function(){return new ut(function(c){r.a.send(s.type,s,c,At("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function Xk(r,s){r.sb.then(function(){r.a.register("authEvent",s,At("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var Zk=new On(ju,"https://apis.google.com/js/api.js?onload=%{onload}"),Jk=new fr(3e4,6e4),tD=new fr(5e3,15e3),_c=null;function eD(){return _c||(_c=new ut(function(r,s){function c(){Sy(),At("gapi.load")("gapi.iframes",{callback:r,ontimeout:function(){Sy(),s(Error("Network Error"))},timeout:Jk.get()})}if(At("gapi.iframes.Iframe"))r();else if(At("gapi.load"))c();else{var d="__iframefcb"+Math.floor(1e6*Math.random()).toString();h[d]=function(){At("gapi.load")?c():s(Error("Network Error"))},d=Yd(Zk,{onload:d}),$(of(d)).o(function(){s(Error("Network Error"))})}}).o(function(r){throw _c=null,r}))}function N0(r,s,c,d){this.l=r,this.h=s,this.i=c,this.g=d,this.f=null,this.g?(r=Le(this.g.url),r=Qu(r.c,r.a,r.g,"/emulator/auth/iframe")):r=Qu("https",this.l,null,"/__/auth/iframe"),this.a=r,Lt(this.a,"apiKey",this.h),Lt(this.a,"appName",this.i),this.b=null,this.c=[]}N0.prototype.toString=function(){return this.f?Lt(this.a,"v",this.f):Rn(this.a.b,"v"),this.b?Lt(this.a,"eid",this.b):Rn(this.a.b,"eid"),this.c.length?Lt(this.a,"fw",this.c.join(",")):Rn(this.a.b,"fw"),this.a.toString()};function vf(r,s,c,d,f,g){this.u=r,this.s=s,this.c=c,this.m=d,this.v=g,this.i=this.g=this.l=null,this.a=f,this.h=this.f=null}vf.prototype.zb=function(r){return this.h=r,this},vf.prototype.toString=function(){if(this.v){var r=Le(this.v.url);r=Qu(r.c,r.a,r.g,"/emulator/auth/handler")}else r=Qu("https",this.u,null,"/__/auth/handler");if(Lt(r,"apiKey",this.s),Lt(r,"appName",this.c),Lt(r,"authType",this.m),this.a.isOAuthProvider){var s=this.a;try{var c=Q.app(this.c).auth().la()}catch{c=null}s.pb=c,Lt(r,"providerId",this.a.providerId),c=this.a,s=Ty(c.Jb);for(var d in s)s[d]=s[d].toString();d=c.Qc,s=cr(s);for(var f=0;f<d.length;f++){var g=d[f];g in s&&delete s[g]}c.qb&&c.pb&&!s[c.qb]&&(s[c.qb]=c.pb),Yr(s)||Lt(r,"customParameters",Ns(s))}if(typeof this.a.Rb=="function"&&(c=this.a.Rb(),c.length&&Lt(r,"scopes",c.join(","))),this.l?Lt(r,"redirectUrl",this.l):Rn(r.b,"redirectUrl"),this.g?Lt(r,"eventId",this.g):Rn(r.b,"eventId"),this.i?Lt(r,"v",this.i):Rn(r.b,"v"),this.b)for(var v in this.b)this.b.hasOwnProperty(v)&&!an(r,v)&&Lt(r,v,this.b[v]);return this.h?Lt(r,"tid",this.h):Rn(r.b,"tid"),this.f?Lt(r,"eid",this.f):Rn(r.b,"eid"),v=bf(this.c),v.length&&Lt(r,"fw",v.join(",")),r.toString()};function bf(r){try{return Q.app(r).auth().Ga()}catch{return[]}}function M0(r,s,c,d,f,g){this.s=r,this.g=s,this.b=c,this.f=g,this.c=d||null,this.i=f||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function P0(r){var s=Os();return hk(r).then(function(c){t:{var d=Le(s),f=d.c;d=d.a;for(var g=0;g<c.length;g++){var v=c[g],w=d,C=f;if(v.indexOf("chrome-extension://")==0?w=Le(v).a==w&&C=="chrome-extension":C!="http"&&C!="https"?w=!1:hA.test(v)?w=w==v:(v=v.split(".").join("\\."),w=new RegExp("^(.+\\."+v+"|"+v+")$","i").test(w)),w){c=!0;break t}}c=!1}if(!c)throw new Wh(Os())})}function L0(r){return r.m||(r.m=Xu().then(function(){if(!r.u){var s=r.c,c=r.i,d=bf(r.b),f=new N0(r.s,r.g,r.b,r.f);f.f=s,f.b=c,f.c=Wr(d||[]),r.u=f.toString()}r.v=new Wk(r.u),nD(r)})),r.m}e=M0.prototype,e.Pb=function(r,s,c){var d=new T("popup-closed-by-user"),f=new T("web-storage-unsupported"),g=this,v=!1;return this.ma().then(function(){rD(g).then(function(w){w||(r&&ei(r),s(f),v=!0)})}).o(function(){}).then(function(){if(!v)return dA(r)}).then(function(){if(!v)return Zi(c).then(function(){s(d)})})},e.Yb=function(){var r=ie();return!Rs(r)&&!xy(r)},e.Ub=function(){return!1},e.Nb=function(r,s,c,d,f,g,v,w){if(!r)return Ct(new T("popup-blocked"));if(v&&!Rs())return this.ma().o(function(D){ei(r),f(D)}),d(),$();this.a||(this.a=P0(F0(this)));var C=this;return this.a.then(function(){var D=C.ma().o(function(J){throw ei(r),f(J),J});return d(),D}).then(function(){if(Gh(c),!v){var D=Ys(C.s,C.g,C.b,s,c,null,g,C.c,void 0,C.i,w,C.f);vy(D,r)}}).o(function(D){throw D.code=="auth/network-request-failed"&&(C.a=null),D})};function F0(r){return r.l||(r.C=r.c?no(r.c,bf(r.b)):null,r.l=new _n(r.g,_s(r.i),r.C),r.f&&wc(r.l,r.f)),r.l}e.Ob=function(r,s,c,d){this.a||(this.a=P0(F0(this)));var f=this;return this.a.then(function(){Gh(s);var g=Ys(f.s,f.g,f.b,r,s,Os(),c,f.c,void 0,f.i,d,f.f);vy(g)}).o(function(g){throw g.code=="auth/network-request-failed"&&(f.a=null),g})},e.ma=function(){var r=this;return L0(this).then(function(){return r.v.sb}).o(function(){throw r.a=null,new T("network-request-failed")})},e.ac=function(){return!0};function Ys(r,s,c,d,f,g,v,w,C,D,J,wt){return r=new vf(r,s,c,d,f,wt),r.l=g,r.g=v,r.i=w,r.b=cr(C||null),r.f=D,r.zb(J).toString()}function nD(r){if(!r.v)throw Error("IfcHandler must be initialized!");Xk(r.v,function(s){var c={};if(s&&s.authEvent){var d=!1;for(s=s0(s.authEvent),c=0;c<r.h.length;c++)d=r.h[c](s)||d;return c={},c.status=d?"ACK":"ERROR",$(c)}return c.status="ERROR",$(c)})}function rD(r){var s={type:"webStorageSupport"};return L0(r).then(function(){return Qk(r.v,s)}).then(function(c){if(c&&c.length&&typeof c[0].webStorageSupport<"u")return c[0].webStorageSupport;throw Error()})}e.Ea=function(r){this.h.push(r)},e.Ta=function(r){vn(this.h,function(s){return s==r})};function j0(r){if(this.a=r||Q.INTERNAL.reactNative&&Q.INTERNAL.reactNative.AsyncStorage,!this.a)throw new T("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}e=j0.prototype,e.get=function(r){return $(this.a.getItem(r)).then(function(s){return s&&io(s)})},e.set=function(r,s){return $(this.a.setItem(r,Ns(s)))},e.U=function(r){return $(this.a.removeItem(r))},e.ca=function(){},e.ia=function(){};function U0(r){this.b=r,this.a={},this.f=P(this.c,this)}var V0=[];function iD(){var r=yn()?self:null;if(Ot(V0,function(c){c.b==r&&(s=c)}),!s){var s=new U0(r);V0.push(s)}return s}U0.prototype.c=function(r){var s=r.data.eventType,c=r.data.eventId,d=this.a[s];if(d&&0<d.length){r.ports[0].postMessage({status:"ack",eventId:c,eventType:s,response:null});var f=[];Ot(d,function(g){f.push($().then(function(){return g(r.origin,r.data.data)}))}),zb(f).then(function(g){var v=[];Ot(g,function(w){v.push({fulfilled:w.Qb,value:w.value,reason:w.reason?w.reason.message:void 0})}),Ot(v,function(w){for(var C in w)typeof w[C]>"u"&&delete w[C]}),r.ports[0].postMessage({status:"done",eventId:c,eventType:s,response:v})})}};function B0(r,s,c){Yr(r.a)&&r.b.addEventListener("message",r.f),typeof r.a[s]>"u"&&(r.a[s]=[]),r.a[s].push(c)}function z0(r){this.a=r}z0.prototype.postMessage=function(r,s){this.a.postMessage(r,s)};function q0(r){this.c=r,this.b=!1,this.a=[]}function H0(r,s,c,d){var f,g=c||{},v,w,C,D=null;if(r.b)return Ct(Error("connection_unavailable"));var J=d?800:50,wt=typeof MessageChannel<"u"?new MessageChannel:null;return new ut(function(mt,te){wt?(f=Math.floor(Math.random()*Math.pow(10,20)).toString(),wt.port1.start(),w=setTimeout(function(){te(Error("unsupported_event"))},J),v=function(Jn){Jn.data.eventId===f&&(Jn.data.status==="ack"?(clearTimeout(w),C=setTimeout(function(){te(Error("timeout"))},3e3)):Jn.data.status==="done"?(clearTimeout(C),typeof Jn.data.response<"u"?mt(Jn.data.response):te(Error("unknown_error"))):(clearTimeout(w),clearTimeout(C),te(Error("invalid_response"))))},D={messageChannel:wt,onMessage:v},r.a.push(D),wt.port1.addEventListener("message",v),r.c.postMessage({eventType:s,eventId:f,data:g},[wt.port2])):te(Error("connection_unavailable"))}).then(function(mt){return yf(r,D),mt}).o(function(mt){throw yf(r,D),mt})}function yf(r,s){if(s){var c=s.messageChannel,d=s.onMessage;c&&(c.port1.removeEventListener("message",d),c.port1.close()),vn(r.a,function(f){return f==s})}}q0.prototype.close=function(){for(;0<this.a.length;)yf(this,this.a[0]);this.b=!0};function K0(){if(!If())throw new T("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=h.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var r=this;yn()&&self?(this.v=iD(),B0(this.v,"keyChanged",function(s,c){return W0(r).then(function(d){return 0<d.length&&Ot(r.a,function(f){f(d)}),{keyProcessed:Wn(d,c.key)}})}),B0(this.v,"ping",function(){return $(["keyChanged"])})):bA().then(function(s){(r.h=s)&&(r.g=new q0(new z0(s)),H0(r.g,"ping",null,!0).then(function(c){c[0].fulfilled&&Wn(c[0].value,"keyChanged")&&(r.s=!0)}).o(function(){}))})}var wf;function oD(r){return new ut(function(s,c){var d=r.m.deleteDatabase("firebaseLocalStorageDb");d.onsuccess=function(){s()},d.onerror=function(f){c(Error(f.target.error))}})}function G0(r){return new ut(function(s,c){var d=r.m.open("firebaseLocalStorageDb",1);d.onerror=function(f){try{f.preventDefault()}catch{}c(Error(f.target.error))},d.onupgradeneeded=function(f){f=f.target.result;try{f.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(g){c(g)}},d.onsuccess=function(f){f=f.target.result,f.objectStoreNames.contains("firebaseLocalStorage")?s(f):oD(r).then(function(){return G0(r)}).then(function(g){s(g)}).o(function(g){c(g)})}})}function _f(r){return r.i||(r.i=G0(r)),r.i}function Ic(r,s){function c(f,g){_f(r).then(s).then(f).o(function(v){if(3<++d)g(v);else return _f(r).then(function(w){return w.close(),r.i=void 0,c(f,g)}).o(function(w){g(w)})})}var d=0;return new ut(c)}function If(){try{return!!h.indexedDB}catch{return!1}}function Qs(r){return r.objectStore("firebaseLocalStorage")}function Xs(r,s){return r.transaction(["firebaseLocalStorage"],s?"readwrite":"readonly")}function uo(r){return new ut(function(s,c){r.onsuccess=function(d){d&&d.target?s(d.target.result):s()},r.onerror=function(d){c(d.target.error)}})}e=K0.prototype,e.set=function(r,s){var c=this,d=!1;return Ic(this,function(f){return f=Qs(Xs(f,!0)),uo(f.get(r))}).then(function(f){return Ic(c,function(g){if(g=Qs(Xs(g,!0)),f)return f.value=s,uo(g.put(f));c.b++,d=!0;var v={};return v.fbase_key=r,v.value=s,uo(g.add(v))})}).then(function(){return c.c[r]=s,$0(c,r)}).oa(function(){d&&c.b--})};function $0(r,s){return r.g&&r.h&&vA()===r.h?H0(r.g,"keyChanged",{key:s},r.s).then(function(){}).o(function(){}):$()}e.get=function(r){return Ic(this,function(s){return uo(Qs(Xs(s,!1)).get(r))}).then(function(s){return s&&s.value})},e.U=function(r){var s=this,c=!1;return Ic(this,function(d){return c=!0,s.b++,uo(Qs(Xs(d,!0)).delete(r))}).then(function(){return delete s.c[r],$0(s,r)}).oa(function(){c&&s.b--})};function W0(r){return _f(r).then(function(s){var c=Qs(Xs(s,!1));return c.getAll?uo(c.getAll()):new ut(function(d,f){var g=[],v=c.openCursor();v.onsuccess=function(w){(w=w.target.result)?(g.push(w.value),w.continue()):d(g)},v.onerror=function(w){f(w.target.error)}})}).then(function(s){var c={},d=[];if(r.b==0){for(d=0;d<s.length;d++)c[s[d].fbase_key]=s[d].value;d=by(r.c,c),r.c=c}return d})}e.ca=function(r){this.a.length==0&&sD(this),this.a.push(r)},e.ia=function(r){vn(this.a,function(s){return s==r}),this.a.length==0&&Y0(this)};function sD(r){function s(){r.f=setTimeout(function(){r.l=W0(r).then(function(c){0<c.length&&Ot(r.a,function(d){d(c)})}).then(function(){s()}).o(function(c){c.message!="STOP_EVENT"&&s()})},800)}Y0(r),s()}function Y0(r){r.l&&r.l.cancel("STOP_EVENT"),r.f&&(clearTimeout(r.f),r.f=null)}function Q0(r){var s=this,c=null;this.a=[],this.type="indexedDB",this.c=r,this.b=$().then(function(){if(If()){var d=ri(),f="__sak"+d;return wf||(wf=new K0),c=wf,c.set(f,d).then(function(){return c.get(f)}).then(function(g){if(g!==d)throw Error("indexedDB not supported!");return c.U(f)}).then(function(){return c}).o(function(){return s.c})}return s.c}).then(function(d){return s.type=d.type,d.ca(function(f){Ot(s.a,function(g){g(f)})}),d})}e=Q0.prototype,e.get=function(r){return this.b.then(function(s){return s.get(r)})},e.set=function(r,s){return this.b.then(function(c){return c.set(r,s)})},e.U=function(r){return this.b.then(function(s){return s.U(r)})},e.ca=function(r){this.a.push(r)},e.ia=function(r){vn(this.a,function(s){return s==r})};function Zs(){this.a={},this.type="inMemory"}e=Zs.prototype,e.get=function(r){return $(this.a[r])},e.set=function(r,s){return this.a[r]=s,$()},e.U=function(r){return delete this.a[r],$()},e.ca=function(){},e.ia=function(){};function Ec(){if(!aD())throw Nn()=="Node"?new T("internal-error","The LocalStorage compatibility library was not found."):new T("web-storage-unsupported");this.a=X0()||Q.INTERNAL.node.localStorage,this.type="localStorage"}function X0(){try{var r=h.localStorage,s=ri();return r&&(r.setItem(s,"1"),r.removeItem(s)),r}catch{return null}}function aD(){var r=Nn()=="Node";if(r=X0()||r&&Q.INTERNAL.node&&Q.INTERNAL.node.localStorage,!r)return!1;try{return r.setItem("__sak","1"),r.removeItem("__sak"),!0}catch{return!1}}e=Ec.prototype,e.get=function(r){var s=this;return $().then(function(){var c=s.a.getItem(r);return io(c)})},e.set=function(r,s){var c=this;return $().then(function(){var d=Ns(s);d===null?c.U(r):c.a.setItem(r,d)})},e.U=function(r){var s=this;return $().then(function(){s.a.removeItem(r)})},e.ca=function(r){h.window&&sn(h.window,"storage",r)},e.ia=function(r){h.window&&He(h.window,"storage",r)};function Ef(){this.type="nullStorage"}e=Ef.prototype,e.get=function(){return $(null)},e.set=function(){return $()},e.U=function(){return $()},e.ca=function(){},e.ia=function(){};function Tf(){if(!uD())throw Nn()=="Node"?new T("internal-error","The SessionStorage compatibility library was not found."):new T("web-storage-unsupported");this.a=Z0()||Q.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Z0(){try{var r=h.sessionStorage,s=ri();return r&&(r.setItem(s,"1"),r.removeItem(s)),r}catch{return null}}function uD(){var r=Nn()=="Node";if(r=Z0()||r&&Q.INTERNAL.node&&Q.INTERNAL.node.sessionStorage,!r)return!1;try{return r.setItem("__sak","1"),r.removeItem("__sak"),!0}catch{return!1}}e=Tf.prototype,e.get=function(r){var s=this;return $().then(function(){var c=s.a.getItem(r);return io(c)})},e.set=function(r,s){var c=this;return $().then(function(){var d=Ns(s);d===null?c.U(r):c.a.setItem(r,d)})},e.U=function(r){var s=this;return $().then(function(){s.a.removeItem(r)})},e.ca=function(){},e.ia=function(){};function cD(){var r={};r.Browser=lD,r.Node=dD,r.ReactNative=hD,r.Worker=fD,this.a=r[Nn()]}var xf,lD={F:Ec,cb:Tf},dD={F:Ec,cb:Tf},hD={F:j0,cb:Ef},fD={F:Ec,cb:Ef},co={rd:"local",NONE:"none",td:"session"};function pD(r){var s=new T("invalid-persistence-type"),c=new T("unsupported-persistence-type");t:{for(d in co)if(co[d]==r){var d=!0;break t}d=!1}if(!d||typeof r!="string")throw s;switch(Nn()){case"ReactNative":if(r==="session")throw c;break;case"Node":if(r!=="none")throw c;break;case"Worker":if(r==="session"||!If()&&r!=="none")throw c;break;default:if(!Th()&&r!=="none")throw c}}function J0(){var r=!!(!xy(ie())&&Ih()),s=Rs(),c=Th();this.m=r,this.h=s,this.l=c,this.a={},xf||(xf=new cD),r=xf;try{this.g=!wh()&&Cy()||!h.indexedDB?new r.a.F:new Q0(yn()?new Zs:new r.a.F)}catch{this.g=new Zs,this.h=!0}try{this.i=new r.a.cb}catch{this.i=new Zs}this.v=new Zs,this.f=P(this.Zb,this),this.b={}}var Sf;function Js(){return Sf||(Sf=new J0),Sf}function di(r,s){switch(s){case"session":return r.i;case"none":return r.v;default:return r.g}}function lo(r,s){return"firebase:"+r.name+(s?":"+s:"")}function mD(r,s,c){var d=lo(s,c),f=di(r,s.F);return r.get(s,c).then(function(g){var v=null;try{v=io(h.localStorage.getItem(d))}catch{}if(v&&!g)return h.localStorage.removeItem(d),r.set(s,v,c);v&&g&&f.type!="localStorage"&&h.localStorage.removeItem(d)})}e=J0.prototype,e.get=function(r,s){return di(this,r.F).get(lo(r,s))};function ho(r,s,c){return c=lo(s,c),s.F=="local"&&(r.b[c]=null),di(r,s.F).U(c)}e.set=function(r,s,c){var d=lo(r,c),f=this,g=di(this,r.F);return g.set(d,s).then(function(){return g.get(d)}).then(function(v){r.F=="local"&&(f.b[d]=v)})},e.addListener=function(r,s,c){r=lo(r,s),this.l&&(this.b[r]=h.localStorage.getItem(r)),Yr(this.a)&&(di(this,"local").ca(this.f),this.h||(wh()||!Cy())&&h.indexedDB||!this.l||gD(this)),this.a[r]||(this.a[r]=[]),this.a[r].push(c)},e.removeListener=function(r,s,c){r=lo(r,s),this.a[r]&&(vn(this.a[r],function(d){return d==c}),this.a[r].length==0&&delete this.a[r]),Yr(this.a)&&(di(this,"local").ia(this.f),Cf(this))};function gD(r){Cf(r),r.c=setInterval(function(){for(var s in r.a){var c=h.localStorage.getItem(s),d=r.b[s];c!=d&&(r.b[s]=c,c=new Zr({type:"storage",key:s,target:window,oldValue:d,newValue:c,a:!0}),r.Zb(c))}},1e3)}function Cf(r){r.c&&(clearInterval(r.c),r.c=null)}e.Zb=function(r){if(r&&r.g){var s=r.a.key;if(s==null)for(var c in this.a){var d=this.b[c];typeof d>"u"&&(d=null);var f=h.localStorage.getItem(c);f!==d&&(this.b[c]=f,this.nb(c))}else if(s.indexOf("firebase:")==0&&this.a[s]){if(typeof r.a.a<"u"?di(this,"local").ia(this.f):Cf(this),this.m){if(c=h.localStorage.getItem(s),d=r.a.newValue,d!==c)d!==null?h.localStorage.setItem(s,d):h.localStorage.removeItem(s);else if(this.b[s]===d&&typeof r.a.a>"u")return}var g=this;c=function(){(typeof r.a.a<"u"||g.b[s]!==h.localStorage.getItem(s))&&(g.b[s]=h.localStorage.getItem(s),g.nb(s))},bn&&lr&&lr==10&&h.localStorage.getItem(s)!==r.a.newValue&&r.a.newValue!==r.a.oldValue?setTimeout(c,10):c()}}else Ot(r,P(this.nb,this))},e.nb=function(r){this.a[r]&&Ot(this.a[r],function(s){s()})};function vD(r){this.a=r,this.b=Js()}var Af={name:"authEvent",F:"local"};function bD(r){return r.b.get(Af,r.a).then(function(s){return s0(s)})}function yD(){this.a=Js()}function wD(){this.b=-1}function Tc(r,s){this.b=tw,this.f=h.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=r,this.h=s,this.l=h.Int32Array?new Int32Array(64):Array(64),xc===void 0&&(h.Int32Array?xc=new Int32Array(rw):xc=rw),this.reset()}var xc;Z(Tc,wD);for(var tw=64,_D=tw-1,ew=[],kf=0;kf<_D;kf++)ew[kf]=0;var nw=Gd(128,ew);Tc.prototype.reset=function(){this.g=this.c=0,this.a=h.Int32Array?new Int32Array(this.h):Wr(this.h)};function Df(r){for(var s=r.f,c=r.l,d=0,f=0;f<s.length;)c[d++]=s[f]<<24|s[f+1]<<16|s[f+2]<<8|s[f+3],f=4*d;for(s=16;64>s;s++){f=c[s-15]|0,d=c[s-2]|0;var g=(c[s-16]|0)+((f>>>7|f<<25)^(f>>>18|f<<14)^f>>>3)|0,v=(c[s-7]|0)+((d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10)|0;c[s]=g+v|0}d=r.a[0]|0,f=r.a[1]|0;var w=r.a[2]|0,C=r.a[3]|0,D=r.a[4]|0,J=r.a[5]|0,wt=r.a[6]|0;for(g=r.a[7]|0,s=0;64>s;s++){var mt=((d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10))+(d&f^d&w^f&w)|0;v=D&J^~D&wt,g=g+((D>>>6|D<<26)^(D>>>11|D<<21)^(D>>>25|D<<7))|0,v=v+(xc[s]|0)|0,v=g+(v+(c[s]|0)|0)|0,g=wt,wt=J,J=D,D=C+v|0,C=w,w=f,f=d,d=v+mt|0}r.a[0]=r.a[0]+d|0,r.a[1]=r.a[1]+f|0,r.a[2]=r.a[2]+w|0,r.a[3]=r.a[3]+C|0,r.a[4]=r.a[4]+D|0,r.a[5]=r.a[5]+J|0,r.a[6]=r.a[6]+wt|0,r.a[7]=r.a[7]+g|0}function Of(r,s,c){c===void 0&&(c=s.length);var d=0,f=r.c;if(typeof s=="string")for(;d<c;)r.f[f++]=s.charCodeAt(d++),f==r.b&&(Df(r),f=0);else if(I(s))for(;d<c;){var g=s[d++];if(!(typeof g=="number"&&0<=g&&255>=g&&g==(g|0)))throw Error("message must be a byte array");r.f[f++]=g,f==r.b&&(Df(r),f=0)}else throw Error("message must be string or array");r.c=f,r.g+=c}var rw=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function iw(){Tc.call(this,8,ID)}Z(iw,Tc);var ID=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function ow(r,s,c,d,f,g){this.v=r,this.i=s,this.l=c,this.m=d||null,this.u=f||null,this.s=g,this.h=s+":"+c,this.C=new yD,this.g=new vD(this.h),this.f=null,this.b=[],this.a=this.c=null}function Sc(r){return new T("invalid-cordova-configuration",r)}e=ow.prototype,e.ma=function(){return this.Ia?this.Ia:this.Ia=pA().then(function(){if(typeof At("universalLinks.subscribe",h)!="function")throw Sc("cordova-universal-links-plugin-fix is not installed");if(typeof At("BuildInfo.packageName",h)>"u")throw Sc("cordova-plugin-buildinfo is not installed");if(typeof At("cordova.plugins.browsertab.openUrl",h)!="function")throw Sc("cordova-plugin-browsertab is not installed");if(typeof At("cordova.InAppBrowser.open",h)!="function")throw Sc("cordova-plugin-inappbrowser is not installed")},function(){throw new T("cordova-not-ready")})};function ED(){for(var r=20,s=[];0<r;)s.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),r--;return s.join("")}function TD(r){var s=new iw;Of(s,r),r=[];var c=8*s.g;56>s.c?Of(s,nw,56-s.c):Of(s,nw,s.b-(s.c-56));for(var d=63;56<=d;d--)s.f[d]=c&255,c/=256;for(Df(s),d=c=0;d<s.i;d++)for(var f=24;0<=f;f-=8)r[c++]=s.a[d]>>f&255;return MA(r)}e.Pb=function(r,s){return s(new T("operation-not-supported-in-this-environment")),$()},e.Nb=function(){return Ct(new T("operation-not-supported-in-this-environment"))},e.ac=function(){return!1},e.Yb=function(){return!0},e.Ub=function(){return!0},e.Ob=function(r,s,c,d){if(this.c)return Ct(new T("redirect-operation-pending"));var f=this,g=h.document,v=null,w=null,C=null,D=null;return this.c=$().then(function(){return Gh(s),aw(f)}).then(function(){return xD(f,r,s,c,d)}).then(function(){return new ut(function(J,wt){w=function(){var mt=At("cordova.plugins.browsertab.close",h);return J(),typeof mt=="function"&&mt(),f.a&&typeof f.a.close=="function"&&(f.a.close(),f.a=null),!1},f.Ea(w),C=function(){v||(v=Zi(2e3).then(function(){wt(new T("redirect-cancelled-by-user"))}))},D=function(){xh()&&C()},g.addEventListener("resume",C,!1),ie().toLowerCase().match(/android/)||g.addEventListener("visibilitychange",D,!1)}).o(function(J){return Rf(f).then(function(){throw J})})}).oa(function(){C&&g.removeEventListener("resume",C,!1),D&&g.removeEventListener("visibilitychange",D,!1),v&&v.cancel(),w&&f.Ta(w),f.c=null})};function xD(r,s,c,d,f){var g=ED(),v=new wn(s,d,null,g,new T("no-auth-event"),null,f),w=At("BuildInfo.packageName",h);if(typeof w!="string")throw new T("invalid-cordova-configuration");var C=At("BuildInfo.displayName",h),D={};if(ie().toLowerCase().match(/iphone|ipad|ipod/))D.ibi=w;else if(ie().toLowerCase().match(/android/))D.apn=w;else return Ct(new T("operation-not-supported-in-this-environment"));C&&(D.appDisplayName=C),g=TD(g),D.sessionId=g;var J=Ys(r.v,r.i,r.l,s,c,null,d,r.m,D,r.u,f,r.s);return r.ma().then(function(){var wt=r.h;return r.C.a.set(Af,v.w(),wt)}).then(function(){var wt=At("cordova.plugins.browsertab.isAvailable",h);if(typeof wt!="function")throw new T("invalid-cordova-configuration");var mt=null;wt(function(te){if(te){if(mt=At("cordova.plugins.browsertab.openUrl",h),typeof mt!="function")throw new T("invalid-cordova-configuration");mt(J)}else{if(mt=At("cordova.InAppBrowser.open",h),typeof mt!="function")throw new T("invalid-cordova-configuration");te=ie(),r.a=mt(J,te.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||te.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function sw(r,s){for(var c=0;c<r.b.length;c++)try{r.b[c](s)}catch{}}function aw(r){return r.f||(r.f=r.ma().then(function(){return new ut(function(s){function c(d){return s(d),r.Ta(c),!1}r.Ea(c),SD(r)})})),r.f}function Rf(r){var s=null;return bD(r.g).then(function(c){return s=c,c=r.g,ho(c.b,Af,c.a)}).then(function(){return s})}function SD(r){function s(v){d=!0,f&&f.cancel(),Rf(r).then(function(w){var C=c;if(w&&v&&v.url){var D=null;C=Zy(v.url),C.indexOf("/__/auth/callback")!=-1&&(D=Le(C),D=io(an(D,"firebaseError")||null),D=(D=typeof D=="object"?sb(D):null)?new wn(w.c,w.b,null,null,D,null,w.T()):new wn(w.c,w.b,C,w.f,null,null,w.T())),C=D||c}sw(r,C)})}var c=new wn("unknown",null,null,null,new T("no-auth-event")),d=!1,f=Zi(500).then(function(){return Rf(r).then(function(){d||sw(r,c)})}),g=h.handleOpenURL;h.handleOpenURL=function(v){if(v.toLowerCase().indexOf(At("BuildInfo.packageName",h).toLowerCase()+"://")==0&&s({url:v}),typeof g=="function")try{g(v)}catch(w){console.error(w)}},$h||($h=new zA),qA(s)}e.Ea=function(r){this.b.push(r),aw(this).o(function(s){s.code==="auth/invalid-cordova-configuration"&&(s=new wn("unknown",null,null,null,new T("no-auth-event")),r(s))})},e.Ta=function(r){vn(this.b,function(s){return s==r})};function CD(r){this.a=r,this.b=Js()}var Nf={name:"pendingRedirect",F:"session"};function AD(r){return r.b.set(Nf,"pending",r.a)}function Mf(r){return ho(r.b,Nf,r.a)}function kD(r){return r.b.get(Nf,r.a).then(function(s){return s=="pending"})}function Cc(r,s,c,d){this.i={},this.u=0,this.D=r,this.v=s,this.m=c,this.J=d,this.h=[],this.f=!1,this.l=P(this.s,this),this.b=new kc,this.C=new vw,this.g=new CD(pw(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=uw(this.D,this.v,this.m,Is,this.J)}function uw(r,s,c,d,f){var g=Q.SDK_VERSION||null;return _h()?new ow(r,s,c,g,d,f):new M0(r,s,c,g,d,f)}Cc.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=uw(this.D,this.v,this.m,null,this.J),this.i={}};function cw(r){r.f||(r.f=!0,r.a.Ea(r.l));var s=r.a;return r.a.ma().o(function(c){throw r.a==s&&r.reset(),c})}function lw(r){r.a.Yb()&&cw(r).o(function(s){var c=new wn("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));Lf(s)&&r.s(c)}),r.a.Ub()||mw(r.b)}function Ac(r,s){Wn(r.h,s)||r.h.push(s),r.f||kD(r.g).then(function(c){c?Mf(r.g).then(function(){cw(r).o(function(d){var f=new wn("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));Lf(d)&&r.s(f)})}):lw(r)}).o(function(){lw(r)})}function Pf(r,s){vn(r.h,function(c){return c==s})}Cc.prototype.s=function(r){if(!r)throw new T("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),r&&r.getUid()&&this.i.hasOwnProperty(r.getUid()))return!1;for(var s=!1,c=0;c<this.h.length;c++){var d=this.h[c];if(d.Gb(r.c,r.b)){(s=this.c[r.c])&&(s.h(r,d),r&&(r.f||r.b)&&(this.i[r.getUid()]=!0,this.u=Date.now())),s=!0;break}}return mw(this.b),s};var DD=new fr(2e3,1e4),OD=new fr(3e4,6e4);Cc.prototype.ra=function(){return this.b.ra()};function dw(r,s,c,d,f,g,v){return r.a.Nb(s,c,d,function(){r.f||(r.f=!0,r.a.Ea(r.l))},function(){r.reset()},f,g,v)}function Lf(r){return!!(r&&r.code=="auth/cordova-not-ready")}function hw(r,s,c,d,f){var g;return AD(r.g).then(function(){return r.a.Ob(s,c,d,f).o(function(v){if(Lf(v))throw new T("operation-not-supported-in-this-environment");return g=v,Mf(r.g).then(function(){throw g})}).then(function(){return r.a.ac()?new ut(function(){}):Mf(r.g).then(function(){return r.ra()}).then(function(){}).o(function(){})})})}function fw(r,s,c,d,f){return r.a.Pb(d,function(g){s.na(c,null,g,f)},DD.get())}var Ff={};function pw(r,s,c){return r=r+":"+s,c&&(r=r+":"+c.url),r}function jf(r,s,c,d){var f=pw(s,c,d);return Ff[f]||(Ff[f]=new Cc(r,s,c,d)),Ff[f]}function kc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}kc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},kc.prototype.h=function(r,s){if(r){this.reset(),this.g=!0;var c=r.c,d=r.b,f=r.a&&r.a.code=="auth/web-storage-unsupported",g=r.a&&r.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!f&&!g),c!="unknown"||f||g?r.a?(hi(this,!0,null,r.a),$()):s.Fa(c,d)?RD(this,r,s):Ct(new T("invalid-auth-event")):(hi(this,!1,null,null),$())}else Ct(new T("invalid-auth-event"))};function mw(r){r.g||(r.g=!0,hi(r,!1,null,null))}function Dc(r){r.g&&!r.i&&hi(r,!1,null,null)}function RD(r,s,c){c=c.Fa(s.c,s.b);var d=s.g,f=s.f,g=s.i,v=s.T(),w=!!s.c.match(/Redirect$/);c(d,f,v,g).then(function(C){hi(r,w,C,null)}).o(function(C){hi(r,w,null,C)})}function ND(r,s){if(r.b=function(){return Ct(s)},r.c.length)for(var c=0;c<r.c.length;c++)r.c[c](s)}function gw(r,s){if(r.b=function(){return $(s)},r.f.length)for(var c=0;c<r.f.length;c++)r.f[c](s)}function hi(r,s,c,d){s?d?ND(r,d):gw(r,c):gw(r,{user:null}),r.f=[],r.c=[]}kc.prototype.ra=function(){var r=this;return new ut(function(s,c){r.b?r.b().then(s,c):(r.f.push(s),r.c.push(c),MD(r))})};function MD(r){var s=new T("timeout");r.a&&r.a.cancel(),r.a=Zi(OD.get()).then(function(){r.b||(r.g=!0,hi(r,!0,null,s))})}function vw(){}vw.prototype.h=function(r,s){if(r){var c=r.c,d=r.b;r.a?(s.na(r.c,null,r.a,r.b),$()):s.Fa(c,d)?PD(r,s):Ct(new T("invalid-auth-event"))}else Ct(new T("invalid-auth-event"))};function PD(r,s){var c=r.b,d=r.c;s.Fa(d,c)(r.g,r.f,r.T(),r.i).then(function(f){s.na(d,f,null,c)}).o(function(f){s.na(d,null,f,c)})}function bw(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(r){this.jb=r},enumerable:!1})}function Uf(r,s){this.a=s,z(this,"verificationId",r)}Uf.prototype.confirm=function(r){return r=o0(this.verificationId,r),this.a(r)};function Vf(r,s,c,d){return new Xn(r).gb(s,c).then(function(f){return new Uf(f,d)})}function LD(r){var s=Hy(r);if(!(s&&s.exp&&s.auth_time&&s.iat))throw new T("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Se(this,{token:r,expirationTime:Ms(1e3*s.exp),authTime:Ms(1e3*s.auth_time),issuedAtTime:Ms(1e3*s.iat),signInProvider:s.firebase&&s.firebase.sign_in_provider?s.firebase.sign_in_provider:null,signInSecondFactor:s.firebase&&s.firebase.sign_in_second_factor?s.firebase.sign_in_second_factor:null,claims:s})}function Bf(r,s,c){var d=s&&s[ww];if(!d)throw new T("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=r,this.f=cr(s),this.g=c,this.c=new oc(null,d),this.b=[];var f=this;Ot(s[yw]||[],function(g){(g=Oh(g))&&f.b.push(g)}),z(this,"auth",this.a),z(this,"session",this.c),z(this,"hints",this.b)}var yw="mfaInfo",ww="mfaPendingCredential";Bf.prototype.Rc=function(r){var s=this;return r.tb(this.a.a,this.c).then(function(c){var d=cr(s.f);return delete d[yw],delete d[ww],Ne(d,c),s.g(d)})};function zf(r,s,c,d){T.call(this,"multi-factor-auth-required",d,s),this.b=new Bf(r,s,c),z(this,"resolver",this.b)}Z(zf,T);function _w(r,s,c){if(r&&S(r.serverResponse)&&r.code==="auth/multi-factor-auth-required")try{return new zf(s,r.serverResponse,c,r.message)}catch{}return null}function Iw(){}Iw.prototype.tb=function(r,s,c){return s.type==js?FD(this,r,s,c):jD(this,r,s)};function FD(r,s,c,d){return c.Ha().then(function(f){return f={idToken:f},typeof d<"u"&&(f.displayName=d),Ne(f,{phoneVerificationInfo:Us(r.a)}),dt(s,Sk,f)})}function jD(r,s,c){return c.Ha().then(function(d){return d={mfaPendingCredential:d},Ne(d,{phoneVerificationInfo:Us(r.a)}),dt(s,Ck,d)})}function qf(r){z(this,"factorId",r.fa),this.a=r}Z(qf,Iw);function Ew(r){if(qf.call(this,r),this.a.fa!=Xn.PROVIDER_ID)throw new T("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}Z(Ew,qf);function fo(r,s){Pe.call(this,r);for(var c in s)this[c]=s[c]}Z(fo,Pe);function Hf(r,s){this.a=r,this.b=[],this.c=P(this.yc,this),sn(this.a,"userReloaded",this.c);var c=[];s&&s.multiFactor&&s.multiFactor.enrolledFactors&&Ot(s.multiFactor.enrolledFactors,function(d){var f=null,g={};if(d){d.uid&&(g[Nh]=d.uid),d.displayName&&(g[ky]=d.displayName),d.enrollmentTime&&(g[Rh]=new Date(d.enrollmentTime).toISOString()),d.phoneNumber&&(g[Mh]=d.phoneNumber);try{f=new Ps(g)}catch{}d=f}else d=null;d&&c.push(d)}),Oc(this,c)}function UD(r){var s=[];return Ot(r.mfaInfo||[],function(c){(c=Oh(c))&&s.push(c)}),s}e=Hf.prototype,e.yc=function(r){Oc(this,UD(r.hd))};function Oc(r,s){r.b=s,z(r,"enrolledFactors",s)}e.Sb=function(){return this.a.I().then(function(r){return new oc(r,null)})},e.fc=function(r,s){var c=this,d=this.a.a;return this.Sb().then(function(f){return r.tb(d,f,s)}).then(function(f){return Ln(c.a,f),c.a.reload()})},e.bd=function(r){var s=this,c=typeof r=="string"?r:r.uid,d=this.a.a;return this.a.I().then(function(f){return dt(d,$k,{idToken:f,mfaEnrollmentId:c})}).then(function(f){var g=gC(s.b,function(v){return v.uid!=c});return Oc(s,g),Ln(s.a,f),s.a.reload().o(function(v){if(v.code!="auth/user-token-expired")throw v})})},e.w=function(){return{multiFactor:{enrolledFactors:Lu(this.b,function(r){return r.w()})}}};function Kf(r,s,c){if(this.h=r,this.i=s,this.g=c,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}Kf.prototype.start=function(){this.a=this.c,Gf(this,!0)};function VD(r,s){return s?(r.a=r.c,r.g()):(s=r.a,r.a*=2,r.a>r.f&&(r.a=r.f),s)}function Gf(r,s){r.stop(),r.b=Zi(VD(r,s)).then(function(){return gA()}).then(function(){return r.h()}).then(function(){Gf(r,!0)}).o(function(c){r.i(c)&&Gf(r,!1)})}Kf.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function $f(r){this.f=r,this.b=this.a=null,this.c=Date.now()}$f.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function Tw(r,s){typeof s>"u"&&(r.b?(s=r.b,s=s.a-s.g):s=0),r.c=Date.now()+1e3*s}function xw(r,s){r.b=rc(s[In]||""),r.a=s.refreshToken,s=s.expiresIn,Tw(r,typeof s<"u"?Number(s):void 0)}function BD(r,s){r.b=s.b,r.a=s.a,r.c=s.c}function zD(r,s){return lk(r.f,s).then(function(c){return r.b=rc(c.access_token),r.a=c.refresh_token,Tw(r,c.expires_in),{accessToken:r.b.toString(),refreshToken:r.a}}).o(function(c){throw c.code=="auth/user-token-expired"&&(r.a=null),c})}$f.prototype.getToken=function(r){return r=!!r,this.b&&!this.a?Ct(new T("user-token-expired")):r||!this.b||Date.now()>this.c-3e4?this.a?zD(this,{grant_type:"refresh_token",refresh_token:this.a}):$(null):$({accessToken:this.b.toString(),refreshToken:this.a})};function Rc(r,s){this.a=r||null,this.b=s||null,Se(this,{lastSignInTime:Ms(s||null),creationTime:Ms(r||null)})}function qD(r){return new Rc(r.a,r.b)}Rc.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function HD(r,s,c,d,f,g){Se(this,{uid:r,displayName:d||null,photoURL:f||null,email:c||null,phoneNumber:g||null,providerId:s})}function Ge(r,s,c){this.N=[],this.l=r.apiKey,this.m=r.appName,this.s=r.authDomain||null;var d=Q.SDK_VERSION?no(Q.SDK_VERSION):null;this.a=new _n(this.l,_s(Is),d),(this.u=r.emulatorConfig||null)&&wc(this.a,this.u),this.h=new $f(this.a),tp(this,s[In]),xw(this.h,s),z(this,"refreshToken",this.h.a),Cw(this,c||{}),xe.call(this),this.P=!1,this.s&&ni()&&(this.b=jf(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=KD(this),this.ba=P(this.ib,this);var f=this;this.za=null,this.Pa=function(g){f.xa(g.h)},this.qa=null,this.Ba=function(g){Wf(f,g.c)},this.$=null,this.aa=[],this.Oa=function(g){ta(f,g.f)},this.ja=null,this.S=new Hf(this,c),z(this,"multiFactor",this.S)}Z(Ge,xe),Ge.prototype.xa=function(r){this.za=r,_0(this.a,r)};function Wf(r,s){r.u=s,wc(r.a,s),r.b&&(s=r.b,r.b=jf(r.s,r.l,r.m,r.u),r.P&&(Pf(s,r),Ac(r.b,r)))}Ge.prototype.la=function(){return this.za};function Yf(r,s){r.qa&&He(r.qa,"languageCodeChanged",r.Pa),(r.qa=s)&&sn(s,"languageCodeChanged",r.Pa)}function Qf(r,s){r.$&&He(r.$,"emulatorConfigChanged",r.Ba),(r.$=s)&&sn(s,"emulatorConfigChanged",r.Ba)}function ta(r,s){r.aa=s,I0(r.a,Q.SDK_VERSION?no(Q.SDK_VERSION,r.aa):null)}Ge.prototype.Ga=function(){return Wr(this.aa)};function Xf(r,s){r.ja&&He(r.ja,"frameworkChanged",r.Oa),(r.ja=s)&&sn(s,"frameworkChanged",r.Oa)}Ge.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())};function Zf(r){try{return Q.app(r.m).auth()}catch{throw new T("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+r.m+"'!")}}function KD(r){return new Kf(function(){return r.I(!0)},function(s){return!!(s&&s.code=="auth/network-request-failed")},function(){var s=r.h.c-Date.now()-3e5;return 0<s?s:0})}function Sw(r){r.J||r.D.b||(r.D.start(),He(r,"tokenChanged",r.ba),sn(r,"tokenChanged",r.ba))}function Jf(r){He(r,"tokenChanged",r.ba),r.D.stop()}function tp(r,s){r.Aa=s,z(r,"_lat",s)}function GD(r,s){vn(r.W,function(c){return c==s})}function fi(r){for(var s=[],c=0;c<r.W.length;c++)s.push(r.W[c](r));return zb(s).then(function(){return r})}function ea(r){r.b&&!r.P&&(r.P=!0,Ac(r.b,r))}function Cw(r,s){Se(r,{uid:s.uid,displayName:s.displayName||null,photoURL:s.photoURL||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,isAnonymous:s.isAnonymous||!1,tenantId:s.tenantId||null,metadata:new Rc(s.createdAt,s.lastLoginAt),providerData:[]}),r.a.b=r.tenantId}z(Ge.prototype,"providerId","firebase");function Aw(){}function ep(r){return $().then(function(){if(r.J)throw new T("app-deleted")})}function np(r){return Lu(r.providerData,function(s){return s.providerId})}function rp(r,s){s&&(kw(r,s.providerId),r.providerData.push(s))}function kw(r,s){vn(r.providerData,function(c){return c.providerId==s})}function gr(r,s,c){(s!="uid"||c)&&r.hasOwnProperty(s)&&z(r,s,c)}function Nc(r,s){r!=s&&(Se(r,{uid:s.uid,displayName:s.displayName,photoURL:s.photoURL,email:s.email,emailVerified:s.emailVerified,phoneNumber:s.phoneNumber,isAnonymous:s.isAnonymous,tenantId:s.tenantId,providerData:[]}),s.metadata?z(r,"metadata",qD(s.metadata)):z(r,"metadata",new Rc),Ot(s.providerData,function(c){rp(r,c)}),BD(r.h,s.h),z(r,"refreshToken",r.h.a),Oc(r.S,s.S.b))}e=Ge.prototype,e.reload=function(){var r=this;return Xt(this,ep(this).then(function(){return ip(r).then(function(){return fi(r)}).then(Aw)}))};function ip(r){return r.I().then(function(s){var c=r.isAnonymous;return $D(r,s).then(function(){return c||gr(r,"isAnonymous",!1),s})})}e.oc=function(r){return this.I(r).then(function(s){return new LD(s)})},e.I=function(r){var s=this;return Xt(this,ep(this).then(function(){return s.h.getToken(r)}).then(function(c){if(!c)throw new T("internal-error");return c.accessToken!=s.Aa&&(tp(s,c.accessToken),s.dispatchEvent(new fo("tokenChanged"))),gr(s,"refreshToken",c.refreshToken),c.accessToken}))};function Ln(r,s){s[In]&&r.Aa!=s[In]&&(xw(r.h,s),r.dispatchEvent(new fo("tokenChanged")),tp(r,s[In]),gr(r,"refreshToken",r.h.a))}function $D(r,s){return dt(r.a,Ak,{idToken:s}).then(P(r.Kc,r))}e.Kc=function(r){if(r=r.users,!r||!r.length)throw new T("internal-error");r=r[0],Cw(this,{uid:r.localId,displayName:r.displayName,photoURL:r.photoUrl,email:r.email,emailVerified:!!r.emailVerified,phoneNumber:r.phoneNumber,lastLoginAt:r.lastLoginAt,createdAt:r.createdAt,tenantId:r.tenantId});for(var s=WD(r),c=0;c<s.length;c++)rp(this,s[c]);gr(this,"isAnonymous",!(this.email&&r.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new fo("userReloaded",{hd:r}))};function WD(r){return(r=r.providerUserInfo)&&r.length?Lu(r,function(s){return new HD(s.rawId,s.providerId,s.email,s.displayName,s.photoUrl,s.phoneNumber)}):[]}e.Lc=function(r){return Sh("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(r)},e.ub=function(r){var s=this,c=null;return Xt(this,r.c(this.a,this.uid).then(function(d){return Ln(s,d),c=na(s,d,"reauthenticate"),s.i=null,s.reload()}).then(function(){return c}),!0)};function Mc(r,s){return ip(r).then(function(){if(Wn(np(r),s))return fi(r).then(function(){throw new T("provider-already-linked")})})}e.Cc=function(r){return Sh("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(r)},e.rb=function(r){var s=this,c=null;return Xt(this,Mc(this,r.providerId).then(function(){return s.I()}).then(function(d){return r.b(s.a,d)}).then(function(d){return c=na(s,d,"link"),Dw(s,d)}).then(function(){return c}))},e.Dc=function(r,s){var c=this;return Xt(this,Mc(this,"phone").then(function(){return Vf(Zf(c),r,s,P(c.rb,c))}))},e.Mc=function(r,s){var c=this;return Xt(this,$().then(function(){return Vf(Zf(c),r,s,P(c.ub,c))}),!0)};function na(r,s,c){var d=Kh(s);return s=Gy(s),Mn({user:r,credential:d,additionalUserInfo:s,operationType:c})}function Dw(r,s){return Ln(r,s),r.reload().then(function(){return r})}e.Cb=function(r){var s=this;return Xt(this,this.I().then(function(c){return s.a.Cb(c,r)}).then(function(c){return Ln(s,c),s.reload()}))},e.ed=function(r){var s=this;return Xt(this,this.I().then(function(c){return r.b(s.a,c)}).then(function(c){return Ln(s,c),s.reload()}))},e.Db=function(r){var s=this;return Xt(this,this.I().then(function(c){return s.a.Db(c,r)}).then(function(c){return Ln(s,c),s.reload()}))},e.Eb=function(r){if(r.displayName===void 0&&r.photoURL===void 0)return ep(this);var s=this;return Xt(this,this.I().then(function(c){return s.a.Eb(c,{displayName:r.displayName,photoUrl:r.photoURL})}).then(function(c){return Ln(s,c),gr(s,"displayName",c.displayName||null),gr(s,"photoURL",c.photoUrl||null),Ot(s.providerData,function(d){d.providerId==="password"&&(z(d,"displayName",s.displayName),z(d,"photoURL",s.photoURL))}),fi(s)}).then(Aw))},e.cd=function(r){var s=this;return Xt(this,ip(this).then(function(c){return Wn(np(s),r)?vk(s.a,c,[r]).then(function(d){var f={};return Ot(d.providerUserInfo||[],function(g){f[g.providerId]=!0}),Ot(np(s),function(g){f[g]||kw(s,g)}),f[Xn.PROVIDER_ID]||z(s,"phoneNumber",null),fi(s)}):fi(s).then(function(){throw new T("no-such-provider")})}))},e.delete=function(){var r=this;return Xt(this,this.I().then(function(s){return dt(r.a,Ik,{idToken:s})}).then(function(){r.dispatchEvent(new fo("userDeleted"))})).then(function(){for(var s=0;s<r.N.length;s++)r.N[s].cancel("app-deleted");Yf(r,null),Qf(r,null),Xf(r,null),r.N=[],r.J=!0,Jf(r),z(r,"refreshToken",null),r.b&&Pf(r.b,r)})},e.Gb=function(r,s){return!!(r=="linkViaPopup"&&(this.g||null)==s&&this.f||r=="reauthViaPopup"&&(this.g||null)==s&&this.f||r=="linkViaRedirect"&&(this.ga||null)==s||r=="reauthViaRedirect"&&(this.ga||null)==s)},e.na=function(r,s,c,d){r!="linkViaPopup"&&r!="reauthViaPopup"||d!=(this.g||null)||(c&&this.C?this.C(c):s&&!c&&this.f&&this.f(s),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(r,s){return r=="linkViaPopup"&&s==(this.g||null)?P(this.Lb,this):r=="reauthViaPopup"&&s==(this.g||null)?P(this.Mb,this):r=="linkViaRedirect"&&(this.ga||null)==s?P(this.Lb,this):r=="reauthViaRedirect"&&(this.ga||null)==s?P(this.Mb,this):null},e.Ec=function(r){var s=this;return Ow(this,"linkViaPopup",r,function(){return Mc(s,r.providerId).then(function(){return fi(s)})},!1)},e.Nc=function(r){return Ow(this,"reauthViaPopup",r,function(){return $()},!0)};function Ow(r,s,c,d,f){if(!ni())return Ct(new T("operation-not-supported-in-this-environment"));if(r.i&&!f)return Ct(r.i);var g=Uh(c.providerId),v=ri(r.uid+":::"),w=null;(!Rs()||Ih())&&r.s&&c.isOAuthProvider&&(w=Ys(r.s,r.l,r.m,s,c,null,v,Q.SDK_VERSION||null,null,null,r.tenantId,r.u));var C=wy(w,g&&g.va,g&&g.ua);return d=d().then(function(){if(Nw(r),!f)return r.I().then(function(){})}).then(function(){return dw(r.b,C,s,c,v,!!w,r.tenantId)}).then(function(){return new ut(function(D,J){r.na(s,null,new T("cancelled-popup-request"),r.g||null),r.f=D,r.C=J,r.g=v,r.c=fw(r.b,r,s,C,v)})}).then(function(D){return C&&ei(C),D?Mn(D):null}).o(function(D){throw C&&ei(C),D}),Xt(r,d,f)}e.Fc=function(r){var s=this;return Rw(this,"linkViaRedirect",r,function(){return Mc(s,r.providerId)},!1)},e.Oc=function(r){return Rw(this,"reauthViaRedirect",r,function(){return $()},!0)};function Rw(r,s,c,d,f){if(!ni())return Ct(new T("operation-not-supported-in-this-environment"));if(r.i&&!f)return Ct(r.i);var g=null,v=ri(r.uid+":::");return d=d().then(function(){if(Nw(r),!f)return r.I().then(function(){})}).then(function(){return r.ga=v,fi(r)}).then(function(w){return r.ha&&(w=r.ha,w=w.b.set(op,r.w(),w.a)),w}).then(function(){return hw(r.b,s,c,v,r.tenantId)}).o(function(w){if(g=w,r.ha)return Pw(r.ha);throw g}).then(function(){if(g)throw g}),Xt(r,d,f)}function Nw(r){if(!r.b||!r.P)throw r.b&&!r.P?new T("internal-error"):new T("auth-domain-config-required")}e.Lb=function(r,s,c,d){var f=this;this.c&&(this.c.cancel(),this.c=null);var g=null;return c=this.I().then(function(v){return ff(f.a,{requestUri:r,postBody:d,sessionId:s,idToken:v})}).then(function(v){return g=na(f,v,"link"),Dw(f,v)}).then(function(){return g}),Xt(this,c)},e.Mb=function(r,s,c,d){var f=this;this.c&&(this.c.cancel(),this.c=null);var g=null,v=$().then(function(){return so(pf(f.a,{requestUri:r,sessionId:s,postBody:d,tenantId:c}),f.uid)}).then(function(w){return g=na(f,w,"reauthenticate"),Ln(f,w),f.i=null,f.reload()}).then(function(){return g});return Xt(this,v,!0)},e.vb=function(r){var s=this,c=null;return Xt(this,this.I().then(function(d){return c=d,typeof r>"u"||Yr(r)?{}:ec(new tc(r))}).then(function(d){return s.a.vb(c,d)}).then(function(d){if(s.email!=d)return s.reload()}).then(function(){}))},e.Fb=function(r,s){var c=this,d=null;return Xt(this,this.I().then(function(f){return d=f,typeof s>"u"||Yr(s)?{}:ec(new tc(s))}).then(function(f){return c.a.Fb(d,r,f)}).then(function(f){if(c.email!=f)return c.reload()}).then(function(){}))};function Xt(r,s,c){var d=YD(r,s,c);return r.N.push(d),d.oa(function(){Fu(r.N,d)}),d.o(function(f){var g=null;throw f&&f.code==="auth/multi-factor-auth-required"&&(g=_w(f.w(),Zf(r),P(r.jc,r))),g||f})}e.jc=function(r){var s=null,c=this;return r=so($(r),c.uid).then(function(d){return s=na(c,d,"reauthenticate"),Ln(c,d),c.i=null,c.reload()}).then(function(){return s}),Xt(this,r,!0)};function YD(r,s,c){return r.i&&!c?(s.cancel(),Ct(r.i)):s.o(function(d){throw!d||d.code!="auth/user-disabled"&&d.code!="auth/user-token-expired"||(r.i||r.dispatchEvent(new fo("userInvalidated")),r.i=d),d})}e.toJSON=function(){return this.w()},e.w=function(){var r={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&Ne(r,this.metadata.w()),Ot(this.providerData,function(s){r.providerData.push(yA(s))}),Ne(r,this.S.w()),r};function Mw(r){if(!r.apiKey)return null;var s={apiKey:r.apiKey,authDomain:r.authDomain,appName:r.appName,emulatorConfig:r.emulatorConfig},c={};if(r.stsTokenManager&&r.stsTokenManager.accessToken){c[In]=r.stsTokenManager.accessToken,c.refreshToken=r.stsTokenManager.refreshToken||null;var d=r.stsTokenManager.expirationTime;d&&(c.expiresIn=(d-Date.now())/1e3)}else return null;var f=new Ge(s,c,r);return r.providerData&&Ot(r.providerData,function(g){g&&rp(f,Mn(g))}),r.redirectEventId&&(f.ga=r.redirectEventId),f}function QD(r,s,c,d){var f=new Ge(r,s);return c&&(f.ha=c),d&&ta(f,d),f.reload().then(function(){return f})}function XD(r,s,c,d){var f=r.h,g={};return g[In]=f.b&&f.b.toString(),g.refreshToken=f.a,s=new Ge(s||{apiKey:r.l,authDomain:r.s,appName:r.m},g),c&&(s.ha=c),d&&ta(s,d),Nc(s,r),s}function ZD(r){this.a=r,this.b=Js()}var op={name:"redirectUser",F:"session"};function Pw(r){return ho(r.b,op,r.a)}function JD(r,s){return r.b.get(op,r.a).then(function(c){return c&&s&&(c.authDomain=s),Mw(c||{})})}function sp(r){this.a=r,this.b=Js(),this.c=null,this.f=tO(this),this.b.addListener(Fn("local"),this.a,P(this.g,this))}sp.prototype.g=function(){var r=this,s=Fn("local");po(this,function(){return $().then(function(){return r.c&&r.c.F!="local"?r.b.get(s,r.a):null}).then(function(c){if(c)return ap(r,"local").then(function(){r.c=s})})})};function ap(r,s){var c=[],d;for(d in co)co[d]!==s&&c.push(ho(r.b,Fn(co[d]),r.a));return c.push(ho(r.b,up,r.a)),qC(c)}function tO(r){var s=Fn("local"),c=Fn("session"),d=Fn("none");return mD(r.b,s,r.a).then(function(){return r.b.get(c,r.a)}).then(function(f){return f?c:r.b.get(d,r.a).then(function(g){return g?d:r.b.get(s,r.a).then(function(v){return v?s:r.b.get(up,r.a).then(function(w){return w?Fn(w):s})})})}).then(function(f){return r.c=f,ap(r,f.F)}).o(function(){r.c||(r.c=s)})}var up={name:"persistence",F:"session"};function Fn(r){return{name:"authUser",F:r}}sp.prototype.yb=function(r){var s=null,c=this;return pD(r),po(this,function(){return r!=c.c.F?c.b.get(c.c,c.a).then(function(d){return s=d,ap(c,r)}).then(function(){if(c.c=Fn(r),s)return c.b.set(c.c,s,c.a)}):$()})};function eO(r){return po(r,function(){return r.b.set(up,r.c.F,r.a)})}function Lw(r,s){return po(r,function(){return r.b.set(r.c,s.w(),r.a)})}function Fw(r){return po(r,function(){return ho(r.b,r.c,r.a)})}function jw(r,s,c){return po(r,function(){return r.b.get(r.c,r.a).then(function(d){return d&&s&&(d.authDomain=s),d&&c&&(d.emulatorConfig=c),Mw(d||{})})})}function po(r,s){return r.f=r.f.then(s,s),r.f}function En(r){if(this.l=!1,z(this,"settings",new bw),z(this,"app",r),It(this).options&&It(this).options.apiKey)r=Q.SDK_VERSION?no(Q.SDK_VERSION):null,this.a=new _n(It(this).options&&It(this).options.apiKey,_s(Is),r);else throw new T("invalid-api-key");this.P=[],this.s=[],this.N=[],this.Pa=Q.INTERNAL.createSubscribe(P(this.zc,this)),this.W=void 0,this.ib=Q.INTERNAL.createSubscribe(P(this.Ac,this)),mo(this,null),this.i=new sp(It(this).options.apiKey+":"+It(this).name),this.D=new ZD(It(this).options.apiKey+":"+It(this).name),this.$=Mt(this,aO(this)),this.h=Mt(this,uO(this)),this.ba=!1,this.ja=P(this.Zc,this),this.Ba=P(this.da,this),this.qa=P(this.mc,this),this.za=P(this.wc,this),this.Aa=P(this.xc,this),this.b=null,iO(this),this.INTERNAL={},this.INTERNAL.delete=P(this.delete,this),this.INTERNAL.logFramework=P(this.Gc,this),this.u=0,xe.call(this),rO(this),this.J=[],this.R=null}Z(En,xe);function Uw(r){Pe.call(this,"languageCodeChanged"),this.h=r}Z(Uw,Pe);function Vw(r){Pe.call(this,"emulatorConfigChanged"),this.c=r}Z(Vw,Pe);function Bw(r){Pe.call(this,"frameworkChanged"),this.f=r}Z(Bw,Pe),e=En.prototype,e.yb=function(r){return r=this.i.yb(r),Mt(this,r)},e.xa=function(r){this.aa===r||this.l||(this.aa=r,_0(this.a,this.aa),this.dispatchEvent(new Uw(this.la())))},e.la=function(){return this.aa},e.fd=function(){var r=h.navigator;this.xa(r&&(r.languages&&r.languages[0]||r.language||r.userLanguage)||null)},e.gd=function(r,s){if(!this.R){if(!/^https?:\/\//.test(r))throw new T("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");s=s?!!s.disableWarnings:!1,nO(s),this.R={url:r,ec:s},this.settings.jb=!0,wc(this.a,this.R),this.dispatchEvent(new Vw(this.R))}};function nO(r){typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),h.document&&!r&&Xu().then(function(){var s=h.document.createElement("div");s.innerText="Running in emulator mode. Do not use with production credentials.",s.style.position="fixed",s.style.width="100%",s.style.backgroundColor="#ffffff",s.style.border=".1em solid #000000",s.style.color="#b50000",s.style.bottom="0px",s.style.left="0px",s.style.margin="0px",s.style.zIndex=1e4,s.style.textAlign="center",s.classList.add("firebase-emulator-warning"),h.document.body.appendChild(s)})}e.Gc=function(r){this.J.push(r),I0(this.a,Q.SDK_VERSION?no(Q.SDK_VERSION,this.J):null),this.dispatchEvent(new Bw(this.J))},e.Ga=function(){return Wr(this.J)},e.zb=function(r){this.S===r||this.l||(this.S=r,this.a.b=this.S)},e.T=function(){return this.S};function rO(r){Object.defineProperty(r,"lc",{get:function(){return this.la()},set:function(s){this.xa(s)},enumerable:!1}),r.aa=null,Object.defineProperty(r,"ti",{get:function(){return this.T()},set:function(s){this.zb(s)},enumerable:!1}),r.S=null,Object.defineProperty(r,"emulatorConfig",{get:function(){if(this.R){var s=Le(this.R.url);s=Mn({protocol:s.c,host:s.a,port:s.g,options:Mn({disableWarnings:this.R.ec})})}else s=null;return s},enumerable:!1})}e.toJSON=function(){return{apiKey:It(this).options.apiKey,authDomain:It(this).options.authDomain,appName:It(this).name,currentUser:ot(this)&&ot(this).w()}};function cp(r){return r.Oa||Ct(new T("auth-domain-config-required"))}function iO(r){var s=It(r).options.authDomain,c=It(r).options.apiKey;s&&ni()&&(r.Oa=r.$.then(function(){if(!r.l){if(r.b=jf(s,c,It(r).name,r.R),Ac(r.b,r),ot(r)&&ea(ot(r)),r.m){ea(r.m);var d=r.m;d.xa(r.la()),Yf(d,r),d=r.m,ta(d,r.J),Xf(d,r),d=r.m,Wf(d,r.R),Qf(d,r),r.m=null}return r.b}}))}e.Gb=function(r,s){switch(r){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==s&&!!this.f;default:return!1}},e.na=function(r,s,c,d){r=="signInViaPopup"&&this.g==d&&(c&&this.C?this.C(c):s&&!c&&this.f&&this.f(s),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(r,s){return r=="signInViaRedirect"||r=="signInViaPopup"&&this.g==s&&this.f?P(this.ic,this):null},e.ic=function(r,s,c,d){var f=this,g={requestUri:r,postBody:d,sessionId:s,tenantId:c};return this.c&&(this.c.cancel(),this.c=null),f.$.then(function(){return pi(f,hf(f.a,g))})},e.Xc=function(r){if(!ni())return Ct(new T("operation-not-supported-in-this-environment"));var s=this,c=Uh(r.providerId),d=ri(),f=null;(!Rs()||Ih())&&It(this).options.authDomain&&r.isOAuthProvider&&(f=Ys(It(this).options.authDomain,It(this).options.apiKey,It(this).name,"signInViaPopup",r,null,d,Q.SDK_VERSION||null,null,null,this.T(),this.R));var g=wy(f,c&&c.va,c&&c.ua);return c=cp(this).then(function(v){return dw(v,g,"signInViaPopup",r,d,!!f,s.T())}).then(function(){return new ut(function(v,w){s.na("signInViaPopup",null,new T("cancelled-popup-request"),s.g),s.f=v,s.C=w,s.g=d,s.c=fw(s.b,s,"signInViaPopup",g,d)})}).then(function(v){return g&&ei(g),v?Mn(v):null}).o(function(v){throw g&&ei(g),v}),Mt(this,c)},e.Yc=function(r){if(!ni())return Ct(new T("operation-not-supported-in-this-environment"));var s=this,c=cp(this).then(function(){return eO(s.i)}).then(function(){return hw(s.b,"signInViaRedirect",r,void 0,s.T())});return Mt(this,c)};function zw(r){if(!ni())return Ct(new T("operation-not-supported-in-this-environment"));var s=cp(r).then(function(){return r.b.ra()}).then(function(c){return c?Mn(c):null});return Mt(r,s)}e.ra=function(){var r=this;return zw(this).then(function(s){return r.b&&Dc(r.b.b),s}).o(function(s){throw r.b&&Dc(r.b.b),s})},e.dd=function(r){if(!r)return Ct(new T("null-user"));if(this.S!=r.tenantId)return Ct(new T("tenant-id-mismatch"));var s=this,c={};c.apiKey=It(this).options.apiKey,c.authDomain=It(this).options.authDomain,c.appName=It(this).name;var d=XD(r,c,s.D,s.Ga());return Mt(this,this.h.then(function(){if(It(s).options.apiKey!=r.l)return d.reload()}).then(function(){return ot(s)&&r.uid==ot(s).uid?(Nc(ot(s),r),s.da(r)):(mo(s,d),ea(d),s.da(d))}).then(function(){ra(s)}))};function oO(r,s){var c={};return c.apiKey=It(r).options.apiKey,c.authDomain=It(r).options.authDomain,c.appName=It(r).name,r.R&&(c.emulatorConfig=r.R),r.$.then(function(){return QD(c,s,r.D,r.Ga())}).then(function(d){return ot(r)&&d.uid==ot(r).uid?(Nc(ot(r),d),r.da(d)):(mo(r,d),ea(d),r.da(d))}).then(function(){ra(r)})}function mo(r,s){ot(r)&&(GD(ot(r),r.Ba),He(ot(r),"tokenChanged",r.qa),He(ot(r),"userDeleted",r.za),He(ot(r),"userInvalidated",r.Aa),Jf(ot(r))),s&&(s.W.push(r.Ba),sn(s,"tokenChanged",r.qa),sn(s,"userDeleted",r.za),sn(s,"userInvalidated",r.Aa),0<r.u&&Sw(s)),z(r,"currentUser",s),s&&(s.xa(r.la()),Yf(s,r),ta(s,r.J),Xf(s,r),Wf(s,r.R),Qf(s,r))}e.Bb=function(){var r=this,s=this.h.then(function(){return r.b&&Dc(r.b.b),ot(r)?(mo(r,null),Fw(r.i).then(function(){ra(r)})):$()});return Mt(this,s)};function sO(r){var s=JD(r.D,It(r).options.authDomain).then(function(c){return(r.m=c)&&(c.ha=r.D),Pw(r.D)});return Mt(r,s)}function aO(r){var s=It(r).options.authDomain,c=sO(r).then(function(){return jw(r.i,s,r.R)}).then(function(d){return d?(d.ha=r.D,r.m&&(r.m.ga||null)==(d.ga||null)?d:d.reload().then(function(){return Lw(r.i,d).then(function(){return d})}).o(function(f){return f.code=="auth/network-request-failed"?d:Fw(r.i)})):null}).then(function(d){mo(r,d||null)});return Mt(r,c)}function uO(r){return r.$.then(function(){return zw(r)}).o(function(){}).then(function(){if(!r.l)return r.ja()}).o(function(){}).then(function(){if(!r.l){r.ba=!0;var s=r.i;s.b.addListener(Fn("local"),s.a,r.ja)}})}e.Zc=function(){var r=this;return jw(this.i,It(this).options.authDomain).then(function(s){if(!r.l){var c;if(c=ot(r)&&s){c=ot(r).uid;var d=s.uid;c=c==null||c===""||d===void 0||d===null||d===""?!1:c==d}if(c)return Nc(ot(r),s),ot(r).I();(ot(r)||s)&&(mo(r,s),s&&(ea(s),s.ha=r.D),r.b&&Ac(r.b,r),ra(r))}})},e.da=function(r){return Lw(this.i,r)},e.mc=function(){ra(this),this.da(ot(this))},e.wc=function(){this.Bb()},e.xc=function(){this.Bb()};function pi(r,s){var c=null,d=null;return Mt(r,s.then(function(f){return c=Kh(f),d=Gy(f),oO(r,f)},function(f){var g=null;throw f&&f.code==="auth/multi-factor-auth-required"&&(g=_w(f.w(),r,P(r.kc,r))),g||f}).then(function(){return Mn({user:ot(r),credential:c,additionalUserInfo:d,operationType:"signIn"})}))}e.kc=function(r){var s=this;return this.h.then(function(){return pi(s,$(r))})},e.zc=function(r){var s=this;this.addAuthTokenListener(function(){r.next(ot(s))})},e.Ac=function(r){var s=this;cO(this,function(){r.next(ot(s))})},e.Ic=function(r,s,c){var d=this;return this.ba&&Promise.resolve().then(function(){typeof r=="function"?r(ot(d)):typeof r.next=="function"&&r.next(ot(d))}),this.Pa(r,s,c)},e.Hc=function(r,s,c){var d=this;return this.ba&&Promise.resolve().then(function(){d.W=d.getUid(),typeof r=="function"?r(ot(d)):typeof r.next=="function"&&r.next(ot(d))}),this.ib(r,s,c)},e.nc=function(r){var s=this,c=this.h.then(function(){return ot(s)?ot(s).I(r).then(function(d){return{accessToken:d}}):null});return Mt(this,c)},e.Tc=function(r){var s=this;return this.h.then(function(){return pi(s,dt(s.a,qk,{token:r}))}).then(function(c){var d=c.user;return gr(d,"isAnonymous",!1),s.da(d),c})},e.Uc=function(r,s){var c=this;return this.h.then(function(){return pi(c,dt(c.a,O0,{email:r,password:s}))})},e.dc=function(r,s){var c=this;return this.h.then(function(){return pi(c,dt(c.a,wk,{email:r,password:s}))})},e.ab=function(r){var s=this;return this.h.then(function(){return pi(s,r.ka(s.a))})},e.Sc=function(r){return Sh("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(r)},e.Ab=function(){var r=this;return this.h.then(function(){var s=ot(r);if(s&&s.isAnonymous){var c=Mn({providerId:null,isNewUser:!1});return Mn({user:s,credential:null,additionalUserInfo:c,operationType:"signIn"})}return pi(r,r.a.Ab()).then(function(d){var f=d.user;return gr(f,"isAnonymous",!0),r.da(f),d})})};function It(r){return r.app}function ot(r){return r.currentUser}e.getUid=function(){return ot(this)&&ot(this).uid||null};function Pc(r){return ot(r)&&ot(r)._lat||null}function ra(r){if(r.ba){for(var s=0;s<r.s.length;s++)r.s[s]&&r.s[s](Pc(r));if(r.W!==r.getUid()&&r.N.length)for(r.W=r.getUid(),s=0;s<r.N.length;s++)r.N[s]&&r.N[s](Pc(r))}}e.cc=function(r){this.addAuthTokenListener(r),this.u++,0<this.u&&ot(this)&&Sw(ot(this))},e.Pc=function(r){var s=this;Ot(this.s,function(c){c==r&&s.u--}),0>this.u&&(this.u=0),this.u==0&&ot(this)&&Jf(ot(this)),this.removeAuthTokenListener(r)},e.addAuthTokenListener=function(r){var s=this;this.s.push(r),Mt(this,this.h.then(function(){s.l||Wn(s.s,r)&&r(Pc(s))}))},e.removeAuthTokenListener=function(r){vn(this.s,function(s){return s==r})};function cO(r,s){r.N.push(s),Mt(r,r.h.then(function(){!r.l&&Wn(r.N,s)&&r.W!==r.getUid()&&(r.W=r.getUid(),s(Pc(r)))}))}e.delete=function(){this.l=!0;for(var r=0;r<this.P.length;r++)this.P[r].cancel("app-deleted");return this.P=[],this.i&&(r=this.i,r.b.removeListener(Fn("local"),r.a,this.ja)),this.b&&(Pf(this.b,this),Dc(this.b.b)),Promise.resolve()};function Mt(r,s){return r.P.push(s),s.oa(function(){Fu(r.P,s)}),s}e.hc=function(r){return Mt(this,dk(this.a,r))},e.Bc=function(r){return!!Hh(r)},e.xb=function(r,s){var c=this;return Mt(this,$().then(function(){var d=new tc(s);if(!d.c)throw new T("argument-error",Fh+" must be true when sending sign in link to email");return ec(d)}).then(function(d){return c.a.xb(r,d)}).then(function(){}))},e.jd=function(r){return this.Sa(r).then(function(s){return s.data.email})},e.ob=function(r,s){return Mt(this,this.a.ob(r,s).then(function(){}))},e.Sa=function(r){return Mt(this,this.a.Sa(r).then(function(s){return new _A(s)}))},e.kb=function(r){return Mt(this,this.a.kb(r).then(function(){}))},e.wb=function(r,s){var c=this;return Mt(this,$().then(function(){return typeof s>"u"||Yr(s)?{}:ec(new tc(s))}).then(function(d){return c.a.wb(r,d)}).then(function(){}))},e.Wc=function(r,s){return Mt(this,Vf(this,r,s,P(this.ab,this)))},e.Vc=function(r,s){var c=this;return Mt(this,$().then(function(){var d=s||Os(),f=i0(r,d);if(d=Hh(d),!d)throw new T("argument-error","Invalid email link!");if(d.tenantId!==c.T())throw new T("tenant-id-mismatch");return c.ab(f)}))};function ia(){}ia.prototype.render=function(){},ia.prototype.reset=function(){},ia.prototype.getResponse=function(){},ia.prototype.execute=function(){};function go(){this.a={},this.b=1e12}var lp=null;go.prototype.render=function(r,s){return this.a[this.b.toString()]=new Lc(r,s),this.b++},go.prototype.reset=function(r){var s=dp(this,r);r=qw(r),s&&r&&(s.delete(),delete this.a[r])},go.prototype.getResponse=function(r){return(r=dp(this,r))?r.getResponse():null},go.prototype.execute=function(r){(r=dp(this,r))&&r.execute()};function dp(r,s){return(s=qw(s))&&r.a[s]||null}function qw(r){return(r=typeof r>"u"?1e12:r)?r.toString():null}function Lc(r,s){this.g=!1,this.c=s,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=Ts(r);var c=this;this.i=function(){c.execute()},this.h?this.execute():sn(this.f,"click",this.i)}Lc.prototype.getResponse=function(){return hp(this),this.b},Lc.prototype.execute=function(){hp(this);var r=this;this.a||(this.a=setTimeout(function(){r.b=mA();var s=r.c.callback,c=r.c["expired-callback"];if(s)try{s(r.b)}catch{}r.a=setTimeout(function(){if(r.a=null,r.b=null,c)try{c()}catch{}r.h&&r.execute()},6e4)},500))},Lc.prototype.delete=function(){hp(this),this.g=!0,clearTimeout(this.a),this.a=null,He(this.f,"click",this.i)};function hp(r){if(r.g)throw Error("reCAPTCHA mock was already deleted!")}function fp(){}z(fp,"FACTOR_ID","phone");function pp(){}pp.prototype.g=function(){return lp||(lp=new go),$(lp)},pp.prototype.c=function(){};var mp=null;function gp(){this.b=h.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var lO=new On(ju,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),dO=new fr(3e4,6e4);gp.prototype.g=function(r){var s=this;return new ut(function(c,d){var f=setTimeout(function(){d(new T("network-request-failed"))},dO.get());if(!h.grecaptcha||r!==s.f&&!s.b){h[s.a]=function(){if(h.grecaptcha){s.f=r;var v=h.grecaptcha.render;h.grecaptcha.render=function(w,C){return w=v(w,C),s.b++,w},clearTimeout(f),c(h.grecaptcha)}else clearTimeout(f),d(new T("internal-error"));delete h[s.a]};var g=Yd(lO,{onload:s.a,hl:r||""});$(of(g)).o(function(){clearTimeout(f),d(new T("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(f),c(h.grecaptcha)})},gp.prototype.c=function(){this.b--};var vp=null;function bp(r,s,c,d,f,g,v){if(z(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=s,this.g=null,v?(mp||(mp=new pp),v=mp):(vp||(vp=new gp),v=vp),this.m=v,this.a=c||{theme:"light",type:"image"},this.h=[],this.a[Gw])throw new T("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[hO]==="invisible",!h.document)throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Ts(s)||!this.i&&Ts(s).hasChildNodes())throw new T("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new _n(r,g||null,f||null),this.u=d||function(){return null};var w=this;this.l=[];var C=this.a[Hw];this.a[Hw]=function(J){if($w(w,J),typeof C=="function")C(J);else if(typeof C=="string"){var wt=At(C,h);typeof wt=="function"&&wt(J)}};var D=this.a[Kw];this.a[Kw]=function(){if($w(w,null),typeof D=="function")D();else if(typeof D=="string"){var J=At(D,h);typeof J=="function"&&J()}}}var Hw="callback",Kw="expired-callback",Gw="sitekey",hO="size";function $w(r,s){for(var c=0;c<r.l.length;c++)try{r.l[c](s)}catch{}}function fO(r,s){vn(r.l,function(c){return c==s})}function yp(r,s){return r.h.push(s),s.oa(function(){Fu(r.h,s)}),s}e=bp.prototype,e.Ia=function(){var r=this;return this.f?this.f:this.f=yp(this,$().then(function(){if(Zu()&&!yn())return Xu();throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return r.m.g(r.u())}).then(function(s){return r.g=s,dt(r.s,Mk,{})}).then(function(s){r.a[Gw]=s.recaptchaSiteKey}).o(function(s){throw r.f=null,s}))},e.render=function(){Fc(this);var r=this;return yp(this,this.Ia().then(function(){if(r.c===null){var s=r.v;if(!r.i){var c=Ts(s);s=UC("DIV"),c.appendChild(s)}r.c=r.g.render(s,r.a)}return r.c}))},e.verify=function(){Fc(this);var r=this;return yp(this,this.render().then(function(s){return new ut(function(c){var d=r.g.getResponse(s);if(d)c(d);else{var f=function(g){g&&(fO(r,f),c(g))};r.l.push(f),r.i&&r.g.execute(r.c)}})}))},e.reset=function(){Fc(this),this.c!==null&&this.g.reset(this.c)};function Fc(r){if(r.J)throw new T("internal-error","RecaptchaVerifier instance has been destroyed.")}e.clear=function(){Fc(this),this.J=!0,this.m.c();for(var r=0;r<this.h.length;r++)this.h[r].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){r=Ts(this.v);for(var s;s=r.firstChild;)r.removeChild(s)}};function wp(r,s,c){var d=!1;try{this.b=c||Q.app()}catch{throw new T("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)c=this.b.options.apiKey;else throw new T("invalid-api-key");var f=this,g=null;try{g=this.b.auth().Ga()}catch{}try{d=this.b.auth().settings.appVerificationDisabledForTesting}catch{}g=Q.SDK_VERSION?no(Q.SDK_VERSION,g):null,bp.call(this,c,r,s,function(){try{var v=f.b.auth().la()}catch{v=null}return v},g,_s(Is),d)}Z(wp,bp);function Ww(r,s,c,d){t:{c=Array.prototype.slice.call(c);for(var f=0,g=!1,v=0;v<s.length;v++)if(s[v].optional)g=!0;else{if(g)throw new T("internal-error","Argument validator encountered a required argument after an optional argument.");f++}if(g=s.length,c.length<f||g<c.length)d="Expected "+(f==g?f==1?"1 argument":f+" arguments":f+"-"+g+" arguments")+" but got "+c.length+".";else{for(f=0;f<c.length;f++)if(g=s[f].optional&&c[f]===void 0,!s[f].M(c[f])&&!g){if(s=s[f],0>f||f>=Yw.length)throw new T("internal-error","Argument validator received an unsupported number of arguments.");c=Yw[f],d=(d?"":c+" argument ")+(s.name?'"'+s.name+'" ':"")+"must be "+s.K+".";break t}d=null}}if(d)throw new T("argument-error",r+" failed: "+d)}var Yw="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function B(r,s){return{name:r||"",K:"a valid string",optional:!!s,M:function(c){return typeof c=="string"}}}function _p(r,s){return{name:r||"",K:"a boolean",optional:!!s,M:function(c){return typeof c=="boolean"}}}function zt(r,s){return{name:r||"",K:"a valid object",optional:!!s,M:S}}function vo(r,s){return{name:r||"",K:"a function",optional:!!s,M:function(c){return typeof c=="function"}}}function jn(r,s){return{name:r||"",K:"null",optional:!!s,M:function(c){return c===null}}}function pO(){return{name:"",K:"an HTML element",optional:!1,M:function(r){return!!(r&&r instanceof Element)}}}function mO(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(r){return!!(r&&r instanceof En)}}}function gO(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(r){return!!(r&&r instanceof Q.app.App)}}}function vr(r){return{name:r?r+"Credential":"credential",K:r?"a valid "+r+" credential":"a valid credential",optional:!1,M:function(s){if(!s)return!1;var c=!r||s.providerId===r;return!(!s.ka||!c)}}}function Qw(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(r){return r?!!r.tb:!1}}}function bo(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(r){return!!(r&&r.providerId&&r.hasOwnProperty&&r.hasOwnProperty("isOAuthProvider"))}}}function Ip(r,s){return S(r)&&typeof r.type=="string"&&r.type===s&&typeof r.Ha=="function"}function Xw(r){return S(r)&&typeof r.uid=="string"}function jc(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(r){return!(!r||typeof r.type!="string"||typeof r.verify!="function")}}}function Ft(r,s,c,d){return{name:c||"",K:r.K+" or "+s.K,optional:!!d,M:function(f){return r.M(f)||s.M(f)}}}function Rt(r,s){for(var c in s){var d=s[c].name;r[d]=Jw(d,r[c],s[c].j)}}function Zw(r,s){for(var c in s){var d=s[c].name;d!==c&&Object.defineProperty(r,d,{get:St(function(f){return this[f]},c),set:St(function(f,g,v,w){Ww(f,[v],[w],!0),this[g]=w},d,c,s[c].lb),enumerable:!0})}}function jt(r,s,c,d){r[s]=Jw(s,c,d)}function Jw(r,s,c){function d(){var v=Array.prototype.slice.call(arguments);return Ww(f,c,v),s.apply(this,v)}if(!c)return s;var f=vO(r),g;for(g in s)d[g]=s[g];for(g in s.prototype)d.prototype[g]=s.prototype[g];return d}function vO(r){return r=r.split("."),r[r.length-1]}Rt(En.prototype,{kb:{name:"applyActionCode",j:[B("code")]},Sa:{name:"checkActionCode",j:[B("code")]},ob:{name:"confirmPasswordReset",j:[B("code"),B("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[B("email"),B("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[B("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[B("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Ft(zt(),vo(),"nextOrObserver"),vo("opt_error",!0),vo("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Ft(zt(),vo(),"nextOrObserver"),vo("opt_error",!0),vo("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[B("email"),Ft(zt("opt_actionCodeSettings",!0),jn(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[B("email"),zt("actionCodeSettings")]},yb:{name:"setPersistence",j:[B("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[vr()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[vr()]},Tc:{name:"signInWithCustomToken",j:[B("token")]},Uc:{name:"signInWithEmailAndPassword",j:[B("email"),B("password")]},Vc:{name:"signInWithEmailLink",j:[B("email"),B("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[B("phoneNumber"),jc()]},Xc:{name:"signInWithPopup",j:[bo()]},Yc:{name:"signInWithRedirect",j:[bo()]},dd:{name:"updateCurrentUser",j:[Ft(function(r){return{name:"user",K:"an instance of Firebase User",optional:!!r,M:function(s){return!!(s&&s instanceof Ge)}}}(),jn(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[B(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[B("url"),zt("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[B("code")]}}),Zw(En.prototype,{lc:{name:"languageCode",lb:Ft(B(),jn(),"languageCode")},ti:{name:"tenantId",lb:Ft(B(),jn(),"tenantId")}}),En.Persistence=co,En.Persistence.LOCAL="local",En.Persistence.SESSION="session",En.Persistence.NONE="none",Rt(Ge.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[_p("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[_p("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[vr()]},rb:{name:"linkWithCredential",j:[vr()]},Dc:{name:"linkWithPhoneNumber",j:[B("phoneNumber"),jc()]},Ec:{name:"linkWithPopup",j:[bo()]},Fc:{name:"linkWithRedirect",j:[bo()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[vr()]},ub:{name:"reauthenticateWithCredential",j:[vr()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[B("phoneNumber"),jc()]},Nc:{name:"reauthenticateWithPopup",j:[bo()]},Oc:{name:"reauthenticateWithRedirect",j:[bo()]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[Ft(zt("opt_actionCodeSettings",!0),jn(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[B(null,!0)]},cd:{name:"unlink",j:[B("provider")]},Cb:{name:"updateEmail",j:[B("email")]},Db:{name:"updatePassword",j:[B("password")]},ed:{name:"updatePhoneNumber",j:[vr("phone")]},Eb:{name:"updateProfile",j:[zt("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[B("email"),Ft(zt("opt_actionCodeSettings",!0),jn(null,!0),"opt_actionCodeSettings",!0)]}}),Rt(go.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Rt(ia.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Rt(ut.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Zw(bw.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:_p("appVerificationDisabledForTesting")}}),Rt(Uf.prototype,{confirm:{name:"confirm",j:[B("verificationCode")]}}),jt(oo,"fromJSON",function(r){r=typeof r=="string"?JSON.parse(r):r;for(var s,c=[UA,VA,BA,jA],d=0;d<c.length;d++)if(s=c[d](r))return s;return null},[Ft(B(),zt(),"json")]),jt(un,"credential",function(r,s){return new pr(r,s)},[B("email"),B("password")]),Rt(pr.prototype,{w:{name:"toJSON",j:[B(null,!0)]}}),Rt(si.prototype,{Ca:{name:"addScope",j:[B("scope")]},Ka:{name:"setCustomParameters",j:[zt("customOAuthParameters")]}}),jt(si,"credential",t0,[Ft(B(),zt(),"token")]),jt(un,"credentialWithLink",i0,[B("email"),B("emailLink")]),Rt(ai.prototype,{Ca:{name:"addScope",j:[B("scope")]},Ka:{name:"setCustomParameters",j:[zt("customOAuthParameters")]}}),jt(ai,"credential",e0,[Ft(B(),zt(),"token")]),Rt(ui.prototype,{Ca:{name:"addScope",j:[B("scope")]},Ka:{name:"setCustomParameters",j:[zt("customOAuthParameters")]}}),jt(ui,"credential",n0,[Ft(B(),Ft(zt(),jn()),"idToken"),Ft(B(),jn(),"accessToken",!0)]),Rt(ao.prototype,{Ka:{name:"setCustomParameters",j:[zt("customOAuthParameters")]}}),jt(ao,"credential",r0,[Ft(B(),zt(),"token"),B("secret",!0)]),Rt(Ke.prototype,{Ca:{name:"addScope",j:[B("scope")]},credential:{name:"credential",j:[Ft(B(),Ft(zt(),jn()),"optionsOrIdToken"),Ft(B(),jn(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[zt("customOAuthParameters")]}}),Rt(Qn.prototype,{w:{name:"toJSON",j:[B(null,!0)]}}),Rt(ii.prototype,{w:{name:"toJSON",j:[B(null,!0)]}}),jt(Xn,"credential",o0,[B("verificationId"),B("verificationCode")]),Rt(Xn.prototype,{gb:{name:"verifyPhoneNumber",j:[Ft(B(),function(r,s){return{name:r||"phoneInfoOptions",K:"valid phone info options",optional:!!s,M:function(c){return c?c.session&&c.phoneNumber?Ip(c.session,js)&&typeof c.phoneNumber=="string":c.session&&c.multiFactorHint?Ip(c.session,sc)&&Xw(c.multiFactorHint):c.session&&c.multiFactorUid?Ip(c.session,sc)&&typeof c.multiFactorUid=="string":c.phoneNumber?typeof c.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),jc()]}}),Rt(mr.prototype,{w:{name:"toJSON",j:[B(null,!0)]}}),Rt(T.prototype,{toJSON:{name:"toJSON",j:[B(null,!0)]}}),Rt(Vs.prototype,{toJSON:{name:"toJSON",j:[B(null,!0)]}}),Rt(Wh.prototype,{toJSON:{name:"toJSON",j:[B(null,!0)]}}),Rt(zf.prototype,{toJSON:{name:"toJSON",j:[B(null,!0)]}}),Rt(Bf.prototype,{Rc:{name:"resolveSignIn",j:[Qw()]}}),Rt(Hf.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[Qw(),B("displayName",!0)]},bd:{name:"unenroll",j:[Ft({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Xw},B(),"multiFactorInfoIdentifier")]}}),Rt(wp.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),jt(Lh,"parseLink",Ly,[B("link")]),jt(fp,"assertion",function(r){return new Ew(r)},[vr("phone")]),function(){if(typeof Q<"u"&&Q.INTERNAL&&Q.INTERNAL.registerComponent){var r={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Ju,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:Ph,VERIFY_AND_CHANGE_EMAIL:Ls,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:En,AuthCredential:oo,Error:T};jt(r,"EmailAuthProvider",un,[]),jt(r,"FacebookAuthProvider",si,[]),jt(r,"GithubAuthProvider",ai,[]),jt(r,"GoogleAuthProvider",ui,[]),jt(r,"TwitterAuthProvider",ao,[]),jt(r,"OAuthProvider",Ke,[B("providerId")]),jt(r,"SAMLAuthProvider",Jy,[B("providerId")]),jt(r,"PhoneAuthProvider",Xn,[mO()]),jt(r,"RecaptchaVerifier",wp,[Ft(B(),pO(),"recaptchaContainer"),zt("recaptchaParameters",!0),gO()]),jt(r,"ActionCodeURL",Lh,[]),jt(r,"PhoneMultiFactorGenerator",fp,[]),Q.INTERNAL.registerComponent({name:"auth",instanceFactory:function(s){return s=s.getProvider("app").getImmediate(),new En(s)},multipleInstances:!1,serviceProps:r,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(s){s.getProvider("auth-internal").initialize()}}),Q.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(s){return s=s.getProvider("auth").getImmediate(),{getUid:P(s.getUid,s),getToken:P(s.nc,s),addAuthTokenListener:P(s.cc,s),removeAuthTokenListener:P(s.Pc,s)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Q.registerVersion("@firebase/auth","0.16.8"),Q.INTERNAL.extendNamespace({User:Ge})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})});var TM={};var hE=Tn(()=>{"use strict";dE()});function xM(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");rg(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function xE(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Rl(){}function ig(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function Xa(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function CM(e){return Object.prototype.hasOwnProperty.call(e,Ym)&&e[Ym]||(e[Ym]=++AM)}function kM(e,t,n){return e.call.apply(e.bind,arguments)}function DM(e,t,n){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,i),e.apply(t,o)}}return function(){return e.apply(t,arguments)}}function ce(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?ce=kM:ce=DM,ce.apply(null,arguments)}function Sl(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),e.apply(this,i)}}function de(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(i,o,a){for(var u=Array(arguments.length-2),l=2;l<arguments.length;l++)u[l-2]=arguments[l];return t.prototype[o].apply(i,u)}}function Dr(){this.s=this.s,this.o=this.o}function NM(e){t:{for(var t=TP,n=e.length,i=typeof e=="string"?e.split(""):e,o=0;o<n;o++)if(o in i&&t.call(void 0,i[o],o,e)){t=o;break t}t=-1}return 0>t?null:typeof e=="string"?e.charAt(t):e[t]}function pE(e){return Array.prototype.concat.apply([],arguments)}function vg(e){var t=e.length;if(0<t){for(var n=Array(t),i=0;i<t;i++)n[i]=e[i];return n}return[]}function Nl(e){return/^[\s\xa0]*$/.test(e)}function Ce(e,t){return e.indexOf(t)!=-1}function Qm(e,t){return e<t?-1:e>t?1:0}function bg(e,t,n){for(var i in e)t.call(n,e[i],i,e)}function AE(e){var t={};for(var n in e)t[n]=e[n];return t}function kE(e,t){for(var n,i,o=1;o<arguments.length;o++){i=arguments[o];for(n in i)e[n]=i[n];for(var a=0;a<gE.length;a++)n=gE[a],Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}}function yg(e){return yg[" "](e),e}function MM(e){var t=FM;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}function RE(){var e=et.document;return e?e.documentMode:void 0}function jM(){return MM(function(){for(var e=0,t=mE(String(Ml)).split("."),n=mE("9").split("."),i=Math.max(t.length,n.length),o=0;e==0&&o<i;o++){var a=t[o]||"",u=n[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],a[0].length==0&&u[0].length==0)break;e=Qm(a[1].length==0?0:parseInt(a[1],10),u[1].length==0?0:parseInt(u[1],10))||Qm(a[2].length==0,u[2].length==0)||Qm(a[2],u[2]),a=a[3],u=u[3]}while(e==0)}return 0<=e})}function ye(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Ga(e,t){if(ye.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,i=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(OE){t:{try{yg(t.nodeName);var o=!0;break t}catch{}o=!1}o||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:BM[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Ga.Z.h.call(this)}}function qM(e,t,n,i,o){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!i,this.ia=o,this.key=++zM,this.ca=this.fa=!1}function Bl(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function zl(e){this.src=e,this.g={},this.h=0}function ag(e,t){var n=t.type;if(n in e.g){var i=e.g[n],o=SE(i,t),a;(a=0<=o)&&Array.prototype.splice.call(i,o,1),a&&(Bl(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function ug(e,t,n,i){for(var o=0;o<e.length;++o){var a=e[o];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==i)return o}return-1}function NE(e,t,n,i,o){if(i&&i.once)return PE(e,t,n,i,o);if(Array.isArray(t)){for(var a=0;a<t.length;a++)NE(e,t[a],n,i,o);return null}return n=Eg(n),e&&e[Za]?e.N(t,n,Xa(i)?!!i.capture:!!i,o):ME(e,t,n,!1,i,o)}function ME(e,t,n,i,o,a){if(!t)throw Error("Invalid event type");var u=Xa(o)?!!o.capture:!!o,l=Ig(e);if(l||(e[wg]=l=new zl(e)),n=l.add(t,n,i,u,a),n.proxy)return n;if(i=HM(),n.proxy=i,i.src=e,i.listener=n,e.addEventListener)VM||(o=u),o===void 0&&(o=!1),e.addEventListener(t.toString(),i,o);else if(e.attachEvent)e.attachEvent(FE(t.toString()),i);else if(e.addListener&&e.removeListener)e.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function HM(){function e(n){return t.call(e.src,e.listener,n)}var t=KM;return e}function PE(e,t,n,i,o){if(Array.isArray(t)){for(var a=0;a<t.length;a++)PE(e,t[a],n,i,o);return null}return n=Eg(n),e&&e[Za]?e.O(t,n,Xa(i)?!!i.capture:!!i,o):ME(e,t,n,!0,i,o)}function LE(e,t,n,i,o){if(Array.isArray(t))for(var a=0;a<t.length;a++)LE(e,t[a],n,i,o);else i=Xa(i)?!!i.capture:!!i,n=Eg(n),e&&e[Za]?(e=e.i,t=String(t).toString(),t in e.g&&(a=e.g[t],n=ug(a,n,i,o),-1<n&&(Bl(a[n]),Array.prototype.splice.call(a,n,1),a.length==0&&(delete e.g[t],e.h--)))):e&&(e=Ig(e))&&(t=e.g[t.toString()],e=-1,t&&(e=ug(t,n,i,o)),(n=-1<e?t[e]:null)&&_g(n))}function _g(e){if(typeof e!="number"&&e&&!e.ca){var t=e.src;if(t&&t[Za])ag(t.i,e);else{var n=e.type,i=e.proxy;t.removeEventListener?t.removeEventListener(n,i,e.capture):t.detachEvent?t.detachEvent(FE(n),i):t.addListener&&t.removeListener&&t.removeListener(i),(n=Ig(t))?(ag(n,e),n.h==0&&(n.src=null,t[wg]=null)):Bl(e)}}}function FE(e){return e in tg?tg[e]:tg[e]="on"+e}function KM(e,t){if(e.ca)e=!0;else{t=new Ga(t,this);var n=e.listener,i=e.ia||e.src;e.fa&&_g(e),e=n.call(i,t)}return e}function Ig(e){return e=e[wg],e instanceof zl?e:null}function Eg(e){return typeof e=="function"?e:(e[eg]||(e[eg]=function(t){return e.handleEvent(t)}),e[eg])}function ne(){Dr.call(this),this.i=new zl(this),this.P=this,this.I=null}function le(e,t){var n,i=e.I;if(i)for(n=[];i;i=i.I)n.push(i);if(e=e.P,i=t.type||t,typeof t=="string")t=new ye(t,e);else if(t instanceof ye)t.target=t.target||e;else{var o=t;t=new ye(i,e),kE(t,o)}if(o=!0,n)for(var a=n.length-1;0<=a;a--){var u=t.g=n[a];o=Dl(u,i,!0,t)&&o}if(u=t.g=e,o=Dl(u,i,!0,t)&&o,o=Dl(u,i,!1,t)&&o,n)for(a=0;a<n.length;a++)u=t.g=n[a],o=Dl(u,i,!1,t)&&o}function Dl(e,t,n,i){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var o=!0,a=0;a<t.length;++a){var u=t[a];if(u&&!u.ca&&u.capture==n){var l=u.listener,h=u.ia||u.src;u.fa&&ag(e.i,u),o=l.call(h,i)!==!1&&o}}return o&&!i.defaultPrevented}function GM(){var e=UE,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}function YM(e){et.setTimeout(function(){throw e},0)}function xg(e,t){cg||QM(),lg||(cg(),lg=!0),UE.add(e,t)}function QM(){var e=et.Promise.resolve(void 0);cg=function(){e.then(XM)}}function XM(){for(var e;e=GM();){try{e.h.call(e.g)}catch(n){YM(n)}var t=jE;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}lg=!1}function ql(e,t){ne.call(this),this.h=e||1,this.g=t||et,this.j=ce(this.kb,this),this.l=Date.now()}function Sg(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Cg(e,t,n){if(typeof e=="function")n&&(e=ce(e,n));else if(e&&typeof e.handleEvent=="function")e=ce(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:et.setTimeout(e,t||0)}function VE(e){e.g=Cg(function(){e.g=null,e.i&&(e.i=!1,VE(e))},e.j);var t=e.h;e.h=null,e.m.apply(null,t)}function $a(e){Dr.call(this),this.h=e,this.g={}}function BE(e,t,n,i){Array.isArray(n)||(n&&(vE[0]=n.toString()),n=vE);for(var o=0;o<n.length;o++){var a=NE(t,n[o],i||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function zE(e){bg(e.g,function(t,n){this.g.hasOwnProperty(n)&&_g(t)},e),e.g={}}function Hl(){this.g=!0}function JM(e,t,n,i,o,a){e.info(function(){if(e.g)if(a)for(var u="",l=a.split("&"),h=0;h<l.length;h++){var p=l[h].split("=");if(1<p.length){var m=p[0];p=p[1];var b=m.split("_");u=2<=b.length&&b[1]=="type"?u+(m+"="+p+"&"):u+(m+"=redacted&")}}else u=null;else u=a;return"XMLHTTP REQ ("+i+") [attempt "+o+"]: "+t+`
`+n+`
`+u})}function tP(e,t,n,i,o,a,u){e.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+o+"]: "+t+`
`+n+`
`+a+" "+u})}function Fo(e,t,n,i){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+nP(e,n)+(i?" "+i:"")})}function eP(e,t){e.info(function(){return"TIMEOUT: "+t})}function nP(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var i=n[e];if(!(2>i.length)){var o=i[1];if(Array.isArray(o)&&!(1>o.length)){var a=o[0];if(a!="noop"&&a!="stop"&&a!="close")for(var u=1;u<o.length;u++)o[u]=""}}}}return Tg(n)}catch{return t}}function Kl(){return bE=bE||new ne}function qE(e){ye.call(this,Ci.Ma,e)}function Wa(e){var t=Kl();le(t,new qE(t,e))}function HE(e,t){ye.call(this,Ci.STAT_EVENT,e),this.stat=t}function ke(e){var t=Kl();le(t,new HE(t,e))}function KE(e,t){ye.call(this,Ci.Na,e),this.size=t}function Ja(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return et.setTimeout(function(){e()},t)}function Ag(){}function yE(e){return e.h||(e.h=e.i())}function $E(){}function kg(){ye.call(this,"d")}function Dg(){ye.call(this,"c")}function $l(){}function eu(e,t,n,i){this.l=e,this.j=t,this.m=n,this.X=i||1,this.V=new $a(this),this.P=rP,e=og?125:void 0,this.W=new ql(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new WE}function WE(){this.i=null,this.g="",this.h=!1}function fg(e,t,n){e.K=1,e.v=Yl(ir(t)),e.s=n,e.U=!0,YE(e,null)}function YE(e,t){e.F=Date.now(),nu(e),e.A=ir(e.v);var n=e.A,i=e.X;Array.isArray(i)||(i=[String(i)]),n1(n.h,"t",i),e.C=0,n=e.l.H,e.h=new WE,e.g=I1(e.l,n?t:null,!e.s),0<e.O&&(e.L=new ZM(ce(e.Ia,e,e.g),e.O)),BE(e.V,e.g,"readystatechange",e.gb),t=e.H?AE(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Wa(1),JM(e.j,e.u,e.A,e.m,e.X,e.s)}function QE(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Ba:!1}function XE(e,t,n){for(var i=!0,o;!e.I&&e.C<n.length;)if(o=iP(e,n),o==Pl){t==4&&(e.o=4,ke(14),i=!1),Fo(e.j,e.m,null,"[Incomplete Response]");break}else if(o==hg){e.o=4,ke(15),Fo(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}else Fo(e.j,e.m,o,null),pg(e,o);QE(e)&&o!=Pl&&o!=hg&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,ke(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,t=e.l,t.g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ug(t),t.L=!0,ke(11))):(Fo(e.j,e.m,n,"[Invalid Chunked Response]"),Ei(e),Ha(e))}function iP(e,t){var n=e.C,i=t.indexOf(`
`,n);return i==-1?Pl:(n=Number(t.substring(n,i)),isNaN(n)?hg:(i+=1,i+n>t.length?Pl:(t=t.substr(i,n),e.C=i+n,t)))}function nu(e){e.Y=Date.now()+e.P,ZE(e,e.P)}function ZE(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=Ja(ce(e.eb,e),t)}function Wl(e){e.B&&(et.clearTimeout(e.B),e.B=null)}function Ha(e){e.l.G==0||e.I||b1(e.l,e)}function Ei(e){Wl(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,Sg(e.W),zE(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function pg(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||mg(n.i,e))){if(n.I=e.N,!e.J&&mg(n.i,e)&&n.G==3){try{var i=n.Ca.g.parse(t)}catch{i=null}if(Array.isArray(i)&&i.length==3){var o=i;if(o[0]==0){t:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)Ul(n),Zl(n);else break t;jg(n),ke(18)}}else n.ta=o[1],0<n.ta-n.U&&37500>o[2]&&n.N&&n.A==0&&!n.v&&(n.v=Ja(ce(n.ab,n),6e3));if(1>=o1(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else Ti(n,11)}else if((e.J||n.g==e)&&Ul(n),!Nl(t))for(o=n.Ca.g.parse(t),t=0;t<o.length;t++){var a=o[t];if(n.U=a[0],a=a[1],n.G==2)if(a[0]=="c"){n.J=a[1],n.la=a[2];var u=a[3];u!=null&&(n.ma=u,n.h.info("VER="+n.ma));var l=a[4];l!=null&&(n.za=l,n.h.info("SVER="+n.za));var h=a[5];h!=null&&typeof h=="number"&&0<h&&(i=1.5*h,n.K=i,n.h.info("backChannelRequestTimeoutMs_="+i)),i=n;var p=e.g;if(p){var m=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var b=i.i;!b.g&&(Ce(m,"spdy")||Ce(m,"quic")||Ce(m,"h2"))&&(b.j=b.l,b.g=new Set,b.h&&(Ng(b,b.h),b.h=null))}if(i.D){var y=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(i.sa=y,Dt(i.F,i.D,y))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms")),i=n;var _=e;if(i.oa=_1(i,i.H?i.la:null,i.W),_.J){s1(i.i,_);var I=_,E=i.K;E&&I.setTimeout(E),I.B&&(Wl(I),nu(I)),i.g=_}else g1(i);0<n.l.length&&Jl(n)}else a[0]!="stop"&&a[0]!="close"||Ti(n,7);else n.G==3&&(a[0]=="stop"||a[0]=="close"?a[0]=="stop"?Ti(n,7):Fg(n):a[0]!="noop"&&n.j&&n.j.wa(a),n.A=0)}}Wa(4)}catch{}}function oP(e){if(e.R&&typeof e.R=="function")return e.R();if(typeof e=="string")return e.split("");if(ig(e)){for(var t=[],n=e.length,i=0;i<n;i++)t.push(e[i]);return t}t=[],n=0;for(i in e)t[n++]=e[i];return t}function Og(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(ig(e)||typeof e=="string")CE(e,t,void 0);else{if(e.T&&typeof e.T=="function")var n=e.T();else if(e.R&&typeof e.R=="function")n=void 0;else if(ig(e)||typeof e=="string"){n=[];for(var i=e.length,o=0;o<i;o++)n.push(o)}else for(o in n=[],i=0,e)n[i++]=o;i=oP(e),o=i.length;for(var a=0;a<o;a++)t.call(void 0,i[a],n&&n[a],e)}}function Uo(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(e)if(e instanceof Uo)for(n=e.T(),i=0;i<n.length;i++)this.set(n[i],e.get(n[i]));else for(i in e)this.set(i,e[i])}function Rg(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var i=e.g[t];xi(e.h,i)&&(e.g[n++]=i),t++}e.g.length=n}if(e.i!=e.g.length){var o={};for(n=t=0;t<e.g.length;)i=e.g[t],xi(o,i)||(e.g[n++]=i,o[i]=1),t++;e.g.length=n}}function xi(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function sP(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var i=e[n].indexOf("="),o=null;if(0<=i){var a=e[n].substring(0,i);o=e[n].substring(i+1)}else a=e[n];t(a,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}function Si(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Si){this.g=t!==void 0?t:e.g,Ll(this,e.j),this.s=e.s,Fl(this,e.i),jl(this,e.m),this.l=e.l,t=e.h;var n=new Ya;n.i=t.i,t.g&&(n.g=new Uo(t.g),n.h=t.h),wE(this,n),this.o=e.o}else e&&(n=String(e).match(JE))?(this.g=!!t,Ll(this,n[1]||"",!0),this.s=Ka(n[2]||""),Fl(this,n[3]||"",!0),jl(this,n[4]),this.l=Ka(n[5]||"",!0),wE(this,n[6]||"",!0),this.o=Ka(n[7]||"")):(this.g=!!t,this.h=new Ya(null,this.g))}function ir(e){return new Si(e)}function Ll(e,t,n){e.j=n?Ka(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Fl(e,t,n){e.i=n?Ka(t,!0):t}function jl(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function wE(e,t,n){t instanceof Ya?(e.h=t,pP(e.h,e.g)):(n||(t=qa(t,hP)),e.h=new Ya(t,e.g))}function Dt(e,t,n){e.h.set(t,n)}function Yl(e){return Dt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function aP(e){return e instanceof Si?ir(e):new Si(e,void 0)}function uP(e,t,n,i){var o=new Si(null,void 0);return e&&Ll(o,e),t&&Fl(o,t),n&&jl(o,n),i&&(o.l=i),o}function Ka(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function qa(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,cP),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function cP(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}function Ya(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Or(e){e.g||(e.g=new Uo,e.h=0,e.i&&sP(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function t1(e,t){Or(e),t=Vo(e,t),xi(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,e=e.g,xi(e.h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Rg(e)))}function e1(e,t){return Or(e),t=Vo(e,t),xi(e.g.h,t)}function n1(e,t,n){t1(e,t),0<n.length&&(e.i=null,e.g.set(Vo(e,t),vg(n)),e.h+=n.length)}function Vo(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function pP(e,t){t&&!e.j&&(Or(e),e.i=null,e.g.forEach(function(n,i){var o=i.toLowerCase();i!=o&&(t1(this,i),n1(this,o,n))},e)),e.j=t}function r1(e){this.l=e||gP,et.PerformanceNavigationTiming?(e=et.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(et.g&&et.g.Ea&&et.g.Ea()&&et.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function i1(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function o1(e){return e.h?1:e.g?e.g.size:0}function mg(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function Ng(e,t){e.g?e.g.add(t):e.h=t}function s1(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function a1(e){var t,n;if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){var i=e.i;try{for(var o=xE(e.g.values()),a=o.next();!a.done;a=o.next()){var u=a.value;i=i.concat(u.D)}}catch(l){t={error:l}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return i}return vg(e.i)}function Mg(){}function vP(){this.g=new Mg}function bP(e,t,n){var i=n||"";try{Og(e,function(o,a){var u=o;Xa(o)&&(u=Tg(o)),t.push(i+a+"="+encodeURIComponent(u))})}catch(o){throw t.push(i+"type="+encodeURIComponent("_badmap")),o}}function yP(e,t){var n=new Hl;if(et.Image){var i=new Image;i.onload=Sl(Ol,n,i,"TestLoadImage: loaded",!0,t),i.onerror=Sl(Ol,n,i,"TestLoadImage: error",!1,t),i.onabort=Sl(Ol,n,i,"TestLoadImage: abort",!1,t),i.ontimeout=Sl(Ol,n,i,"TestLoadImage: timeout",!1,t),et.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=e}else t(!1)}function Ol(e,t,n,i,o){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,o(i)}catch{}}function ru(e){this.l=e.$b||null,this.j=e.ib||!1}function Ql(e,t){ne.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Pg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}function u1(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function iu(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Qa(e)}function Qa(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Kt(e){ne.call(this),this.headers=new Uo,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=c1,this.K=this.L=!1}function EP(e){return jo&&jM()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}function TP(e){return e.toLowerCase()=="content-type"}function IE(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,l1(e),Xl(e)}function l1(e){e.D||(e.D=!0,le(e,"complete"),le(e,"error"))}function d1(e){if(e.h&&typeof gg<"u"&&(!e.C[1]||rr(e)!=4||e.ba()!=2)){if(e.v&&rr(e)==4)Cg(e.Fa,0,e);else if(le(e,"readystatechange"),rr(e)==4){e.h=!1;try{var t=e.ba();t:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break t;default:n=!1}var i;if(!(i=n)){var o;if(o=t===0){var a=String(e.H).match(JE)[1]||null;if(!a&&et.self&&et.self.location){var u=et.self.location.protocol;a=u.substr(0,u.length-1)}o=!_P.test(a?a.toLowerCase():"")}i=o}if(i)le(e,"complete"),le(e,"success");else{e.m=6;try{var l=2<rr(e)?e.g.statusText:""}catch{l=""}e.j=l+" ["+e.ba()+"]",l1(e)}}finally{Xl(e)}}}}function Xl(e,t){if(e.g){h1(e);var n=e.g,i=e.C[0]?Rl:null;e.g=null,e.C=null,t||le(e,"ready");try{n.onreadystatechange=i}catch{}}}function h1(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(et.clearTimeout(e.A),e.A=null)}function rr(e){return e.g?e.g.readyState:0}function EE(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case c1:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function xP(e){var t="";return bg(e,function(n,i){t+=i,t+=":",t+=n,t+=`\r
`}),t}function Lg(e,t,n){t:{for(i in n){var i=!1;break t}i=!0}i||(n=xP(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):Dt(e,t,n))}function za(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function f1(e){this.za=0,this.l=[],this.h=new Hl,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=za("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=za("baseRetryDelayMs",5e3,e),this.$a=za("retryDelaySeedMs",1e4,e),this.Ya=za("forwardChannelMaxRetries",2,e),this.ra=za("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new r1(e&&e.concurrentRequestLimit),this.Ca=new vP,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||e.Xb!==!1}function Fg(e){if(p1(e),e.G==3){var t=e.V++,n=ir(e.F);Dt(n,"SID",e.J),Dt(n,"RID",t),Dt(n,"TYPE","terminate"),ou(e,n),t=new eu(e,e.h,t,void 0),t.K=2,t.v=Yl(ir(n)),n=!1,et.navigator&&et.navigator.sendBeacon&&(n=et.navigator.sendBeacon(t.v.toString(),"")),!n&&et.Image&&(new Image().src=t.v,n=!0),n||(t.g=I1(t.l,null),t.g.ea(t.v)),t.F=Date.now(),nu(t)}w1(e)}function Zl(e){e.g&&(Ug(e),e.g.cancel(),e.g=null)}function p1(e){Zl(e),e.u&&(et.clearTimeout(e.u),e.u=null),Ul(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&et.clearTimeout(e.m),e.m=null)}function ng(e,t){e.l.push(new mP(e.Za++,t)),e.G==3&&Jl(e)}function Jl(e){i1(e.i)||e.m||(e.m=!0,xg(e.Ha,e),e.C=0)}function SP(e,t){return o1(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.l=t.D.concat(e.l),!0):e.G==1||e.G==2||e.C>=(e.Xa?0:e.Ya)?!1:(e.m=Ja(ce(e.Ha,e,t),y1(e,e.C)),e.C++,!0)}function TE(e,t){var n;t?n=t.m:n=e.V++;var i=ir(e.F);Dt(i,"SID",e.J),Dt(i,"RID",n),Dt(i,"AID",e.U),ou(e,i),e.o&&e.s&&Lg(i,e.o,e.s),n=new eu(e,e.h,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=m1(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Ng(e.i,n),fg(n,i,t)}function ou(e,t){e.j&&Og({},function(n,i){Dt(t,i,n)})}function m1(e,t,n){n=Math.min(e.l.length,n);var i=e.j?ce(e.j.Oa,e.j,e):null;t:for(var o=e.l,a=-1;;){var u=["count="+n];a==-1?0<n?(a=o[0].h,u.push("ofs="+a)):a=0:u.push("ofs="+a);for(var l=!0,h=0;h<n;h++){var p=o[h].h,m=o[h].g;if(p-=a,0>p)a=Math.max(0,o[h].h-100),l=!1;else try{bP(m,u,"req"+p+"_")}catch{i&&i(m)}}if(l){i=u.join("&");break t}}return e=e.l.splice(0,n),t.D=e,i}function g1(e){e.g||e.u||(e.Y=1,xg(e.Ga,e),e.A=0)}function jg(e){return e.g||e.u||3<=e.A?!1:(e.Y++,e.u=Ja(ce(e.Ga,e),y1(e,e.A)),e.A++,!0)}function Ug(e){e.B!=null&&(et.clearTimeout(e.B),e.B=null)}function v1(e){e.g=new eu(e,e.h,"rpc",e.Y),e.o===null&&(e.g.H=e.s),e.g.O=0;var t=ir(e.oa);Dt(t,"RID","rpc"),Dt(t,"SID",e.J),Dt(t,"CI",e.N?"0":"1"),Dt(t,"AID",e.U),ou(e,t),Dt(t,"TYPE","xmlhttp"),e.o&&e.s&&Lg(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Yl(ir(t)),n.s=null,n.U=!0,YE(n,e)}function Ul(e){e.v!=null&&(et.clearTimeout(e.v),e.v=null)}function b1(e,t){var n=null;if(e.g==t){Ul(e),Ug(e),e.g=null;var i=2}else if(mg(e.i,t))n=t.D,s1(e.i,t),i=1;else return;if(e.I=t.N,e.G!=0){if(t.i)if(i==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var o=e.C;i=Kl(),le(i,new KE(i,n,t,o)),Jl(e)}else g1(e);else if(o=t.o,o==3||o==0&&0<e.I||!(i==1&&SP(e,t)||i==2&&jg(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),o){case 1:Ti(e,5);break;case 4:Ti(e,10);break;case 3:Ti(e,6);break;default:Ti(e,2)}}}function y1(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Ti(e,t){if(e.h.info("Error code "+t),t==2){var n=null;e.j&&(n=null);var i=ce(e.jb,e);n||(n=new Si("//www.google.com/images/cleardot.gif"),et.location&&et.location.protocol=="http"||Ll(n,"https"),Yl(n)),yP(n.toString(),i)}else ke(2);e.G=0,e.j&&e.j.va(t),w1(e),p1(e)}function w1(e){e.G=0,e.I=-1,e.j&&((a1(e.i).length!=0||e.l.length!=0)&&(e.i.i.length=0,vg(e.l),e.l.length=0),e.j.ua())}function _1(e,t,n){var i=aP(n);if(i.i!="")t&&Fl(i,t+"."+i.i),jl(i,i.m);else{var o=et.location;i=uP(o.protocol,t?t+"."+o.hostname:o.hostname,+o.port,n)}return e.aa&&bg(e.aa,function(a,u){Dt(i,u,a)}),t=e.D,n=e.sa,t&&n&&Dt(i,t,n),Dt(i,"VER",e.ma),ou(e,i),i}function I1(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ba&&!e.qa?new Kt(new ru({ib:!0})):new Kt(e.qa),t.L=e.H,t}function E1(){}function Vl(){if(jo&&!(10<=Number(UM)))throw Error("Environmental error: no available transport.")}function Ze(e,t){ne.call(this),this.g=new f1(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Nl(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Nl(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Bo(this)}function T1(e){kg.call(this);var t=e.__sm__;if(t){t:{for(var n in t){e=n;break t}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}function x1(){Dg.call(this),this.status=1}function Bo(e){this.g=e}var rg,SM,U,gg,et,Ym,AM,OM,RM,SE,CE,mE,Ae,Xm,Zm,gE,PM,jo,DE,og,OE,LM,Ml,Cl,Al,kl,FM,sg,Jm,UM,VM,BM,Za,zM,wg,tg,eg,Tg,$M,jE,WM,cg,lg,UE,ZM,vE,Ci,bE,Gl,GE,tu,dg,rP,hg,Pl,JE,_E,lP,dP,hP,fP,mP,gP,Pg,wP,c1,_P,IP,S1,C1,td,A1,k1,Vg,D1,su,O1,Bg=Tn(()=>{"use strict";rg=function(e,t){return rg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},rg(e,t)};SM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},gg=gg||{},et=SM||self;Ym="closure_uid_"+(1e9*Math.random()>>>0),AM=0;OM=0,RM={};Dr.prototype.s=!1;Dr.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),OM!=0)){var e=CM(this);delete RM[e]}};Dr.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};SE=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},CE=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var i=e.length,o=typeof e=="string"?e.split(""):e,a=0;a<i;a++)a in o&&t.call(n,o[a],a,e)};mE=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};t:{if(Xm=et.navigator,Xm&&(Zm=Xm.userAgent,Zm)){Ae=Zm;break t}Ae=""}gE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");yg[" "]=Rl;PM=Ce(Ae,"Opera"),jo=Ce(Ae,"Trident")||Ce(Ae,"MSIE"),DE=Ce(Ae,"Edge"),og=DE||jo,OE=Ce(Ae,"Gecko")&&!(Ce(Ae.toLowerCase(),"webkit")&&!Ce(Ae,"Edge"))&&!(Ce(Ae,"Trident")||Ce(Ae,"MSIE"))&&!Ce(Ae,"Edge"),LM=Ce(Ae.toLowerCase(),"webkit")&&!Ce(Ae,"Edge");t:{if(Cl="",Al=function(){var e=Ae;if(OE)return/rv:([^\);]+)(\)|;)/.exec(e);if(DE)return/Edge\/([\d\.]+)/.exec(e);if(jo)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(LM)return/WebKit\/(\S+)/.exec(e);if(PM)return/(?:Version)[ \/]?(\S+)/.exec(e)}(),Al&&(Cl=Al?Al[1]:""),jo&&(kl=RE(),kl!=null&&kl>parseFloat(Cl))){Ml=String(kl);break t}Ml=Cl}FM={};et.document&&jo?(Jm=RE(),sg=Jm||parseInt(Ml,10)||void 0):sg=void 0;UM=sg,VM=function(){if(!et.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{et.addEventListener("test",Rl,t),et.removeEventListener("test",Rl,t)}catch{}return e}();ye.prototype.h=function(){this.defaultPrevented=!0};de(Ga,ye);BM={2:"touch",3:"pen",4:"mouse"};Ga.prototype.h=function(){Ga.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};Za="closure_listenable_"+(1e6*Math.random()|0),zM=0;zl.prototype.add=function(e,t,n,i,o){var a=e.toString();e=this.g[a],e||(e=this.g[a]=[],this.h++);var u=ug(e,t,i,o);return-1<u?(t=e[u],n||(t.fa=!1)):(t=new qM(t,this.src,a,!!i,o),t.fa=n,e.push(t)),t};wg="closure_lm_"+(1e6*Math.random()|0),tg={};eg="__closure_events_fn_"+(1e9*Math.random()>>>0);de(ne,Dr);ne.prototype[Za]=!0;ne.prototype.removeEventListener=function(e,t,n,i){LE(this,e,t,n,i)};ne.prototype.M=function(){if(ne.Z.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],i=0;i<n.length;i++)Bl(n[i]);delete e.g[t],e.h--}}this.I=null};ne.prototype.N=function(e,t,n,i){return this.i.add(String(e),t,!1,n,i)};ne.prototype.O=function(e,t,n,i){return this.i.add(String(e),t,!0,n,i)};Tg=et.JSON.stringify;$M=function(){function e(){this.h=this.g=null}return e.prototype.add=function(t,n){var i=jE.get();i.set(t,n),this.h?this.h.next=i:this.g=i,this.h=i},e}(),jE=new(function(){function e(t,n){this.i=t,this.j=n,this.h=0,this.g=null}return e.prototype.get=function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t},e}())(function(){return new WM},function(e){return e.reset()}),WM=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(t,n){this.h=t,this.g=n,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();lg=!1,UE=new $M;de(ql,ne);U=ql.prototype;U.da=!1;U.S=null;U.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),le(this,"tick"),this.da&&(Sg(this),this.start()))}};U.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};U.M=function(){ql.Z.M.call(this),Sg(this),delete this.g};ZM=function(e){xM(t,e);function t(n,i){var o=e.call(this)||this;return o.m=n,o.j=i,o.h=null,o.i=!1,o.g=null,o}return t.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:VE(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(et.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(Dr);de($a,Dr);vE=[];$a.prototype.M=function(){$a.Z.M.call(this),zE(this)};$a.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};Hl.prototype.Aa=function(){this.g=!1};Hl.prototype.info=function(){};Ci={},bE=null;Ci.Ma="serverreachability";de(qE,ye);Ci.STAT_EVENT="statevent";de(HE,ye);Ci.Na="timingevent";de(KE,ye);Gl={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},GE={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};Ag.prototype.h=null;tu={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};de(kg,ye);de(Dg,ye);de($l,Ag);$l.prototype.g=function(){return new XMLHttpRequest};$l.prototype.i=function(){return{}};dg=new $l;rP=45e3,hg={},Pl={};U=eu.prototype;U.setTimeout=function(e){this.P=e};U.gb=function(e){e=e.target;var t=this.L;t&&rr(e)==3?t.l():this.Ia(e)};U.Ia=function(e){try{if(e==this.g)t:{var t=rr(this.g),n=this.g.Da(),i=this.g.ba();if(!(3>t)&&(t!=3||og||this.g&&(this.h.h||this.g.ga()||EE(this.g)))){this.I||t!=4||n==7||(n==8||0>=i?Wa(3):Wa(2)),Wl(this);var o=this.g.ba();this.N=o;e:if(QE(this)){var a=EE(this.g);e="";var u=a.length,l=rr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ei(this),Ha(this);var h="";break e}this.h.i=new et.TextDecoder}for(n=0;n<u;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:l&&n==u-1});a.splice(0,u),this.h.g+=e,this.C=0,h=this.h.g}else h=this.g.ga();if(this.i=o==200,tP(this.j,this.u,this.A,this.m,this.X,t,o),this.i){if(this.$&&!this.J){e:{if(this.g){var p,m=this.g;if((p=m.g?m.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Nl(p)){var b=p;break e}}b=null}if(o=b)Fo(this.j,this.m,o,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,pg(this,o);else{this.i=!1,this.o=3,ke(12),Ei(this),Ha(this);break t}}this.U?(XE(this,t,h),og&&this.i&&t==3&&(BE(this.V,this.W,"tick",this.fb),this.W.start())):(Fo(this.j,this.m,h,null),pg(this,h)),t==4&&Ei(this),this.i&&!this.I&&(t==4?b1(this.l,this):(this.i=!1,nu(this)))}else o==400&&0<h.indexOf("Unknown SID")?(this.o=3,ke(12)):(this.o=0,ke(13)),Ei(this),Ha(this)}}}catch{}finally{}};U.fb=function(){if(this.g){var e=rr(this.g),t=this.g.ga();this.C<t.length&&(Wl(this),XE(this,e,t),this.i&&e!=4&&nu(this))}};U.cancel=function(){this.I=!0,Ei(this)};U.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(eP(this.j,this.A),this.K!=2&&(Wa(3),ke(17)),Ei(this),this.o=2,Ha(this)):ZE(this,this.Y-e)};U=Uo.prototype;U.R=function(){Rg(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e};U.T=function(){return Rg(this),this.g.concat()};U.get=function(e,t){return xi(this.h,e)?this.h[e]:t};U.set=function(e,t){xi(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t};U.forEach=function(e,t){for(var n=this.T(),i=0;i<n.length;i++){var o=n[i],a=this.get(o);e.call(t,a,o,this)}};JE=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;Si.prototype.toString=function(){var e=[],t=this.j;t&&e.push(qa(t,_E,!0),":");var n=this.i;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(qa(t,_E,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&e.push("/"),e.push(qa(n,n.charAt(0)=="/"?dP:lP,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",qa(n,fP)),e.join("")};_E=/[#\/\?@]/g,lP=/[#\?:]/g,dP=/[#\?]/g,hP=/[#\?@]/g,fP=/#/g;U=Ya.prototype;U.add=function(e,t){Or(this),this.i=null,e=Vo(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};U.forEach=function(e,t){Or(this),this.g.forEach(function(n,i){CE(n,function(o){e.call(t,o,i,this)},this)},this)};U.T=function(){Or(this);for(var e=this.g.R(),t=this.g.T(),n=[],i=0;i<t.length;i++)for(var o=e[i],a=0;a<o.length;a++)n.push(t[i]);return n};U.R=function(e){Or(this);var t=[];if(typeof e=="string")e1(this,e)&&(t=pE(t,this.g.get(Vo(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=pE(t,e[n])}return t};U.set=function(e,t){return Or(this),this.i=null,e=Vo(this,e),e1(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};U.get=function(e,t){return e?(e=this.R(e),0<e.length?String(e[0]):t):t};U.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var i=t[n],o=encodeURIComponent(String(i));i=this.R(i);for(var a=0;a<i.length;a++){var u=o;i[a]!==""&&(u+="="+encodeURIComponent(String(i[a]))),e.push(u)}}return this.i=e.join("&")};mP=function(){function e(t,n){this.h=t,this.g=n}return e}();gP=10;r1.prototype.cancel=function(){var e,t;if(this.i=a1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){try{for(var n=xE(this.g.values()),i=n.next();!i.done;i=n.next()){var o=i.value;o.cancel()}}catch(a){e={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}};Mg.prototype.stringify=function(e){return et.JSON.stringify(e,void 0)};Mg.prototype.parse=function(e){return et.JSON.parse(e,void 0)};de(ru,Ag);ru.prototype.g=function(){return new Ql(this.l,this.j)};ru.prototype.i=function(e){return function(){return e}}({});de(Ql,ne);Pg=0;U=Ql.prototype;U.open=function(e,t){if(this.readyState!=Pg)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Qa(this)};U.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||et).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))};U.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,iu(this)),this.readyState=Pg};U.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Qa(this)),this.g&&(this.readyState=3,Qa(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof et.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;u1(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))};U.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?iu(this):Qa(this),this.readyState==3&&u1(this)}};U.Ua=function(e){this.g&&(this.response=this.responseText=e,iu(this))};U.Ta=function(e){this.g&&(this.response=e,iu(this))};U.ha=function(){this.g&&iu(this)};U.setRequestHeader=function(e,t){this.v.append(e,t)};U.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};U.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};Object.defineProperty(Ql.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});wP=et.JSON.parse;de(Kt,ne);c1="",_P=/^https?$/i,IP=["POST","PUT"];U=Kt.prototype;U.ea=function(e,t,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():dg.g(),this.C=this.u?yE(this.u):yE(dg),this.g.onreadystatechange=ce(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){IE(this,a);return}e=n||"";var o=new Uo(this.headers);i&&Og(i,function(a,u){o.set(u,a)}),i=NM(o.T()),n=et.FormData&&e instanceof et.FormData,!(0<=SE(IP,t))||i||n||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(a,u){this.g.setRequestHeader(u,a)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{h1(this),0<this.B&&((this.K=EP(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ce(this.pa,this)):this.A=Cg(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){IE(this,a)}};U.pa=function(){typeof gg<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,le(this,"timeout"),this.abort(8))};U.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,le(this,"complete"),le(this,"abort"),Xl(this))};U.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Xl(this,!0)),Kt.Z.M.call(this)};U.Fa=function(){this.s||(this.F||this.v||this.l?d1(this):this.cb())};U.cb=function(){d1(this)};U.ba=function(){try{return 2<rr(this)?this.g.status:-1}catch{return-1}};U.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};U.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),wP(t)}};U.Da=function(){return this.m};U.La=function(){return typeof this.j=="string"?this.j:String(this.j)};U=f1.prototype;U.ma=8;U.G=1;U.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch{}};U.Ha=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new eu(this,this.h,e,void 0),n=this.s;if(this.P&&(n?(n=AE(n),kE(n,this.P)):n=this.P),this.o===null&&(t.H=n),this.ja)t:{for(var i=0,o=0;o<this.l.length;o++){e:{var a=this.l[o];if("__data__"in a.g&&(a=a.g.__data__,typeof a=="string")){a=a.length;break e}a=void 0}if(a===void 0)break;if(i+=a,4096<i){i=o;break t}if(i===4096||o===this.l.length-1){i=o+1;break t}}i=1e3}else i=1e3;i=m1(this,t,i),o=ir(this.F),Dt(o,"RID",e),Dt(o,"CVER",22),this.D&&Dt(o,"X-HTTP-Session-Id",this.D),ou(this,o),this.o&&n&&Lg(o,this.o,n),Ng(this.i,t),this.Ra&&Dt(o,"TYPE","init"),this.ja?(Dt(o,"$req",i),Dt(o,"SID","null"),t.$=!0,fg(t,o,null)):fg(t,o,i),this.G=2}}else this.G==3&&(e?TE(this,e):this.l.length==0||i1(this.i)||TE(this))};U.Ga=function(){if(this.u=null,v1(this),this.$&&!(this.L||this.g==null||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Ja(ce(this.bb,this),e)}};U.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ke(10),Zl(this),v1(this))};U.ab=function(){this.v!=null&&(this.v=null,Zl(this),jg(this),ke(19))};U.jb=function(e){e?(this.h.info("Successfully pinged google.com"),ke(2)):(this.h.info("Failed to ping google.com"),ke(1))};U=E1.prototype;U.xa=function(){};U.wa=function(){};U.va=function(){};U.ua=function(){};U.Oa=function(){};Vl.prototype.g=function(e,t){return new Ze(e,t)};de(Ze,ne);Ze.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),xg(ce(e.hb,e,t))),ke(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=_1(e,null,e.W),Jl(e)};Ze.prototype.close=function(){Fg(this.g)};Ze.prototype.u=function(e){if(typeof e=="string"){var t={};t.__data__=e,ng(this.g,t)}else this.v?(t={},t.__data__=Tg(e),ng(this.g,t)):ng(this.g,e)};Ze.prototype.M=function(){this.g.j=null,delete this.j,Fg(this.g),delete this.g,Ze.Z.M.call(this)};de(T1,kg);de(x1,Dg);de(Bo,E1);Bo.prototype.xa=function(){le(this.g,"a")};Bo.prototype.wa=function(e){le(this.g,new T1(e))};Bo.prototype.va=function(e){le(this.g,new x1(e))};Bo.prototype.ua=function(){le(this.g,"b")};Vl.prototype.createWebChannel=Vl.prototype.g;Ze.prototype.send=Ze.prototype.u;Ze.prototype.open=Ze.prototype.m;Ze.prototype.close=Ze.prototype.close;Gl.NO_ERROR=0;Gl.TIMEOUT=8;Gl.HTTP_ERROR=6;GE.COMPLETE="complete";$E.EventType=tu;tu.OPEN="a";tu.CLOSE="b";tu.ERROR="c";tu.MESSAGE="d";ne.prototype.listen=ne.prototype.N;Kt.prototype.listenOnce=Kt.prototype.O;Kt.prototype.getLastError=Kt.prototype.La;Kt.prototype.getLastErrorCode=Kt.prototype.Da;Kt.prototype.getStatus=Kt.prototype.ba;Kt.prototype.getResponseJson=Kt.prototype.Qa;Kt.prototype.getResponseText=Kt.prototype.ga;Kt.prototype.send=Kt.prototype.ea;S1=function(){return new Vl},C1=function(){return Kl()},td=Gl,A1=GE,k1=Ci,Vg={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},D1=ru,su=$E,O1=Kt});function Gg(){return An.logLevel}function M(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(An.logLevel<=gt.DEBUG){var i=t.map(sv);An.debug.apply(An,kt(["Firestore (8.10.1): "+e],i))}}function Wt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(An.logLevel<=gt.ERROR){var i=t.map(sv);An.error.apply(An,kt(["Firestore (8.10.1): "+e],i))}}function dd(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(An.logLevel<=gt.WARN){var i=t.map(sv);An.warn.apply(An,kt(["Firestore (8.10.1): "+e],i))}}function sv(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}var t}function H(e){e===void 0&&(e="Unexpected state");var t="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+e;throw Wt(t),new Error(t)}function X(e,t){e||H()}function L(e,t){return e}function CP(e){var t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(var i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}function ft(e,t){return e<t?-1:e>t?1:0}function Wo(e,t,n){return e.length===t.length&&e.every(function(i,o){return n(i,t[o])})}function BT(e){return e+"\0"}function R1(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Fi(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function zT(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function zr(e){if(X(!!e),typeof e=="string"){var t=0,n=kP.exec(e);if(X(!!n),n[1]){var i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}var o=new Date(e);return{seconds:Math.floor(o.getTime()/1e3),nanos:t}}return{seconds:$t(e.seconds),nanos:$t(e.nanos)}}function $t(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Qo(e){return typeof e=="string"?Re.fromBase64String(e):Re.fromUint8Array(e)}function av(e){var t,n;return((n=(((t=e?.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function HT(e){var t=e.mapValue.fields.__previous_value__;return av(t)?HT(t):t}function hu(e){var t=zr(e.mapValue.fields.__local_write_time__.timestampValue);return new Oe(t.seconds,t.nanos)}function ji(e){return e==null}function hd(e){return e===0&&1/e==-1/0}function KT(e){return typeof e=="number"&&Number.isInteger(e)&&!hd(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function Ni(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?av(e)?4:10:H()}function $n(e,t){var n=Ni(e);if(n!==Ni(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return hu(e).isEqual(hu(t));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;var a=zr(i.timestampValue),u=zr(o.timestampValue);return a.seconds===u.seconds&&a.nanos===u.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,o){return Qo(i.bytesValue).isEqual(Qo(o.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,o){return $t(i.geoPointValue.latitude)===$t(o.geoPointValue.latitude)&&$t(i.geoPointValue.longitude)===$t(o.geoPointValue.longitude)}(e,t);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return $t(i.integerValue)===$t(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){var a=$t(i.doubleValue),u=$t(o.doubleValue);return a===u?hd(a)===hd(u):isNaN(a)&&isNaN(u)}return!1}(e,t);case 9:return Wo(e.arrayValue.values||[],t.arrayValue.values||[],$n);case 10:return function(i,o){var a=i.mapValue.fields||{},u=o.mapValue.fields||{};if(R1(a)!==R1(u))return!1;for(var l in a)if(a.hasOwnProperty(l)&&(u[l]===void 0||!$n(a[l],u[l])))return!1;return!0}(e,t);default:return H()}}function fu(e,t){return(e.values||[]).find(function(n){return $n(n,t)})!==void 0}function Xo(e,t){var n=Ni(e),i=Ni(t);if(n!==i)return ft(n,i);switch(n){case 0:return 0;case 1:return ft(e.booleanValue,t.booleanValue);case 2:return function(o,a){var u=$t(o.integerValue||o.doubleValue),l=$t(a.integerValue||a.doubleValue);return u<l?-1:u>l?1:u===l?0:isNaN(u)?isNaN(l)?0:-1:1}(e,t);case 3:return N1(e.timestampValue,t.timestampValue);case 4:return N1(hu(e),hu(t));case 5:return ft(e.stringValue,t.stringValue);case 6:return function(o,a){var u=Qo(o),l=Qo(a);return u.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(o,a){for(var u=o.split("/"),l=a.split("/"),h=0;h<u.length&&h<l.length;h++){var p=ft(u[h],l[h]);if(p!==0)return p}return ft(u.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(o,a){var u=ft($t(o.latitude),$t(a.latitude));return u!==0?u:ft($t(o.longitude),$t(a.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(o,a){for(var u=o.values||[],l=a.values||[],h=0;h<u.length&&h<l.length;++h){var p=Xo(u[h],l[h]);if(p)return p}return ft(u.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(o,a){var u=o.fields||{},l=Object.keys(u),h=a.fields||{},p=Object.keys(h);l.sort(),p.sort();for(var m=0;m<l.length&&m<p.length;++m){var b=ft(l[m],p[m]);if(b!==0)return b;var y=Xo(u[l[m]],h[p[m]]);if(y!==0)return y}return ft(l.length,p.length)}(e.mapValue,t.mapValue);default:throw H()}}function N1(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return ft(e,t);var n=zr(e),i=zr(t),o=ft(n.seconds,i.seconds);return o!==0?o:ft(n.nanos,i.nanos)}function uv(e){return $g(e)}function $g(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(i){var o=zr(i);return"time("+o.seconds+","+o.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Qo(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,G.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(i){for(var o="[",a=!0,u=0,l=i.values||[];u<l.length;u++)a?a=!1:o+=",",o+=$g(l[u]);return o+"]"}(e.arrayValue):"mapValue"in e?function(i){for(var o="{",a=!0,u=0,l=Object.keys(i.fields||{}).sort();u<l.length;u++){var h=l[u];a?a=!1:o+=",",o+=h+":"+$g(i.fields[h])}return o+"}"}(e.mapValue):H();var t,n}function fd(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function Wg(e){return!!e&&"integerValue"in e}function cv(e){return!!e&&"arrayValue"in e}function M1(e){return!!e&&"nullValue"in e}function P1(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function od(e){return!!e&&"mapValue"in e}function cu(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Fi(e.mapValue.fields,function(o,a){return t.mapValue.fields[o]=cu(a)}),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},i=0;i<(e.arrayValue.values||[]).length;++i)n.arrayValue.values[i]=cu(e.arrayValue.values[i]);return n}return Object.assign({},e)}function GT(e){var t=[];return Fi(e.fields,function(n,i){var o=new Dn([n]);if(od(i)){var a=GT(i.mapValue).fields;if(a.length===0)t.push(o);else for(var u=0,l=a;u<l.length;u++){var h=l[u];t.push(o.child(h))}}else t.push(o)}),new Yo(t)}function L1(e,t,n,i,o,a,u){return t===void 0&&(t=null),n===void 0&&(n=[]),i===void 0&&(i=[]),o===void 0&&(o=null),a===void 0&&(a=null),u===void 0&&(u=null),new DP(e,t,n,i,o,a,u)}function Iu(e){var t=L(e);if(t.h===null){var n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(i){return function(o){return o.field.canonicalString()+o.op.toString()+uv(o.value)}(i)}).join(","),n+="|ob:",n+=t.orderBy.map(function(i){return function(o){return o.field.canonicalString()+o.dir}(i)}).join(","),ji(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=md(t.startAt)),t.endAt&&(n+="|ub:",n+=md(t.endAt)),t.h=n}return t.h}function Cd(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!jP(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var i=0;i<e.filters.length;i++)if(o=e.filters[i],a=t.filters[i],o.op!==a.op||!o.field.isEqual(a.field)||!$n(o.value,a.value))return!1;var o,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!j1(e.startAt,t.startAt)&&j1(e.endAt,t.endAt)}function pd(e){return G.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}function $T(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(i){return G.fromName(i.referenceValue)})}function md(e){return(e.before?"b":"a")+":"+e.position.map(function(t){return uv(t)}).join(",")}function jP(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function F1(e,t,n){for(var i=0,o=0;o<e.position.length;o++){var a=t[o],u=e.position[o];if(i=a.field.isKeyField()?G.comparator(G.fromName(u.referenceValue),n.key):Xo(u,n.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return e.before?i<=0:i<0}function j1(e,t){if(e===null)return t===null;if(t===null||e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!$n(e.position[n],t.position[n]))return!1;return!0}function WT(e,t,n,i,o,a,u,l){return new ur(e,t,n,i,o,a,u,l)}function fs(e){return new ur(e)}function sd(e){return!ji(e.limit)&&e.limitType==="F"}function gd(e){return!ji(e.limit)&&e.limitType==="L"}function lv(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function dv(e){for(var t=0,n=e.filters;t<n.length;t++){var i=n[t];if(i.g())return i.field}return null}function hv(e){return e.collectionGroup!==null}function Zo(e){var t=L(e);if(t.p===null){t.p=[];var n=dv(t),i=lv(t);if(n!==null&&i===null)n.isKeyField()||t.p.push(new $o(n)),t.p.push(new $o(Dn.keyField(),"asc"));else{for(var o=!1,a=0,u=t.explicitOrderBy;a<u.length;a++){var l=u[a];t.p.push(l),l.field.isKeyField()&&(o=!0)}if(!o){var h=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new $o(Dn.keyField(),h))}}}return t.p}function mn(e){var t=L(e);if(!t.T)if(t.limitType==="F")t.T=L1(t.path,t.collectionGroup,Zo(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],i=0,o=Zo(t);i<o.length;i++){var a=o[i],u=a.dir==="desc"?"asc":"desc";n.push(new $o(a.field,u))}var l=t.endAt?new pu(t.endAt.position,!t.endAt.before):null,h=t.startAt?new pu(t.startAt.position,!t.startAt.before):null;t.T=L1(t.path,t.collectionGroup,n,t.filters,t.limit,l,h)}return t.T}function YT(e,t,n){return new ur(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Eu(e,t){return Cd(mn(e),mn(t))&&e.limitType===t.limitType}function QT(e){return Iu(mn(e))+"|lt:"+e.limitType}function Yg(e){return"Query(target="+function(t){var n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=", filters: ["+t.filters.map(function(i){return(o=i).field.canonicalString()+" "+o.op+" "+uv(o.value);var o}).join(", ")+"]"),ji(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=", orderBy: ["+t.orderBy.map(function(i){return function(o){return o.field.canonicalString()+" ("+o.dir+")"}(i)}).join(", ")+"]"),t.startAt&&(n+=", startAt: "+md(t.startAt)),t.endAt&&(n+=", endAt: "+md(t.endAt)),"Target("+n+")"}(mn(e))+"; limitType="+e.limitType+")"}function Tu(e,t){return t.isFoundDocument()&&function(n,i){var o=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):G.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(e,t)&&function(n,i){for(var o=0,a=n.explicitOrderBy;o<a.length;o++){var u=a[o];if(!u.field.isKeyField()&&i.data.field(u.field)===null)return!1}return!0}(e,t)&&function(n,i){for(var o=0,a=n.filters;o<a.length;o++)if(!a[o].matches(i))return!1;return!0}(e,t)&&function(n,i){return!(n.startAt&&!F1(n.startAt,Zo(n),i))&&(!n.endAt||!F1(n.endAt,Zo(n),i))}(e,t)}function XT(e){return function(t,n){for(var i=!1,o=0,a=Zo(e);o<a.length;o++){var u=a[o],l=UP(u,t,n);if(l!==0)return l;i=i||u.field.isKeyField()}return 0}}function UP(e,t,n){var i=e.field.isKeyField()?G.comparator(t.key,n.key):function(o,a,u){var l=a.data.field(o),h=u.data.field(o);return l!==null&&h!==null?Xo(l,h):H()}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return H()}}function ZT(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hd(t)?"-0":t}}function JT(e){return{integerValue:""+e}}function tx(e,t){return KT(t)?JT(t):ZT(e,t)}function VP(e,t,n){return e instanceof Jo?function(i,o){var a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&(a.fields.__previous_value__=o),{mapValue:a}}(n,t):e instanceof Mi?nx(e,t):e instanceof Pi?rx(e,t):function(i,o){var a=ex(i,o),u=U1(a)+U1(i.A);return Wg(a)&&Wg(i.A)?JT(u):ZT(i.R,u)}(e,t)}function BP(e,t,n){return e instanceof Mi?nx(e,t):e instanceof Pi?rx(e,t):n}function ex(e,t){return e instanceof ts?Wg(n=t)||function(i){return!!i&&"doubleValue"in i}(n)?t:{integerValue:0}:null;var n}function nx(e,t){for(var n=ix(t),i=function(u){n.some(function(l){return $n(l,u)})||n.push(u)},o=0,a=e.elements;o<a.length;o++)i(a[o]);return{arrayValue:{values:n}}}function rx(e,t){for(var n=ix(t),i=function(u){n=n.filter(function(l){return!$n(l,u)})},o=0,a=e.elements;o<a.length;o++)i(a[o]);return{arrayValue:{values:n}}}function U1(e){return $t(e.integerValue||e.doubleValue)}function ix(e){return cv(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function ad(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}function qP(e,t,n){e instanceof Su?function(i,o,a){var u=i.value.clone(),l=z1(i.fieldTransforms,o,a.transformResults);u.setAll(l),o.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(e,t,n):e instanceof Hr?function(i,o,a){if(ad(i.precondition,o)){var u=z1(i.fieldTransforms,o,a.transformResults),l=o.data;l.setAll(ox(i)),l.setAll(u),o.convertToFoundDocument(a.version,l).setHasCommittedMutations()}else o.convertToUnknownDocument(a.version)}(e,t,n):function(i,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()}(0,t,n)}function Qg(e,t,n){e instanceof Su?function(i,o,a){if(ad(i.precondition,o)){var u=i.value.clone(),l=q1(i.fieldTransforms,a,o);u.setAll(l),o.convertToFoundDocument(B1(o),u).setHasLocalMutations()}}(e,t,n):e instanceof Hr?function(i,o,a){if(ad(i.precondition,o)){var u=q1(i.fieldTransforms,a,o),l=o.data;l.setAll(ox(i)),l.setAll(u),o.convertToFoundDocument(B1(o),l).setHasLocalMutations()}}(e,t,n):function(i,o){ad(i.precondition,o)&&o.convertToNoDocument(at.min())}(e,t)}function HP(e,t){for(var n=null,i=0,o=e.fieldTransforms;i<o.length;i++){var a=o[i],u=t.data.field(a.field),l=ex(a.transform,u||null);l!=null&&(n==null&&(n=en.empty()),n.set(a.field,l))}return n||null}function V1(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Wo(n,i,function(o,a){return function(u,l){return u.field.isEqual(l.field)&&function(h,p){return h instanceof Mi&&p instanceof Mi||h instanceof Pi&&p instanceof Pi?Wo(h.elements,p.elements,$n):h instanceof ts&&p instanceof ts?$n(h.A,p.A):h instanceof Jo&&p instanceof Jo}(u.transform,l.transform)}(o,a)})}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function B1(e){return e.isFoundDocument()?e.version:at.min()}function ox(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var i=e.data.field(n);t.set(n,i)}}),t}function z1(e,t,n){var i=new Map;X(e.length===n.length);for(var o=0;o<n.length;o++){var a=e[o],u=a.transform,l=t.data.field(a.field);i.set(a.field,BP(u,l,n[o]))}return i}function q1(e,t,n){for(var i=new Map,o=0,a=e;o<a.length;o++){var u=a[o],l=u.transform,h=n.data.field(u.field);i.set(u.field,VP(l,h,t))}return i}function sx(e){switch(e){case x.OK:return H();case x.CANCELLED:case x.UNKNOWN:case x.DEADLINE_EXCEEDED:case x.RESOURCE_EXHAUSTED:case x.INTERNAL:case x.UNAVAILABLE:case x.UNAUTHENTICATED:return!1;case x.INVALID_ARGUMENT:case x.NOT_FOUND:case x.ALREADY_EXISTS:case x.PERMISSION_DENIED:case x.FAILED_PRECONDITION:case x.ABORTED:case x.OUT_OF_RANGE:case x.UNIMPLEMENTED:case x.DATA_LOSS:return!0;default:return H()}}function ax(e){if(e===void 0)return Wt("GRPC error has no .code"),x.UNKNOWN;switch(e){case Gt.OK:return x.OK;case Gt.CANCELLED:return x.CANCELLED;case Gt.UNKNOWN:return x.UNKNOWN;case Gt.DEADLINE_EXCEEDED:return x.DEADLINE_EXCEEDED;case Gt.RESOURCE_EXHAUSTED:return x.RESOURCE_EXHAUSTED;case Gt.INTERNAL:return x.INTERNAL;case Gt.UNAVAILABLE:return x.UNAVAILABLE;case Gt.UNAUTHENTICATED:return x.UNAUTHENTICATED;case Gt.INVALID_ARGUMENT:return x.INVALID_ARGUMENT;case Gt.NOT_FOUND:return x.NOT_FOUND;case Gt.ALREADY_EXISTS:return x.ALREADY_EXISTS;case Gt.PERMISSION_DENIED:return x.PERMISSION_DENIED;case Gt.FAILED_PRECONDITION:return x.FAILED_PRECONDITION;case Gt.ABORTED:return x.ABORTED;case Gt.OUT_OF_RANGE:return x.OUT_OF_RANGE;case Gt.UNIMPLEMENTED:return x.UNIMPLEMENTED;case Gt.DATA_LOSS:return x.DATA_LOSS;default:return H()}}function pn(){return GP}function Xg(){return $P}function ux(){return WP}function _t(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=YP,i=0,o=e;i<o.length;i++){var a=o[i];n=n.add(a)}return n}function Dd(){return QP}function G1(){return new Te(G.comparator)}function $1(){return new Te(G.comparator)}function mu(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function dx(e,t){return e.I?t.toBase64():t.toUint8Array()}function e2(e,t){return mu(e,t.toTimestamp())}function fe(e){return X(!!e),at.fromTimestamp(function(t){var n=zr(t);return new Oe(n.seconds,n.nanos)}(e))}function gv(e,t){return function(n){return new vt(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function hx(e){var t=vt.fromString(e);return X(wx(t)),t}function gu(e,t){return gv(e.databaseId,t.path)}function Kn(e,t){var n=hx(t);if(n.get(1)!==e.databaseId.projectId)throw new R(x.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new R(x.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new G(px(n))}function Zg(e,t){return gv(e.databaseId,t)}function fx(e){var t=hx(e);return t.length===4?vt.emptyPath():px(t)}function vu(e){return new vt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function px(e){return X(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function W1(e,t,n){return{name:gu(e,t),fields:n.value.mapValue.fields}}function mx(e,t,n){var i=Kn(e,t.name),o=fe(t.updateTime),a=new en({mapValue:{fields:t.fields}}),u=me.newFoundDocument(i,o,a);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function vd(e,t){var n;if(t instanceof Su)n={update:W1(e,t.key,t.value)};else if(t instanceof Cu)n={delete:gu(e,t.key)};else if(t instanceof Hr)n={update:W1(e,t.key,t.data),updateMask:s2(t.fieldMask)};else{if(!(t instanceof fv))return H();n={verify:gu(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(i){return function(o,a){var u=a.transform;if(u instanceof Jo)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Mi)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Pi)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof ts)return{fieldPath:a.field.canonicalString(),increment:u.A};throw H()}(0,i)})),t.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:e2(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:H()}(e,t.precondition)),n}function Y1(e,t){var n=t.currentDocument?function(p){return p.updateTime!==void 0?Ie.updateTime(fe(p.updateTime)):p.exists!==void 0?Ie.exists(p.exists):Ie.none()}(t.currentDocument):Ie.none(),i=t.updateTransforms?t.updateTransforms.map(function(p){return function(m,b){var y=null;if("setToServerValue"in b)X(b.setToServerValue==="REQUEST_TIME"),y=new Jo;else if("appendMissingElements"in b){var _=b.appendMissingElements.values||[];y=new Mi(_)}else if("removeAllFromArray"in b){var I=b.removeAllFromArray.values||[];y=new Pi(I)}else"increment"in b?y=new ts(m,b.increment):H();var E=Dn.fromServerFormat(b.fieldPath);return new xu(E,y)}(e,p)}):[];if(t.update){t.update.name;var o=Kn(e,t.update.name),a=new en({mapValue:{fields:t.update.fields}});if(t.updateMask){var u=function(p){var m=p.fieldPaths||[];return new Yo(m.map(function(b){return Dn.fromServerFormat(b)}))}(t.updateMask);return new Hr(o,a,u,n,i)}return new Su(o,a,n,i)}if(t.delete){var l=Kn(e,t.delete);return new Cu(l,n)}if(t.verify){var h=Kn(e,t.verify);return new fv(h,n)}return H()}function gx(e,t){return{documents:[Zg(e,t.path)]}}function vx(e,t){var n={structuredQuery:{}},i=t.path;t.collectionGroup!==null?(n.parent=Zg(e,i),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Zg(e,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);var o=function(l){if(l.length!==0){var h=l.map(function(p){return function(m){if(m.op==="=="){if(P1(m.value))return{unaryFilter:{field:zo(m.field),op:"IS_NAN"}};if(M1(m.value))return{unaryFilter:{field:zo(m.field),op:"IS_NULL"}}}else if(m.op==="!="){if(P1(m.value))return{unaryFilter:{field:zo(m.field),op:"IS_NOT_NAN"}};if(M1(m.value))return{unaryFilter:{field:zo(m.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zo(m.field),op:r2(m.op),value:m.value}}}(p)});return h.length===1?h[0]:{compositeFilter:{op:"AND",filters:h}}}}(t.filters);o&&(n.structuredQuery.where=o);var a=function(l){if(l.length!==0)return l.map(function(h){return function(p){return{field:zo(p.field),direction:n2(p.dir)}}(h)})}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var u=function(l,h){return l.I||ji(h)?h:{value:h}}(e,t.limit);return u!==null&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt=Q1(t.startAt)),t.endAt&&(n.structuredQuery.endAt=Q1(t.endAt)),n}function bx(e){var t=fx(e.parent),n=e.structuredQuery,i=n.from?n.from.length:0,o=null;if(i>0){X(i===1);var a=n.from[0];a.allDescendants?o=a.collectionId:t=t.child(a.collectionId)}var u=[];n.where&&(u=yx(n.where));var l=[];n.orderBy&&(l=n.orderBy.map(function(b){return function(y){return new $o(Go(y.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(b)}));var h=null;n.limit&&(h=function(b){var y;return ji(y=typeof b=="object"?b.value:b)?null:y}(n.limit));var p=null;n.startAt&&(p=X1(n.startAt));var m=null;return n.endAt&&(m=X1(n.endAt)),WT(t,o,l,u,h,"F",p,m)}function yx(e){return e?e.unaryFilter!==void 0?[o2(e)]:e.fieldFilter!==void 0?[i2(e)]:e.compositeFilter!==void 0?e.compositeFilter.filters.map(function(t){return yx(t)}).reduce(function(t,n){return t.concat(n)}):H():[]}function Q1(e){return{before:e.before,values:e.position}}function X1(e){var t=!!e.before,n=e.values||[];return new pu(n,t)}function n2(e){return ZP[e]}function r2(e){return JP[e]}function zo(e){return{fieldPath:e.canonicalString()}}function Go(e){return Dn.fromServerFormat(e.fieldPath)}function i2(e){return rn.create(Go(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return H()}}(e.fieldFilter.op),e.fieldFilter.value)}function o2(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Go(e.unaryFilter.field);return rn.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Go(e.unaryFilter.field);return rn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var i=Go(e.unaryFilter.field);return rn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var o=Go(e.unaryFilter.field);return rn.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return H()}}function s2(e){var t=[];return e.fields.forEach(function(n){return t.push(n.canonicalString())}),{fieldPaths:t}}function wx(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}function kn(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Z1(t)),t=a2(e.get(n),t);return Z1(t)}function a2(e,t){for(var n=t,i=e.length,o=0;o<i;o++){var a=e.charAt(o);switch(a){case"\0":n+="";break;case"":n+="";break;default:n+=a}}return n}function Z1(e){return e+""}function or(e){var t=e.length;if(X(t>=2),t===2)return X(e.charAt(0)===""&&e.charAt(1)===""),vt.emptyPath();for(var n=t-2,i=[],o="",a=0;a<t;){var u=e.indexOf("",a);switch((u<0||u>n)&&H(),e.charAt(u+1)){case"":var l=e.substring(a,u),h=void 0;o.length===0?h=l:(h=o+=l,o=""),i.push(h);break;case"":o+=e.substring(a,u),o+="\0";break;case"":o+=e.substring(a,u+1);break;default:H()}a=u+2}return new vt(i)}function Ui(e){return e.name==="IndexedDbTransactionError"}function Ai(e){return new N(function(t,n){e.onsuccess=function(i){var o=i.target.result;t(o)},e.onerror=function(i){var o=vv(i.target.error);n(o)}})}function vv(e){var t=rs._t(Ar());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var i=new R("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return J1||(J1=!0,setTimeout(function(){throw i},0)),i}}return e}function ze(e,t){var n=L(e);return rs.It(n.Mt,t)}function Jg(e,t){if(t.document)return mx(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=G.fromSegments(t.noDocument.path),i=os(t.noDocument.readTime),o=me.newNoDocument(n,i);return t.hasCommittedMutations?o.setHasCommittedMutations():o}if(t.unknownDocument){var a=G.fromSegments(t.unknownDocument.path);return i=os(t.unknownDocument.version),me.newUnknownDocument(a,i)}return H()}function eT(e,t,n){var i=yv(n),o=t.key.path.popLast().toArray();if(t.isFoundDocument()){var a=function(b,y){return{name:gu(b,y.key),fields:y.data.value.mapValue.fields,updateTime:mu(b,y.version.toTimestamp())}}(e.Lt,t),u=t.hasCommittedMutations;return new Pt(null,null,a,u,i,o)}if(t.isNoDocument()){var l=t.key.path.toArray(),h=is(t.version);return u=t.hasCommittedMutations,new Pt(null,new c2(l,h),null,u,i,o)}if(t.isUnknownDocument()){var p=t.key.path.toArray(),m=is(t.version);return new Pt(new l2(p,m),null,null,!0,i,o)}return H()}function yv(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function xx(e){var t=new Oe(e[0],e[1]);return at.fromTimestamp(t)}function is(e){var t=e.toTimestamp();return new u2(t.seconds,t.nanoseconds)}function os(e){var t=new Oe(e.seconds,e.nanoseconds);return at.fromTimestamp(t)}function Ho(e,t){for(var n=(t.baseMutations||[]).map(function(h){return Y1(e.Lt,h)}),i=0;i<t.mutations.length-1;++i){var o=t.mutations[i];if(i+1<t.mutations.length&&t.mutations[i+1].transform!==void 0){var a=t.mutations[i+1];o.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(i+1,1),++i}}var u=t.mutations.map(function(h){return Y1(e.Lt,h)}),l=Oe.fromMillis(t.localWriteTimeMs);return new bv(t.batchId,l,n,u)}function uu(e){var t,n,i=os(e.readTime),o=e.lastLimboFreeSnapshotVersion!==void 0?os(e.lastLimboFreeSnapshotVersion):at.min();return e.query.documents!==void 0?(X((n=e.query).documents.length===1),t=mn(fs(fx(n.documents[0])))):t=function(a){return mn(bx(a))}(e.query),new Od(t,e.targetId,0,e.lastListenSequenceNumber,i,o,Re.fromBase64String(e.resumeToken))}function Sx(e,t){var n,i=is(t.snapshotVersion),o=is(t.lastLimboFreeSnapshotVersion);n=pd(t.target)?gx(e.Lt,t.target):vx(e.Lt,t.target);var a=t.resumeToken.toBase64();return new Be(t.targetId,Iu(t.target),i,a,t.sequenceNumber,o,n)}function wv(e){var t=bx({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?YT(t,t.limit,"L"):t}function nT(e){return ze(e,es.store)}function rT(e){return ze(e,ns.store)}function iT(e){return ze(e,Oi.store)}function Cx(e,t,n){var i=e.store(xt.store),o=e.store(we.store),a=[],u=IDBKeyRange.only(n.batchId),l=0,h=i.$t({range:u},function(I,E,S){return l++,S.delete()});a.push(h.next(function(){X(l===1)}));for(var p=[],m=0,b=n.mutations;m<b.length;m++){var y=b[m],_=we.key(t,y.key.path,n.batchId);a.push(o.delete(_)),p.push(y.key)}return N.waitFor(a).next(function(){return p})}function bd(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw H();t=e.noDocument}return JSON.stringify(t).length}function Ax(e,t,n){var i=we.prefixForPath(t,n.path),o=i[1],a=IDBKeyRange.lowerBound(i),u=!1;return Ko(e).$t({range:a,Ft:!0},function(l,h,p){var m=l[0],b=l[1];l[2],m===t&&b===o&&(u=!0),p.done()}).next(function(){return u})}function Rr(e){return ze(e,xt.store)}function Ko(e){return ze(e,we.store)}function kx(e){return ze(e,Ur.store)}function qo(e){return ze(e,Be.store)}function sT(e){return ze(e,tn.store)}function Lr(e){return ze(e,pe.store)}function Vi(e){return k(this,void 0,void 0,function(){return A(this,function(t){if(e.code!==x.FAILED_PRECONDITION||e.message!==_x)throw e;return M("LocalStore","Unexpectedly lost primary lease"),[2]})})}function aT(e,t){var n=e[0],i=e[1],o=t[0],a=t[1],u=ft(n,o);return u===0?ft(i,a):u}function nd(e,t){return Lr(e).put(function(n,i){return new pe(0,kn(n.path),i)}(t,e.currentSequenceNumber))}function uT(e){return ze(e,Hn.store)}function Mr(e){return ze(e,Pt.store)}function rd(e){return e.path.toArray()}function cT(e){e.createObjectStore(pe.store,{keyPath:pe.keyPath}).createIndex(pe.documentTargetsIndex,pe.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Be.store,{keyPath:Be.keyPath}).createIndex(Be.queryTargetsIndexName,Be.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(tn.store)}function au(e){return ze(e,Je.store)}function id(e){return ze(e,sr.store)}function Iv(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}function Nx(e,t,n,i){return new D2(e,t,n,i)}function Mx(e,t){return k(this,void 0,void 0,function(){var n,i,o,a;return A(this,function(u){switch(u.label){case 0:return n=L(e),i=n._n,o=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(l){var h;return n._n.getAllMutationBatches(l).next(function(p){return h=p,i=n.persistence.getMutationQueue(t),o=new Ox(n.On,i,n.persistence.getIndexManager()),i.getAllMutationBatches(l)}).next(function(p){for(var m=[],b=[],y=_t(),_=0,I=h;_<I.length;_++){var E=I[_];m.push(E.batchId);for(var S=0,O=E.mutations;S<O.length;S++){var F=O[S];y=y.add(F.key)}}for(var V=0,rt=p;V<rt.length;V++){var lt=rt[V];b.push(lt.batchId);for(var P=0,St=lt.mutations;P<St.length;P++){var ys=St[P];y=y.add(ys.key)}}return o.pn(l,y).next(function(Z){return{Ln:Z,removedBatchIds:m,addedBatchIds:b}})})})];case 1:return a=u.sent(),[2,(n._n=i,n.Mn=o,n.xn.Vn(n.Mn),a)]}})})}function O2(e,t){var n=L(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(i){var o=t.batch.keys(),a=n.On.newChangeBuffer({trackRemovals:!0});return function(u,l,h,p){var m=h.batch,b=m.keys(),y=N.resolve();return b.forEach(function(_){y=y.next(function(){return p.getEntry(l,_)}).next(function(I){var E=h.docVersions.get(_);X(E!==null),I.version.compareTo(E)<0&&(m.applyToRemoteDocument(I,h),I.isValidDocument()&&p.addEntry(I,h.commitVersion))})}),y.next(function(){return u._n.removeMutationBatch(l,m)})}(n,i,t,a).next(function(){return a.apply(i)}).next(function(){return n._n.performConsistencyCheck(i)}).next(function(){return n.Mn.pn(i,o)})})}function Px(e){var t=L(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return t.qe.getLastRemoteSnapshotVersion(n)})}function R2(e,t){var n=L(e),i=t.snapshotVersion,o=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(a){var u=n.On.newChangeBuffer({trackRemovals:!0});o=n.kn;var l=[];t.targetChanges.forEach(function(m,b){var y=o.get(b);if(y){l.push(n.qe.removeMatchingKeys(a,m.removedDocuments,b).next(function(){return n.qe.addMatchingKeys(a,m.addedDocuments,b)}));var _=m.resumeToken;if(_.approximateByteSize()>0){var I=y.withResumeToken(_,i).withSequenceNumber(a.currentSequenceNumber);o=o.insert(b,I),function(E,S,O){return X(S.resumeToken.approximateByteSize()>0),E.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=3e8||O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(y,I,m)&&l.push(n.qe.updateTargetData(a,I))}}});var h=pn();if(t.documentUpdates.forEach(function(m,b){t.resolvedLimboDocuments.has(m)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(a,m))}),l.push(Lx(a,u,t.documentUpdates,i,void 0).next(function(m){h=m})),!i.isEqual(at.min())){var p=n.qe.getLastRemoteSnapshotVersion(a).next(function(m){return n.qe.setTargetsMetadata(a,a.currentSequenceNumber,i)});l.push(p)}return N.waitFor(l).next(function(){return u.apply(a)}).next(function(){return n.Mn.En(a,h)}).next(function(){return h})}).then(function(a){return n.kn=o,a})}function Lx(e,t,n,i,o){var a=_t();return n.forEach(function(u){return a=a.add(u)}),t.getEntries(e,a).next(function(u){var l=pn();return n.forEach(function(h,p){var m=u.get(h),b=o?.get(h)||i;p.isNoDocument()&&p.version.isEqual(at.min())?(t.removeEntry(h,b),l=l.insert(h,p)):!m.isValidDocument()||p.version.compareTo(m.version)>0||p.version.compareTo(m.version)===0&&m.hasPendingWrites?(t.addEntry(p,b),l=l.insert(h,p)):M("LocalStore","Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",p.version)}),l})}function N2(e,t){var n=L(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(i){return t===void 0&&(t=-1),n._n.getNextMutationBatchAfterBatchId(i,t)})}function ss(e,t){var n=L(e);return n.persistence.runTransaction("Allocate target","readwrite",function(i){var o;return n.qe.getTargetData(i,t).next(function(a){return a?(o=a,N.resolve(o)):n.qe.allocateTargetId(i).next(function(u){return o=new Od(t,u,0,i.currentSequenceNumber),n.qe.addTargetData(i,o).next(function(){return o})})})}).then(function(i){var o=n.kn.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.kn=n.kn.insert(i.targetId,i),n.Fn.set(t,i.targetId)),i})}function as(e,t,n){return k(this,void 0,void 0,function(){var i,o,a,u;return A(this,function(l){switch(l.label){case 0:i=L(e),o=i.kn.get(t),a=n?"readwrite":"readwrite-primary",l.label=1;case 1:return l.trys.push([1,4,,5]),n?[3,3]:[4,i.persistence.runTransaction("Release target",a,function(h){return i.persistence.referenceDelegate.removeTarget(h,o)})];case 2:l.sent(),l.label=3;case 3:return[3,5];case 4:if(!Ui(u=l.sent()))throw u;return M("LocalStore","Failed to update sequence numbers for target "+t+": "+u),[3,5];case 5:return i.kn=i.kn.remove(t),i.Fn.delete(o.target),[2]}})})}function wd(e,t,n){var i=L(e),o=at.min(),a=_t();return i.persistence.runTransaction("Execute query","readonly",function(u){return function(l,h,p){var m=L(l),b=m.Fn.get(p);return b!==void 0?N.resolve(m.kn.get(b)):m.qe.getTargetData(h,p)}(i,u,mn(t)).next(function(l){if(l)return o=l.lastLimboFreeSnapshotVersion,i.qe.getMatchingKeysForTargetId(u,l.targetId).next(function(h){a=h})}).next(function(){return i.xn.getDocumentsMatchingQuery(u,t,n?o:at.min(),n?a:_t())}).next(function(l){return{documents:l,Bn:a}})})}function Fx(e,t){var n=L(e),i=L(n.qe),o=n.kn.get(t);return o?Promise.resolve(o.target):n.persistence.runTransaction("Get target data","readonly",function(a){return i.lt(a,t).next(function(u){return u?u.target:null})})}function jx(e){var t=L(e);return t.persistence.runTransaction("Get new document changes","readonly",function(n){return function(i,o,a){var u=L(i),l=pn(),h=yv(a),p=Mr(o),m=IDBKeyRange.lowerBound(h,!0);return p.$t({index:Pt.readTimeIndex,range:m},function(b,y){var _=Jg(u.R,y);l=l.insert(_.key,_),h=y.readTime}).next(function(){return{wn:l,readTime:xx(h)}})}(t.On,n,t.$n)}).then(function(n){var i=n.wn,o=n.readTime;return t.$n=o,i})}function M2(e){return k(this,void 0,void 0,function(){var t;return A(this,function(n){return[2,(t=L(e)).persistence.runTransaction("Synchronize last document change read time","readonly",function(i){return function(o){var a=Mr(o),u=at.min();return a.$t({index:Pt.readTimeIndex,reverse:!0},function(l,h,p){h.readTime&&(u=xx(h.readTime)),p.done()}).next(function(){return u})}(i)}).then(function(i){t.$n=i})]})})}function P2(e,t,n,i){return k(this,void 0,void 0,function(){var o,a,u,l,h,p,m,b,y,_;return A(this,function(I){switch(I.label){case 0:for(o=L(e),a=_t(),u=pn(),l=ux(),h=0,p=n;h<p.length;h++)m=p[h],b=t.qn(m.metadata.name),m.document&&(a=a.add(b)),u=u.insert(b,t.Un(m)),l=l.insert(b,t.Kn(m.metadata.readTime));return y=o.On.newChangeBuffer({trackRemovals:!0}),[4,ss(o,function(E){return mn(fs(vt.fromString("__bundle__/docs/"+E)))}(i))];case 1:return _=I.sent(),[2,o.persistence.runTransaction("Apply bundle documents","readwrite",function(E){return Lx(E,y,u,at.min(),l).next(function(S){return y.apply(E),S}).next(function(S){return o.qe.removeMatchingKeysForTargetId(E,_.targetId).next(function(){return o.qe.addMatchingKeys(E,a,_.targetId)}).next(function(){return o.Mn.En(E,S)}).next(function(){return S})})})]}})})}function L2(e,t,n){return n===void 0&&(n=_t()),k(this,void 0,void 0,function(){var i,o;return A(this,function(a){switch(a.label){case 0:return[4,ss(e,mn(wv(t.bundledQuery)))];case 1:return i=a.sent(),[2,(o=L(e)).persistence.runTransaction("Save named query","readwrite",function(u){var l=fe(t.readTime);if(i.snapshotVersion.compareTo(l)>=0)return o.Ke.saveNamedQuery(u,t);var h=i.withResumeToken(Re.EMPTY_BYTE_STRING,l);return o.kn=o.kn.insert(h.targetId,h),o.qe.updateTargetData(u,h).next(function(){return o.qe.removeMatchingKeysForTargetId(u,i.targetId)}).next(function(){return o.qe.addMatchingKeys(u,n,i.targetId)}).next(function(){return o.Ke.saveNamedQuery(u,t)})})]}})})}function lT(e,t){return"firestore_clients_"+e+"_"+t}function dT(e,t,n){var i="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(i+="_"+t.uid),i}function qg(e,t){return"firestore_targets_"+e+"_"+t}function Vx(){return typeof window<"u"?window:null}function cd(){return typeof document<"u"?document:null}function Rd(e){return new t2(e,!0)}function Au(e){return k(this,void 0,void 0,function(){var t,n;return A(this,function(i){switch(i.label){case 0:if(!Kr(e))return[3,4];t=0,n=e.Mr,i.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:i.sent(),i.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function ms(e){return k(this,void 0,void 0,function(){var t,n;return A(this,function(i){switch(i.label){case 0:t=0,n=e.Mr,i.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:i.sent(),i.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Nd(e,t){var n=L(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),Cv(n)?Sv(n):vs(n).er()&&xv(n,t))}function bu(e,t){var n=L(e),i=vs(n);n.$r.delete(t),i.er()&&zx(n,t),n.$r.size===0&&(i.er()?i.ir():Kr(n)&&n.Br.set("Unknown"))}function xv(e,t){e.qr.U(t.targetId),vs(e).mr(t)}function zx(e,t){e.qr.U(t),vs(e).yr(t)}function Sv(e){e.qr=new XP({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),vs(e).start(),e.Br.Sr()}function Cv(e){return Kr(e)&&!vs(e).tr()&&e.$r.size>0}function Kr(e){return L(e).Or.size===0}function qx(e){e.qr=void 0}function eL(e){return k(this,void 0,void 0,function(){return A(this,function(t){return e.$r.forEach(function(n,i){xv(e,n)}),[2]})})}function nL(e,t){return k(this,void 0,void 0,function(){return A(this,function(n){return qx(e),Cv(e)?(e.Br.Nr(t),Sv(e)):e.Br.set("Unknown"),[2]})})}function rL(e,t,n){return k(this,void 0,void 0,function(){var i,o,a;return A(this,function(u){switch(u.label){case 0:if(e.Br.set("Online"),!(t instanceof lx&&t.state===2&&t.cause))return[3,6];u.label=1;case 1:return u.trys.push([1,3,,5]),[4,function(l,h){return k(this,void 0,void 0,function(){var p,m,b,y;return A(this,function(_){switch(_.label){case 0:p=h.cause,m=0,b=h.targetIds,_.label=1;case 1:return m<b.length?(y=b[m],l.$r.has(y)?[4,l.remoteSyncer.rejectListen(y,p)]:[3,3]):[3,5];case 2:_.sent(),l.$r.delete(y),l.qr.removeTarget(y),_.label=3;case 3:_.label=4;case 4:return m++,[3,1];case 5:return[2]}})})}(e,t)];case 2:return u.sent(),[3,5];case 3:return i=u.sent(),M("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),[4,_d(e,i)];case 4:return u.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof ud?e.qr.X(t):t instanceof cx?e.qr.rt(t):e.qr.et(t),n.isEqual(at.min()))return[3,13];u.label=7;case 7:return u.trys.push([7,11,,13]),[4,Px(e.localStore)];case 8:return o=u.sent(),n.compareTo(o)>=0?[4,function(l,h){var p=l.qr.ut(h);return p.targetChanges.forEach(function(m,b){if(m.resumeToken.approximateByteSize()>0){var y=l.$r.get(b);y&&l.$r.set(b,y.withResumeToken(m.resumeToken,h))}}),p.targetMismatches.forEach(function(m){var b=l.$r.get(m);if(b){l.$r.set(m,b.withResumeToken(Re.EMPTY_BYTE_STRING,b.snapshotVersion)),zx(l,m);var y=new Od(b.target,m,1,b.sequenceNumber);xv(l,y)}}),l.remoteSyncer.applyRemoteEvent(p)}(e,n)]:[3,10];case 9:u.sent(),u.label=10;case 10:return[3,13];case 11:return M("RemoteStore","Failed to raise snapshot:",a=u.sent()),[4,_d(e,a)];case 12:return u.sent(),[3,13];case 13:return[2]}})})}function _d(e,t,n){return k(this,void 0,void 0,function(){var i=this;return A(this,function(o){switch(o.label){case 0:if(!Ui(t))throw t;return e.Or.add(1),[4,ms(e)];case 1:return o.sent(),e.Br.set("Offline"),n||(n=function(){return Px(e.localStore)}),e.asyncQueue.enqueueRetryable(function(){return k(i,void 0,void 0,function(){return A(this,function(a){switch(a.label){case 0:return M("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return a.sent(),e.Or.delete(1),[4,Au(e)];case 2:return a.sent(),[2]}})})}),[2]}})})}function Hx(e,t){return t().catch(function(n){return _d(e,n,t)})}function gs(e){return k(this,void 0,void 0,function(){var t,n,i,o,a;return A(this,function(u){switch(u.label){case 0:t=L(e),n=qr(t),i=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,u.label=1;case 1:if(!function(l){return Kr(l)&&l.Fr.length<10}(t))return[3,7];u.label=2;case 2:return u.trys.push([2,4,,6]),[4,N2(t.localStore,i)];case 3:return(o=u.sent())===null?(t.Fr.length===0&&n.ir(),[3,7]):(i=o.batchId,function(l,h){l.Fr.push(h);var p=qr(l);p.er()&&p.pr&&p.Er(h.mutations)}(t,o),[3,6]);case 4:return a=u.sent(),[4,_d(t,a)];case 5:return u.sent(),[3,6];case 6:return[3,1];case 7:return Kx(t)&&Gx(t),[2]}})})}function Kx(e){return Kr(e)&&!qr(e).tr()&&e.Fr.length>0}function Gx(e){qr(e).start()}function iL(e){return k(this,void 0,void 0,function(){return A(this,function(t){return qr(e).Ar(),[2]})})}function oL(e){return k(this,void 0,void 0,function(){var t,n,i,o;return A(this,function(a){for(t=qr(e),n=0,i=e.Fr;n<i.length;n++)o=i[n],t.Er(o.mutations);return[2]})})}function sL(e,t,n){return k(this,void 0,void 0,function(){var i,o;return A(this,function(a){switch(a.label){case 0:return i=e.Fr.shift(),o=p2.from(i,t,n),[4,Hx(e,function(){return e.remoteSyncer.applySuccessfulWrite(o)})];case 1:return a.sent(),[4,gs(e)];case 2:return a.sent(),[2]}})})}function aL(e,t){return k(this,void 0,void 0,function(){return A(this,function(n){switch(n.label){case 0:return t&&qr(e).pr?[4,function(i,o){return k(this,void 0,void 0,function(){var a,u;return A(this,function(l){switch(l.label){case 0:return sx(u=o.code)&&u!==x.ABORTED?(a=i.Fr.shift(),qr(i).sr(),[4,Hx(i,function(){return i.remoteSyncer.rejectFailedWrite(a.batchId,o)})]):[3,3];case 1:return l.sent(),[4,gs(i)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Kx(e)&&Gx(e),[2]}})})}function ev(e,t){return k(this,void 0,void 0,function(){var n;return A(this,function(i){switch(i.label){case 0:return n=L(e),t?(n.Or.delete(2),[4,Au(n)]):[3,2];case 1:return i.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,ms(n)]);case 3:i.sent(),n.Br.set("Unknown"),i.label=4;case 4:i.label=5;case 5:return[2]}})})}function vs(e){var t=this;return e.Ur||(e.Ur=function(n,i,o){var a=L(n);return a.br(),new Q2(i,a.Hi,a.credentials,a.R,o)}(e.datastore,e.asyncQueue,{Ii:eL.bind(null,e),Ri:nL.bind(null,e),_r:rL.bind(null,e)}),e.Mr.push(function(n){return k(t,void 0,void 0,function(){return A(this,function(i){switch(i.label){case 0:return n?(e.Ur.sr(),Cv(e)?Sv(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:i.sent(),qx(e),i.label=3;case 3:return[2]}})})})),e.Ur}function qr(e){var t=this;return e.Kr||(e.Kr=function(n,i,o){var a=L(n);return a.br(),new X2(i,a.Hi,a.credentials,a.R,o)}(e.datastore,e.asyncQueue,{Ii:iL.bind(null,e),Ri:aL.bind(null,e),Ir:oL.bind(null,e),Tr:sL.bind(null,e)}),e.Mr.push(function(n){return k(t,void 0,void 0,function(){return A(this,function(i){switch(i.label){case 0:return n?(e.Kr.sr(),[4,gs(e)]):[3,2];case 1:return i.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:i.sent(),e.Fr.length>0&&(M("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),i.label=4;case 4:return[2]}})})})),e.Kr}function bs(e,t){if(Wt("AsyncQueue",t+": "+e),Ui(e))return new R(x.UNAVAILABLE,t+": "+e);throw e}function Av(e,t){return k(this,void 0,void 0,function(){var n,i,o,a,u,l,h;return A(this,function(p){switch(p.label){case 0:if(n=L(e),i=t.query,o=!1,(a=n.queries.get(i))||(o=!0,a=new cL),!o)return[3,4];p.label=1;case 1:return p.trys.push([1,3,,4]),u=a,[4,n.onListen(i)];case 2:return u.Wr=p.sent(),[3,4];case 3:return l=p.sent(),h=bs(l,"Initialization of query '"+Yg(t.query)+"' failed"),[2,void t.onError(h)];case 4:return n.queries.set(i,a),a.listeners.push(t),t.zr(n.onlineState),a.Wr&&t.Hr(a.Wr)&&Dv(n),[2]}})})}function kv(e,t){return k(this,void 0,void 0,function(){var n,i,o,a,u;return A(this,function(l){return n=L(e),i=t.query,o=!1,(a=n.queries.get(i))&&(u=a.listeners.indexOf(t))>=0&&(a.listeners.splice(u,1),o=a.listeners.length===0),o?[2,(n.queries.delete(i),n.onUnlisten(i))]:[2]})})}function dL(e,t){for(var n=L(e),i=!1,o=0,a=t;o<a.length;o++){var u=a[o],l=u.query,h=n.queries.get(l);if(h){for(var p=0,m=h.listeners;p<m.length;p++)m[p].Hr(u)&&(i=!0);h.Wr=u}}i&&Dv(n)}function hL(e,t,n){var i=L(e),o=i.queries.get(t);if(o)for(var a=0,u=o.listeners;a<u.length;a++)u[a].onError(n);i.queries.delete(t)}function Dv(e){e.Gr.forEach(function(t){t.next()})}function pL(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}function bL(e,t){return k(this,void 0,void 0,function(){var n,i,o,a,u,l;return A(this,function(h){switch(h.label){case 0:return n=Lv(e),(a=n.Po.get(t))?(i=a.targetId,n.sharedClientState.addLocalQueryTarget(i),o=a.view.Ro(),[3,4]):[3,1];case 1:return[4,ss(n.localStore,mn(t))];case 2:return u=h.sent(),l=n.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,[4,Rv(n,t,i,l==="current")];case 3:o=h.sent(),n.isPrimaryClient&&Nd(n.remoteStore,u),h.label=4;case 4:return[2,o]}})})}function Rv(e,t,n,i){return k(this,void 0,void 0,function(){var o,a,u,l,h,p;return A(this,function(m){switch(m.label){case 0:return e.Oo=function(b,y,_){return function(I,E,S,O){return k(this,void 0,void 0,function(){var F,V,rt;return A(this,function(lt){switch(lt.label){case 0:return F=E.view._o(S),F.Nn?[4,wd(I.localStore,E.query,!1).then(function(P){var St=P.documents;return E.view._o(St,F)})]:[3,2];case 1:F=lt.sent(),lt.label=2;case 2:return V=O&&O.targetChanges.get(E.targetId),rt=E.view.applyChanges(F,I.isPrimaryClient,V),[2,(nv(I,E.targetId,rt.To),rt.snapshot)]}})})}(e,b,y,_)},[4,wd(e.localStore,t,!0)];case 1:return o=m.sent(),a=new Qx(t,o.Bn),u=a._o(o.documents),l=mv.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline"),h=a.applyChanges(u,e.isPrimaryClient,l),nv(e,n,h.To),p=new mL(t,n,a),[2,(e.Po.set(t,p),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),h.snapshot)]}})})}function yL(e,t){return k(this,void 0,void 0,function(){var n,i,o;return A(this,function(a){switch(a.label){case 0:return n=L(e),i=n.Po.get(t),(o=n.Vo.get(i.targetId)).length>1?[2,(n.Vo.set(i.targetId,o.filter(function(u){return!Eu(u,t)})),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)?[3,2]:[4,as(n.localStore,i.targetId,!1).then(function(){n.sharedClientState.clearQueryState(i.targetId),bu(n.remoteStore,i.targetId),us(n,i.targetId)}).catch(Vi)]):[3,3];case 1:a.sent(),a.label=2;case 2:return[3,5];case 3:return us(n,i.targetId),[4,as(n.localStore,i.targetId,!0)];case 4:a.sent(),a.label=5;case 5:return[2]}})})}function wL(e,t,n){return k(this,void 0,void 0,function(){var i,o,a,u;return A(this,function(l){switch(l.label){case 0:i=Fv(e),l.label=1;case 1:return l.trys.push([1,5,,6]),[4,function(h,p){var m,b=L(h),y=Oe.now(),_=p.reduce(function(I,E){return I.add(E.key)},_t());return b.persistence.runTransaction("Locally write mutations","readwrite",function(I){return b.Mn.pn(I,_).next(function(E){m=E;for(var S=[],O=0,F=p;O<F.length;O++){var V=F[O],rt=HP(V,m.get(V.key));rt!=null&&S.push(new Hr(V.key,rt,GT(rt.value.mapValue),Ie.exists(!0)))}return b._n.addMutationBatch(I,y,S,p)})}).then(function(I){return I.applyToLocalDocumentSet(m),{batchId:I.batchId,changes:m}})}(i.localStore,t)];case 2:return o=l.sent(),i.sharedClientState.addPendingMutation(o.batchId),function(h,p,m){var b=h.xo[h.currentUser.toKey()];b||(b=new Te(ft)),b=b.insert(p,m),h.xo[h.currentUser.toKey()]=b}(i,o.batchId,n),[4,Gr(i,o.changes)];case 3:return l.sent(),[4,gs(i.remoteStore)];case 4:return l.sent(),[3,6];case 5:return a=l.sent(),u=bs(a,"Failed to persist write"),n.reject(u),[3,6];case 6:return[2]}})})}function Xx(e,t){return k(this,void 0,void 0,function(){var n,i;return A(this,function(o){switch(o.label){case 0:n=L(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,R2(n.localStore,t)];case 2:return i=o.sent(),t.targetChanges.forEach(function(a,u){var l=n.Co.get(u);l&&(X(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?l.bo=!0:a.modifiedDocuments.size>0?X(l.bo):a.removedDocuments.size>0&&(X(l.bo),l.bo=!1))}),[4,Gr(n,i,t)];case 3:return o.sent(),[3,6];case 4:return[4,Vi(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function vT(e,t,n){var i=L(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){var o=[];i.Po.forEach(function(a,u){var l=u.view.zr(t);l.snapshot&&o.push(l.snapshot)}),function(a,u){var l=L(a);l.onlineState=u;var h=!1;l.queries.forEach(function(p,m){for(var b=0,y=m.listeners;b<y.length;b++)y[b].zr(u)&&(h=!0)}),h&&Dv(l)}(i.eventManager,t),o.length&&i.vo._r(o),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function _L(e,t,n){return k(this,void 0,void 0,function(){var i,o,a,u,l,h;return A(this,function(p){switch(p.label){case 0:return(i=L(e)).sharedClientState.updateQueryState(t,"rejected",n),o=i.Co.get(t),(a=o&&o.key)?(u=(u=new Te(G.comparator)).insert(a,me.newNoDocument(a,at.min())),l=_t().add(a),h=new pv(at.min(),new Map,new Jt(ft),u,l),[4,Xx(i,h)]):[3,2];case 1:return p.sent(),i.Do=i.Do.remove(a),i.Co.delete(t),Pv(i),[3,4];case 2:return[4,as(i.localStore,t,!1).then(function(){return us(i,t,n)}).catch(Vi)];case 3:p.sent(),p.label=4;case 4:return[2]}})})}function IL(e,t){return k(this,void 0,void 0,function(){var n,i,o;return A(this,function(a){switch(a.label){case 0:n=L(e),i=t.batch.batchId,a.label=1;case 1:return a.trys.push([1,4,,6]),[4,O2(n.localStore,t)];case 2:return o=a.sent(),Mv(n,i,null),Nv(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),[4,Gr(n,o)];case 3:return a.sent(),[3,6];case 4:return[4,Vi(a.sent())];case 5:return a.sent(),[3,6];case 6:return[2]}})})}function EL(e,t,n){return k(this,void 0,void 0,function(){var i,o;return A(this,function(a){switch(a.label){case 0:i=L(e),a.label=1;case 1:return a.trys.push([1,4,,6]),[4,function(u,l){var h=L(u);return h.persistence.runTransaction("Reject batch","readwrite-primary",function(p){var m;return h._n.lookupMutationBatch(p,l).next(function(b){return X(b!==null),m=b.keys(),h._n.removeMutationBatch(p,b)}).next(function(){return h._n.performConsistencyCheck(p)}).next(function(){return h.Mn.pn(p,m)})})}(i.localStore,t)];case 2:return o=a.sent(),Mv(i,t,n),Nv(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),[4,Gr(i,o)];case 3:return a.sent(),[3,6];case 4:return[4,Vi(a.sent())];case 5:return a.sent(),[3,6];case 6:return[2]}})})}function TL(e,t){return k(this,void 0,void 0,function(){var n,i,o,a,u;return A(this,function(l){switch(l.label){case 0:Kr((n=L(e)).remoteStore)||M("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,function(h){var p=L(h);return p.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(m){return p._n.getHighestUnacknowledgedBatchId(m)})}(n.localStore)];case 2:return(i=l.sent())===-1?[2,void t.resolve()]:((o=n.ko.get(i)||[]).push(t),n.ko.set(i,o),[3,4]);case 3:return a=l.sent(),u=bs(a,"Initialization of waitForPendingWrites() operation failed"),t.reject(u),[3,4];case 4:return[2]}})})}function Nv(e,t){(e.ko.get(t)||[]).forEach(function(n){n.resolve()}),e.ko.delete(t)}function Mv(e,t,n){var i=L(e),o=i.xo[i.currentUser.toKey()];if(o){var a=o.get(t);a&&(n?a.reject(n):a.resolve(),o=o.remove(t)),i.xo[i.currentUser.toKey()]=o}}function us(e,t,n){n===void 0&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var i=0,o=e.Vo.get(t);i<o.length;i++){var a=o[i];e.Po.delete(a),n&&e.vo.Mo(a,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach(function(u){e.No.containsKey(u)||Zx(e,u)})}function Zx(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);n!==null&&(bu(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),Pv(e))}function nv(e,t,n){for(var i=0,o=n;i<o.length;i++){var a=o[i];a instanceof Wx?(e.No.addReference(a.key,t),xL(e,a)):a instanceof Yx?(M("SyncEngine","Document no longer in limbo: "+a.key),e.No.removeReference(a.key,t),e.No.containsKey(a.key)||Zx(e,a.key)):H()}}function xL(e,t){var n=t.key,i=n.path.canonicalString();e.Do.get(n)||e.So.has(i)||(M("SyncEngine","New document in limbo: "+n),e.So.add(i),Pv(e))}function Pv(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new G(vt.fromString(t)),i=e.Fo.next();e.Co.set(i,new gL(n)),e.Do=e.Do.insert(n,i),Nd(e.remoteStore,new Od(mn(fs(n.path)),i,2,nn.o))}}function Gr(e,t,n){return k(this,void 0,void 0,function(){var i,o,a,u;return A(this,function(l){switch(l.label){case 0:return i=L(e),o=[],a=[],u=[],i.Po.isEmpty()?[3,3]:(i.Po.forEach(function(h,p){u.push(i.Oo(p,t,n).then(function(m){if(m){i.isPrimaryClient&&i.sharedClientState.updateQueryState(p.targetId,m.fromCache?"not-current":"current"),o.push(m);var b=k2.Pn(p.targetId,m);a.push(b)}}))}),[4,Promise.all(u)]);case 1:return l.sent(),i.vo._r(o),[4,function(h,p){return k(this,void 0,void 0,function(){var m,b,y,_,I,E,S,O,F;return A(this,function(V){switch(V.label){case 0:m=L(h),V.label=1;case 1:return V.trys.push([1,3,,4]),[4,m.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(rt){return N.forEach(p,function(lt){return N.forEach(lt.bn,function(P){return m.persistence.referenceDelegate.addReference(rt,lt.targetId,P)}).next(function(){return N.forEach(lt.vn,function(P){return m.persistence.referenceDelegate.removeReference(rt,lt.targetId,P)})})})})];case 2:return V.sent(),[3,4];case 3:if(!Ui(b=V.sent()))throw b;return M("LocalStore","Failed to update sequence numbers: "+b),[3,4];case 4:for(y=0,_=p;y<_.length;y++)I=_[y],E=I.targetId,I.fromCache||(S=m.kn.get(E),O=S.snapshotVersion,F=S.withLastLimboFreeSnapshotVersion(O),m.kn=m.kn.insert(E,F));return[2]}})})}(i.localStore,a)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function SL(e,t){return k(this,void 0,void 0,function(){var n,i;return A(this,function(o){switch(o.label){case 0:return(n=L(e)).currentUser.isEqual(t)?[3,3]:(M("SyncEngine","User change. New user:",t.toKey()),[4,Mx(n.localStore,t)]);case 1:return i=o.sent(),n.currentUser=t,function(a,u){a.ko.forEach(function(l){l.forEach(function(h){h.reject(new R(x.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.ko.clear()}(n),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),[4,Gr(n,i.Ln)];case 2:o.sent(),o.label=3;case 3:return[2]}})})}function CL(e,t){var n=L(e),i=n.Co.get(t);if(i&&i.bo)return _t().add(i.key);var o=_t(),a=n.Vo.get(t);if(!a)return o;for(var u=0,l=a;u<l.length;u++){var h=l[u],p=n.Po.get(h);o=o.unionWith(p.view.wo)}return o}function AL(e,t){return k(this,void 0,void 0,function(){var n,i,o;return A(this,function(a){switch(a.label){case 0:return[4,wd((n=L(e)).localStore,t.query,!0)];case 1:return i=a.sent(),o=t.view.Ao(i),[2,(n.isPrimaryClient&&nv(n,t.targetId,o.To),o)]}})})}function kL(e){return k(this,void 0,void 0,function(){var t;return A(this,function(n){return[2,jx((t=L(e)).localStore).then(function(i){return Gr(t,i)})]})})}function DL(e,t,n,i){return k(this,void 0,void 0,function(){var o,a;return A(this,function(u){switch(u.label){case 0:return[4,function(l,h){var p=L(l),m=L(p._n);return p.persistence.runTransaction("Lookup mutation documents","readonly",function(b){return m.jt(b,h).next(function(y){return y?p.Mn.pn(b,y):N.resolve(null)})})}((o=L(e)).localStore,t)];case 1:return(a=u.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,gs(o.remoteStore)];case 2:return u.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(Mv(o,t,i||null),Nv(o,t),function(l,h){L(L(l)._n).Gt(h)}(o.localStore,t)):H(),u.label=4;case 4:return[4,Gr(o,a)];case 5:return u.sent(),[3,7];case 6:M("SyncEngine","Cannot apply mutation batch with id: "+t),u.label=7;case 7:return[2]}})})}function OL(e,t){return k(this,void 0,void 0,function(){var n,i,o,a,u,l,h,p;return A(this,function(m){switch(m.label){case 0:return Lv(n=L(e)),Fv(n),t!==!0||n.$o===!0?[3,3]:(i=n.sharedClientState.getAllActiveQueryTargets(),[4,bT(n,i.toArray())]);case 1:return o=m.sent(),n.$o=!0,[4,ev(n.remoteStore,!0)];case 2:for(m.sent(),a=0,u=o;a<u.length;a++)l=u[a],Nd(n.remoteStore,l);return[3,7];case 3:return t!==!1||n.$o===!1?[3,7]:(h=[],p=Promise.resolve(),n.Vo.forEach(function(b,y){n.sharedClientState.isLocalQueryTarget(y)?h.push(y):p=p.then(function(){return us(n,y),as(n.localStore,y,!0)}),bu(n.remoteStore,y)}),[4,p]);case 4:return m.sent(),[4,bT(n,h)];case 5:return m.sent(),function(b){var y=L(b);y.Co.forEach(function(_,I){bu(y.remoteStore,I)}),y.No.ts(),y.Co=new Map,y.Do=new Te(G.comparator)}(n),n.$o=!1,[4,ev(n.remoteStore,!1)];case 6:m.sent(),m.label=7;case 7:return[2]}})})}function bT(e,t,n){return k(this,void 0,void 0,function(){var i,o,a,u,l,h,p,m,b,y,_,I,E,S;return A(this,function(O){switch(O.label){case 0:i=L(e),o=[],a=[],u=0,l=t,O.label=1;case 1:return u<l.length?(h=l[u],p=void 0,(m=i.Vo.get(h))&&m.length!==0?[4,ss(i.localStore,mn(m[0]))]:[3,7]):[3,13];case 2:p=O.sent(),b=0,y=m,O.label=3;case 3:return b<y.length?(_=y[b],I=i.Po.get(_),[4,AL(i,I)]):[3,6];case 4:(E=O.sent()).snapshot&&a.push(E.snapshot),O.label=5;case 5:return b++,[3,3];case 6:return[3,11];case 7:return[4,Fx(i.localStore,h)];case 8:return S=O.sent(),[4,ss(i.localStore,S)];case 9:return p=O.sent(),[4,Rv(i,Jx(S),h,!1)];case 10:O.sent(),O.label=11;case 11:o.push(p),O.label=12;case 12:return u++,[3,1];case 13:return[2,(i.vo._r(a),o)]}})})}function Jx(e){return WT(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function RL(e){var t=L(e);return L(L(t.localStore).persistence).fn()}function NL(e,t,n,i){return k(this,void 0,void 0,function(){var o,a,u;return A(this,function(l){switch(l.label){case 0:return(o=L(e)).$o?(M("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,jx(o.localStore)];case 3:return a=l.sent(),u=pv.createSynthesizedRemoteEventForCurrentChange(t,n==="current"),[4,Gr(o,a,u)];case 4:return l.sent(),[3,8];case 5:return[4,as(o.localStore,t,!0)];case 6:return l.sent(),us(o,t,i),[3,8];case 7:H(),l.label=8;case 8:return[2]}})})}function ML(e,t,n){return k(this,void 0,void 0,function(){var i,o,a,u,l,h,p,m,b,y;return A(this,function(_){switch(_.label){case 0:if(!(i=Lv(e)).$o)return[3,10];o=0,a=t,_.label=1;case 1:return o<a.length?(u=a[o],i.Vo.has(u)?(M("SyncEngine","Adding an already active target "+u),[3,5]):[4,Fx(i.localStore,u)]):[3,6];case 2:return l=_.sent(),[4,ss(i.localStore,l)];case 3:return h=_.sent(),[4,Rv(i,Jx(l),h.targetId,!1)];case 4:_.sent(),Nd(i.remoteStore,h),_.label=5;case 5:return o++,[3,1];case 6:p=function(I){return A(this,function(E){switch(E.label){case 0:return i.Vo.has(I)?[4,as(i.localStore,I,!1).then(function(){bu(i.remoteStore,I),us(i,I)}).catch(Vi)]:[3,2];case 1:E.sent(),E.label=2;case 2:return[2]}})},m=0,b=n,_.label=7;case 7:return m<b.length?(y=b[m],[5,p(y)]):[3,10];case 8:_.sent(),_.label=9;case 9:return m++,[3,7];case 10:return[2]}})})}function Lv(e){var t=L(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Xx.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=CL.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=_L.bind(null,t),t.vo._r=dL.bind(null,t.eventManager),t.vo.Mo=hL.bind(null,t.eventManager),t}function Fv(e){var t=L(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=IL.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=EL.bind(null,t),t}function nS(e,t){return k(this,void 0,void 0,function(){var n,i,o=this;return A(this,function(a){switch(a.label){case 0:return e.asyncQueue.verifyOperationInProgress(),M("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=a.sent(),[4,t.initialize(n)];case 2:return a.sent(),i=n.initialUser,e.setCredentialChangeListener(function(u){return k(o,void 0,void 0,function(){return A(this,function(l){switch(l.label){case 0:return i.isEqual(u)?[3,2]:[4,Mx(t.localStore,u)];case 1:l.sent(),i=u,l.label=2;case 2:return[2]}})})}),t.persistence.setDatabaseDeletedListener(function(){return e.terminate()}),e.offlineComponents=t,[2]}})})}function rS(e,t){return k(this,void 0,void 0,function(){var n,i;return A(this,function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,jv(e)];case 1:return n=o.sent(),M("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return i=o.sent(),[4,t.initialize(n,i)];case 3:return o.sent(),e.setCredentialChangeListener(function(a){return function(u,l){return k(this,void 0,void 0,function(){var h,p;return A(this,function(m){switch(m.label){case 0:return(h=L(u)).asyncQueue.verifyOperationInProgress(),M("RemoteStore","RemoteStore received new credentials"),p=Kr(h),h.Or.add(3),[4,ms(h)];case 1:return m.sent(),p&&h.Br.set("Unknown"),[4,h.remoteSyncer.handleCredentialChange(l)];case 2:return m.sent(),h.Or.delete(3),[4,Au(h)];case 3:return m.sent(),[2]}})})}(t.remoteStore,a)}),e.onlineComponents=t,[2]}})})}function jv(e){return k(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(M("FirestoreClient","Using default OfflineComponentProvider"),[4,nS(e,new tS)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}})})}function Pd(e){return k(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(M("FirestoreClient","Using default OnlineComponentProvider"),[4,rS(e,new rv)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}})})}function yT(e){return jv(e).then(function(t){return t.persistence})}function iS(e){return jv(e).then(function(t){return t.localStore})}function wT(e){return Pd(e).then(function(t){return t.remoteStore})}function oS(e){return Pd(e).then(function(t){return t.syncEngine})}function cs(e){return k(this,void 0,void 0,function(){var t,n;return A(this,function(i){switch(i.label){case 0:return[4,Pd(e)];case 1:return t=i.sent(),[2,((n=t.eventManager).onListen=bL.bind(null,t.syncEngine),n.onUnlisten=yL.bind(null,t.syncEngine),n)]}})})}function _T(e,t,n){var i=this;n===void 0&&(n={});var o=new Ee;return e.asyncQueue.enqueueAndForget(function(){return k(i,void 0,void 0,function(){var a;return A(this,function(u){switch(u.label){case 0:return a=function(l,h,p,m,b){var y=new Md({next:function(I){h.enqueueAndForget(function(){return kv(l,_)});var E=I.docs.has(p);!E&&I.fromCache?b.reject(new R(x.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&I.fromCache&&m&&m.source==="server"?b.reject(new R(x.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):b.resolve(I)},error:function(I){return b.reject(I)}}),_=new Ov(fs(p.path),y,{includeMetadataChanges:!0,so:!0});return Av(l,_)},[4,cs(e)];case 1:return[2,a.apply(void 0,[u.sent(),e.asyncQueue,t,n,o])]}})})}),o.promise}function IT(e,t,n){var i=this;n===void 0&&(n={});var o=new Ee;return e.asyncQueue.enqueueAndForget(function(){return k(i,void 0,void 0,function(){var a;return A(this,function(u){switch(u.label){case 0:return a=function(l,h,p,m,b){var y=new Md({next:function(I){h.enqueueAndForget(function(){return kv(l,_)}),I.fromCache&&m.source==="server"?b.reject(new R(x.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):b.resolve(I)},error:function(I){return b.reject(I)}}),_=new Ov(p,y,{includeMetadataChanges:!0,so:!0});return Av(l,_)},[4,cs(e)];case 1:return[2,a.apply(void 0,[u.sent(),e.asyncQueue,t,n,o])]}})})}),o.promise}function Uv(e,t,n){if(!n)throw new R(x.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function Vv(e,t){if(t===void 0)return{merge:!1};if(t.mergeFields!==void 0&&t.merge!==void 0)throw new R(x.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function aS(e,t,n,i){if(t===!0&&i===!0)throw new R(x.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function xT(e){if(!G.isDocumentKey(e))throw new R(x.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function ST(e){if(G.isDocumentKey(e))throw new R(x.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function Ld(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";var t=function(n){if(n.constructor){var i=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(i&&i.length>1)return i[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return typeof e=="function"?"a function":H()}function yt(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new R(x.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Ld(e);throw new R(x.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function CT(e,t){if(t<=0)throw new R(x.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}function uS(e,t){for(var n,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];if(e=Bt(e),Uv("collection","path",t),e instanceof yu)return ST(n=vt.fromString.apply(vt,kt([t],i))),new Vr(e,null,n);if(!(e instanceof Nt||e instanceof Vr))throw new R(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return ST(n=vt.fromString.apply(vt,kt([e.path],i)).child(vt.fromString(t))),new Vr(e.firestore,null,n)}function ld(e,t){for(var n,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];if(e=Bt(e),arguments.length===1&&(t=VT.u()),Uv("doc","path",t),e instanceof yu)return xT(n=vt.fromString.apply(vt,kt([t],i))),new Nt(e,null,new G(n));if(!(e instanceof Nt||e instanceof Vr))throw new R(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return xT(n=e._path.child(vt.fromString.apply(vt,kt([t],i)))),new Nt(e.firestore,e instanceof Vr?e.converter:null,new G(n))}function cS(e,t){return e=Bt(e),t=Bt(t),(e instanceof Nt||e instanceof Vr)&&(t instanceof Nt||t instanceof Vr)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function lS(e,t){return e=Bt(e),t=Bt(t),e instanceof on&&t instanceof on&&e.firestore===t.firestore&&Eu(e._query,t._query)&&e.converter===t.converter}function ls(e){return function(t,n){if(typeof t!="object"||t===null)return!1;for(var i=t,o=0,a=["next","error","complete"];o<a.length;o++){var u=a[o];if(u in i&&typeof i[u]=="function")return!0}return!1}(e)}function _e(e){return e._firestoreClient||hS(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function hS(e){var t,n=e._freezeSettings(),i=function(o,a,u,l){return new UL(o,a,u,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,l.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new jL(e._credentials,e._queue,i)}function kT(e,t,n){var i=this,o=new Ee;return e.asyncQueue.enqueue(function(){return k(i,void 0,void 0,function(){var a;return A(this,function(u){switch(u.label){case 0:return u.trys.push([0,3,,4]),[4,nS(e,n)];case 1:return u.sent(),[4,rS(e,t)];case 2:return u.sent(),o.resolve(),[3,4];case 3:if(!function(l){return l.name==="FirebaseError"?l.code===x.FAILED_PRECONDITION||l.code===x.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(a=u.sent()))throw a;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+a),o.reject(a),[3,4];case 4:return[2]}})})}).then(function(){return o.promise})}function DT(e){if(e._initialized||e._terminated)throw new R(x.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}function pS(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw H()}}function zi(e){var t=e._freezeSettings(),n=Rd(e._databaseId);return new $L(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Fd(e,t,n,i,o,a){a===void 0&&(a={});var u=e.Uc(a.merge||a.mergeFields?2:0,t,n,o);Hv("Data must be an object, but it was:",u,i);var l,h,p=bS(i,u);if(a.merge)l=new Yo(u.fieldMask),h=u.fieldTransforms;else if(a.mergeFields){for(var m=[],b=0,y=a.mergeFields;b<y.length;b++){var _=iv(t,y[b],n);if(!u.contains(_))throw new R(x.INVALID_ARGUMENT,"Field '"+_+"' is specified in your field mask but missing from your input data.");wS(m,_)||m.push(_)}l=new Yo(m),h=u.fieldTransforms.filter(function(I){return l.covers(I.field)})}else l=null,h=u.fieldTransforms;return new GL(new en(p),l,h)}function gS(e,t,n){return new mS({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}function zv(e,t,n,i){var o=e.Uc(1,t,n);Hv("Data must be an object, but it was:",o,i);var a=[],u=en.empty();Fi(i,function(h,p){var m=Kv(t,h,n);p=Bt(p);var b=o.Oc(m);if(p instanceof Bv)a.push(m);else{var y=qi(p,b);y!=null&&(a.push(m),u.set(m,y))}});var l=new Yo(a);return new fS(u,l,o.fieldTransforms)}function qv(e,t,n,i,o,a){var u=e.Uc(1,t,n),l=[iv(t,i,n)],h=[o];if(a.length%2!=0)throw new R(x.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var p=0;p<a.length;p+=2)l.push(iv(t,a[p])),h.push(a[p+1]);for(var m=[],b=en.empty(),y=l.length-1;y>=0;--y)if(!wS(m,l[y])){var _=l[y],I=h[y];I=Bt(I);var E=u.Oc(_);if(I instanceof Bv)m.push(_);else{var S=qi(I,E);S!=null&&(m.push(_),b.set(_,S))}}var O=new Yo(m);return new fS(b,O,u.fieldTransforms)}function vS(e,t,n,i){return i===void 0&&(i=!1),qi(n,e.Uc(i?4:3,t))}function qi(e,t){if(yS(e=Bt(e)))return Hv("Unsupported field value:",t,e),bS(e,t);if(e instanceof Bi)return function(n,i){if(!pS(i.Nc))throw i.Lc(n._methodName+"() can only be used with update() and set()");if(!i.path)throw i.Lc(n._methodName+"() is not currently supported inside arrays");var o=n._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&t.Nc!==4)throw t.Lc("Nested arrays are not supported");return function(n,i){for(var o=[],a=0,u=0,l=n;u<l.length;u++){var h=qi(l[u],i.Mc(a));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),a++}return{arrayValue:{values:o}}}(e,t)}return function(n,i){if((n=Bt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return tx(i.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var o=Oe.fromDate(n);return{timestampValue:mu(i.R,o)}}if(n instanceof Oe)return o=new Oe(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:mu(i.R,o)};if(n instanceof ku)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Li)return{bytesValue:dx(i.R,n._byteString)};if(n instanceof Nt){o=i.databaseId;var a=n.firestore._databaseId;if(!a.isEqual(o))throw i.Lc("Document reference is for database "+a.projectId+"/"+a.database+" but should be for database "+o.projectId+"/"+o.database);return{referenceValue:gv(n.firestore._databaseId||i.databaseId,n._key.path)}}throw i.Lc("Unsupported field value: "+Ld(n))}(e,t)}function bS(e,t){var n={};return zT(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Fi(e,function(i,o){var a=qi(o,t.kc(i));a!=null&&(n[i]=a)}),{mapValue:{fields:n}}}function yS(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Oe||e instanceof ku||e instanceof Li||e instanceof Nt||e instanceof Bi)}function Hv(e,t,n){if(!yS(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){var i=Ld(n);throw i==="an object"?t.Lc(e+" a custom object"):t.Lc(e+" "+i)}}function iv(e,t,n){if((t=Bt(t))instanceof Gn)return t._internalPath;if(typeof t=="string")return Kv(e,t);throw Td("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}function Kv(e,t,n){if(t.search(ZL)>=0)throw Td("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return new(Gn.bind.apply(Gn,kt([void 0],t.split("."))))()._internalPath}catch{throw Td("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function Td(e,t,n,i,o){var a=i&&!i.isEmpty(),u=o!==void 0,l="Function "+t+"() called with invalid data";n&&(l+=" (via `toFirestore()`)");var h="";return(a||u)&&(h+=" (found",a&&(h+=" in field "+i),u&&(h+=" in document "+o),h+=")"),new R(x.INVALID_ARGUMENT,(l+=". ")+e+h)}function wS(e,t){return e.some(function(n){return n.isEqual(t)})}function xd(e,t){return typeof t=="string"?Kv(e,t):t instanceof Gn?t._internalPath:t._delegate._internalPath}function tF(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return H()}}function _S(e,t){return e instanceof ar&&t instanceof ar?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(e._document===null?t._document===null:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Fr&&t instanceof Fr&&e._firestore===t._firestore&&lS(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function IS(e){if(gd(e)&&e.explicitOrderBy.length===0)throw new R(x.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function Nr(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var i=0,o=t;i<o.length;i++){var a=o[i];e=a._apply(e)}return e}function ES(e,t,n,i){if(n[0]=Bt(n[0]),n[0]instanceof wu)return function(a,u,l,h,p){if(!h)throw new R(x.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+l+"().");for(var m=[],b=0,y=Zo(a);b<y.length;b++){var _=y[b];if(_.field.isKeyField())m.push(fd(u,h.key));else{var I=h.data.field(_.field);if(av(I))throw new R(x.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+_.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(I===null){var E=_.field.canonicalString();throw new R(x.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+E+"' (used as the orderBy) does not exist.")}m.push(I)}}return new pu(m,p)}(e._query,e.firestore._databaseId,t,n[0]._document,i);var o=zi(e.firestore);return function(a,u,l,h,p,m){var b=a.explicitOrderBy;if(p.length>b.length)throw new R(x.INVALID_ARGUMENT,"Too many arguments provided to "+h+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var y=[],_=0;_<p.length;_++){var I=p[_];if(b[_].field.isKeyField()){if(typeof I!="string")throw new R(x.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+h+"(), but got a "+typeof I);if(!hv(a)&&I.indexOf("/")!==-1)throw new R(x.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+h+"() must be a plain document ID, but '"+I+"' contains a slash.");var E=a.path.child(vt.fromString(I));if(!G.isDocumentKey(E))throw new R(x.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+h+"() must result in a valid document path, but '"+E+"' is not because it contains an odd number of segments.");var S=new G(E);y.push(fd(u,S))}else{var O=vS(l,h,I);y.push(O)}}return new pu(y,m)}(e._query,e.firestore._databaseId,o,t,n,i)}function MT(e,t,n){if(typeof(n=Bt(n))=="string"){if(n==="")throw new R(x.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!hv(t)&&n.indexOf("/")!==-1)throw new R(x.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var i=t.path.child(vt.fromString(n));if(!G.isDocumentKey(i))throw new R(x.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+i+"' is not because it has an odd number of segments ("+i.length+").");return fd(e,new G(i))}if(n instanceof Nt)return fd(e,n._key);throw new R(x.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Ld(n)+".")}function PT(e,t){if(!Array.isArray(e)||e.length===0)throw new R(x.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new R(x.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function TS(e,t,n){if(!n.isEqual(t))throw new R(x.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function jd(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}function jr(e,t){if((e=Bt(e)).firestore!==t)throw new R(x.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function LT(e,t,n){e=yt(e,Nt);var i=yt(e.firestore,Yt),o=jd(e.converter,t,n);return Ou(i,[Fd(zi(i),"setDoc",e._key,o,e.converter!==null,n).toMutation(e._key,Ie.none())])}function FT(e,t,n){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];e=yt(e,Nt);var a=yt(e.firestore,Yt),u=zi(a);return Ou(a,[(typeof(t=Bt(t))=="string"||t instanceof Gn?qv(u,"updateDoc",e._key,t,n,i):zv(u,"updateDoc",e._key,t)).toMutation(e._key,Ie.exists(!0))])}function xS(e){for(var t,n,i,o=[],a=1;a<arguments.length;a++)o[a-1]=arguments[a];e=Bt(e);var u={includeMetadataChanges:!1},l=0;typeof o[l]!="object"||ls(o[l])||(u=o[l],l++);var h,p,m,b={includeMetadataChanges:u.includeMetadataChanges};if(ls(o[l])){var y=o[l];o[l]=(t=y.next)===null||t===void 0?void 0:t.bind(y),o[l+1]=(n=y.error)===null||n===void 0?void 0:n.bind(y),o[l+2]=(i=y.complete)===null||i===void 0?void 0:i.bind(y)}if(e instanceof Nt)p=yt(e.firestore,Yt),m=fs(e._key.path),h={next:function(E){o[l]&&o[l](ov(p,e,E))},error:o[l+1],complete:o[l+2]};else{var _=yt(e,on);p=yt(_.firestore,Yt),m=_._query;var I=new Ri(p);h={next:function(E){o[l]&&o[l](new Fr(p,I,_,E))},error:o[l+1],complete:o[l+2]},IS(e._query)}return function(E,S,O,F){var V=this,rt=new Md(F),lt=new Ov(S,rt,O);return E.asyncQueue.enqueueAndForget(function(){return k(V,void 0,void 0,function(){var P;return A(this,function(St){switch(St.label){case 0:return P=Av,[4,cs(E)];case 1:return[2,P.apply(void 0,[St.sent(),lt])]}})})}),function(){rt.Wo(),E.asyncQueue.enqueueAndForget(function(){return k(V,void 0,void 0,function(){var P;return A(this,function(St){switch(St.label){case 0:return P=kv,[4,cs(E)];case 1:return[2,P.apply(void 0,[St.sent(),lt])]}})})})}}(_e(p),m,b,h)}function Ou(e,t){return function(n,i){var o=this,a=new Ee;return n.asyncQueue.enqueueAndForget(function(){return k(o,void 0,void 0,function(){var u;return A(this,function(l){switch(l.label){case 0:return u=wL,[4,oS(n)];case 1:return[2,u.apply(void 0,[l.sent(),i,a])]}})})}),a.promise}(_e(e),t)}function ov(e,t,n){var i=n.docs.get(t._key),o=new Ri(e);return new ar(e,o,t._key,i,new ki(n.hasPendingWrites,n.fromCache),t.converter)}function jT(){if(typeof Uint8Array>"u")throw new R(x.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function UT(){if(typeof atob>"u")throw new R(x.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}function CS(e){var t;t=e,An.setLogLevel(t)}function De(e,t,n){return e.message=e.message.replace(t,n),e}function AS(e){for(var t=0,n=e;t<n.length;t++){var i=n[t];if(typeof i=="object"&&!ls(i))return i}return{}}function kS(e,t){var n,i,o;return{next:function(a){o.next&&o.next(t(a))},error:(n=(o=ls(e[0])?e[0]:ls(e[1])?e[1]:typeof e[0]=="function"?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)===null||n===void 0?void 0:n.bind(o),complete:(i=o.complete)===null||i===void 0?void 0:i.bind(o)}}function Di(e){return yt(e,Nt)}var nn,x,R,An,VT,Oe,at,qT,vt,AP,Dn,Yo,Re,kP,G,en,me,DP,rn,OP,RP,NP,MP,PP,LP,FP,pu,$o,ur,Ad,Jo,Mi,Pi,ts,xu,zP,Ie,kd,Su,Hr,Gt,pt,Cu,fv,KP,Te,ed,Pr,Jt,H1,GP,$P,WP,YP,QP,pv,mv,ud,cx,lx,K1,XP,ZP,JP,t2,u2,Je,Ur,xt,we,c2,l2,Pt,Hn,Be,pe,tn,Oi,sr,es,ns,d2,_x,Ix,Ee,N,Ex,rs,h2,lu,f2,J1,tT,bv,p2,Od,Tx,m2,g2,_v,v2,oT,qn,b2,yd,y2,w2,_2,I2,E2,ps,Dx,T2,x2,S2,zg,C2,A2,Ox,k2,Rx,D2,F2,Ev,re,j2,U2,V2,B2,z2,q2,H2,he,hT,Hg,fT,K2,tv,Kg,Ux,G2,pT,$2,W2,Y2,Tv,Bx,Q2,X2,Z2,J2,tL,uL,$x,mT,Id,cL,lL,Ov,fL,gT,qj,Wx,Yx,Qx,mL,gL,vL,tS,eS,PL,rv,Md,Hj,LL,FL,jL,UL,Ed,ET,sS,TT,VL,BL,zL,qL,AT,yu,Nt,on,Vr,HL,Kj,dS,Yt,Gn,Li,Bi,ku,KL,GL,fS,mS,$L,Bv,WL,YL,QL,XL,ZL,wu,JL,ki,ar,du,Fr,Du,eF,nF,OT,RT,NT,Gv,rF,iF,Ri,oF,$v,SS,Wv,Ud,Yv,Qv,Vd,Br,ds,hs,Ru,sF,Sd,_u,DS,OS,RS=Tn(()=>{"use strict";Vc();Va();El();Bg();nn=function(){function e(t,n){var i=this;this.previousValue=t,n&&(n.sequenceNumberHandler=function(o){return i.t(o)},this.i=function(o){return n.writeSequenceNumber(o)})}return e.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},e.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},e}();nn.o=-1;x={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},R=function(e){function t(n,i){var o=this;return(o=e.call(this,i)||this).code=n,o.message=i,o.name="FirebaseError",o.toString=function(){return o.name+": [code="+o.code+"]: "+o.message},o}return W(t,e),t}(Error),An=new Il("@firebase/firestore");VT=function(){function e(){}return e.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length,i="";i.length<20;)for(var o=CP(40),a=0;a<o.length;++a)i.length<20&&o[a]<n&&(i+=t.charAt(o[a]%t.length));return i},e}();Oe=function(){function e(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new R(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new R(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new R(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new R(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(t){return this.seconds===t.seconds?ft(this.nanoseconds,t.nanoseconds):ft(this.seconds,t.seconds)},e.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),at=function(){function e(t){this.timestamp=t}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new Oe(0,0))},e.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},e.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();qT=function(){function e(t,n,i){n===void 0?n=0:n>t.length&&H(),i===void 0?i=t.length-n:i>t.length-n&&H(),this.segments=t,this.offset=n,this.len=i}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return e.comparator(this,t)===0},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(i){n.push(i)}):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(t){return this.segments[this.offset+t]},e.prototype.isEmpty=function(){return this.length===0},e.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.forEach=function(t){for(var n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(t,n){for(var i=Math.min(t.length,n.length),o=0;o<i;o++){var a=t.get(o),u=n.get(o);if(a<u)return-1;if(a>u)return 1}return t.length<n.length?-1:t.length>n.length?1:0},e}(),vt=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return W(t,e),t.prototype.construct=function(n,i,o){return new t(n,i,o)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var o=[],a=0,u=n;a<u.length;a++){var l=u[a];if(l.indexOf("//")>=0)throw new R(x.INVALID_ARGUMENT,"Invalid segment ("+l+"). Paths must not contain // in them.");o.push.apply(o,l.split("/").filter(function(h){return h.length>0}))}return new t(o)},t.emptyPath=function(){return new t([])},t}(qT),AP=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Dn=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return W(t,e),t.prototype.construct=function(n,i,o){return new t(n,i,o)},t.isValidIdentifier=function(n){return AP.test(n)},t.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(n){for(var i=[],o="",a=0,u=function(){if(o.length===0)throw new R(x.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");i.push(o),o=""},l=!1;a<n.length;){var h=n[a];if(h==="\\"){if(a+1===n.length)throw new R(x.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var p=n[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new R(x.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);o+=p,a+=2}else h==="`"?(l=!l,a++):h!=="."||l?(o+=h,a++):(u(),a++)}if(u(),l)throw new R(x.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new t(i)},t.emptyPath=function(){return new t([])},t}(qT),Yo=function(){function e(t){this.fields=t,t.sort(Dn.comparator)}return e.prototype.covers=function(t){for(var n=0,i=this.fields;n<i.length;n++)if(i[n].isPrefixOf(t))return!0;return!1},e.prototype.isEqual=function(t){return Wo(this.fields,t.fields,function(n,i){return n.isEqual(i)})},e}(),Re=function(){function e(t){this.binaryString=t}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(n){for(var i="",o=0;o<n.length;++o)i+=String.fromCharCode(n[o]);return i}(t))},e.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},e.prototype.toUint8Array=function(){return function(t){for(var n=new Uint8Array(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(t){return ft(this.binaryString,t.binaryString)},e.prototype.isEqual=function(t){return this.binaryString===t.binaryString},e}();Re.EMPTY_BYTE_STRING=new Re("");kP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);G=function(){function e(t){this.path=t}return e.fromPath=function(t){return new e(vt.fromString(t))},e.fromName=function(t){return new e(vt.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},e.prototype.isEqual=function(t){return t!==null&&vt.comparator(this.path,t.path)===0},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(t,n){return vt.comparator(t.path,n.path)},e.isDocumentKey=function(t){return t.length%2==0},e.fromSegments=function(t){return new e(new vt(t.slice()))},e}();en=function(){function e(t){this.value=t}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){if(t.isEmpty())return this.value;for(var n=this.value,i=0;i<t.length-1;++i)if(!od(n=(n.mapValue.fields||{})[t.get(i)]))return null;return(n=(n.mapValue.fields||{})[t.lastSegment()])||null},e.prototype.set=function(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=cu(n)},e.prototype.setAll=function(t){var n=this,i=Dn.emptyPath(),o={},a=[];t.forEach(function(l,h){if(!i.isImmediateParentOf(h)){var p=n.getFieldsMap(i);n.applyChanges(p,o,a),o={},a=[],i=h.popLast()}l?o[h.lastSegment()]=cu(l):a.push(h.lastSegment())});var u=this.getFieldsMap(i);this.applyChanges(u,o,a)},e.prototype.delete=function(t){var n=this.field(t.popLast());od(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]},e.prototype.isEqual=function(t){return $n(this.value,t.value)},e.prototype.getFieldsMap=function(t){var n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(var i=0;i<t.length;++i){var o=n.mapValue.fields[t.get(i)];od(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=o),n=o}return n.mapValue.fields},e.prototype.applyChanges=function(t,n,i){Fi(n,function(l,h){return t[l]=h});for(var o=0,a=i;o<a.length;o++){var u=a[o];delete t[u]}},e.prototype.clone=function(){return new e(cu(this.value))},e}();me=function(){function e(t,n,i,o,a){this.key=t,this.documentType=n,this.version=i,this.data=o,this.documentState=a}return e.newInvalidDocument=function(t){return new e(t,0,at.min(),en.empty(),0)},e.newFoundDocument=function(t,n,i){return new e(t,1,n,i,0)},e.newNoDocument=function(t,n){return new e(t,2,n,en.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,en.empty(),2)},e.prototype.convertToFoundDocument=function(t,n){return this.version=t,this.documentType=1,this.data=n,this.documentState=0,this},e.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=en.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=en.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return this.documentType!==0},e.prototype.isFoundDocument=function(){return this.documentType===1},e.prototype.isNoDocument=function(){return this.documentType===2},e.prototype.isUnknownDocument=function(){return this.documentType===3},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),DP=function(e,t,n,i,o,a,u){t===void 0&&(t=null),n===void 0&&(n=[]),i===void 0&&(i=[]),o===void 0&&(o=null),a===void 0&&(a=null),u===void 0&&(u=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=i,this.limit=o,this.startAt=a,this.endAt=u,this.h=null};rn=function(e){function t(n,i,o){var a=this;return(a=e.call(this)||this).field=n,a.op=i,a.value=o,a}return W(t,e),t.create=function(n,i,o){return n.isKeyField()?i==="in"||i==="not-in"?this.l(n,i,o):new OP(n,i,o):i==="array-contains"?new MP(n,o):i==="in"?new PP(n,o):i==="not-in"?new LP(n,o):i==="array-contains-any"?new FP(n,o):new t(n,i,o)},t.l=function(n,i,o){return i==="in"?new RP(n,o):new NP(n,o)},t.prototype.matches=function(n){var i=n.data.field(this.field);return this.op==="!="?i!==null&&this.m(Xo(i,this.value)):i!==null&&Ni(this.value)===Ni(i)&&this.m(Xo(i,this.value))},t.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return H()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),OP=function(e){function t(n,i,o){var a=this;return(a=e.call(this,n,i,o)||this).key=G.fromName(o.referenceValue),a}return W(t,e),t.prototype.matches=function(n){var i=G.comparator(n.key,this.key);return this.m(i)},t}(rn),RP=function(e){function t(n,i){var o=this;return(o=e.call(this,n,"in",i)||this).keys=$T("in",i),o}return W(t,e),t.prototype.matches=function(n){return this.keys.some(function(i){return i.isEqual(n.key)})},t}(rn),NP=function(e){function t(n,i){var o=this;return(o=e.call(this,n,"not-in",i)||this).keys=$T("not-in",i),o}return W(t,e),t.prototype.matches=function(n){return!this.keys.some(function(i){return i.isEqual(n.key)})},t}(rn);MP=function(e){function t(n,i){return e.call(this,n,"array-contains",i)||this}return W(t,e),t.prototype.matches=function(n){var i=n.data.field(this.field);return cv(i)&&fu(i.arrayValue,this.value)},t}(rn),PP=function(e){function t(n,i){return e.call(this,n,"in",i)||this}return W(t,e),t.prototype.matches=function(n){var i=n.data.field(this.field);return i!==null&&fu(this.value.arrayValue,i)},t}(rn),LP=function(e){function t(n,i){return e.call(this,n,"not-in",i)||this}return W(t,e),t.prototype.matches=function(n){if(fu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var i=n.data.field(this.field);return i!==null&&!fu(this.value.arrayValue,i)},t}(rn),FP=function(e){function t(n,i){return e.call(this,n,"array-contains-any",i)||this}return W(t,e),t.prototype.matches=function(n){var i=this,o=n.data.field(this.field);return!(!cv(o)||!o.arrayValue.values)&&o.arrayValue.values.some(function(a){return fu(i.value.arrayValue,a)})},t}(rn),pu=function(e,t){this.position=e,this.before=t};$o=function(e,t){t===void 0&&(t="asc"),this.field=e,this.dir=t};ur=function(e,t,n,i,o,a,u,l){t===void 0&&(t=null),n===void 0&&(n=[]),i===void 0&&(i=[]),o===void 0&&(o=null),a===void 0&&(a="F"),u===void 0&&(u=null),l===void 0&&(l=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=i,this.limit=o,this.limitType=a,this.startAt=u,this.endAt=l,this.p=null,this.T=null,this.startAt,this.endAt};Ad=function(){this._=void 0};Jo=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return W(t,e),t}(Ad),Mi=function(e){function t(n){var i=this;return(i=e.call(this)||this).elements=n,i}return W(t,e),t}(Ad);Pi=function(e){function t(n){var i=this;return(i=e.call(this)||this).elements=n,i}return W(t,e),t}(Ad);ts=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).R=n,o.A=i,o}return W(t,e),t}(Ad);xu=function(e,t){this.field=e,this.transform=t},zP=function(e,t){this.version=e,this.transformResults=t},Ie=function(){function e(t,n){this.updateTime=t,this.exists=n}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},e}();kd=function(){};Su=function(e){function t(n,i,o,a){a===void 0&&(a=[]);var u=this;return(u=e.call(this)||this).key=n,u.value=i,u.precondition=o,u.fieldTransforms=a,u.type=0,u}return W(t,e),t}(kd),Hr=function(e){function t(n,i,o,a,u){u===void 0&&(u=[]);var l=this;return(l=e.call(this)||this).key=n,l.data=i,l.fieldMask=o,l.precondition=a,l.fieldTransforms=u,l.type=1,l}return W(t,e),t}(kd);Cu=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).key=n,o.precondition=i,o.type=2,o.fieldTransforms=[],o}return W(t,e),t}(kd),fv=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).key=n,o.precondition=i,o.type=3,o.fieldTransforms=[],o}return W(t,e),t}(kd),KP=function(e){this.count=e};(pt=Gt||(Gt={}))[pt.OK=0]="OK",pt[pt.CANCELLED=1]="CANCELLED",pt[pt.UNKNOWN=2]="UNKNOWN",pt[pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pt[pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pt[pt.NOT_FOUND=5]="NOT_FOUND",pt[pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",pt[pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",pt[pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",pt[pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pt[pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pt[pt.ABORTED=10]="ABORTED",pt[pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",pt[pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",pt[pt.INTERNAL=13]="INTERNAL",pt[pt.UNAVAILABLE=14]="UNAVAILABLE",pt[pt.DATA_LOSS=15]="DATA_LOSS";Te=function(){function e(t,n){this.comparator=t,this.root=n||Pr.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Pr.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Pr.BLACK,null,null))},e.prototype.get=function(t){for(var n=this.root;!n.isEmpty();){var i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null},e.prototype.indexOf=function(t){for(var n=0,i=this.root;!i.isEmpty();){var o=this.comparator(t,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},e.prototype.forEach=function(t){this.inorderTraversal(function(n,i){return t(n,i),!1})},e.prototype.toString=function(){var t=[];return this.inorderTraversal(function(n,i){return t.push(n+":"+i),!1}),"{"+t.join(", ")+"}"},e.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},e.prototype.getIterator=function(){return new ed(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(t){return new ed(this.root,t,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new ed(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(t){return new ed(this.root,t,this.comparator,!0)},e}(),ed=function(){function e(t,n,i,o){this.isReverse=o,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?i(t.key,n):1,o&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(a===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return e.prototype.getNext=function(){var t=this.nodeStack.pop(),n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(this.nodeStack.length===0)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},e}(),Pr=function(){function e(t,n,i,o,a){this.key=t,this.value=n,this.color=i??e.RED,this.left=o??e.EMPTY,this.right=a??e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,i,o,a){return new e(t??this.key,n??this.value,i??this.color,o??this.left,a??this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,i){var o=this,a=i(t,o.key);return(o=a<0?o.copy(null,null,null,o.left.insert(t,n,i),null):a===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,i))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var i,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return e.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},e.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},e.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw H();var t=this.left.check();if(t!==this.right.check())throw H();return t+(this.isRed()?0:1)},e}();Pr.EMPTY=null,Pr.RED=!0,Pr.BLACK=!1,Pr.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw H()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw H()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw H()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw H()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw H()},enumerable:!1,configurable:!0}),e.prototype.copy=function(t,n,i,o,a){return this},e.prototype.insert=function(t,n,i){return new Pr(t,n)},e.prototype.remove=function(t,n){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());Jt=function(){function e(t){this.comparator=t,this.data=new Te(this.comparator)}return e.prototype.has=function(t){return this.data.get(t)!==null},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(t){return this.data.indexOf(t)},e.prototype.forEach=function(t){this.data.inorderTraversal(function(n,i){return t(n),!1})},e.prototype.forEachInRange=function(t,n){for(var i=this.data.getIteratorFrom(t[0]);i.hasNext();){var o=i.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}},e.prototype.forEachWhile=function(t,n){var i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return},e.prototype.firstAfterOrEqual=function(t){var n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null},e.prototype.getIterator=function(){return new H1(this.data.getIterator())},e.prototype.getIteratorFrom=function(t){return new H1(this.data.getIteratorFrom(t))},e.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},e.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(t){var n=this;return n.size<t.size&&(n=t,t=this),t.forEach(function(i){n=n.add(i)}),n},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.data.getIterator(),i=t.data.getIterator();n.hasNext();){var o=n.getNext().key,a=i.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0},e.prototype.toArray=function(){var t=[];return this.forEach(function(n){t.push(n)}),t},e.prototype.toString=function(){var t=[];return this.forEach(function(n){return t.push(n)}),"SortedSet("+t.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),H1=function(){function e(t){this.iter=t}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),GP=new Te(G.comparator);$P=new Te(G.comparator);WP=new Te(G.comparator);YP=new Jt(G.comparator);QP=new Jt(ft);pv=function(){function e(t,n,i,o,a){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=a}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var i=new Map;return i.set(t,mv.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(at.min(),i,Dd(),pn(),_t())},e}(),mv=function(){function e(t,n,i,o,a){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=a}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(Re.EMPTY_BYTE_STRING,n,_t(),_t(),_t())},e}(),ud=function(e,t,n,i){this.v=e,this.removedTargetIds=t,this.key=n,this.P=i},cx=function(e,t){this.targetId=e,this.V=t},lx=function(e,t,n,i){n===void 0&&(n=Re.EMPTY_BYTE_STRING),i===void 0&&(i=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=i},K1=function(){function e(){this.S=0,this.D=$1(),this.C=Re.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},e.prototype.M=function(){var t=_t(),n=_t(),i=_t();return this.D.forEach(function(o,a){switch(a){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:H()}}),new mv(this.C,this.N,t,n,i)},e.prototype.L=function(){this.k=!1,this.D=$1()},e.prototype.B=function(t,n){this.k=!0,this.D=this.D.insert(t,n)},e.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),XP=function(){function e(t){this.W=t,this.G=new Map,this.H=pn(),this.J=G1(),this.Y=new Jt(ft)}return e.prototype.X=function(t){for(var n=0,i=t.v;n<i.length;n++){var o=i[n];t.P&&t.P.isFoundDocument()?this.Z(o,t.P):this.tt(o,t.key,t.P)}for(var a=0,u=t.removedTargetIds;a<u.length;a++)o=u[a],this.tt(o,t.key,t.P)},e.prototype.et=function(t){var n=this;this.forEachTarget(t,function(i){var o=n.nt(i);switch(t.state){case 0:n.st(i)&&o.O(t.resumeToken);break;case 1:o.K(),o.F||o.L(),o.O(t.resumeToken);break;case 2:o.K(),o.F||n.removeTarget(i);break;case 3:n.st(i)&&(o.j(),o.O(t.resumeToken));break;case 4:n.st(i)&&(n.it(i),o.O(t.resumeToken));break;default:H()}})},e.prototype.forEachTarget=function(t,n){var i=this;t.targetIds.length>0?t.targetIds.forEach(n):this.G.forEach(function(o,a){i.st(a)&&n(a)})},e.prototype.rt=function(t){var n=t.targetId,i=t.V.count,o=this.ot(n);if(o){var a=o.target;if(pd(a))if(i===0){var u=new G(a.path);this.tt(n,u,me.newNoDocument(u,at.min()))}else X(i===1);else this.ct(n)!==i&&(this.it(n),this.Y=this.Y.add(n))}},e.prototype.ut=function(t){var n=this,i=new Map;this.G.forEach(function(u,l){var h=n.ot(l);if(h){if(u.current&&pd(h.target)){var p=new G(h.target.path);n.H.get(p)!==null||n.at(l,p)||n.tt(l,p,me.newNoDocument(p,t))}u.$&&(i.set(l,u.M()),u.L())}});var o=_t();this.J.forEach(function(u,l){var h=!0;l.forEachWhile(function(p){var m=n.ot(p);return!m||m.purpose===2||(h=!1,!1)}),h&&(o=o.add(u))});var a=new pv(t,i,this.Y,this.H,o);return this.H=pn(),this.J=G1(),this.Y=new Jt(ft),a},e.prototype.Z=function(t,n){if(this.st(t)){var i=this.at(t,n.key)?2:0;this.nt(t).B(n.key,i),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(t))}},e.prototype.tt=function(t,n,i){if(this.st(t)){var o=this.nt(t);this.at(t,n)?o.B(n,1):o.q(n),this.J=this.J.insert(n,this.ht(n).delete(t)),i&&(this.H=this.H.insert(n,i))}},e.prototype.removeTarget=function(t){this.G.delete(t)},e.prototype.ct=function(t){var n=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size},e.prototype.U=function(t){this.nt(t).U()},e.prototype.nt=function(t){var n=this.G.get(t);return n||(n=new K1,this.G.set(t,n)),n},e.prototype.ht=function(t){var n=this.J.get(t);return n||(n=new Jt(ft),this.J=this.J.insert(t,n)),n},e.prototype.st=function(t){var n=this.ot(t)!==null;return n||M("WatchChangeAggregator","Detected inactive target",t),n},e.prototype.ot=function(t){var n=this.G.get(t);return n&&n.F?null:this.W.lt(t)},e.prototype.it=function(t){var n=this;this.G.set(t,new K1),this.W.getRemoteKeysForTarget(t).forEach(function(i){n.tt(t,i,null)})},e.prototype.at=function(t,n){return this.W.getRemoteKeysForTarget(t).has(n)},e}();ZP={asc:"ASCENDING",desc:"DESCENDING"},JP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},t2=function(e,t){this.databaseId=e,this.I=t};u2=function(e,t){this.seconds=e,this.nanoseconds=t},Je=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};Je.store="owner",Je.key="owner";Ur=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};Ur.store="mutationQueues",Ur.keyPath="userId";xt=function(e,t,n,i,o){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=i,this.mutations=o};xt.store="mutations",xt.keyPath="batchId",xt.userMutationsIndex="userMutationsIndex",xt.userMutationsKeyPath=["userId","batchId"];we=function(){function e(){}return e.prefixForUser=function(t){return[t]},e.prefixForPath=function(t,n){return[t,kn(n)]},e.key=function(t,n,i){return[t,kn(n),i]},e}();we.store="documentMutations",we.PLACEHOLDER=new we;c2=function(e,t){this.path=e,this.readTime=t},l2=function(e,t){this.path=e,this.version=t},Pt=function(e,t,n,i,o,a){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=i,this.readTime=o,this.parentPath=a};Pt.store="remoteDocuments",Pt.readTimeIndex="readTimeIndex",Pt.readTimeIndexPath="readTime",Pt.collectionReadTimeIndex="collectionReadTimeIndex",Pt.collectionReadTimeIndexPath=["parentPath","readTime"];Hn=function(e){this.byteSize=e};Hn.store="remoteDocumentGlobal",Hn.key="remoteDocumentGlobalKey";Be=function(e,t,n,i,o,a,u){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=i,this.lastListenSequenceNumber=o,this.lastLimboFreeSnapshotVersion=a,this.query=u};Be.store="targets",Be.keyPath="targetId",Be.queryTargetsIndexName="queryTargetsIndex",Be.queryTargetsKeyPath=["canonicalId","targetId"];pe=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};pe.store="targetDocuments",pe.keyPath=["targetId","path"],pe.documentTargetsIndex="documentTargetsIndex",pe.documentTargetsKeyPath=["path","targetId"];tn=function(e,t,n,i){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=i};tn.key="targetGlobalKey",tn.store="targetGlobal";Oi=function(e,t){this.collectionId=e,this.parent=t};Oi.store="collectionParents",Oi.keyPath=["collectionId","parent"];sr=function(e,t,n,i){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=i};sr.store="clientMetadata",sr.keyPath="clientId";es=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};es.store="bundles",es.keyPath="bundleId";ns=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};ns.store="namedQueries",ns.keyPath="name";d2=kt(kt([],kt(kt([],kt(kt([],kt(kt([],[Ur.store,xt.store,we.store,Pt.store,Be.store,Je.store,tn.store,pe.store]),[sr.store])),[Hn.store])),[Oi.store])),[es.store,ns.store]),_x="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Ix=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},e}(),Ee=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})},N=function(){function e(t){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(i){n.isDone=!0,n.result=i,n.nextCallback&&n.nextCallback(i)},function(i){n.isDone=!0,n.error=i,n.catchCallback&&n.catchCallback(i)})}return e.prototype.catch=function(t){return this.next(void 0,t)},e.prototype.next=function(t,n){var i=this;return this.callbackAttached&&H(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(o,a){i.nextCallback=function(u){i.wrapSuccess(t,u).next(o,a)},i.catchCallback=function(u){i.wrapFailure(n,u).next(o,a)}})},e.prototype.toPromise=function(){var t=this;return new Promise(function(n,i){t.next(n,i)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(i){return e.reject(i)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(n,i){n(t)})},e.reject=function(t){return new e(function(n,i){i(t)})},e.waitFor=function(t){return new e(function(n,i){var o=0,a=0,u=!1;t.forEach(function(l){++o,l.next(function(){++a,u&&a===o&&n()},function(h){return i(h)})}),u=!0,a===o&&n()})},e.or=function(t){for(var n=e.resolve(!1),i=function(u){n=n.next(function(l){return l?e.resolve(l):u()})},o=0,a=t;o<a.length;o++)i(a[o]);return n},e.forEach=function(t,n){var i=this,o=[];return t.forEach(function(a,u){o.push(n.call(i,a,u))}),this.waitFor(o)},e}(),Ex=function(){function e(t,n){var i=this;this.action=t,this.transaction=n,this.aborted=!1,this.ft=new Ee,this.transaction.oncomplete=function(){i.ft.resolve()},this.transaction.onabort=function(){n.error?i.ft.reject(new lu(t,n.error)):i.ft.resolve()},this.transaction.onerror=function(o){var a=vv(o.target.error);i.ft.reject(new lu(t,a))}}return e.open=function(t,n,i,o){try{return new e(n,t.transaction(o,i))}catch(a){throw new lu(n,a)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(M("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(t){var n=this.transaction.objectStore(t);return new f2(n)},e}(),rs=function(){function e(t,n,i){this.name=t,this.version=n,this.wt=i,e._t(Ar())===12.2&&Wt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return M("SimpleDb","Removing database:",t),Ai(window.indexedDB.deleteDatabase(t)).toPromise()},e.yt=function(){if(typeof indexedDB>"u")return!1;if(e.gt())return!0;var t=Ar(),n=e._t(t),i=0<n&&n<10,o=e.Et(t),a=0<o&&o<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||a)},e.gt=function(){var t;return typeof process<"u"&&((t=process.env)===null||t===void 0?void 0:t.Tt)==="YES"},e.It=function(t,n){return t.store(n)},e._t=function(t){var n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(i)},e.Et=function(t){var n=t.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)},e.prototype.At=function(t){return k(this,void 0,void 0,function(){var n,i=this;return A(this,function(o){switch(o.label){case 0:return this.db?[3,2]:(M("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(a,u){var l=indexedDB.open(i.name,i.version);l.onsuccess=function(h){var p=h.target.result;a(p)},l.onblocked=function(){u(new lu(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=function(h){var p=h.target.error;p.name==="VersionError"?u(new R(x.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):u(new lu(t,p))},l.onupgradeneeded=function(h){M("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',h.oldVersion);var p=h.target.result;i.wt.Rt(p,l.transaction,h.oldVersion,i.version).next(function(){M("SimpleDb","Database upgrade to version "+i.version+" complete")})}})]);case 1:n.db=o.sent(),o.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(a){return i.bt(a)}),this.db)]}})})},e.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(n){return t(n)})},e.prototype.runTransaction=function(t,n,i,o){return k(this,void 0,void 0,function(){var a,u,l,h,p;return A(this,function(m){switch(m.label){case 0:a=n==="readonly",u=0,l=function(){var b,y,_,I,E;return A(this,function(S){switch(S.label){case 0:++u,S.label=1;case 1:return S.trys.push([1,4,,5]),[4,h.At(t)];case 2:return h.db=S.sent(),b=Ex.open(h.db,t,a?"readonly":"readwrite",i),y=o(b).catch(function(O){return b.abort(O),N.reject(O)}).toPromise(),_={},y.catch(function(){}),[4,b.dt];case 3:return[2,(_.value=(S.sent(),y),_)];case 4:return I=S.sent(),E=I.name!=="FirebaseError"&&u<3,M("SimpleDb","Transaction failed with error:",I.message,"Retrying:",E),h.close(),E?[3,5]:[2,{value:Promise.reject(I)}];case 5:return[2]}})},h=this,m.label=1;case 1:return[5,l()];case 2:if(typeof(p=m.sent())=="object")return[2,p.value];m.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),h2=function(){function e(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(t){this.St=t},e.prototype.delete=function(){return Ai(this.Pt.delete())},e}(),lu=function(e){function t(n,i){var o=this;return(o=e.call(this,x.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+i)||this).name="IndexedDbTransactionError",o}return W(t,e),t}(R);f2=function(){function e(t){this.store=t}return e.prototype.put=function(t,n){var i;return n!==void 0?(M("SimpleDb","PUT",this.store.name,t,n),i=this.store.put(n,t)):(M("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),Ai(i)},e.prototype.add=function(t){return M("SimpleDb","ADD",this.store.name,t,t),Ai(this.store.add(t))},e.prototype.get=function(t){var n=this;return Ai(this.store.get(t)).next(function(i){return i===void 0&&(i=null),M("SimpleDb","GET",n.store.name,t,i),i})},e.prototype.delete=function(t){return M("SimpleDb","DELETE",this.store.name,t),Ai(this.store.delete(t))},e.prototype.count=function(){return M("SimpleDb","COUNT",this.store.name),Ai(this.store.count())},e.prototype.Nt=function(t,n){var i=this.cursor(this.options(t,n)),o=[];return this.xt(i,function(a,u){o.push(u)}).next(function(){return o})},e.prototype.kt=function(t,n){M("SimpleDb","DELETE ALL",this.store.name);var i=this.options(t,n);i.Ft=!1;var o=this.cursor(i);return this.xt(o,function(a,u,l){return l.delete()})},e.prototype.$t=function(t,n){var i;n?i=t:(i={},n=t);var o=this.cursor(i);return this.xt(o,n)},e.prototype.Ot=function(t){var n=this.cursor({});return new N(function(i,o){n.onerror=function(a){var u=vv(a.target.error);o(u)},n.onsuccess=function(a){var u=a.target.result;u?t(u.primaryKey,u.value).next(function(l){l?u.continue():i()}):i()}})},e.prototype.xt=function(t,n){var i=[];return new N(function(o,a){t.onerror=function(u){a(u.target.error)},t.onsuccess=function(u){var l=u.target.result;if(l){var h=new h2(l),p=n(l.primaryKey,l.value,h);if(p instanceof N){var m=p.catch(function(b){return h.done(),N.reject(b)});i.push(m)}h.isDone?o():h.Dt===null?l.continue():l.continue(h.Dt)}else o()}}).next(function(){return N.waitFor(i)})},e.prototype.options=function(t,n){var i;return t!==void 0&&(typeof t=="string"?i=t:n=t),{index:i,range:n}},e.prototype.cursor=function(t){var n="next";if(t.reverse&&(n="prev"),t.index){var i=this.store.index(t.index);return t.Ft?i.openKeyCursor(t.range,n):i.openCursor(t.range,n)}return this.store.openCursor(t.range,n)},e}();J1=!1;tT=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).Mt=n,o.currentSequenceNumber=i,o}return W(t,e),t}(Ix);bv=function(){function e(t,n,i,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=o}return e.prototype.applyToRemoteDocument=function(t,n){for(var i=n.mutationResults,o=0;o<this.mutations.length;o++){var a=this.mutations[o];a.key.isEqual(t.key)&&qP(a,t,i[o])}},e.prototype.applyToLocalView=function(t){for(var n=0,i=this.baseMutations;n<i.length;n++)(u=i[n]).key.isEqual(t.key)&&Qg(u,t,this.localWriteTime);for(var o=0,a=this.mutations;o<a.length;o++){var u;(u=a[o]).key.isEqual(t.key)&&Qg(u,t,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(t){var n=this;this.mutations.forEach(function(i){var o=t.get(i.key),a=o;n.applyToLocalView(a),o.isValidDocument()||a.convertToNoDocument(at.min())})},e.prototype.keys=function(){return this.mutations.reduce(function(t,n){return t.add(n.key)},_t())},e.prototype.isEqual=function(t){return this.batchId===t.batchId&&Wo(this.mutations,t.mutations,function(n,i){return V1(n,i)})&&Wo(this.baseMutations,t.baseMutations,function(n,i){return V1(n,i)})},e}(),p2=function(){function e(t,n,i,o){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=o}return e.from=function(t,n,i){X(t.mutations.length===i.length);for(var o=ux(),a=t.mutations,u=0;u<a.length;u++)o=o.insert(a[u].key,i[u].version);return new e(t,n,i,o)},e}(),Od=function(){function e(t,n,i,o,a,u,l){a===void 0&&(a=at.min()),u===void 0&&(u=at.min()),l===void 0&&(l=Re.EMPTY_BYTE_STRING),this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=l}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),Tx=function(e){this.Lt=e};m2=function(){function e(){}return e.prototype.getBundleMetadata=function(t,n){return nT(t).get(n).next(function(i){if(i)return{id:(o=i).bundleId,createTime:os(o.createTime),version:o.version};var o})},e.prototype.saveBundleMetadata=function(t,n){return nT(t).put({bundleId:(i=n).id,createTime:is(fe(i.createTime)),version:i.version});var i},e.prototype.getNamedQuery=function(t,n){return rT(t).get(n).next(function(i){if(i)return{name:(o=i).name,query:wv(o.bundledQuery),readTime:os(o.readTime)};var o})},e.prototype.saveNamedQuery=function(t,n){return rT(t).put(function(i){return{name:i.name,readTime:is(fe(i.readTime)),bundledQuery:i.bundledQuery}}(n))},e}();g2=function(){function e(){this.Bt=new _v}return e.prototype.addToCollectionParentIndex=function(t,n){return this.Bt.add(n),N.resolve()},e.prototype.getCollectionParents=function(t,n){return N.resolve(this.Bt.getEntries(n))},e}(),_v=function(){function e(){this.index={}}return e.prototype.add=function(t){var n=t.lastSegment(),i=t.popLast(),o=this.index[n]||new Jt(vt.comparator),a=!o.has(i);return this.index[n]=o.add(i),a},e.prototype.has=function(t){var n=t.lastSegment(),i=t.popLast(),o=this.index[n];return o&&o.has(i)},e.prototype.getEntries=function(t){return(this.index[t]||new Jt(vt.comparator)).toArray()},e}(),v2=function(){function e(){this.qt=new _v}return e.prototype.addToCollectionParentIndex=function(t,n){var i=this;if(!this.qt.has(n)){var o=n.lastSegment(),a=n.popLast();t.addOnCommittedListener(function(){i.qt.add(n)});var u={collectionId:o,parent:kn(a)};return iT(t).put(u)}return N.resolve()},e.prototype.getCollectionParents=function(t,n){var i=[],o=IDBKeyRange.bound([n,""],[BT(n),""],!1,!0);return iT(t).Nt(o).next(function(a){for(var u=0,l=a;u<l.length;u++){var h=l[u];if(h.collectionId!==n)break;i.push(or(h.parent))}return i})},e}();oT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},qn=function(){function e(t,n,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();qn.DEFAULT_COLLECTION_PERCENTILE=10,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qn.DEFAULT=new qn(41943040,qn.DEFAULT_COLLECTION_PERCENTILE,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qn.DISABLED=new qn(-1,0,0);b2=function(){function e(t,n,i,o){this.userId=t,this.R=n,this.Ut=i,this.referenceDelegate=o,this.Kt={}}return e.Qt=function(t,n,i,o){return X(t.uid!==""),new e(t.isAuthenticated()?t.uid:"",n,i,o)},e.prototype.checkEmpty=function(t){var n=!0,i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Rr(t).$t({index:xt.userMutationsIndex,range:i},function(o,a,u){n=!1,u.done()}).next(function(){return n})},e.prototype.addMutationBatch=function(t,n,i,o){var a=this,u=Ko(t),l=Rr(t);return l.add({}).next(function(h){X(typeof h=="number");for(var p=new bv(h,n,i,o),m=function(O,F,V){var rt=V.baseMutations.map(function(P){return vd(O.Lt,P)}),lt=V.mutations.map(function(P){return vd(O.Lt,P)});return new xt(F,V.batchId,V.localWriteTime.toMillis(),rt,lt)}(a.R,a.userId,p),b=[],y=new Jt(function(O,F){return ft(O.canonicalString(),F.canonicalString())}),_=0,I=o;_<I.length;_++){var E=I[_],S=we.key(a.userId,E.key.path,h);y=y.add(E.key.path.popLast()),b.push(l.put(m)),b.push(u.put(S,we.PLACEHOLDER))}return y.forEach(function(O){b.push(a.Ut.addToCollectionParentIndex(t,O))}),t.addOnCommittedListener(function(){a.Kt[h]=p.keys()}),N.waitFor(b).next(function(){return p})})},e.prototype.lookupMutationBatch=function(t,n){var i=this;return Rr(t).get(n).next(function(o){return o?(X(o.userId===i.userId),Ho(i.R,o)):null})},e.prototype.jt=function(t,n){var i=this;return this.Kt[n]?N.resolve(this.Kt[n]):this.lookupMutationBatch(t,n).next(function(o){if(o){var a=o.keys();return i.Kt[n]=a,a}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var i=this,o=n+1,a=IDBKeyRange.lowerBound([this.userId,o]),u=null;return Rr(t).$t({index:xt.userMutationsIndex,range:a},function(l,h,p){h.userId===i.userId&&(X(h.batchId>=o),u=Ho(i.R,h)),p.done()}).next(function(){return u})},e.prototype.getHighestUnacknowledgedBatchId=function(t){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),i=-1;return Rr(t).$t({index:xt.userMutationsIndex,range:n,reverse:!0},function(o,a,u){i=a.batchId,u.done()}).next(function(){return i})},e.prototype.getAllMutationBatches=function(t){var n=this,i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Rr(t).Nt(xt.userMutationsIndex,i).next(function(o){return o.map(function(a){return Ho(n.R,a)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var i=this,o=we.prefixForPath(this.userId,n.path),a=IDBKeyRange.lowerBound(o),u=[];return Ko(t).$t({range:a},function(l,h,p){var m=l[0],b=l[1],y=l[2],_=or(b);if(m===i.userId&&n.path.isEqual(_))return Rr(t).get(y).next(function(I){if(!I)throw H();X(I.userId===i.userId),u.push(Ho(i.R,I))});p.done()}).next(function(){return u})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var i=this,o=new Jt(ft),a=[];return n.forEach(function(u){var l=we.prefixForPath(i.userId,u.path),h=IDBKeyRange.lowerBound(l),p=Ko(t).$t({range:h},function(m,b,y){var _=m[0],I=m[1],E=m[2],S=or(I);_===i.userId&&u.path.isEqual(S)?o=o.add(E):y.done()});a.push(p)}),N.waitFor(a).next(function(){return i.Wt(t,o)})},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var i=this,o=n.path,a=o.length+1,u=we.prefixForPath(this.userId,o),l=IDBKeyRange.lowerBound(u),h=new Jt(ft);return Ko(t).$t({range:l},function(p,m,b){var y=p[0],_=p[1],I=p[2],E=or(_);y===i.userId&&o.isPrefixOf(E)?E.length===a&&(h=h.add(I)):b.done()}).next(function(){return i.Wt(t,h)})},e.prototype.Wt=function(t,n){var i=this,o=[],a=[];return n.forEach(function(u){a.push(Rr(t).get(u).next(function(l){if(l===null)throw H();X(l.userId===i.userId),o.push(Ho(i.R,l))}))}),N.waitFor(a).next(function(){return o})},e.prototype.removeMutationBatch=function(t,n){var i=this;return Cx(t.Mt,this.userId,n).next(function(o){return t.addOnCommittedListener(function(){i.Gt(n.batchId)}),N.forEach(o,function(a){return i.referenceDelegate.markPotentiallyOrphaned(t,a)})})},e.prototype.Gt=function(t){delete this.Kt[t]},e.prototype.performConsistencyCheck=function(t){var n=this;return this.checkEmpty(t).next(function(i){if(!i)return N.resolve();var o=IDBKeyRange.lowerBound(we.prefixForUser(n.userId)),a=[];return Ko(t).$t({range:o},function(u,l,h){if(u[0]===n.userId){var p=or(u[1]);a.push(p)}else h.done()}).next(function(){X(a.length===0)})})},e.prototype.containsKey=function(t,n){return Ax(t,this.userId,n)},e.prototype.zt=function(t){var n=this;return kx(t).get(this.userId).next(function(i){return i||new Ur(n.userId,-1,"")})},e}();yd=function(){function e(t){this.Ht=t}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),y2=function(){function e(t,n){this.referenceDelegate=t,this.R=n}return e.prototype.allocateTargetId=function(t){var n=this;return this.Xt(t).next(function(i){var o=new yd(i.highestTargetId);return i.highestTargetId=o.next(),n.Zt(t,i).next(function(){return i.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(n){return at.fromTimestamp(new Oe(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(n){return n.highestListenSequenceNumber})},e.prototype.setTargetsMetadata=function(t,n,i){var o=this;return this.Xt(t).next(function(a){return a.highestListenSequenceNumber=n,i&&(a.lastRemoteSnapshotVersion=i.toTimestamp()),n>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=n),o.Zt(t,a)})},e.prototype.addTargetData=function(t,n){var i=this;return this.te(t,n).next(function(){return i.Xt(t).next(function(o){return o.targetCount+=1,i.ee(n,o),i.Zt(t,o)})})},e.prototype.updateTargetData=function(t,n){return this.te(t,n)},e.prototype.removeTargetData=function(t,n){var i=this;return this.removeMatchingKeysForTargetId(t,n.targetId).next(function(){return qo(t).delete(n.targetId)}).next(function(){return i.Xt(t)}).next(function(o){return X(o.targetCount>0),o.targetCount-=1,i.Zt(t,o)})},e.prototype.removeTargets=function(t,n,i){var o=this,a=0,u=[];return qo(t).$t(function(l,h){var p=uu(h);p.sequenceNumber<=n&&i.get(p.targetId)===null&&(a++,u.push(o.removeTargetData(t,p)))}).next(function(){return N.waitFor(u)}).next(function(){return a})},e.prototype.forEachTarget=function(t,n){return qo(t).$t(function(i,o){var a=uu(o);n(a)})},e.prototype.Xt=function(t){return sT(t).get(tn.key).next(function(n){return X(n!==null),n})},e.prototype.Zt=function(t,n){return sT(t).put(tn.key,n)},e.prototype.te=function(t,n){return qo(t).put(Sx(this.R,n))},e.prototype.ee=function(t,n){var i=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,i=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,i=!0),i},e.prototype.getTargetCount=function(t){return this.Xt(t).next(function(n){return n.targetCount})},e.prototype.getTargetData=function(t,n){var i=Iu(n),o=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]),a=null;return qo(t).$t({range:o,index:Be.queryTargetsIndexName},function(u,l,h){var p=uu(l);Cd(n,p.target)&&(a=p,h.done())}).next(function(){return a})},e.prototype.addMatchingKeys=function(t,n,i){var o=this,a=[],u=Lr(t);return n.forEach(function(l){var h=kn(l.path);a.push(u.put(new pe(i,h))),a.push(o.referenceDelegate.addReference(t,i,l))}),N.waitFor(a)},e.prototype.removeMatchingKeys=function(t,n,i){var o=this,a=Lr(t);return N.forEach(n,function(u){var l=kn(u.path);return N.waitFor([a.delete([i,l]),o.referenceDelegate.removeReference(t,i,u)])})},e.prototype.removeMatchingKeysForTargetId=function(t,n){var i=Lr(t),o=IDBKeyRange.bound([n],[n+1],!1,!0);return i.delete(o)},e.prototype.getMatchingKeysForTargetId=function(t,n){var i=IDBKeyRange.bound([n],[n+1],!1,!0),o=Lr(t),a=_t();return o.$t({range:i,Ft:!0},function(u,l,h){var p=or(u[1]),m=new G(p);a=a.add(m)}).next(function(){return a})},e.prototype.containsKey=function(t,n){var i=kn(n.path),o=IDBKeyRange.bound([i],[BT(i)],!1,!0),a=0;return Lr(t).$t({index:pe.documentTargetsIndex,Ft:!0,range:o},function(u,l,h){var p=u[0];u[1],p!==0&&(a++,h.done())}).next(function(){return a>0})},e.prototype.lt=function(t,n){return qo(t).get(n).next(function(i){return i?uu(i):null})},e}();w2=function(){function e(t){this.ne=t,this.buffer=new Jt(aT),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(t){var n=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var i=this.buffer.last();aT(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),_2=function(){function e(t,n){this.garbageCollector=t,this.asyncQueue=n,this.oe=!1,this.ce=null}return e.prototype.start=function(t){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(t)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),e.prototype.ue=function(t){var n=this,i=this.oe?3e5:6e4;M("LruGarbageCollector","Garbage collection scheduled in "+i+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,function(){return k(n,void 0,void 0,function(){var o;return A(this,function(a){switch(a.label){case 0:this.ce=null,this.oe=!0,a.label=1;case 1:return a.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return a.sent(),[3,7];case 3:return Ui(o=a.sent())?(M("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o),[3,6]):[3,4];case 4:return[4,Vi(o)];case 5:a.sent(),a.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return a.sent(),[2]}})})})},e}(),I2=function(){function e(t,n){this.ae=t,this.params=n}return e.prototype.calculateTargetCount=function(t,n){return this.ae.he(t).next(function(i){return Math.floor(n/100*i)})},e.prototype.nthSequenceNumber=function(t,n){var i=this;if(n===0)return N.resolve(nn.o);var o=new w2(n);return this.ae.forEachTarget(t,function(a){return o.re(a.sequenceNumber)}).next(function(){return i.ae.le(t,function(a){return o.re(a)})}).next(function(){return o.maxValue})},e.prototype.removeTargets=function(t,n,i){return this.ae.removeTargets(t,n,i)},e.prototype.removeOrphanedDocuments=function(t,n){return this.ae.removeOrphanedDocuments(t,n)},e.prototype.collect=function(t,n){var i=this;return this.params.cacheSizeCollectionThreshold===-1?(M("LruGarbageCollector","Garbage collection skipped; disabled"),N.resolve(oT)):this.getCacheSize(t).next(function(o){return o<i.params.cacheSizeCollectionThreshold?(M("LruGarbageCollector","Garbage collection skipped; Cache size "+o+" is lower than threshold "+i.params.cacheSizeCollectionThreshold),oT):i.fe(t,n)})},e.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},e.prototype.fe=function(t,n){var i,o,a,u,l,h,p,m=this,b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(y){return y>m.params.maximumSequenceNumbersToCollect?(M("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+m.params.maximumSequenceNumbersToCollect+" from "+y),o=m.params.maximumSequenceNumbersToCollect):o=y,u=Date.now(),m.nthSequenceNumber(t,o)}).next(function(y){return i=y,l=Date.now(),m.removeTargets(t,i,n)}).next(function(y){return a=y,h=Date.now(),m.removeOrphanedDocuments(t,i)}).next(function(y){return p=Date.now(),Gg()<=gt.DEBUG&&M("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(u-b)+`ms
	Determined least recently used `+o+" in "+(l-u)+`ms
	Removed `+a+" targets in "+(h-l)+`ms
	Removed `+y+" documents in "+(p-h)+`ms
Total Duration: `+(p-b)+"ms"),N.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:y})})},e}(),E2=function(){function e(t,n){this.db=t,this.garbageCollector=function(i,o){return new I2(i,o)}(this,n)}return e.prototype.he=function(t){var n=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(i){return n.next(function(o){return i+o})})},e.prototype.de=function(t){var n=0;return this.le(t,function(i){n++}).next(function(){return n})},e.prototype.forEachTarget=function(t,n){return this.db.getTargetCache().forEachTarget(t,n)},e.prototype.le=function(t,n){return this.we(t,function(i,o){return n(o)})},e.prototype.addReference=function(t,n,i){return nd(t,i)},e.prototype.removeReference=function(t,n,i){return nd(t,i)},e.prototype.removeTargets=function(t,n,i){return this.db.getTargetCache().removeTargets(t,n,i)},e.prototype.markPotentiallyOrphaned=function(t,n){return nd(t,n)},e.prototype._e=function(t,n){return function(i,o){var a=!1;return kx(i).Ot(function(u){return Ax(i,u,o).next(function(l){return l&&(a=!0),N.resolve(!l)})}).next(function(){return a})}(t,n)},e.prototype.removeOrphanedDocuments=function(t,n){var i=this,o=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[],u=0;return this.we(t,function(l,h){if(h<=n){var p=i._e(t,l).next(function(m){if(!m)return u++,o.getEntry(t,l).next(function(){return o.removeEntry(l),Lr(t).delete([0,kn(l.path)])})});a.push(p)}}).next(function(){return N.waitFor(a)}).next(function(){return o.apply(t)}).next(function(){return u})},e.prototype.removeTarget=function(t,n){var i=n.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)},e.prototype.updateLimboDocument=function(t,n){return nd(t,n)},e.prototype.we=function(t,n){var i,o=Lr(t),a=nn.o;return o.$t({index:pe.documentTargetsIndex},function(u,l){var h=u[0];u[1];var p=l.path,m=l.sequenceNumber;h===0?(a!==nn.o&&n(new G(or(i)),a),a=m,i=p):a=nn.o}).next(function(){a!==nn.o&&n(new G(or(i)),a)})},e.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},e}();ps=function(){function e(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return e.prototype.get=function(t){var n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0)for(var o=0,a=i;o<a.length;o++){var u=a[o],l=u[0],h=u[1];if(this.equalsFn(l,t))return h}},e.prototype.has=function(t){return this.get(t)!==void 0},e.prototype.set=function(t,n){var i=this.mapKeyFn(t),o=this.inner[i];if(o!==void 0){for(var a=0;a<o.length;a++)if(this.equalsFn(o[a][0],t))return void(o[a]=[t,n]);o.push([t,n])}else this.inner[i]=[[t,n]]},e.prototype.delete=function(t){var n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(var o=0;o<i.length;o++)if(this.equalsFn(i[o][0],t))return i.length===1?delete this.inner[n]:i.splice(o,1),!0;return!1},e.prototype.forEach=function(t){Fi(this.inner,function(n,i){for(var o=0,a=i;o<a.length;o++){var u=a[o],l=u[0],h=u[1];t(l,h)}})},e.prototype.isEmpty=function(){return zT(this.inner)},e}(),Dx=function(){function e(){this.changes=new ps(function(t){return t.toString()},function(t,n){return t.isEqual(n)}),this.changesApplied=!1}return e.prototype.getReadTime=function(t){var n=this.changes.get(t);return n?n.readTime:at.min()},e.prototype.addEntry=function(t,n){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:n})},e.prototype.removeEntry=function(t,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(t,{document:me.newInvalidDocument(t),readTime:n})},e.prototype.getEntry=function(t,n){this.assertNotApplied();var i=this.changes.get(n);return i!==void 0?N.resolve(i.document):this.getFromCache(t,n)},e.prototype.getEntries=function(t,n){return this.getAllFromCache(t,n)},e.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},e.prototype.assertNotApplied=function(){},e}(),T2=function(){function e(t,n){this.R=t,this.Ut=n}return e.prototype.addEntry=function(t,n,i){return Mr(t).put(rd(n),i)},e.prototype.removeEntry=function(t,n){var i=Mr(t),o=rd(n);return i.delete(o)},e.prototype.updateMetadata=function(t,n){var i=this;return this.getMetadata(t).next(function(o){return o.byteSize+=n,i.me(t,o)})},e.prototype.getEntry=function(t,n){var i=this;return Mr(t).get(rd(n)).next(function(o){return i.ye(n,o)})},e.prototype.ge=function(t,n){var i=this;return Mr(t).get(rd(n)).next(function(o){return{document:i.ye(n,o),size:bd(o)}})},e.prototype.getEntries=function(t,n){var i=this,o=pn();return this.pe(t,n,function(a,u){var l=i.ye(a,u);o=o.insert(a,l)}).next(function(){return o})},e.prototype.Ee=function(t,n){var i=this,o=pn(),a=new Te(G.comparator);return this.pe(t,n,function(u,l){var h=i.ye(u,l);o=o.insert(u,h),a=a.insert(u,bd(l))}).next(function(){return{documents:o,Te:a}})},e.prototype.pe=function(t,n,i){if(n.isEmpty())return N.resolve();var o=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),a=n.getIterator(),u=a.getNext();return Mr(t).$t({range:o},function(l,h,p){for(var m=G.fromSegments(l);u&&G.comparator(u,m)<0;)i(u,null),u=a.getNext();u&&u.isEqual(m)&&(i(u,h),u=a.hasNext()?a.getNext():null),u?p.Ct(u.path.toArray()):p.done()}).next(function(){for(;u;)i(u,null),u=a.hasNext()?a.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(t,n,i){var o=this,a=pn(),u=n.path.length+1,l={};if(i.isEqual(at.min())){var h=n.path.toArray();l.range=IDBKeyRange.lowerBound(h)}else{var p=n.path.toArray(),m=yv(i);l.range=IDBKeyRange.lowerBound([p,m],!0),l.index=Pt.collectionReadTimeIndex}return Mr(t).$t(l,function(b,y,_){if(b.length===u){var I=Jg(o.R,y);n.path.isPrefixOf(I.key.path)?Tu(n,I)&&(a=a.insert(I.key,I)):_.done()}}).next(function(){return a})},e.prototype.newChangeBuffer=function(t){return new x2(this,!!t&&t.trackRemovals)},e.prototype.getSize=function(t){return this.getMetadata(t).next(function(n){return n.byteSize})},e.prototype.getMetadata=function(t){return uT(t).get(Hn.key).next(function(n){return X(!!n),n})},e.prototype.me=function(t,n){return uT(t).put(Hn.key,n)},e.prototype.ye=function(t,n){if(n){var i=Jg(this.R,n);if(!i.isNoDocument()||!i.version.isEqual(at.min()))return i}return me.newInvalidDocument(t)},e}(),x2=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).Ie=n,o.trackRemovals=i,o.Ae=new ps(function(a){return a.toString()},function(a,u){return a.isEqual(u)}),o}return W(t,e),t.prototype.applyChanges=function(n){var i=this,o=[],a=0,u=new Jt(function(l,h){return ft(l.canonicalString(),h.canonicalString())});return this.changes.forEach(function(l,h){var p=i.Ae.get(l);if(h.document.isValidDocument()){var m=eT(i.Ie.R,h.document,i.getReadTime(l));u=u.add(l.path.popLast());var b=bd(m);a+=b-p,o.push(i.Ie.addEntry(n,l,m))}else if(a-=p,i.trackRemovals){var y=eT(i.Ie.R,me.newNoDocument(l,at.min()),i.getReadTime(l));o.push(i.Ie.addEntry(n,l,y))}else o.push(i.Ie.removeEntry(n,l))}),u.forEach(function(l){o.push(i.Ie.Ut.addToCollectionParentIndex(n,l))}),o.push(this.Ie.updateMetadata(n,a)),N.waitFor(o)},t.prototype.getFromCache=function(n,i){var o=this;return this.Ie.ge(n,i).next(function(a){return o.Ae.set(i,a.size),a.document})},t.prototype.getAllFromCache=function(n,i){var o=this;return this.Ie.Ee(n,i).next(function(a){var u=a.documents;return a.Te.forEach(function(l,h){o.Ae.set(l,h)}),u})},t}(Dx);S2=function(){function e(t){this.R=t}return e.prototype.Rt=function(t,n,i,o){var a=this;X(i<o&&i>=0&&o<=11);var u=new Ex("createOrUpgrade",n);i<1&&o>=1&&(function(h){h.createObjectStore(Je.store)}(t),function(h){h.createObjectStore(Ur.store,{keyPath:Ur.keyPath}),h.createObjectStore(xt.store,{keyPath:xt.keyPath,autoIncrement:!0}).createIndex(xt.userMutationsIndex,xt.userMutationsKeyPath,{unique:!0}),h.createObjectStore(we.store)}(t),cT(t),function(h){h.createObjectStore(Pt.store)}(t));var l=N.resolve();return i<3&&o>=3&&(i!==0&&(function(h){h.deleteObjectStore(pe.store),h.deleteObjectStore(Be.store),h.deleteObjectStore(tn.store)}(t),cT(t)),l=l.next(function(){return function(h){var p=h.store(tn.store),m=new tn(0,0,at.min().toTimestamp(),0);return p.put(tn.key,m)}(u)})),i<4&&o>=4&&(i!==0&&(l=l.next(function(){return function(h,p){return p.store(xt.store).Nt().next(function(m){h.deleteObjectStore(xt.store),h.createObjectStore(xt.store,{keyPath:xt.keyPath,autoIncrement:!0}).createIndex(xt.userMutationsIndex,xt.userMutationsKeyPath,{unique:!0});var b=p.store(xt.store),y=m.map(function(_){return b.put(_)});return N.waitFor(y)})}(t,u)})),l=l.next(function(){(function(h){h.createObjectStore(sr.store,{keyPath:sr.keyPath})})(t)})),i<5&&o>=5&&(l=l.next(function(){return a.Re(u)})),i<6&&o>=6&&(l=l.next(function(){return function(h){h.createObjectStore(Hn.store)}(t),a.be(u)})),i<7&&o>=7&&(l=l.next(function(){return a.ve(u)})),i<8&&o>=8&&(l=l.next(function(){return a.Pe(t,u)})),i<9&&o>=9&&(l=l.next(function(){(function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")})(t),function(h){var p=h.objectStore(Pt.store);p.createIndex(Pt.readTimeIndex,Pt.readTimeIndexPath,{unique:!1}),p.createIndex(Pt.collectionReadTimeIndex,Pt.collectionReadTimeIndexPath,{unique:!1})}(n)})),i<10&&o>=10&&(l=l.next(function(){return a.Ve(u)})),i<11&&o>=11&&(l=l.next(function(){(function(h){h.createObjectStore(es.store,{keyPath:es.keyPath})})(t),function(h){h.createObjectStore(ns.store,{keyPath:ns.keyPath})}(t)})),l},e.prototype.be=function(t){var n=0;return t.store(Pt.store).$t(function(i,o){n+=bd(o)}).next(function(){var i=new Hn(n);return t.store(Hn.store).put(Hn.key,i)})},e.prototype.Re=function(t){var n=this,i=t.store(Ur.store),o=t.store(xt.store);return i.Nt().next(function(a){return N.forEach(a,function(u){var l=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return o.Nt(xt.userMutationsIndex,l).next(function(h){return N.forEach(h,function(p){X(p.userId===u.userId);var m=Ho(n.R,p);return Cx(t,u.userId,m).next(function(){})})})})})},e.prototype.ve=function(t){var n=t.store(pe.store),i=t.store(Pt.store);return t.store(tn.store).get(tn.key).next(function(o){var a=[];return i.$t(function(u,l){var h=new vt(u),p=function(m){return[0,kn(m)]}(h);a.push(n.get(p).next(function(m){return m?N.resolve():function(b){return n.put(new pe(0,kn(b),o.highestListenSequenceNumber))}(h)}))}).next(function(){return N.waitFor(a)})})},e.prototype.Pe=function(t,n){t.createObjectStore(Oi.store,{keyPath:Oi.keyPath});var i=n.store(Oi.store),o=new _v,a=function(u){if(o.add(u)){var l=u.lastSegment(),h=u.popLast();return i.put({collectionId:l,parent:kn(h)})}};return n.store(Pt.store).$t({Ft:!0},function(u,l){var h=new vt(u);return a(h.popLast())}).next(function(){return n.store(we.store).$t({Ft:!0},function(u,l){u[0];var h=u[1];u[2];var p=or(h);return a(p.popLast())})})},e.prototype.Ve=function(t){var n=this,i=t.store(Be.store);return i.$t(function(o,a){var u=uu(a),l=Sx(n.R,u);return i.put(l)})},e}();zg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",C2=function(){function e(t,n,i,o,a,u,l,h,p,m){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=i,this.Se=a,this.window=u,this.document=l,this.De=p,this.Ce=m,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(b){return Promise.resolve()},!e.yt())throw new R(x.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new E2(this,o),this.Le=n+"main",this.R=new Tx(h),this.Be=new rs(this.Le,11,new S2(this.R)),this.qe=new y2(this.referenceDelegate,this.R),this.Ut=new v2,this.Ue=function(b,y){return new T2(b,y)}(this.R,this.Ut),this.Ke=new m2,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,m===!1&&Wt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new R(x.FAILED_PRECONDITION,zg);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return t.qe.getHighestSequenceNumber(n)})}).then(function(n){t.Ne=new nn(n,t.De)}).then(function(){t.xe=!0}).catch(function(n){return t.Be&&t.Be.close(),Promise.reject(n)})},e.prototype.He=function(t){var n=this;return this.Me=function(i){return k(n,void 0,void 0,function(){return A(this,function(o){return this.started?[2,t(i)]:[2]})})},t(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(t){var n=this;this.Be.vt(function(i){return k(n,void 0,void 0,function(){return A(this,function(o){switch(o.label){case 0:return i.newVersion===null?[4,t()]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})})},e.prototype.setNetworkEnabled=function(t){var n=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return k(n,void 0,void 0,function(){return A(this,function(i){switch(i.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})}))},e.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return id(n).put(new sr(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(n).next(function(i){i||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(n)}).next(function(i){return t.isPrimary&&!i?t.Xe(n).next(function(){return!1}):!!i&&t.Ze(n).next(function(){return!0})})}).catch(function(n){if(Ui(n))return M("IndexedDbPersistence","Failed to extend owner lease: ",n),t.isPrimary;if(!t.allowTabSynchronization)throw n;return M("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){t.isPrimary!==n&&t.Se.enqueueRetryable(function(){return t.Me(n)}),t.isPrimary=n})},e.prototype.Je=function(t){var n=this;return au(t).get(Je.key).next(function(i){return N.resolve(n.tn(i))})},e.prototype.en=function(t){return id(t).delete(this.clientId)},e.prototype.nn=function(){return k(this,void 0,void 0,function(){var t,n,i,o,a=this;return A(this,function(u){switch(u.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(l){var h=ze(l,sr.store);return h.Nt().next(function(p){var m=a.rn(p,18e5),b=p.filter(function(y){return m.indexOf(y)===-1});return N.forEach(b,function(y){return h.delete(y.clientId)}).next(function(){return b})})}).catch(function(){return[]})]);case 1:if(t=u.sent(),this.Qe)for(n=0,i=t;n<i.length;n++)o=i[n],this.Qe.removeItem(this.on(o.clientId));u.label=2;case 2:return[2]}})})},e.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},e.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},e.prototype.Ye=function(t){var n=this;return this.Ce?N.resolve(!0):au(t).get(Je.key).next(function(i){if(i!==null&&n.sn(i.leaseTimestampMs,5e3)&&!n.cn(i.ownerId)){if(n.tn(i)&&n.networkEnabled)return!0;if(!n.tn(i)){if(!i.allowTabSynchronization)throw new R(x.FAILED_PRECONDITION,zg);return!1}}return!(!n.networkEnabled||!n.inForeground)||id(t).Nt().next(function(o){return n.rn(o,5e3).find(function(a){if(n.clientId!==a.clientId){var u=!n.networkEnabled&&a.networkEnabled,l=!n.inForeground&&a.inForeground,h=n.networkEnabled===a.networkEnabled;if(u||l&&h)return!0}return!1})===void 0})}).next(function(i){return n.isPrimary!==i&&M("IndexedDbPersistence","Client "+(i?"is":"is not")+" eligible for a primary lease."),i})},e.prototype.shutdown=function(){return k(this,void 0,void 0,function(){var t=this;return A(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Je.store,sr.store],function(i){var o=new tT(i,nn.o);return t.Xe(o).next(function(){return t.en(o)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},e.prototype.rn=function(t,n){var i=this;return t.filter(function(o){return i.sn(o.updateTimeMs,n)&&!i.cn(o.clientId)})},e.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(n){return id(n).Nt().next(function(i){return t.rn(i,18e5).map(function(o){return o.clientId})})})},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(t){return b2.Qt(t,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,i){var o=this;M("IndexedDbPersistence","Starting transaction:",t);var a,u=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(t,u,d2,function(l){return a=new tT(l,o.Ne?o.Ne.next():nn.o),n==="readwrite-primary"?o.Je(a).next(function(h){return!!h||o.Ye(a)}).next(function(h){if(!h)throw Wt("Failed to obtain primary lease for action '"+t+"'."),o.isPrimary=!1,o.Se.enqueueRetryable(function(){return o.Me(!1)}),new R(x.FAILED_PRECONDITION,_x);return i(a)}).next(function(h){return o.Ze(a).next(function(){return h})}):o.dn(a).next(function(){return i(a)})}).then(function(l){return a.raiseOnCommittedEvent(),l})},e.prototype.dn=function(t){var n=this;return au(t).get(Je.key).next(function(i){if(i!==null&&n.sn(i.leaseTimestampMs,5e3)&&!n.cn(i.ownerId)&&!n.tn(i)&&!(n.Ce||n.allowTabSynchronization&&i.allowTabSynchronization))throw new R(x.FAILED_PRECONDITION,zg)})},e.prototype.Ze=function(t){var n=new Je(this.clientId,this.allowTabSynchronization,Date.now());return au(t).put(Je.key,n)},e.yt=function(){return rs.yt()},e.prototype.Xe=function(t){var n=this,i=au(t);return i.get(Je.key).next(function(o){return n.tn(o)?(M("IndexedDbPersistence","Releasing primary lease."),i.delete(Je.key)):N.resolve()})},e.prototype.sn=function(t,n){var i=Date.now();return!(t<i-n||t>i&&(Wt("Detected an update time that is in the future: "+t+" > "+i),1))},e.prototype.We=function(){var t=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Fe=function(){t.Se.enqueueAndForget(function(){return t.inForeground=t.document.visibilityState==="visible",t.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground=this.document.visibilityState==="visible")},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var t,n=this;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.ke=function(){n.un(),JI()&&navigator.appVersion.match("Version/14")&&n.Se.enterRestrictedMode(!0),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(t){var n;try{var i=((n=this.Qe)===null||n===void 0?void 0:n.getItem(this.on(t)))!==null;return M("IndexedDbPersistence","Client '"+t+"' "+(i?"is":"is not")+" zombied in LocalStorage"),i}catch(o){return Wt("IndexedDbPersistence","Failed to get zombied client id.",o),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Wt("Failed to set zombie client id.",t)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},e.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},e}();A2=function(e,t){this.progress=e,this.wn=t},Ox=function(){function e(t,n,i){this.Ue=t,this._n=n,this.Ut=i}return e.prototype.mn=function(t,n){var i=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,n).next(function(o){return i.yn(t,n,o)})},e.prototype.yn=function(t,n,i){return this.Ue.getEntry(t,n).next(function(o){for(var a=0,u=i;a<u.length;a++)u[a].applyToLocalView(o);return o})},e.prototype.gn=function(t,n){t.forEach(function(i,o){for(var a=0,u=n;a<u.length;a++)u[a].applyToLocalView(o)})},e.prototype.pn=function(t,n){var i=this;return this.Ue.getEntries(t,n).next(function(o){return i.En(t,o).next(function(){return o})})},e.prototype.En=function(t,n){var i=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,n).next(function(o){return i.gn(n,o)})},e.prototype.getDocumentsMatchingQuery=function(t,n,i){return function(o){return G.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.Tn(t,n.path):hv(n)?this.In(t,n,i):this.An(t,n,i)},e.prototype.Tn=function(t,n){return this.mn(t,new G(n)).next(function(i){var o=Xg();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})},e.prototype.In=function(t,n,i){var o=this,a=n.collectionGroup,u=Xg();return this.Ut.getCollectionParents(t,a).next(function(l){return N.forEach(l,function(h){var p=function(m,b){return new ur(b,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,h.child(a));return o.An(t,p,i).next(function(m){m.forEach(function(b,y){u=u.insert(b,y)})})}).next(function(){return u})})},e.prototype.An=function(t,n,i){var o,a,u=this;return this.Ue.getDocumentsMatchingQuery(t,n,i).next(function(l){return o=l,u._n.getAllMutationBatchesAffectingQuery(t,n)}).next(function(l){return a=l,u.Rn(t,a,o).next(function(h){o=h;for(var p=0,m=a;p<m.length;p++)for(var b=m[p],y=0,_=b.mutations;y<_.length;y++){var I=_[y],E=I.key,S=o.get(E);S==null&&(S=me.newInvalidDocument(E),o=o.insert(E,S)),Qg(I,S,b.localWriteTime),S.isFoundDocument()||(o=o.remove(E))}})}).next(function(){return o.forEach(function(l,h){Tu(n,h)||(o=o.remove(l))}),o})},e.prototype.Rn=function(t,n,i){for(var o=_t(),a=0,u=n;a<u.length;a++)for(var l=0,h=u[a].mutations;l<h.length;l++){var p=h[l];p instanceof Hr&&i.get(p.key)===null&&(o=o.add(p.key))}var m=i;return this.Ue.getEntries(t,o).next(function(b){return b.forEach(function(y,_){_.isFoundDocument()&&(m=m.insert(y,_))}),m})},e}(),k2=function(){function e(t,n,i,o){this.targetId=t,this.fromCache=n,this.bn=i,this.vn=o}return e.Pn=function(t,n){for(var i=_t(),o=_t(),a=0,u=n.docChanges;a<u.length;a++){var l=u[a];switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}}return new e(t,n.fromCache,i,o)},e}(),Rx=function(){function e(){}return e.prototype.Vn=function(t){this.Sn=t},e.prototype.getDocumentsMatchingQuery=function(t,n,i,o){var a=this;return function(u){return u.filters.length===0&&u.limit===null&&u.startAt==null&&u.endAt==null&&(u.explicitOrderBy.length===0||u.explicitOrderBy.length===1&&u.explicitOrderBy[0].field.isKeyField())}(n)||i.isEqual(at.min())?this.Dn(t,n):this.Sn.pn(t,o).next(function(u){var l=a.Cn(n,u);return(sd(n)||gd(n))&&a.Nn(n.limitType,l,o,i)?a.Dn(t,n):(Gg()<=gt.DEBUG&&M("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Yg(n)),a.Sn.getDocumentsMatchingQuery(t,n,i).next(function(h){return l.forEach(function(p){h=h.insert(p.key,p)}),h}))})},e.prototype.Cn=function(t,n){var i=new Jt(XT(t));return n.forEach(function(o,a){Tu(t,a)&&(i=i.add(a))}),i},e.prototype.Nn=function(t,n,i,o){if(i.size!==n.size)return!0;var a=t==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)},e.prototype.Dn=function(t,n){return Gg()<=gt.DEBUG&&M("QueryEngine","Using full collection scan to execute query:",Yg(n)),this.Sn.getDocumentsMatchingQuery(t,n,at.min())},e}(),D2=function(){function e(t,n,i,o){this.persistence=t,this.xn=n,this.R=o,this.kn=new Te(ft),this.Fn=new ps(function(a){return Iu(a)},Cd),this.$n=at.min(),this._n=t.getMutationQueue(i),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new Ox(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(t){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(i){return t.collect(i,n.kn)})},e}();F2=function(){function e(t){this.R=t,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(t,n){return N.resolve(this.Qn.get(n))},e.prototype.saveBundleMetadata=function(t,n){var i;return this.Qn.set(n.id,{id:(i=n).id,version:i.version,createTime:fe(i.createTime)}),N.resolve()},e.prototype.getNamedQuery=function(t,n){return N.resolve(this.jn.get(n))},e.prototype.saveNamedQuery=function(t,n){return this.jn.set(n.name,function(i){return{name:i.name,query:wv(i.bundledQuery),readTime:fe(i.readTime)}}(n)),N.resolve()},e}(),Ev=function(){function e(){this.Wn=new Jt(re.Gn),this.zn=new Jt(re.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(t,n){var i=new re(t,n);this.Wn=this.Wn.add(i),this.zn=this.zn.add(i)},e.prototype.Jn=function(t,n){var i=this;t.forEach(function(o){return i.addReference(o,n)})},e.prototype.removeReference=function(t,n){this.Yn(new re(t,n))},e.prototype.Xn=function(t,n){var i=this;t.forEach(function(o){return i.removeReference(o,n)})},e.prototype.Zn=function(t){var n=this,i=new G(new vt([])),o=new re(i,t),a=new re(i,t+1),u=[];return this.zn.forEachInRange([o,a],function(l){n.Yn(l),u.push(l.key)}),u},e.prototype.ts=function(){var t=this;this.Wn.forEach(function(n){return t.Yn(n)})},e.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},e.prototype.es=function(t){var n=new G(new vt([])),i=new re(n,t),o=new re(n,t+1),a=_t();return this.zn.forEachInRange([i,o],function(u){a=a.add(u.key)}),a},e.prototype.containsKey=function(t){var n=new re(t,0),i=this.Wn.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)},e}(),re=function(){function e(t,n){this.key=t,this.ns=n}return e.Gn=function(t,n){return G.comparator(t.key,n.key)||ft(t.ns,n.ns)},e.Hn=function(t,n){return ft(t.ns,n.ns)||G.comparator(t.key,n.key)},e}(),j2=function(){function e(t,n){this.Ut=t,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new Jt(re.Gn)}return e.prototype.checkEmpty=function(t){return N.resolve(this._n.length===0)},e.prototype.addMutationBatch=function(t,n,i,o){var a=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var u=new bv(a,n,i,o);this._n.push(u);for(var l=0,h=o;l<h.length;l++){var p=h[l];this.rs=this.rs.add(new re(p.key,a)),this.Ut.addToCollectionParentIndex(t,p.key.path.popLast())}return N.resolve(u)},e.prototype.lookupMutationBatch=function(t,n){return N.resolve(this.os(n))},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var i=n+1,o=this.cs(i),a=o<0?0:o;return N.resolve(this._n.length>a?this._n[a]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return N.resolve(this._n.length===0?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(t){return N.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var i=this,o=new re(n,0),a=new re(n,Number.POSITIVE_INFINITY),u=[];return this.rs.forEachInRange([o,a],function(l){var h=i.os(l.ns);u.push(h)}),N.resolve(u)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var i=this,o=new Jt(ft);return n.forEach(function(a){var u=new re(a,0),l=new re(a,Number.POSITIVE_INFINITY);i.rs.forEachInRange([u,l],function(h){o=o.add(h.ns)})}),N.resolve(this.us(o))},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var i=n.path,o=i.length+1,a=i;G.isDocumentKey(a)||(a=a.child(""));var u=new re(new G(a),0),l=new Jt(ft);return this.rs.forEachWhile(function(h){var p=h.key.path;return!!i.isPrefixOf(p)&&(p.length===o&&(l=l.add(h.ns)),!0)},u),N.resolve(this.us(l))},e.prototype.us=function(t){var n=this,i=[];return t.forEach(function(o){var a=n.os(o);a!==null&&i.push(a)}),i},e.prototype.removeMutationBatch=function(t,n){var i=this;X(this.hs(n.batchId,"removed")===0),this._n.shift();var o=this.rs;return N.forEach(n.mutations,function(a){var u=new re(a.key,n.batchId);return o=o.delete(u),i.referenceDelegate.markPotentiallyOrphaned(t,a.key)}).next(function(){i.rs=o})},e.prototype.Gt=function(t){},e.prototype.containsKey=function(t,n){var i=new re(n,0),o=this.rs.firstAfterOrEqual(i);return N.resolve(n.isEqual(o&&o.key))},e.prototype.performConsistencyCheck=function(t){return this._n.length,N.resolve()},e.prototype.hs=function(t,n){return this.cs(t)},e.prototype.cs=function(t){return this._n.length===0?0:t-this._n[0].batchId},e.prototype.os=function(t){var n=this.cs(t);return n<0||n>=this._n.length?null:this._n[n]},e}(),U2=function(){function e(t,n){this.Ut=t,this.ls=n,this.docs=new Te(G.comparator),this.size=0}return e.prototype.addEntry=function(t,n,i){var o=n.key,a=this.docs.get(o),u=a?a.size:0,l=this.ls(n);return this.docs=this.docs.insert(o,{document:n.clone(),size:l,readTime:i}),this.size+=l-u,this.Ut.addToCollectionParentIndex(t,o.path.popLast())},e.prototype.removeEntry=function(t){var n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)},e.prototype.getEntry=function(t,n){var i=this.docs.get(n);return N.resolve(i?i.document.clone():me.newInvalidDocument(n))},e.prototype.getEntries=function(t,n){var i=this,o=pn();return n.forEach(function(a){var u=i.docs.get(a);o=o.insert(a,u?u.document.clone():me.newInvalidDocument(a))}),N.resolve(o)},e.prototype.getDocumentsMatchingQuery=function(t,n,i){for(var o=pn(),a=new G(n.path.child("")),u=this.docs.getIteratorFrom(a);u.hasNext();){var l=u.getNext(),h=l.key,p=l.value,m=p.document,b=p.readTime;if(!n.path.isPrefixOf(h.path))break;b.compareTo(i)<=0||Tu(n,m)&&(o=o.insert(m.key,m.clone()))}return N.resolve(o)},e.prototype.fs=function(t,n){return N.forEach(this.docs,function(i){return n(i)})},e.prototype.newChangeBuffer=function(t){return new V2(this)},e.prototype.getSize=function(t){return N.resolve(this.size)},e}(),V2=function(e){function t(n){var i=this;return(i=e.call(this)||this).Ie=n,i}return W(t,e),t.prototype.applyChanges=function(n){var i=this,o=[];return this.changes.forEach(function(a,u){u.document.isValidDocument()?o.push(i.Ie.addEntry(n,u.document,i.getReadTime(a))):i.Ie.removeEntry(a)}),N.waitFor(o)},t.prototype.getFromCache=function(n,i){return this.Ie.getEntry(n,i)},t.prototype.getAllFromCache=function(n,i){return this.Ie.getEntries(n,i)},t}(Dx),B2=function(){function e(t){this.persistence=t,this.ds=new ps(function(n){return Iu(n)},Cd),this.lastRemoteSnapshotVersion=at.min(),this.highestTargetId=0,this.ws=0,this._s=new Ev,this.targetCount=0,this.ys=yd.Jt()}return e.prototype.forEachTarget=function(t,n){return this.ds.forEach(function(i,o){return n(o)}),N.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(t){return N.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(t){return N.resolve(this.ws)},e.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),N.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ws&&(this.ws=n),N.resolve()},e.prototype.te=function(t){this.ds.set(t.target,t);var n=t.targetId;n>this.highestTargetId&&(this.ys=new yd(n),this.highestTargetId=n),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},e.prototype.addTargetData=function(t,n){return this.te(n),this.targetCount+=1,N.resolve()},e.prototype.updateTargetData=function(t,n){return this.te(n),N.resolve()},e.prototype.removeTargetData=function(t,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,N.resolve()},e.prototype.removeTargets=function(t,n,i){var o=this,a=0,u=[];return this.ds.forEach(function(l,h){h.sequenceNumber<=n&&i.get(h.targetId)===null&&(o.ds.delete(l),u.push(o.removeMatchingKeysForTargetId(t,h.targetId)),a++)}),N.waitFor(u).next(function(){return a})},e.prototype.getTargetCount=function(t){return N.resolve(this.targetCount)},e.prototype.getTargetData=function(t,n){var i=this.ds.get(n)||null;return N.resolve(i)},e.prototype.addMatchingKeys=function(t,n,i){return this._s.Jn(n,i),N.resolve()},e.prototype.removeMatchingKeys=function(t,n,i){this._s.Xn(n,i);var o=this.persistence.referenceDelegate,a=[];return o&&n.forEach(function(u){a.push(o.markPotentiallyOrphaned(t,u))}),N.waitFor(a)},e.prototype.removeMatchingKeysForTargetId=function(t,n){return this._s.Zn(n),N.resolve()},e.prototype.getMatchingKeysForTargetId=function(t,n){var i=this._s.es(n);return N.resolve(i)},e.prototype.containsKey=function(t,n){return N.resolve(this._s.containsKey(n))},e}(),z2=function(){function e(t,n){var i=this;this.gs={},this.Ne=new nn(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new B2(this),this.Ut=new g2,this.Ue=function(o,a){return new U2(o,function(u){return i.referenceDelegate.ps(u)})}(this.Ut),this.R=new Tx(n),this.Ke=new F2(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(t){var n=this.gs[t.toKey()];return n||(n=new j2(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=n),n},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,i){var o=this;M("MemoryPersistence","Starting transaction:",t);var a=new q2(this.Ne.next());return this.referenceDelegate.Es(),i(a).next(function(u){return o.referenceDelegate.Ts(a).next(function(){return u})}).toPromise().then(function(u){return a.raiseOnCommittedEvent(),u})},e.prototype.Is=function(t,n){return N.or(Object.values(this.gs).map(function(i){return function(){return i.containsKey(t,n)}}))},e}(),q2=function(e){function t(n){var i=this;return(i=e.call(this)||this).currentSequenceNumber=n,i}return W(t,e),t}(Ix),H2=function(){function e(t){this.persistence=t,this.As=new Ev,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw H()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(t,n,i){return this.As.addReference(i,n),this.vs.delete(i.toString()),N.resolve()},e.prototype.removeReference=function(t,n,i){return this.As.removeReference(i,n),this.vs.add(i.toString()),N.resolve()},e.prototype.markPotentiallyOrphaned=function(t,n){return this.vs.add(n.toString()),N.resolve()},e.prototype.removeTarget=function(t,n){var i=this;this.As.Zn(n.targetId).forEach(function(a){return i.vs.add(a.toString())});var o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(t,n.targetId).next(function(a){a.forEach(function(u){return i.vs.add(u.toString())})}).next(function(){return o.removeTargetData(t,n)})},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(t){var n=this,i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return N.forEach(this.vs,function(o){var a=G.fromPath(o);return n.Ps(t,a).next(function(u){u||i.removeEntry(a)})}).next(function(){return n.Rs=null,i.apply(t)})},e.prototype.updateLimboDocument=function(t,n){var i=this;return this.Ps(t,n).next(function(o){o?i.vs.delete(n.toString()):i.vs.add(n.toString())})},e.prototype.ps=function(t){return 0},e.prototype.Ps=function(t,n){var i=this;return N.or([function(){return N.resolve(i.As.containsKey(n))},function(){return i.persistence.getTargetCache().containsKey(t,n)},function(){return i.persistence.Is(t,n)}])},e}(),he=function(){function e(t){this.uid=t}return e.prototype.isAuthenticated=function(){return this.uid!=null},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(t){return t.uid===this.uid},e}();he.UNAUTHENTICATED=new he(null),he.GOOGLE_CREDENTIALS=new he("google-credentials-uid"),he.FIRST_PARTY=new he("first-party-uid"),he.MOCK_USER=new he("mock-user");hT=function(){function e(t,n,i,o){this.user=t,this.batchId=n,this.state=i,this.error=o}return e.Vs=function(t,n,i){var o,a=JSON.parse(i),u=typeof a=="object"&&["pending","acknowledged","rejected"].indexOf(a.state)!==-1&&(a.error===void 0||typeof a.error=="object");return u&&a.error&&(u=typeof a.error.message=="string"&&typeof a.error.code=="string")&&(o=new R(a.error.code,a.error.message)),u?new e(t,n,a.state,o):(Wt("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+i),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),Hg=function(){function e(t,n,i){this.targetId=t,this.state=n,this.error=i}return e.Vs=function(t,n){var i,o=JSON.parse(n),a=typeof o=="object"&&["not-current","current","rejected"].indexOf(o.state)!==-1&&(o.error===void 0||typeof o.error=="object");return a&&o.error&&(a=typeof o.error.message=="string"&&typeof o.error.code=="string")&&(i=new R(o.error.code,o.error.message)),a?new e(t,o.state,i):(Wt("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),fT=function(){function e(t,n){this.clientId=t,this.activeTargetIds=n}return e.Vs=function(t,n){for(var i=JSON.parse(n),o=typeof i=="object"&&i.activeTargetIds instanceof Array,a=Dd(),u=0;o&&u<i.activeTargetIds.length;++u)o=KT(i.activeTargetIds[u]),a=a.add(i.activeTargetIds[u]);return o?new e(t,a):(Wt("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),K2=function(){function e(t,n){this.clientId=t,this.onlineState=n}return e.Vs=function(t){var n=JSON.parse(t);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new e(n.clientId,n.onlineState):(Wt("SharedClientState","Failed to parse online state: "+t),null)},e}(),tv=function(){function e(){this.activeTargetIds=Dd()}return e.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},e.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},e.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},e}(),Kg=function(){function e(t,n,i,o,a){this.window=t,this.Se=n,this.persistenceKey=i,this.Ns=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new Te(ft),this.started=!1,this.$s=[];var u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.Os=lT(this.persistenceKey,this.Ns),this.Ms=function(l){return"firestore_sequence_number_"+l}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new tv),this.Ls=new RegExp("^firestore_clients_"+u+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+u+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+u+"_(\\d+)$"),this.Us=function(l){return"firestore_online_state_"+l}(this.persistenceKey),this.Ks=function(l){return"firestore_bundle_loaded_"+l}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(t){return!(!t||!t.localStorage)},e.prototype.start=function(){return k(this,void 0,void 0,function(){var t,n,i,o,a,u,l,h,p,m,b,y=this;return A(this,function(_){switch(_.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=_.sent(),n=0,i=t;n<i.length;n++)(o=i[n])!==this.Ns&&(a=this.getItem(lT(this.persistenceKey,o)))&&(u=fT.Vs(o,a))&&(this.Fs=this.Fs.insert(u.clientId,u));for(this.Qs(),(l=this.storage.getItem(this.Us))&&(h=this.js(l))&&this.Ws(h),p=0,m=this.$s;p<m.length;p++)b=m[p],this.ks(b);return this.$s=[],this.window.addEventListener("pagehide",function(){return y.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(t){var n=!1;return this.Fs.forEach(function(i,o){o.activeTargetIds.has(t)&&(n=!0)}),n},e.prototype.addPendingMutation=function(t){this.zs(t,"pending")},e.prototype.updateMutationState=function(t,n,i){this.zs(t,n,i),this.Hs(t)},e.prototype.addLocalQueryTarget=function(t){var n="not-current";if(this.isActiveQueryTarget(t)){var i=this.storage.getItem(qg(this.persistenceKey,t));if(i){var o=Hg.Vs(t,i);o&&(n=o.state)}}return this.Js.Ds(t),this.Qs(),n},e.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},e.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){this.removeItem(qg(this.persistenceKey,t))},e.prototype.updateQueryState=function(t,n,i){this.Ys(t,n,i)},e.prototype.handleUserChange=function(t,n,i){var o=this;n.forEach(function(a){o.Hs(a)}),this.currentUser=t,i.forEach(function(a){o.addPendingMutation(a)})},e.prototype.setOnlineState=function(t){this.Xs(t)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(t){var n=this.storage.getItem(t);return M("SharedClientState","READ",t,n),n},e.prototype.setItem=function(t,n){M("SharedClientState","SET",t,n),this.storage.setItem(t,n)},e.prototype.removeItem=function(t){M("SharedClientState","REMOVE",t),this.storage.removeItem(t)},e.prototype.ks=function(t){var n=this,i=t;if(i.storageArea===this.storage){if(M("SharedClientState","EVENT",i.key,i.newValue),i.key===this.Os)return void Wt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return k(n,void 0,void 0,function(){var o,a,u,l,h,p;return A(this,function(m){if(this.started){if(i.key!==null){if(this.Ls.test(i.key)){if(i.newValue==null)return o=this.ti(i.key),[2,this.ei(o,null)];if(a=this.ni(i.key,i.newValue))return[2,this.ei(a.clientId,a)]}else if(this.Bs.test(i.key)){if(i.newValue!==null&&(u=this.si(i.key,i.newValue)))return[2,this.ii(u)]}else if(this.qs.test(i.key)){if(i.newValue!==null&&(l=this.ri(i.key,i.newValue)))return[2,this.oi(l)]}else if(i.key===this.Us){if(i.newValue!==null&&(h=this.js(i.newValue)))return[2,this.Ws(h)]}else if(i.key===this.Ms)(p=function(b){var y=nn.o;if(b!=null)try{var _=JSON.parse(b);X(typeof _=="number"),y=_}catch(I){Wt("SharedClientState","Failed to read sequence number from WebStorage",I)}return y}(i.newValue))!==nn.o&&this.sequenceNumberHandler(p);else if(i.key===this.Ks)return[2,this.syncEngine.ci()]}}else this.$s.push(i);return[2]})})})}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(t,n,i){var o=new hT(this.currentUser,t,n,i),a=dT(this.persistenceKey,this.currentUser,t);this.setItem(a,o.Ss())},e.prototype.Hs=function(t){var n=dT(this.persistenceKey,this.currentUser,t);this.removeItem(n)},e.prototype.Xs=function(t){var n={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(n))},e.prototype.Ys=function(t,n,i){var o=qg(this.persistenceKey,t),a=new Hg(t,n,i);this.setItem(o,a.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(t){var n=this.Ls.exec(t);return n?n[1]:null},e.prototype.ni=function(t,n){var i=this.ti(t);return fT.Vs(i,n)},e.prototype.si=function(t,n){var i=this.Bs.exec(t),o=Number(i[1]),a=i[2]!==void 0?i[2]:null;return hT.Vs(new he(a),o,n)},e.prototype.ri=function(t,n){var i=this.qs.exec(t),o=Number(i[1]);return Hg.Vs(o,n)},e.prototype.js=function(t){return K2.Vs(t)},e.prototype.ii=function(t){return k(this,void 0,void 0,function(){return A(this,function(n){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(M("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},e.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},e.prototype.ei=function(t,n){var i=this,o=n?this.Fs.insert(t,n):this.Fs.remove(t),a=this.Gs(this.Fs),u=this.Gs(o),l=[],h=[];return u.forEach(function(p){a.has(p)||l.push(p)}),a.forEach(function(p){u.has(p)||h.push(p)}),this.syncEngine.hi(l,h).then(function(){i.Fs=o})},e.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},e.prototype.Gs=function(t){var n=Dd();return t.forEach(function(i,o){n=n.unionWith(o.activeTargetIds)}),n},e}(),Ux=function(){function e(){this.li=new tv,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(t){},e.prototype.updateMutationState=function(t,n,i){},e.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},e.prototype.updateQueryState=function(t,n,i){this.fi[t]=n},e.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},e.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){delete this.fi[t]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.start=function(){return this.li=new tv,Promise.resolve()},e.prototype.handleUserChange=function(t,n,i){},e.prototype.setOnlineState=function(t){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(t){},e.prototype.notifyBundleLoaded=function(){},e}(),G2=function(){function e(){}return e.prototype.di=function(t){},e.prototype.shutdown=function(){},e}(),pT=function(){function e(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return e.prototype.di=function(t){this.gi.push(t)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){M("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(0)},e.prototype.yi=function(){M("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(1)},e.yt=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},e}(),$2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},W2=function(){function e(t){this.Ei=t.Ei,this.Ti=t.Ti}return e.prototype.Ii=function(t){this.Ai=t},e.prototype.Ri=function(t){this.bi=t},e.prototype.onMessage=function(t){this.vi=t},e.prototype.close=function(){this.Ti()},e.prototype.send=function(t){this.Ei(t)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(t){this.bi(t)},e.prototype.Si=function(t){this.vi(t)},e}(),Y2=function(e){function t(n){var i=this;return(i=e.call(this,n)||this).forceLongPolling=n.forceLongPolling,i.autoDetectLongPolling=n.autoDetectLongPolling,i.useFetchStreams=n.useFetchStreams,i}return W(t,e),t.prototype.Fi=function(n,i,o,a){return new Promise(function(u,l){var h=new O1;h.listenOnce(A1.COMPLETE,function(){try{switch(h.getLastErrorCode()){case td.NO_ERROR:var m=h.getResponseJson();M("Connection","XHR received:",JSON.stringify(m)),u(m);break;case td.TIMEOUT:M("Connection",'RPC "'+n+'" timed out'),l(new R(x.DEADLINE_EXCEEDED,"Request time out"));break;case td.HTTP_ERROR:var b=h.getStatus();if(M("Connection",'RPC "'+n+'" failed with status:',b,"response text:",h.getResponseText()),b>0){var y=h.getResponseJson().error;if(y&&y.status&&y.message){var _=function(I){var E=I.toLowerCase().replace(/_/g,"-");return Object.values(x).indexOf(E)>=0?E:x.UNKNOWN}(y.status);l(new R(_,y.message))}else l(new R(x.UNKNOWN,"Server responded with status "+h.getStatus()))}else l(new R(x.UNAVAILABLE,"Connection failed."));break;default:H()}}finally{M("Connection",'RPC "'+n+'" completed.')}});var p=JSON.stringify(a);h.send(i,"POST",p,o,15)})},t.prototype.Oi=function(n,i){var o=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],a=S1(),u=C1(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new D1({})),this.ki(l.initMessageHeaders,i),GI()||YI()||QI()||XI()||ZI()||WI()||(l.httpHeadersOverwriteParam="$httpHeaders");var h=o.join("");M("Connection","Creating WebChannel: "+h,l);var p=a.createWebChannel(h,l),m=!1,b=!1,y=new W2({Ei:function(I){b?M("Connection","Not sending because WebChannel is closed:",I):(m||(M("Connection","Opening WebChannel transport."),p.open(),m=!0),M("Connection","WebChannel sending:",I),p.send(I))},Ti:function(){return p.close()}}),_=function(I,E,S){I.listen(E,function(O){try{S(O)}catch(F){setTimeout(function(){throw F},0)}})};return _(p,su.EventType.OPEN,function(){b||M("Connection","WebChannel transport opened.")}),_(p,su.EventType.CLOSE,function(){b||(b=!0,M("Connection","WebChannel transport closed"),y.Vi())}),_(p,su.EventType.ERROR,function(I){b||(b=!0,dd("Connection","WebChannel transport errored:",I),y.Vi(new R(x.UNAVAILABLE,"The operation could not be completed")))}),_(p,su.EventType.MESSAGE,function(I){var E;if(!b){var S=I.data[0];X(!!S);var O=S,F=O.error||((E=O[0])===null||E===void 0?void 0:E.error);if(F){M("Connection","WebChannel received error:",F);var V=F.status,rt=function(P){var St=Gt[P];if(St!==void 0)return ax(St)}(V),lt=F.message;rt===void 0&&(rt=x.INTERNAL,lt="Unknown error status: "+V+" with message "+F.message),b=!0,y.Vi(new R(rt,lt)),p.close()}else M("Connection","WebChannel received:",S),y.Si(S)}}),_(u,k1.STAT_EVENT,function(I){I.stat===Vg.PROXY?M("Connection","Detected buffering proxy"):I.stat===Vg.NOPROXY&&M("Connection","Detected no buffering proxy")}),setTimeout(function(){y.Pi()},0),y},t}(function(){function e(t){this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Di=n+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(t,n,i,o){var a=this.xi(t,n);M("RestConnection","Sending: ",a,i);var u={};return this.ki(u,o),this.Fi(t,a,u,i).then(function(l){return M("RestConnection","Received: ",l),l},function(l){throw dd("RestConnection",t+" failed with error: ",l,"url: ",a,"request:",i),l})},e.prototype.$i=function(t,n,i,o){return this.Ni(t,n,i,o)},e.prototype.ki=function(t,n){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var i in n.authHeaders)n.authHeaders.hasOwnProperty(i)&&(t[i]=n.authHeaders[i])},e.prototype.xi=function(t,n){var i=$2[t];return this.Di+"/v1/"+n+":"+i},e}());Tv=function(){function e(t,n,i,o,a){i===void 0&&(i=1e3),o===void 0&&(o=1.5),a===void 0&&(a=6e4),this.Se=t,this.timerId=n,this.Mi=i,this.Li=o,this.Bi=a,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(t){var n=this;this.cancel();var i=Math.floor(this.qi+this.Wi()),o=Math.max(0,Date.now()-this.Ki),a=Math.max(0,i-o);a>0&&M("ExponentialBackoff","Backing off for "+a+" ms (base delay: "+this.qi+" ms, delay with jitter: "+i+" ms, last attempt: "+o+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,a,function(){return n.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),Bx=function(){function e(t,n,i,o,a,u){this.Se=t,this.zi=i,this.Hi=o,this.Ji=a,this.listener=u,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Tv(t,n)}return e.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},e.prototype.er=function(){return this.state===2},e.prototype.start=function(){this.state!==3?this.auth():this.nr()},e.prototype.stop=function(){return k(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var t=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},e.prototype.cr=function(t){this.ur(),this.stream.send(t)},e.prototype.rr=function(){return k(this,void 0,void 0,function(){return A(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(t,n){return k(this,void 0,void 0,function(){return A(this,function(i){switch(i.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,t!==3?this.Zi.reset():n&&n.code===x.RESOURCE_EXHAUSTED?(Wt(n.toString()),Wt("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):n&&n.code===x.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(n)];case 1:return i.sent(),[2]}})})},e.prototype.ar=function(){},e.prototype.auth=function(){var t=this;this.state=1;var n=this.hr(this.Yi),i=this.Yi;this.Ji.getToken().then(function(o){t.Yi===i&&t.lr(o)},function(o){n(function(){var a=new R(x.UNKNOWN,"Fetching auth token failed: "+o.message);return t.dr(a)})})},e.prototype.lr=function(t){var n=this,i=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){i(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(o){i(function(){return n.dr(o)})}),this.stream.onMessage(function(o){i(function(){return n.onMessage(o)})})},e.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return k(t,void 0,void 0,function(){return A(this,function(n){return this.state=0,this.start(),[2]})})})},e.prototype.dr=function(t){return M("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},e.prototype.hr=function(t){var n=this;return function(i){n.Se.enqueueAndForget(function(){return n.Yi===t?i():(M("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),Q2=function(e){function t(n,i,o,a,u){var l=this;return(l=e.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",i,o,u)||this).R=a,l}return W(t,e),t.prototype.wr=function(n){return this.Hi.Oi("Listen",n)},t.prototype.onMessage=function(n){this.Zi.reset();var i=function(a,u){var l;if("targetChange"in u){u.targetChange;var h=function(S){return S==="NO_CHANGE"?0:S==="ADD"?1:S==="REMOVE"?2:S==="CURRENT"?3:S==="RESET"?4:H()}(u.targetChange.targetChangeType||"NO_CHANGE"),p=u.targetChange.targetIds||[],m=function(S,O){return S.I?(X(O===void 0||typeof O=="string"),Re.fromBase64String(O||"")):(X(O===void 0||O instanceof Uint8Array),Re.fromUint8Array(O||new Uint8Array))}(a,u.targetChange.resumeToken),b=(y=u.targetChange.cause)&&function(S){var O=S.code===void 0?x.UNKNOWN:ax(S.code);return new R(O,S.message||"")}(y);l=new lx(h,p,m,b||null)}else if("documentChange"in u){u.documentChange,(h=u.documentChange).document,h.document.name,h.document.updateTime,p=Kn(a,h.document.name),m=fe(h.document.updateTime);var y=new en({mapValue:{fields:h.document.fields}}),_=(b=me.newFoundDocument(p,m,y),h.targetIds||[]),I=h.removedTargetIds||[];l=new ud(_,I,b.key,b)}else if("documentDelete"in u)u.documentDelete,(h=u.documentDelete).document,p=Kn(a,h.document),m=h.readTime?fe(h.readTime):at.min(),y=me.newNoDocument(p,m),b=h.removedTargetIds||[],l=new ud([],b,y.key,y);else if("documentRemove"in u)u.documentRemove,(h=u.documentRemove).document,p=Kn(a,h.document),m=h.removedTargetIds||[],l=new ud([],m,p,null);else{if(!("filter"in u))return H();u.filter;var E=u.filter;E.targetId,h=E.count||0,p=new KP(h),m=E.targetId,l=new cx(m,p)}return l}(this.R,n),o=function(a){if(!("targetChange"in a))return at.min();var u=a.targetChange;return u.targetIds&&u.targetIds.length?at.min():u.readTime?fe(u.readTime):at.min()}(n);return this.listener._r(i,o)},t.prototype.mr=function(n){var i={};i.database=vu(this.R),i.addTarget=function(a,u){var l,h=u.target;return(l=pd(h)?{documents:gx(a,h)}:{query:vx(a,h)}).targetId=u.targetId,u.resumeToken.approximateByteSize()>0?l.resumeToken=dx(a,u.resumeToken):u.snapshotVersion.compareTo(at.min())>0&&(l.readTime=mu(a,u.snapshotVersion.toTimestamp())),l}(this.R,n);var o=function(a,u){var l=function(h,p){switch(p){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return H()}}(0,u.purpose);return l==null?null:{"goog-listen-tags":l}}(this.R,n);o&&(i.labels=o),this.cr(i)},t.prototype.yr=function(n){var i={};i.database=vu(this.R),i.removeTarget=n,this.cr(i)},t}(Bx),X2=function(e){function t(n,i,o,a,u){var l=this;return(l=e.call(this,n,"write_stream_connection_backoff","write_stream_idle",i,o,u)||this).R=a,l.gr=!1,l}return W(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(n){return this.Hi.Oi("Write",n)},t.prototype.onMessage=function(n){if(X(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var i=function(a,u){return a&&a.length>0?(X(u!==void 0),a.map(function(l){return function(h,p){var m=h.updateTime?fe(h.updateTime):fe(p);return m.isEqual(at.min())&&(m=fe(p)),new zP(m,h.transformResults||[])}(l,u)})):[]}(n.writeResults,n.commitTime),o=fe(n.commitTime);return this.listener.Tr(o,i)}return X(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var n={};n.database=vu(this.R),this.cr(n)},t.prototype.Er=function(n){var i=this,o={streamToken:this.lastStreamToken,writes:n.map(function(a){return vd(i.R,a)})};this.cr(o)},t}(Bx),Z2=function(e){function t(n,i,o){var a=this;return(a=e.call(this)||this).credentials=n,a.Hi=i,a.R=o,a.Rr=!1,a}return W(t,e),t.prototype.br=function(){if(this.Rr)throw new R(x.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(n,i,o){var a=this;return this.br(),this.credentials.getToken().then(function(u){return a.Hi.Ni(n,i,o,u)}).catch(function(u){throw u.name==="FirebaseError"?(u.code===x.UNAUTHENTICATED&&a.credentials.invalidateToken(),u):new R(x.UNKNOWN,u.toString())})},t.prototype.$i=function(n,i,o){var a=this;return this.br(),this.credentials.getToken().then(function(u){return a.Hi.$i(n,i,o,u)}).catch(function(u){throw u.name==="FirebaseError"?(u.code===x.UNAUTHENTICATED&&a.credentials.invalidateToken(),u):new R(x.UNKNOWN,u.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),J2=function(){function e(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var t=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},e.prototype.Nr=function(t){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},e.prototype.set=function(t){this.kr(),this.vr=0,t==="Online"&&(this.Vr=!1),this.Dr(t)},e.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},e.prototype.Cr=function(t){var n="Could not reach Cloud Firestore backend. "+t+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(Wt(n),this.Vr=!1):M("OnlineStateTracker",n)},e.prototype.kr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},e}(),tL=function(e,t,n,i,o){var a=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=o,this.Lr.di(function(u){n.enqueueAndForget(function(){return k(a,void 0,void 0,function(){return A(this,function(l){switch(l.label){case 0:return Kr(this)?(M("RemoteStore","Restarting streams for network reachability change."),[4,function(h){return k(this,void 0,void 0,function(){var p;return A(this,function(m){switch(m.label){case 0:return(p=L(h)).Or.add(4),[4,ms(p)];case 1:return m.sent(),p.Br.set("Unknown"),p.Or.delete(4),[4,Au(p)];case 2:return m.sent(),[2]}})})}(this)]):[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})})}),this.Br=new J2(n,i)};uL=function(){function e(t,n,i,o,a){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=a,this.deferred=new Ee,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(u){})}return e.createAndSchedule=function(t,n,i,o,a){var u=new e(t,n,Date.now()+i,o,a);return u.start(i),u},e.prototype.start=function(t){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},t)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new R(x.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},e.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return t.timerHandle!==null?(t.clearTimeout(),t.op().then(function(n){return t.deferred.resolve(n)})):Promise.resolve()})},e.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();$x=function(){function e(t){this.comparator=t?function(n,i){return t(n,i)||G.comparator(n.key,i.key)}:function(n,i){return G.comparator(n.key,i.key)},this.keyedMap=Xg(),this.sortedSet=new Te(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(t){return this.keyedMap.get(t)!=null},e.prototype.get=function(t){return this.keyedMap.get(t)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(t){var n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(n,i){return t(n),!1})},e.prototype.add=function(t){var n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))},e.prototype.delete=function(t){var n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();n.hasNext();){var o=n.getNext().key,a=i.getNext().key;if(!o.isEqual(a))return!1}return!0},e.prototype.toString=function(){var t=[];return this.forEach(function(n){t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`},e.prototype.copy=function(t,n){var i=new e;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i},e}(),mT=function(){function e(){this.Qr=new Te(G.comparator)}return e.prototype.track=function(t){var n=t.doc.key,i=this.Qr.get(n);i?t.type!==0&&i.type===3?this.Qr=this.Qr.insert(n,t):t.type===3&&i.type!==1?this.Qr=this.Qr.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.Qr=this.Qr.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.Qr=this.Qr.remove(n):t.type===1&&i.type===2?this.Qr=this.Qr.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):H():this.Qr=this.Qr.insert(n,t)},e.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(n,i){t.push(i)}),t},e}(),Id=function(){function e(t,n,i,o,a,u,l,h){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=l,this.excludesMetadataChanges=h}return e.fromInitialDocuments=function(t,n,i,o){var a=[];return n.forEach(function(u){a.push({type:0,doc:u})}),new e(t,n,$x.emptySet(n),a,i,o,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Eu(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(var o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0},e}(),cL=function(){this.Wr=void 0,this.listeners=[]},lL=function(){this.queries=new ps(function(e){return QT(e)},Eu),this.onlineState="Unknown",this.Gr=new Set};Ov=function(){function e(t,n,i){this.query=t,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=i||{}}return e.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var n=[],i=0,o=t.docChanges;i<o.length;i++){var a=o[i];a.type!==3&&n.push(a)}t=new Id(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var u=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),u=!0):this.eo(t,this.onlineState)&&(this.no(t),u=!0),this.Xr=t,u},e.prototype.onError=function(t){this.Jr.error(t)},e.prototype.zr=function(t){this.onlineState=t;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),n=!0),n},e.prototype.eo=function(t,n){if(!t.fromCache)return!0;var i=n!=="Offline";return!(this.options.so&&i||t.docs.isEmpty()&&n!=="Offline")},e.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},e.prototype.no=function(t){t=Id.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},e}(),fL=function(){function e(t,n){this.payload=t,this.byteLength=n}return e.prototype.io=function(){return"metadata"in this.payload},e}(),gT=function(){function e(t){this.R=t}return e.prototype.qn=function(t){return Kn(this.R,t)},e.prototype.Un=function(t){return t.metadata.exists?mx(this.R,t.document,!1):me.newNoDocument(this.qn(t.metadata.name),this.Kn(t.metadata.readTime))},e.prototype.Kn=function(t){return fe(t)},e}(),qj=function(){function e(t,n,i){this.ro=t,this.localStore=n,this.R=i,this.queries=[],this.documents=[],this.progress=pL(t)}return e.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var n=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++n):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++n),n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null},e.prototype.co=function(t){for(var n=new Map,i=new gT(this.R),o=0,a=t;o<a.length;o++){var u=a[o];if(u.metadata.queries)for(var l=i.qn(u.metadata.name),h=0,p=u.metadata.queries;h<p.length;h++){var m=p[h],b=(n.get(m)||_t()).add(l);n.set(m,b)}}return n},e.prototype.complete=function(){return k(this,void 0,void 0,function(){var t,n,i,o,a;return A(this,function(u){switch(u.label){case 0:return[4,P2(this.localStore,new gT(this.R),this.documents,this.ro.id)];case 1:t=u.sent(),n=this.co(this.documents),i=0,o=this.queries,u.label=2;case 2:return i<o.length?(a=o[i],[4,L2(this.localStore,a,n.get(a.name))]):[3,5];case 3:u.sent(),u.label=4;case 4:return i++,[3,2];case 5:return[2,(this.progress.taskState="Success",new A2(Object.assign({},this.progress),t))]}})})},e}();Wx=function(e){this.key=e},Yx=function(e){this.key=e},Qx=function(){function e(t,n){this.query=t,this.uo=n,this.ao=null,this.current=!1,this.ho=_t(),this.mutatedKeys=_t(),this.lo=XT(t),this.fo=new $x(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(t,n){var i=this,o=n?n.mo:new mT,a=n?n.fo:this.fo,u=n?n.mutatedKeys:this.mutatedKeys,l=a,h=!1,p=sd(this.query)&&a.size===this.query.limit?a.last():null,m=gd(this.query)&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal(function(y,_){var I=a.get(y),E=Tu(i.query,_)?_:null,S=!!I&&i.mutatedKeys.has(I.key),O=!!E&&(E.hasLocalMutations||i.mutatedKeys.has(E.key)&&E.hasCommittedMutations),F=!1;I&&E?I.data.isEqual(E.data)?S!==O&&(o.track({type:3,doc:E}),F=!0):i.yo(I,E)||(o.track({type:2,doc:E}),F=!0,(p&&i.lo(E,p)>0||m&&i.lo(E,m)<0)&&(h=!0)):!I&&E?(o.track({type:0,doc:E}),F=!0):I&&!E&&(o.track({type:1,doc:I}),F=!0,(p||m)&&(h=!0)),F&&(E?(l=l.add(E),u=O?u.add(y):u.delete(y)):(l=l.delete(y),u=u.delete(y)))}),sd(this.query)||gd(this.query))for(;l.size>this.query.limit;){var b=sd(this.query)?l.last():l.first();l=l.delete(b.key),u=u.delete(b.key),o.track({type:1,doc:b})}return{fo:l,mo:o,Nn:h,mutatedKeys:u}},e.prototype.yo=function(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},e.prototype.applyChanges=function(t,n,i){var o=this,a=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var u=t.mo.jr();u.sort(function(m,b){return function(y,_){var I=function(E){switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return H()}};return I(y)-I(_)}(m.type,b.type)||o.lo(m.doc,b.doc)}),this.po(i);var l=n?this.Eo():[],h=this.ho.size===0&&this.current?1:0,p=h!==this.ao;return this.ao=h,u.length!==0||p?{snapshot:new Id(this.query,t.fo,a,u,t.mutatedKeys,h===0,p,!1),To:l}:{To:l}},e.prototype.zr=function(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new mT,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},e.prototype.po=function(t){var n=this;t&&(t.addedDocuments.forEach(function(i){return n.uo=n.uo.add(i)}),t.modifiedDocuments.forEach(function(i){}),t.removedDocuments.forEach(function(i){return n.uo=n.uo.delete(i)}),this.current=t.current)},e.prototype.Eo=function(){var t=this;if(!this.current)return[];var n=this.ho;this.ho=_t(),this.fo.forEach(function(o){t.Io(o.key)&&(t.ho=t.ho.add(o.key))});var i=[];return n.forEach(function(o){t.ho.has(o)||i.push(new Yx(o))}),this.ho.forEach(function(o){n.has(o)||i.push(new Wx(o))}),i},e.prototype.Ao=function(t){this.uo=t.Bn,this.ho=_t();var n=this._o(t.documents);return this.applyChanges(n,!0)},e.prototype.Ro=function(){return Id.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},e}(),mL=function(e,t,n){this.query=e,this.targetId=t,this.view=n},gL=function(e){this.key=e,this.bo=!1},vL=function(){function e(t,n,i,o,a,u){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.vo={},this.Po=new ps(function(l){return QT(l)},Eu),this.Vo=new Map,this.So=new Set,this.Do=new Te(G.comparator),this.Co=new Map,this.No=new Ev,this.xo={},this.ko=new Map,this.Fo=yd.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return this.$o===!0},enumerable:!1,configurable:!0}),e}();tS=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(t){return k(this,void 0,void 0,function(){return A(this,function(n){switch(n.label){case 0:return this.R=Rd(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},e.prototype.Uo=function(t){return null},e.prototype.Ko=function(t){return Nx(this.persistence,new Rx,t.initialUser,this.R)},e.prototype.qo=function(t){return new z2(H2.bs,this.R)},e.prototype.Bo=function(t){return new Ux},e.prototype.terminate=function(){return k(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},e}(),eS=function(e){function t(n,i,o){var a=this;return(a=e.call(this)||this).Qo=n,a.cacheSizeBytes=i,a.forceOwnership=o,a.synchronizeTabs=!1,a}return W(t,e),t.prototype.initialize=function(n){return k(this,void 0,void 0,function(){var i=this;return A(this,function(o){switch(o.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return o.sent(),[4,M2(this.localStore)];case 2:return o.sent(),[4,this.Qo.initialize(this,n)];case 3:return o.sent(),[4,Fv(this.Qo.syncEngine)];case 4:return o.sent(),[4,gs(this.Qo.remoteStore)];case 5:return o.sent(),[4,this.persistence.He(function(){return i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(i.localStore),Promise.resolve()})];case 6:return o.sent(),[2]}})})},t.prototype.Ko=function(n){return Nx(this.persistence,new Rx,n.initialUser,this.R)},t.prototype.Uo=function(n){var i=this.persistence.referenceDelegate.garbageCollector;return new _2(i,n.asyncQueue)},t.prototype.qo=function(n){var i=Iv(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),o=this.cacheSizeBytes!==void 0?qn.withCacheSize(this.cacheSizeBytes):qn.DEFAULT;return new C2(this.synchronizeTabs,i,n.clientId,o,n.asyncQueue,Vx(),cd(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(n){return new Ux},t}(tS),PL=function(e){function t(n,i){var o=this;return(o=e.call(this,n,i,!1)||this).Qo=n,o.cacheSizeBytes=i,o.synchronizeTabs=!0,o}return W(t,e),t.prototype.initialize=function(n){return k(this,void 0,void 0,function(){var i,o=this;return A(this,function(a){switch(a.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return a.sent(),i=this.Qo.syncEngine,this.sharedClientState instanceof Kg?(this.sharedClientState.syncEngine={ui:DL.bind(null,i),ai:NL.bind(null,i),hi:ML.bind(null,i),fn:RL.bind(null,i),ci:kL.bind(null,i)},[4,this.sharedClientState.start()]):[3,3];case 2:a.sent(),a.label=3;case 3:return[4,this.persistence.He(function(u){return k(o,void 0,void 0,function(){return A(this,function(l){switch(l.label){case 0:return[4,OL(this.Qo.syncEngine,u)];case 1:return l.sent(),this.gcScheduler&&(u&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):u||this.gcScheduler.stop()),[2]}})})})];case 4:return a.sent(),[2]}})})},t.prototype.Bo=function(n){var i=Vx();if(!Kg.yt(i))throw new R(x.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var o=Iv(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new Kg(i,n.asyncQueue,o,n.clientId,n.initialUser)},t}(eS),rv=function(){function e(){}return e.prototype.initialize=function(t,n){return k(this,void 0,void 0,function(){var i=this;return A(this,function(o){switch(o.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(a){return vT(i.syncEngine,a,1)},this.remoteStore.remoteSyncer.handleCredentialChange=SL.bind(null,this.syncEngine),[4,ev(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:o.sent(),o.label=2;case 2:return[2]}})})},e.prototype.createEventManager=function(t){return new lL},e.prototype.createDatastore=function(t){var n,i=Rd(t.databaseInfo.databaseId),o=(n=t.databaseInfo,new Y2(n));return function(a,u,l){return new Z2(a,u,l)}(t.credentials,o,i)},e.prototype.createRemoteStore=function(t){var n,i,o,a,u,l=this;return n=this.localStore,i=this.datastore,o=t.asyncQueue,a=function(h){return vT(l.syncEngine,h,0)},u=pT.yt()?new pT:new G2,new tL(n,i,o,a,u)},e.prototype.createSyncEngine=function(t,n){return function(i,o,a,u,l,h,p){var m=new vL(i,o,a,u,l,h);return p&&(m.$o=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)},e.prototype.terminate=function(){return function(t){return k(this,void 0,void 0,function(){var n;return A(this,function(i){switch(i.label){case 0:return n=L(t),M("RemoteStore","RemoteStore shutting down."),n.Or.add(5),[4,ms(n)];case 1:return i.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},e}();Md=function(){function e(t){this.observer=t,this.muted=!1}return e.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},e.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(t,n){var i=this;this.muted||setTimeout(function(){i.muted||t(n)},0)},e}(),Hj=function(){function e(t,n){var i=this;this.Go=t,this.R=n,this.metadata=new Ee,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(o){o&&o.io()?i.metadata.resolve(o.payload.metadata):i.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             `+JSON.stringify(o?.payload)))},function(o){return i.metadata.reject(o)})}return e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return k(this,void 0,void 0,function(){return A(this,function(t){return[2,this.metadata.promise]})})},e.prototype.Lo=function(){return k(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},e.prototype.Ho=function(){return k(this,void 0,void 0,function(){var t,n,i,o;return A(this,function(a){switch(a.label){case 0:return[4,this.Jo()];case 1:return(t=a.sent())===null?[2,null]:(n=this.zo.decode(t),i=Number(n),isNaN(i)&&this.Yo("length string ("+n+") is not valid number"),[4,this.Xo(i)]);case 2:return o=a.sent(),[2,new fL(JSON.parse(o),t.length+i)]}})})},e.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t===123})},e.prototype.Jo=function(){return k(this,void 0,void 0,function(){var t,n;return A(this,function(i){switch(i.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(i.sent())return[3,3];i.label=2;case 2:return[3,0];case 3:return this.buffer.length===0?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),n)])}})})},e.prototype.Xo=function(t){return k(this,void 0,void 0,function(){var n;return A(this,function(i){switch(i.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:i.sent()&&this.Yo("Reached the end of bundle when more is expected."),i.label=2;case 2:return[3,0];case 3:return n=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),n)]}})})},e.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},e.prototype.tc=function(){return k(this,void 0,void 0,function(){var t,n;return A(this,function(i){switch(i.label){case 0:return[4,this.Go.read()];case 1:return(t=i.sent()).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),[2,t.done]}})})},e}(),LL=function(){function e(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(t){return k(this,void 0,void 0,function(){var n,i=this;return A(this,function(o){switch(o.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new R(x.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(a,u){return k(this,void 0,void 0,function(){var l,h,p,m,b,y;return A(this,function(_){switch(_.label){case 0:return l=L(a),h=vu(l.R)+"/documents",p={documents:u.map(function(I){return gu(l.R,I)})},[4,l.$i("BatchGetDocuments",h,p)];case 1:return m=_.sent(),b=new Map,m.forEach(function(I){var E=function(S,O){return"found"in O?function(F,V){X(!!V.found),V.found.name,V.found.updateTime;var rt=Kn(F,V.found.name),lt=fe(V.found.updateTime),P=new en({mapValue:{fields:V.found.fields}});return me.newFoundDocument(rt,lt,P)}(S,O):"missing"in O?function(F,V){X(!!V.missing),X(!!V.readTime);var rt=Kn(F,V.missing),lt=fe(V.readTime);return me.newNoDocument(rt,lt)}(S,O):H()}(l.R,I);b.set(E.key.toString(),E)}),y=[],[2,(u.forEach(function(I){var E=b.get(I.toString());X(!!E),y.push(E)}),y)]}})})}(this.datastore,t)];case 1:return[2,((n=o.sent()).forEach(function(a){return i.recordVersion(a)}),n)]}})})},e.prototype.set=function(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.update=function(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())},e.prototype.delete=function(t){this.write(new Cu(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.commit=function(){return k(this,void 0,void 0,function(){var t,n=this;return A(this,function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(o){t.delete(o.key.toString())}),t.forEach(function(o,a){var u=G.fromPath(a);n.mutations.push(new fv(u,n.precondition(u)))}),[4,function(o,a){return k(this,void 0,void 0,function(){var u,l,h;return A(this,function(p){switch(p.label){case 0:return u=L(o),l=vu(u.R)+"/documents",h={writes:a.map(function(m){return vd(u.R,m)})},[4,u.Ni("Commit",l,h)];case 1:return p.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return i.sent(),this.committed=!0,[2]}})})},e.prototype.recordVersion=function(t){var n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw H();n=at.min()}var i=this.readVersions.get(t.key.toString());if(i){if(!n.isEqual(i))throw new R(x.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)},e.prototype.precondition=function(t){var n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?Ie.updateTime(n):Ie.none()},e.prototype.preconditionForUpdate=function(t){var n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(at.min()))throw new R(x.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ie.updateTime(n)}return Ie.exists(!0)},e.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},e.prototype.ensureCommitNotCalled=function(){},e}(),FL=function(){function e(t,n,i,o){this.asyncQueue=t,this.datastore=n,this.updateFunction=i,this.deferred=o,this.ec=5,this.Zi=new Tv(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var t=this;this.Zi.ji(function(){return k(t,void 0,void 0,function(){var n,i,o=this;return A(this,function(a){return n=new LL(this.datastore),(i=this.sc(n))&&i.then(function(u){o.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){o.deferred.resolve(u)}).catch(function(l){o.ic(l)})})}).catch(function(u){o.ic(u)}),[2]})})})},e.prototype.sc=function(t){try{var n=this.updateFunction(t);return!ji(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}},e.prototype.ic=function(t){var n=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(t)},e.prototype.rc=function(t){if(t.name==="FirebaseError"){var n=t.code;return n==="aborted"||n==="failed-precondition"||!sx(n)}return!1},e}(),jL=function(){function e(t,n,i){var o=this;this.credentials=t,this.asyncQueue=n,this.databaseInfo=i,this.user=he.UNAUTHENTICATED,this.clientId=VT.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(n,function(a){return k(o,void 0,void 0,function(){return A(this,function(u){switch(u.label){case 0:return M("FirestoreClient","Received user=",a.uid),[4,this.credentialListener(a)];case 1:return u.sent(),this.user=a,[2]}})})})}return e.prototype.getConfiguration=function(){return k(this,void 0,void 0,function(){return A(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},e.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new R(x.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var n=new Ee;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return k(t,void 0,void 0,function(){var i,o;return A(this,function(a){switch(a.label){case 0:return a.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:a.sent(),a.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:a.sent(),a.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return i=a.sent(),o=bs(i,"Failed to shutdown persistence"),n.reject(o),[3,6];case 6:return[2]}})})}),n.promise},e}();UL=function(e,t,n,i,o,a,u,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=u,this.useFetchStreams=l},Ed=function(){function e(t,n){this.projectId=t,this.database=n||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),ET=new Map,sS=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},TT=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){this.changeListener=n,t.enqueueRetryable(function(){return n(he.UNAUTHENTICATED)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),VL=function(){function e(t){this.token=t,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){var i=this;this.changeListener=n,t.enqueueRetryable(function(){return n(i.token.user)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),BL=function(){function e(t){var n=this;this.currentUser=he.UNAUTHENTICATED,this.oc=new Ee,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){n.cc++,n.currentUser=n.ac(),n.oc.resolve(),n.changeListener&&n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)})};var i=function(o){M("FirebaseCredentialsProvider","Auth detected"),n.auth=o,n.auth.addAuthTokenListener(n.uc)};t.onInit(function(o){return i(o)}),setTimeout(function(){if(!n.auth){var o=t.getImmediate({optional:!0});o?i(o):(M("FirebaseCredentialsProvider","Auth not yet detected"),n.oc.resolve())}},0)}return e.prototype.getToken=function(){var t=this,n=this.cc,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(function(o){return t.cc!==n?(M("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):o?(X(typeof o.accessToken=="string"),new sS(o.accessToken,t.currentUser)):null}):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(t,n){var i=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return k(i,void 0,void 0,function(){return A(this,function(o){switch(o.label){case 0:return[4,this.oc.promise];case 1:return o.sent(),[4,n(this.currentUser)];case 2:return o.sent(),this.changeListener=n,[2]}})})})},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return X(t===null||typeof t=="string"),new he(t)},e}(),zL=function(){function e(t,n,i){this.hc=t,this.lc=n,this.fc=i,this.type="FirstParty",this.user=he.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},n=this.hc.auth.getAuthHeaderValueForFirstParty([]);return n&&(t.Authorization=n),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),e}(),qL=function(){function e(t,n,i){this.hc=t,this.lc=n,this.fc=i}return e.prototype.getToken=function(){return Promise.resolve(new zL(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(t,n){t.enqueueRetryable(function(){return n(he.FIRST_PARTY)})},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();AT=function(){function e(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new R(x.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new R(x.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,aS("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},e}(),yu=function(){function e(t,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new AT({}),this._settingsFrozen=!1,t instanceof Ed?(this._databaseId=t,this._credentials=new TT):(this._app=t,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new R(x.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ed(i.options.projectId)}(t),this._credentials=new BL(n))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new R(x.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(t){if(this._settingsFrozen)throw new R(x.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new AT(t),t.credentials!==void 0&&(this._credentials=function(n){if(!n)return new TT;switch(n.type){case"gapi":var i=n.client;return X(!(typeof i!="object"||i===null||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new qL(i,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new R(x.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return t=this,(n=ET.get(t))&&(M("ComponentProvider","Removing Datastore"),ET.delete(t),n.terminate()),Promise.resolve();var t,n},e}(),Nt=function(){function e(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Vr(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),on=function(){function e(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),Vr=function(e){function t(n,i,o){var a=this;return(a=e.call(this,n,i,fs(o))||this)._path=o,a.type="collection",a}return W(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new Nt(this.firestore,null,new G(n))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(n){return new t(this.firestore,n,this._path)},t}(on);HL=function(){function e(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new Tv(this,"async_queue_retry"),this.Ic=function(){var i=cd();i&&M("AsyncQueue","Visibility state changed to "+i.visibilityState),t.Zi.Gi()};var n=cd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(t){this.enqueue(t)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},e.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var n=cd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(t){var n=this;if(this.Ac(),this._c)return new Promise(function(){});var i=new Ee;return this.Rc(function(){return n._c&&n.Ec?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)}).then(function(){return i.promise})},e.prototype.enqueueRetryable=function(t){var n=this;this.enqueueAndForget(function(){return n.wc.push(t),n.bc()})},e.prototype.bc=function(){return k(this,void 0,void 0,function(){var t,n=this;return A(this,function(i){switch(i.label){case 0:if(this.wc.length===0)return[3,5];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return i.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Ui(t=i.sent()))throw t;return M("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return n.bc()}),i.label=5;case 5:return[2]}})})},e.prototype.Rc=function(t){var n=this,i=this.dc.then(function(){return n.gc=!0,t().catch(function(o){throw n.yc=o,n.gc=!1,Wt("INTERNAL UNHANDLED ERROR: ",function(a){var u=a.message||"";return a.stack&&(u=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),u}(o)),o}).then(function(o){return n.gc=!1,o})});return this.dc=i,i},e.prototype.enqueueAfterDelay=function(t,n,i){var o=this;this.Ac(),this.Tc.indexOf(t)>-1&&(n=0);var a=uL.createAndSchedule(this,t,n,i,function(u){return o.vc(u)});return this.mc.push(a),a},e.prototype.Ac=function(){this.yc&&H()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return k(this,void 0,void 0,function(){var t;return A(this,function(n){switch(n.label){case 0:return[4,t=this.dc];case 1:n.sent(),n.label=2;case 2:if(t!==this.dc)return[3,0];n.label=3;case 3:return[2]}})})},e.prototype.Vc=function(t){for(var n=0,i=this.mc;n<i.length;n++)if(i[n].timerId===t)return!0;return!1},e.prototype.Sc=function(t){var n=this;return this.Pc().then(function(){n.mc.sort(function(u,l){return u.targetTimeMs-l.targetTimeMs});for(var i=0,o=n.mc;i<o.length;i++){var a=o[i];if(a.skipDelay(),t!=="all"&&a.timerId===t)break}return n.Pc()})},e.prototype.Dc=function(t){this.Tc.push(t)},e.prototype.vc=function(t){var n=this.mc.indexOf(t);this.mc.splice(n,1)},e}();Kj=function(){function e(){this._progressObserver={},this._taskCompletionResolver=new Ee,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return e.prototype.onProgress=function(t,n,i){this._progressObserver={next:t,error:n,complete:i}},e.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},e.prototype.then=function(t,n){return this._taskCompletionResolver.promise.then(t,n)},e.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},e.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},e.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)},e}(),dS=-1,Yt=function(e){function t(n,i){var o=this;return(o=e.call(this,n,i)||this).type="firestore",o._queue=new HL,o._persistenceKey="name"in n?n.name:"[DEFAULT]",o}return W(t,e),t.prototype._terminate=function(){return this._firestoreClient||hS(this),this._firestoreClient.terminate()},t}(yu);Gn=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var i=0;i<t.length;++i)if(t[i].length===0)throw new R(x.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dn(t)}return e.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},e}(),Li=function(){function e(t){this._byteString=t}return e.fromBase64String=function(t){try{return new e(Re.fromBase64String(t))}catch(n){throw new R(x.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},e.fromUint8Array=function(t){return new e(Re.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},e}(),Bi=function(e){this._methodName=e},ku=function(){function e(t,n){if(!isFinite(t)||t<-90||t>90)throw new R(x.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new R(x.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(t){return ft(this._lat,t._lat)||ft(this._long,t._long)},e}(),KL=/^__.*__$/,GL=function(){function e(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}return e.prototype.toMutation=function(t,n){return this.fieldMask!==null?new Hr(t,this.data,this.fieldMask,n,this.fieldTransforms):new Su(t,this.data,n,this.fieldTransforms)},e}(),fS=function(){function e(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}return e.prototype.toMutation=function(t,n){return new Hr(t,this.data,this.fieldMask,n,this.fieldTransforms)},e}();mS=function(){function e(t,n,i,o,a,u){this.settings=t,this.databaseId=n,this.R=i,this.ignoreUndefinedProperties=o,a===void 0&&this.Cc(),this.fieldTransforms=a||[],this.fieldMask=u||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(t){var n,i=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.xc({path:i,Fc:!1});return o.$c(t),o},e.prototype.Oc=function(t){var n,i=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.xc({path:i,Fc:!1});return o.Cc(),o},e.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(t){return Td(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(t){return this.fieldMask.find(function(n){return t.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return t.isPrefixOf(n.field)})!==void 0},e.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},e.prototype.$c=function(t){if(t.length===0)throw this.Lc("Document fields must not be empty");if(pS(this.Nc)&&KL.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),$L=function(){function e(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.R=i||Rd(t)}return e.prototype.Uc=function(t,n,i,o){return o===void 0&&(o=!1),new mS({Nc:t,methodName:n,qc:i,path:Dn.emptyPath(),Fc:!1,Bc:o},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();Bv=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return W(t,e),t.prototype._toFieldTransform=function(n){if(n.Nc!==2)throw n.Nc===1?n.Lc(this._methodName+"() can only appear at the top level of your update data"):n.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},t.prototype.isEqual=function(n){return n instanceof t},t}(Bi);WL=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return W(t,e),t.prototype._toFieldTransform=function(n){return new xu(n.path,new Jo)},t.prototype.isEqual=function(n){return n instanceof t},t}(Bi),YL=function(e){function t(n,i){var o=this;return(o=e.call(this,n)||this).Kc=i,o}return W(t,e),t.prototype._toFieldTransform=function(n){var i=gS(this,n,!0),o=this.Kc.map(function(u){return qi(u,i)}),a=new Mi(o);return new xu(n.path,a)},t.prototype.isEqual=function(n){return this===n},t}(Bi),QL=function(e){function t(n,i){var o=this;return(o=e.call(this,n)||this).Kc=i,o}return W(t,e),t.prototype._toFieldTransform=function(n){var i=gS(this,n,!0),o=this.Kc.map(function(u){return qi(u,i)}),a=new Pi(o);return new xu(n.path,a)},t.prototype.isEqual=function(n){return this===n},t}(Bi),XL=function(e){function t(n,i){var o=this;return(o=e.call(this,n)||this).Qc=i,o}return W(t,e),t.prototype._toFieldTransform=function(n){var i=new ts(n.R,tx(n.R,this.Qc));return new xu(n.path,i)},t.prototype.isEqual=function(n){return this===n},t}(Bi);ZL=new RegExp("[~\\*/\\[\\]]");wu=function(){function e(t,n,i,o,a){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=o,this._converter=a}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Nt(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return this._document!==null},e.prototype.data=function(){if(this._document){if(this._converter){var t=new JL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(t){if(this._document){var n=this._document.data.field(xd("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}},e}(),JL=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return W(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(wu);ki=function(){function e(t,n){this.hasPendingWrites=t,this.fromCache=n}return e.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},e}(),ar=function(e){function t(n,i,o,a,u,l){var h=this;return(h=e.call(this,n,i,o,a,l)||this)._firestore=n,h._firestoreImpl=n,h.metadata=u,h}return W(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var i=new du(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}},t.prototype.get=function(n,i){if(i===void 0&&(i={}),this._document){var o=this._document.data.field(xd("DocumentSnapshot.get",n));if(o!==null)return this._userDataWriter.convertValue(o,i.serverTimestamps)}},t}(wu),du=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return W(t,e),t.prototype.data=function(n){return n===void 0&&(n={}),e.prototype.data.call(this,n)},t}(ar),Fr=function(){function e(t,n,i,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new ki(o.hasPendingWrites,o.fromCache),this.query=i}return Object.defineProperty(e.prototype,"docs",{get:function(){var t=[];return this.forEach(function(n){return t.push(n)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t,n){var i=this;this._snapshot.docs.forEach(function(o){t.call(n,new du(i._firestore,i._userDataWriter,o.key,o,new ki(i._snapshot.mutatedKeys.has(o.key),i._snapshot.fromCache),i.query.converter))})},e.prototype.docChanges=function(t){t===void 0&&(t={});var n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new R(x.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){var a=0;return i._snapshot.docChanges.map(function(l){return{type:"added",doc:new du(i._firestore,i._userDataWriter,l.doc.key,l.doc,new ki(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:a++}})}var u=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(function(l){return o||l.type!==3}).map(function(l){var h=new du(i._firestore,i._userDataWriter,l.doc.key,l.doc,new ki(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter),p=-1,m=-1;return l.type!==0&&(p=u.indexOf(l.doc.key),u=u.delete(l.doc.key)),l.type!==1&&(m=(u=u.add(l.doc)).indexOf(l.doc.key)),{type:tF(l.type),doc:h,oldIndex:p,newIndex:m}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},e}();Du=function(){};eF=function(e){function t(n,i,o){var a=this;return(a=e.call(this)||this).jc=n,a.Wc=i,a.Gc=o,a.type="where",a}return W(t,e),t.prototype._apply=function(n){var i=zi(n.firestore),o=function(a,u,l,h,p,m,b){var y;if(p.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new R(x.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+m+"' queries on FieldPath.documentId().");if(m==="in"||m==="not-in"){PT(b,m);for(var _=[],I=0,E=b;I<E.length;I++){var S=E[I];_.push(MT(h,a,S))}y={arrayValue:{values:_}}}else y=MT(h,a,b)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||PT(b,m),y=vS(l,"where",b,m==="in"||m==="not-in");var O=rn.create(p,m,y);return function(F,V){if(V.g()){var rt=dv(F);if(rt!==null&&!rt.isEqual(V.field))throw new R(x.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+rt.toString()+"' and '"+V.field.toString()+"'");var lt=lv(F);lt!==null&&TS(F,V.field,lt)}var P=function(St,ys){for(var Z=0,Gi=St.filters;Z<Gi.length;Z++){var T=Gi[Z];if(ys.indexOf(T.op)>=0)return T.op}return null}(F,function(St){switch(St){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(V.op));if(P!==null)throw P===V.op?new R(x.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+V.op.toString()+"' filter."):new R(x.INVALID_ARGUMENT,"Invalid query. You cannot use '"+V.op.toString()+"' filters with '"+P.toString()+"' filters.")}(a,O),O}(n._query,0,i,n.firestore._databaseId,this.jc,this.Wc,this.Gc);return new on(n.firestore,n.converter,function(a,u){var l=a.filters.concat([u]);return new ur(a.path,a.collectionGroup,a.explicitOrderBy.slice(),l,a.limit,a.limitType,a.startAt,a.endAt)}(n._query,o))},t}(Du),nF=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).jc=n,o.zc=i,o.type="orderBy",o}return W(t,e),t.prototype._apply=function(n){var i=function(o,a,u){if(o.startAt!==null)throw new R(x.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new R(x.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var l=new $o(a,u);return function(h,p){if(lv(h)===null){var m=dv(h);m!==null&&TS(h,m,p.field)}}(o,l),l}(n._query,this.jc,this.zc);return new on(n.firestore,n.converter,function(o,a){var u=o.explicitOrderBy.concat([a]);return new ur(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(n._query,i))},t}(Du),OT=function(e){function t(n,i,o){var a=this;return(a=e.call(this)||this).type=n,a.Hc=i,a.Jc=o,a}return W(t,e),t.prototype._apply=function(n){return new on(n.firestore,n.converter,YT(n._query,this.Hc,this.Jc))},t}(Du),RT=function(e){function t(n,i,o){var a=this;return(a=e.call(this)||this).type=n,a.Yc=i,a.Xc=o,a}return W(t,e),t.prototype._apply=function(n){var i=ES(n,this.type,this.Yc,this.Xc);return new on(n.firestore,n.converter,function(o,a){return new ur(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,a,o.endAt)}(n._query,i))},t}(Du),NT=function(e){function t(n,i,o){var a=this;return(a=e.call(this)||this).type=n,a.Yc=i,a.Xc=o,a}return W(t,e),t.prototype._apply=function(n){var i=ES(n,this.type,this.Yc,this.Xc);return new on(n.firestore,n.converter,function(o,a){return new ur(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,a)}(n._query,i))},t}(Du);Gv=function(){function e(){}return e.prototype.convertValue=function(t,n){switch(n===void 0&&(n="none"),Ni(t)){case 0:return null;case 1:return t.booleanValue;case 2:return $t(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Qo(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw H()}},e.prototype.convertObject=function(t,n){var i=this,o={};return Fi(t.fields,function(a,u){o[a]=i.convertValue(u,n)}),o},e.prototype.convertGeoPoint=function(t){return new ku($t(t.latitude),$t(t.longitude))},e.prototype.convertArray=function(t,n){var i=this;return(t.values||[]).map(function(o){return i.convertValue(o,n)})},e.prototype.convertServerTimestamp=function(t,n){switch(n){case"previous":var i=HT(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(hu(t));default:return null}},e.prototype.convertTimestamp=function(t){var n=zr(t);return new Oe(n.seconds,n.nanos)},e.prototype.convertDocumentKey=function(t,n){var i=vt.fromString(t);X(wx(i));var o=new Ed(i.get(1),i.get(3)),a=new G(i.popFirst(5));return o.isEqual(n)||Wt("Document "+a+" contains a document reference within a different database ("+o.projectId+"/"+o.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),a},e}();rF=function(e){function t(n){var i=this;return(i=e.call(this)||this).firestore=n,i}return W(t,e),t.prototype.convertBytes=function(n){return new Li(n)},t.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return new Nt(this.firestore,null,i)},t}(Gv),iF=function(){function e(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=zi(t)}return e.prototype.set=function(t,n,i){this._verifyNotCommitted();var o=jr(t,this._firestore),a=jd(o.converter,n,i),u=Fd(this._dataReader,"WriteBatch.set",o._key,a,o.converter!==null,i);return this._mutations.push(u.toMutation(o._key,Ie.none())),this},e.prototype.update=function(t,n,i){for(var o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];this._verifyNotCommitted();var u,l=jr(t,this._firestore);return u=typeof(n=Bt(n))=="string"||n instanceof Gn?qv(this._dataReader,"WriteBatch.update",l._key,n,i,o):zv(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(u.toMutation(l._key,Ie.exists(!0))),this},e.prototype.delete=function(t){this._verifyNotCommitted();var n=jr(t,this._firestore);return this._mutations=this._mutations.concat(new Cu(n._key,Ie.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new R(x.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();Ri=function(e){function t(n){var i=this;return(i=e.call(this)||this).firestore=n,i}return W(t,e),t.prototype.convertBytes=function(n){return new Li(n)},t.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return new Nt(this.firestore,null,i)},t}(Gv);oF=function(e){function t(n,i){var o=this;return(o=e.call(this,n,i)||this)._firestore=n,o}return W(t,e),t.prototype.get=function(n){var i=this,o=jr(n,this._firestore),a=new Ri(this._firestore);return e.prototype.get.call(this,n).then(function(u){return new ar(i._firestore,a,o._key,u._document,new ki(!1,!1),o.converter)})},t}(function(){function e(t,n){this._firestore=t,this._transaction=n,this._dataReader=zi(t)}return e.prototype.get=function(t){var n=this,i=jr(t,this._firestore),o=new rF(this._firestore);return this._transaction.lookup([i._key]).then(function(a){if(!a||a.length!==1)return H();var u=a[0];if(u.isFoundDocument())return new wu(n._firestore,o,u.key,u,i.converter);if(u.isNoDocument())return new wu(n._firestore,o,i._key,null,i.converter);throw H()})},e.prototype.set=function(t,n,i){var o=jr(t,this._firestore),a=jd(o.converter,n,i),u=Fd(this._dataReader,"Transaction.set",o._key,a,o.converter!==null,i);return this._transaction.set(o._key,u),this},e.prototype.update=function(t,n,i){for(var o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];var u,l=jr(t,this._firestore);return u=typeof(n=Bt(n))=="string"||n instanceof Gn?qv(this._dataReader,"Transaction.update",l._key,n,i,o):zv(this._dataReader,"Transaction.update",l._key,n),this._transaction.update(l._key,u),this},e.prototype.delete=function(t){var n=jr(t,this._firestore);return this._transaction.delete(n._key),this},e}());$v=function(){function e(t){this._delegate=t}return e.fromBase64String=function(t){return UT(),new e(Li.fromBase64String(t))},e.fromUint8Array=function(t){return jT(),new e(Li.fromUint8Array(t))},e.prototype.toBase64=function(){return UT(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return jT(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),SS=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(t,n){return function(i,o){DT(i=yt(i,Yt));var a=_e(i),u=i._freezeSettings(),l=new rv;return kT(a,l,new eS(l,u.cacheSizeBytes,o?.forceOwnership))}(t._delegate,{forceOwnership:n})},e.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(n){DT(n=yt(n,Yt));var i=_e(n),o=n._freezeSettings(),a=new rv;return kT(i,a,new PL(a,o.cacheSizeBytes))}(t._delegate)},e.prototype.clearIndexedDbPersistence=function(t){return function(n){var i=this;if(n._initialized&&!n._terminated)throw new R(x.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var o=new Ee;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return k(i,void 0,void 0,function(){var a;return A(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,function(l){return k(this,void 0,void 0,function(){var h;return A(this,function(p){switch(p.label){case 0:return rs.yt()?(h=l+"main",[4,rs.delete(h)]):[2,Promise.resolve()];case 1:return p.sent(),[2]}})})}(Iv(n._databaseId,n._persistenceKey))];case 1:return u.sent(),o.resolve(),[3,3];case 2:return a=u.sent(),o.reject(a),[3,3];case 3:return[2]}})})}),o.promise}(t._delegate)},e}(),Wv=function(){function e(t,n,i){var o=this;this._delegate=n,this.Zc=i,this.INTERNAL={delete:function(){return o.terminate()}},t instanceof Ed||(this.tu=t)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){var n=this._delegate._getSettings();t.merge||n.host===t.host||dd("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},n),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,n,i){i===void 0&&(i={}),function(o,a,u,l){var h;l===void 0&&(l={});var p=(o=yt(o,yu))._getSettings();if(p.host!=="firestore.googleapis.com"&&p.host!==a&&dd("Host has been set in both settings() and useEmulator(), emulator host will be used"),o._setSettings(Object.assign(Object.assign({},p),{host:a+":"+u,ssl:!1})),l.mockUserToken){var m,b;if(typeof l.mockUserToken=="string")m=l.mockUserToken,b=he.MOCK_USER;else{m=KI(l.mockUserToken,(h=o._app)===null||h===void 0?void 0:h.options.projectId);var y=l.mockUserToken.sub||l.mockUserToken.user_id;if(!y)throw new R(x.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new he(y)}o._credentials=new VL(new sS(m,b))}}(this._delegate,t,n,i)},e.prototype.enableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return k(n,void 0,void 0,function(){var i,o;return A(this,function(a){switch(a.label){case 0:return[4,yT(t)];case 1:return i=a.sent(),[4,wT(t)];case 2:return o=a.sent(),[2,(i.setNetworkEnabled(!0),function(u){var l=L(u);return l.Or.delete(0),Au(l)}(o))]}})})})}(_e(yt(this._delegate,Yt)))},e.prototype.disableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return k(n,void 0,void 0,function(){var i,o;return A(this,function(a){switch(a.label){case 0:return[4,yT(t)];case 1:return i=a.sent(),[4,wT(t)];case 2:return o=a.sent(),[2,(i.setNetworkEnabled(!1),function(u){return k(this,void 0,void 0,function(){var l;return A(this,function(h){switch(h.label){case 0:return(l=L(u)).Or.add(0),[4,ms(l)];case 1:return h.sent(),l.Br.set("Offline"),[2]}})})}(o))]}})})})}(_e(yt(this._delegate,Yt)))},e.prototype.enablePersistence=function(t){var n=!1,i=!1;return t&&aS("synchronizeTabs",n=!!t.synchronizeTabs,"experimentalForceOwningTab",i=!!t.experimentalForceOwningTab),n?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,i)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var n=this,i=new Ee;return t.asyncQueue.enqueueAndForget(function(){return k(n,void 0,void 0,function(){var o;return A(this,function(a){switch(a.label){case 0:return o=TL,[4,oS(t)];case 1:return[2,o.apply(void 0,[a.sent(),i])]}})})}),i.promise}(_e(yt(this._delegate,Yt)))},e.prototype.onSnapshotsInSync=function(t){return function(n,i){return function(o,a){var u=this,l=new Md(a);return o.asyncQueue.enqueueAndForget(function(){return k(u,void 0,void 0,function(){var h;return A(this,function(p){switch(p.label){case 0:return h=function(m,b){L(m).Gr.add(b),b.next()},[4,cs(o)];case 1:return[2,h.apply(void 0,[p.sent(),l])]}})})}),function(){l.Wo(),o.asyncQueue.enqueueAndForget(function(){return k(u,void 0,void 0,function(){var h;return A(this,function(p){switch(p.label){case 0:return h=function(m,b){L(m).Gr.delete(b)},[4,cs(o)];case 1:return[2,h.apply(void 0,[p.sent(),l])]}})})})}}(_e(n=yt(n,Yt)),ls(i)?i:{next:i})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new R(x.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new _u(this,uS(this._delegate,t))}catch(n){throw De(n,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new Br(this,ld(this._delegate,t))}catch(n){throw De(n,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new Ru(this,function(n,i){if(n=yt(n,yu),Uv("collectionGroup","collection id",i),i.indexOf("/")>=0)throw new R(x.INVALID_ARGUMENT,"Invalid collection ID '"+i+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new on(n,null,function(o){return new ur(vt.emptyPath(),o)}(i))}(this._delegate,t))}catch(n){throw De(n,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var n=this;return function(i,o){return function(a,u){var l=this,h=new Ee;return a.asyncQueue.enqueueAndForget(function(){return k(l,void 0,void 0,function(){var p;return A(this,function(m){switch(m.label){case 0:return[4,function(b){return Pd(b).then(function(y){return y.datastore})}(a)];case 1:return p=m.sent(),new FL(a.asyncQueue,p,u,h).run(),[2]}})})}),h.promise}(_e(i),function(a){return o(new oF(i,a))})}(this._delegate,function(i){return t(new Yv(n,i))})},e.prototype.batch=function(){var t=this;return _e(this._delegate),new Qv(new iF(this._delegate,function(n){return Ou(t._delegate,n)}))},e.prototype.loadBundle=function(t){throw new R(x.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new R(x.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),Ud=function(e){function t(n){var i=this;return(i=e.call(this)||this).firestore=n,i}return W(t,e),t.prototype.convertBytes=function(n){return new $v(new Li(n))},t.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return Br.eu(i,this.firestore,null)},t}(Gv);Yv=function(){function e(t,n){this._firestore=t,this._delegate=n,this._userDataWriter=new Ud(t)}return e.prototype.get=function(t){var n=this,i=Di(t);return this._delegate.get(i).then(function(o){return new ds(n._firestore,new ar(n._firestore._delegate,n._userDataWriter,o._key,o._document,o.metadata,i.converter))})},e.prototype.set=function(t,n,i){var o=Di(t);return i?(Vv("Transaction.set",i),this._delegate.set(o,n,i)):this._delegate.set(o,n),this},e.prototype.update=function(t,n,i){for(var o,a=[],u=3;u<arguments.length;u++)a[u-3]=arguments[u];var l=Di(t);return arguments.length===2?this._delegate.update(l,n):(o=this._delegate).update.apply(o,kt([l,n,i],a)),this},e.prototype.delete=function(t){var n=Di(t);return this._delegate.delete(n),this},e}(),Qv=function(){function e(t){this._delegate=t}return e.prototype.set=function(t,n,i){var o=Di(t);return i?(Vv("WriteBatch.set",i),this._delegate.set(o,n,i)):this._delegate.set(o,n),this},e.prototype.update=function(t,n,i){for(var o,a=[],u=3;u<arguments.length;u++)a[u-3]=arguments[u];var l=Di(t);return arguments.length===2?this._delegate.update(l,n):(o=this._delegate).update.apply(o,kt([l,n,i],a)),this},e.prototype.delete=function(t){var n=Di(t);return this._delegate.delete(n),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),Vd=function(){function e(t,n,i){this._firestore=t,this._userDataWriter=n,this._delegate=i}return e.prototype.fromFirestore=function(t,n){var i=new du(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new hs(this._firestore,i),n??{})},e.prototype.toFirestore=function(t,n){return n?this._delegate.toFirestore(t,n):this._delegate.toFirestore(t)},e.nu=function(t,n){var i=e.su,o=i.get(t);o||(o=new WeakMap,i.set(t,o));var a=o.get(n);return a||(a=new e(t,new Ud(t),n),o.set(n,a)),a},e}();Vd.su=new WeakMap;Br=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new Ud(t)}return e.iu=function(t,n,i){if(t.length%2!=0)throw new R(x.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new Nt(n._delegate,i,new G(t)))},e.eu=function(t,n,i){return new e(n,new Nt(n._delegate,i,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new _u(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new _u(this.firestore,uS(this._delegate,t))}catch(n){throw De(n,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return(t=Bt(t))instanceof Nt&&cS(this._delegate,t)},e.prototype.set=function(t,n){n=Vv("DocumentReference.set",n);try{return n?LT(this._delegate,t,n):LT(this._delegate,t)}catch(i){throw De(i,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];try{return arguments.length===1?FT(this._delegate,t):FT.apply(void 0,kt([this._delegate,t,n],i))}catch(a){throw De(a,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Ou(yt((t=this._delegate).firestore,Yt),[new Cu(t._key,Ie.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=AS(n),a=kS(n,function(u){return new ds(t.firestore,new ar(t.firestore._delegate,t._userDataWriter,u._key,u._document,u.metadata,t._delegate.converter))});return xS(this._delegate,o,a)},e.prototype.get=function(t){var n=this;return(t?.source==="cache"?function(i){i=yt(i,Nt);var o=yt(i.firestore,Yt),a=_e(o),u=new Ri(o);return function(l,h){var p=this,m=new Ee;return l.asyncQueue.enqueueAndForget(function(){return k(p,void 0,void 0,function(){var b;return A(this,function(y){switch(y.label){case 0:return b=function(_,I,E){return k(this,void 0,void 0,function(){var S,O;return A(this,function(F){switch(F.label){case 0:return F.trys.push([0,2,,3]),[4,function(V,rt){var lt=L(V);return lt.persistence.runTransaction("read document","readonly",function(P){return lt.Mn.mn(P,rt)})}(_,I)];case 1:return(O=F.sent()).isFoundDocument()?E.resolve(O):O.isNoDocument()?E.resolve(null):E.reject(new R(x.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return S=F.sent(),O=bs(S,"Failed to get document '"+I+" from cache"),E.reject(O),[3,3];case 3:return[2]}})})},[4,iS(l)];case 1:return[2,b.apply(void 0,[y.sent(),h,m])]}})})}),m.promise}(a,i._key).then(function(l){return new ar(o,u,i._key,l,new ki(l!==null&&l.hasLocalMutations,!0),i.converter)})}(this._delegate):t?.source==="server"?function(i){i=yt(i,Nt);var o=yt(i.firestore,Yt);return _T(_e(o),i._key,{source:"server"}).then(function(a){return ov(o,i,a)})}(this._delegate):function(i){i=yt(i,Nt);var o=yt(i.firestore,Yt);return _T(_e(o),i._key).then(function(a){return ov(o,i,a)})}(this._delegate)).then(function(i){return new ds(n.firestore,new ar(n.firestore._delegate,n._userDataWriter,i._key,i._document,i.metadata,n._delegate.converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Vd.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();ds=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"ref",{get:function(){return new Br(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,n){return this._delegate.get(t,n)},e.prototype.isEqual=function(t){return _S(this._delegate,t._delegate)},e}(),hs=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return W(t,e),t.prototype.data=function(n){return this._delegate.data(n)},t}(ds),Ru=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new Ud(t)}return e.prototype.where=function(t,n,i){try{return new e(this.firestore,Nr(this._delegate,function(o,a,u){var l=a,h=xd("where",o);return new eF(h,l,u)}(t,n,i)))}catch(o){throw De(o,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Nr(this._delegate,function(i,o){o===void 0&&(o="asc");var a=o,u=xd("orderBy",i);return new nF(u,a)}(t,n)))}catch(i){throw De(i,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Nr(this._delegate,function(n){return CT("limit",n),new OT("limit",n,"F")}(t)))}catch(n){throw De(n,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Nr(this._delegate,function(n){return CT("limitToLast",n),new OT("limitToLast",n,"L")}(t)))}catch(n){throw De(n,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Nr(this._delegate,(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new RT("startAt",i,!0)}).apply(void 0,t)))}catch(i){throw De(i,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Nr(this._delegate,(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new RT("startAfter",i,!1)}).apply(void 0,t)))}catch(i){throw De(i,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Nr(this._delegate,(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new NT("endBefore",i,!0)}).apply(void 0,t)))}catch(i){throw De(i,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Nr(this._delegate,(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new NT("endAt",i,!1)}).apply(void 0,t)))}catch(i){throw De(i,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return lS(this._delegate,t._delegate)},e.prototype.get=function(t){var n=this;return(t?.source==="cache"?function(i){i=yt(i,on);var o=yt(i.firestore,Yt),a=_e(o),u=new Ri(o);return function(l,h){var p=this,m=new Ee;return l.asyncQueue.enqueueAndForget(function(){return k(p,void 0,void 0,function(){var b;return A(this,function(y){switch(y.label){case 0:return b=function(_,I,E){return k(this,void 0,void 0,function(){var S,O,F,V,rt;return A(this,function(lt){switch(lt.label){case 0:return lt.trys.push([0,2,,3]),[4,wd(_,I,!0)];case 1:return rt=lt.sent(),S=new Qx(I,rt.Bn),O=S._o(rt.documents),F=S.applyChanges(O,!1),E.resolve(F.snapshot),[3,3];case 2:return V=lt.sent(),rt=bs(V,"Failed to execute query '"+I+" against cache"),E.reject(rt),[3,3];case 3:return[2]}})})},[4,iS(l)];case 1:return[2,b.apply(void 0,[y.sent(),h,m])]}})})}),m.promise}(a,i._query).then(function(l){return new Fr(o,u,i,l)})}(this._delegate):t?.source==="server"?function(i){i=yt(i,on);var o=yt(i.firestore,Yt),a=_e(o),u=new Ri(o);return IT(a,i._query,{source:"server"}).then(function(l){return new Fr(o,u,i,l)})}(this._delegate):function(i){i=yt(i,on);var o=yt(i.firestore,Yt),a=_e(o),u=new Ri(o);return IS(i._query),IT(a,i._query).then(function(l){return new Fr(o,u,i,l)})}(this._delegate)).then(function(i){return new Sd(n.firestore,new Fr(n.firestore._delegate,n._userDataWriter,n._delegate,i._snapshot))})},e.prototype.onSnapshot=function(){for(var t=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=AS(n),a=kS(n,function(u){return new Sd(t.firestore,new Fr(t.firestore._delegate,t._userDataWriter,t._delegate,u._snapshot))});return xS(this._delegate,o,a)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Vd.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),sF=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new hs(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),Sd=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"query",{get:function(){return new Ru(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(n){return new hs(t._firestore,n)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var n=this;return this._delegate.docChanges(t).map(function(i){return new sF(n._firestore,i)})},e.prototype.forEach=function(t,n){var i=this;this._delegate.forEach(function(o){t.call(n,new hs(i._firestore,o))})},e.prototype.isEqual=function(t){return _S(this._delegate,t._delegate)},e}(),_u=function(e){function t(n,i){var o=this;return(o=e.call(this,n,i)||this).firestore=n,o._delegate=i,o}return W(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new Br(this.firestore,n):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(n){try{return new Br(this.firestore,n===void 0?ld(this._delegate):ld(this._delegate,n))}catch(i){throw De(i,"doc()","CollectionReference.doc()")}},t.prototype.add=function(n){var i=this;return function(o,a){var u=yt(o.firestore,Yt),l=ld(o),h=jd(o.converter,a);return Ou(u,[Fd(zi(o.firestore),"addDoc",l._key,h,o.converter!==null,{}).toMutation(l._key,Ie.exists(!1))]).then(function(){return l})}(this._delegate,n).then(function(o){return new Br(i.firestore,o)})},t.prototype.isEqual=function(n){return cS(this._delegate,n._delegate)},t.prototype.withConverter=function(n){return new t(this.firestore,n?this._delegate.withConverter(Vd.nu(this.firestore,n)):this._delegate.withConverter(null))},t}(Ru);DS=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._delegate=new(Gn.bind.apply(Gn,kt([void 0],t)))}return e.documentId=function(){return new e(Dn.keyField().canonicalString())},e.prototype.isEqual=function(t){return(t=Bt(t))instanceof Gn&&this._delegate._internalPath.isEqual(t._internalPath)},e}(),OS=function(){function e(t){this._delegate=t}return e.serverTimestamp=function(){var t=new WL("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Bv("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=(function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];return new YL("arrayUnion",o)}).apply(void 0,t);return i._methodName="FieldValue.arrayUnion",new e(i)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=(function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];return new QL("arrayRemove",o)}).apply(void 0,t);return i._methodName="FieldValue.arrayRemove",new e(i)},e.increment=function(t){var n=function(i){return new XL("increment",i)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}();});function uF(e){(function(t,n){t.INTERNAL.registerComponent(new Mo("firestore",function(i){var o=i.getProvider("app").getImmediate();return n(o,i.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},aF)))})(e,function(t,n){return new Wv(t,new Yt(t,n),new SS)}),e.registerVersion("@firebase/firestore","2.4.1")}var aF,NS=Tn(()=>{"use strict";Ba();RS();Km();Va();El();Bg();aF={Firestore:Wv,GeoPoint:ku,Timestamp:Oe,Blob:$v,Transaction:Yv,WriteBatch:Qv,DocumentReference:Br,DocumentSnapshot:ds,Query:Ru,QueryDocumentSnapshot:hs,QuerySnapshot:Sd,CollectionReference:_u,FieldPath:DS,FieldValue:OS,setLogLevel:CS,CACHE_SIZE_UNLIMITED:dS};uF(Q)});var cF={};var MS=Tn(()=>{"use strict";NS()});var Gp=class extends k_{constructor(){super(...arguments),this.supportsDOMEvents=!0}},$p=class e extends Gp{static makeCurrent(){A_(new e)}onAndCancel(t,n,i){return t.addEventListener(n,i),()=>{t.removeEventListener(n,i)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=wO();return n==null?null:_O(n)}resetBaseElement(){ga=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return N_(document.cookie,t)}},ga=null;function wO(){return ga=ga||document.querySelector("base"),ga?ga.getAttribute("href"):null}function _O(e){return new URL(e,document.baseURI).pathname}var Wp=class{addToWindow(t){_r.getAngularTestability=(i,o=!0)=>{let a=t.findTestabilityInTree(i,o);if(a==null)throw new Ut(5103,!1);return a},_r.getAllAngularTestabilities=()=>t.getAllTestabilities(),_r.getAllAngularRootElements=()=>t.getAllRootElements();let n=i=>{let o=_r.getAllAngularTestabilities(),a=o.length,u=function(){a--,a==0&&i()};o.forEach(l=>{l.whenStable(u)})};_r.frameworkStabilizers||(_r.frameworkStabilizers=[]),_r.frameworkStabilizers.push(n)}findTestabilityInTree(t,n,i){if(n==null)return null;let o=t.getTestability(n);return o??(i?Zc().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},IO=(()=>{let t=class t{build(){return new XMLHttpRequest}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac});let e=t;return e})(),Yp=new Zt(""),z_=(()=>{let t=class t{constructor(i,o){this._zone=o,this._eventNameToPlugin=new Map,i.forEach(a=>{a.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,o,a){return this._findPluginFor(o).addEventListener(i,o,a)}getZone(){return this._zone}_findPluginFor(i){let o=this._eventNameToPlugin.get(i);if(o)return o;if(o=this._plugins.find(u=>u.supports(i)),!o)throw new Ut(5101,!1);return this._eventNameToPlugin.set(i,o),o}};t.\u0275fac=function(o){return new(o||t)(it(Yp),it(Vt))},t.\u0275prov=ht({token:t,factory:t.\u0275fac});let e=t;return e})(),Jc=class{constructor(t){this._doc=t}},Hp="ng-app-id",q_=(()=>{let t=class t{constructor(i,o,a,u={}){this.doc=i,this.appId=o,this.nonce=a,this.platformId=u,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=qp(u),this.resetHostNodes()}addStyles(i){for(let o of i)this.changeUsageCount(o,1)===1&&this.onStyleAdded(o)}removeStyles(i){for(let o of i)this.changeUsageCount(o,-1)<=0&&this.onStyleRemoved(o)}ngOnDestroy(){let i=this.styleNodesInDOM;i&&(i.forEach(o=>o.remove()),i.clear());for(let o of this.getAllStyles())this.onStyleRemoved(o);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(let o of this.getAllStyles())this.addStyleToHost(i,o)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(let o of this.hostNodes)this.addStyleToHost(o,i)}onStyleRemoved(i){let o=this.styleRef;o.get(i)?.elements?.forEach(a=>a.remove()),o.delete(i)}collectServerRenderedStyles(){let i=this.doc.head?.querySelectorAll(`style[${Hp}="${this.appId}"]`);if(i?.length){let o=new Map;return i.forEach(a=>{a.textContent!=null&&o.set(a.textContent,a)}),o}return null}changeUsageCount(i,o){let a=this.styleRef;if(a.has(i)){let u=a.get(i);return u.usage+=o,u.usage}return a.set(i,{usage:o,elements:[]}),o}getStyleElement(i,o){let a=this.styleNodesInDOM,u=a?.get(o);if(u?.parentNode===i)return a.delete(o),u.removeAttribute(Hp),u;{let l=this.doc.createElement("style");return this.nonce&&l.setAttribute("nonce",this.nonce),l.textContent=o,this.platformIsServer&&l.setAttribute(Hp,this.appId),i.appendChild(l),l}}addStyleToHost(i,o){let a=this.getStyleElement(i,o),u=this.styleRef,l=u.get(o)?.elements;l?l.push(a):u.set(o,{elements:[a],usage:1})}resetHostNodes(){let i=this.hostNodes;i.clear(),i.add(this.doc.head)}};t.\u0275fac=function(o){return new(o||t)(it(se),it(la),it(da,8),it(bi))},t.\u0275prov=ht({token:t,factory:t.\u0275fac});let e=t;return e})(),Kp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Xp=/%COMP%/g,H_="%COMP%",EO=`_nghost-${H_}`,TO=`_ngcontent-${H_}`,xO=!0,SO=new Zt("",{providedIn:"root",factory:()=>xO});function CO(e){return TO.replace(Xp,e)}function AO(e){return EO.replace(Xp,e)}function K_(e,t){return t.map(n=>n.replace(Xp,e))}var tl=(()=>{let t=class t{constructor(i,o,a,u,l,h,p,m=null){this.eventManager=i,this.sharedStylesHost=o,this.appId=a,this.removeStylesOnCompDestroy=u,this.doc=l,this.platformId=h,this.ngZone=p,this.nonce=m,this.rendererByCompId=new Map,this.platformIsServer=qp(h),this.defaultRenderer=new va(i,l,p,this.platformIsServer)}createRenderer(i,o){if(!i||!o)return this.defaultRenderer;this.platformIsServer&&o.encapsulation===ua.ShadowDom&&(o=ge(K({},o),{encapsulation:ua.Emulated}));let a=this.getOrCreateRenderer(i,o);return a instanceof el?a.applyToHost(i):a instanceof ba&&a.applyStyles(),a}getOrCreateRenderer(i,o){let a=this.rendererByCompId,u=a.get(o.id);if(!u){let l=this.doc,h=this.ngZone,p=this.eventManager,m=this.sharedStylesHost,b=this.removeStylesOnCompDestroy,y=this.platformIsServer;switch(o.encapsulation){case ua.Emulated:u=new el(p,m,o,this.appId,b,l,h,y);break;case ua.ShadowDom:return new Qp(p,m,i,o,l,h,this.nonce,y);default:u=new ba(p,m,o,b,l,h,y);break}a.set(o.id,u)}return u}ngOnDestroy(){this.rendererByCompId.clear()}};t.\u0275fac=function(o){return new(o||t)(it(z_),it(q_),it(la),it(SO),it(se),it(bi),it(Vt),it(da))},t.\u0275prov=ht({token:t,factory:t.\u0275fac});let e=t;return e})(),va=class{constructor(t,n,i,o){this.eventManager=t,this.doc=n,this.ngZone=i,this.platformIsServer=o,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(Kp[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(U_(t)?t.content:t).appendChild(n)}insertBefore(t,n,i){t&&(U_(t)?t.content:t).insertBefore(n,i)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let i=typeof t=="string"?this.doc.querySelector(t):t;if(!i)throw new Ut(-5104,!1);return n||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,i,o){if(o){n=o+":"+n;let a=Kp[o];a?t.setAttributeNS(a,n,i):t.setAttribute(n,i)}else t.setAttribute(n,i)}removeAttribute(t,n,i){if(i){let o=Kp[i];o?t.removeAttributeNS(o,n):t.removeAttribute(`${i}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,i,o){o&(ha.DashCase|ha.Important)?t.style.setProperty(n,i,o&ha.Important?"important":""):t.style[n]=i}removeStyle(t,n,i){i&ha.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,i){t!=null&&(t[n]=i)}setValue(t,n){t.nodeValue=n}listen(t,n,i){if(typeof t=="string"&&(t=Zc().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(i))}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))===!1&&n.preventDefault()}}};function U_(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var Qp=class extends va{constructor(t,n,i,o,a,u,l,h){super(t,a,u,h),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let p=K_(o.id,o.styles);for(let m of p){let b=document.createElement("style");l&&b.setAttribute("nonce",l),b.textContent=m,this.shadowRoot.appendChild(b)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,i){return super.insertBefore(this.nodeOrShadowRoot(t),n,i)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ba=class extends va{constructor(t,n,i,o,a,u,l,h){super(t,a,u,l),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=o,this.styles=h?K_(h,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},el=class extends ba{constructor(t,n,i,o,a,u,l,h){let p=o+"-"+i.id;super(t,n,i,a,u,l,h,p),this.contentAttr=CO(p),this.hostAttr=AO(p)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let i=super.createElement(t,n);return super.setAttribute(i,this.contentAttr,""),i}},kO=(()=>{let t=class t extends Jc{constructor(i){super(i)}supports(i){return!0}addEventListener(i,o,a){return i.addEventListener(o,a,!1),()=>this.removeEventListener(i,o,a)}removeEventListener(i,o,a){return i.removeEventListener(o,a)}};t.\u0275fac=function(o){return new(o||t)(it(se))},t.\u0275prov=ht({token:t,factory:t.\u0275fac});let e=t;return e})(),V_=["alt","control","meta","shift"],DO={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},OO={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},RO=(()=>{let t=class t extends Jc{constructor(i){super(i)}supports(i){return t.parseEventName(i)!=null}addEventListener(i,o,a){let u=t.parseEventName(o),l=t.eventCallback(u.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Zc().onAndCancel(i,u.domEventName,l))}static parseEventName(i){let o=i.toLowerCase().split("."),a=o.shift();if(o.length===0||!(a==="keydown"||a==="keyup"))return null;let u=t._normalizeKey(o.pop()),l="",h=o.indexOf("code");if(h>-1&&(o.splice(h,1),l="code."),V_.forEach(m=>{let b=o.indexOf(m);b>-1&&(o.splice(b,1),l+=m+".")}),l+=u,o.length!=0||u.length===0)return null;let p={};return p.domEventName=a,p.fullKey=l,p}static matchEventFullKeyCode(i,o){let a=DO[i.key]||i.key,u="";return o.indexOf("code.")>-1&&(a=i.code,u="code."),a==null||!a?!1:(a=a.toLowerCase(),a===" "?a="space":a==="."&&(a="dot"),V_.forEach(l=>{if(l!==a){let h=OO[l];h(i)&&(u+=l+".")}}),u+=a,u===o)}static eventCallback(i,o,a){return u=>{t.matchEventFullKeyCode(u,i)&&a.runGuarded(()=>o(u))}}static _normalizeKey(i){return i==="esc"?"escape":i}};t.\u0275fac=function(o){return new(o||t)(it(se))},t.\u0275prov=ht({token:t,factory:t.\u0275fac});let e=t;return e})();function NO(){$p.makeCurrent()}function MO(){return new Lp}function PO(){return f_(document),document}var LO=[{provide:bi,useValue:P_},{provide:p_,useValue:NO,multi:!0},{provide:se,useFactory:PO,deps:[]}],G_=T_(x_,"browser",LO),FO=new Zt(""),jO=[{provide:Wc,useClass:Wp,deps:[]},{provide:__,useClass:Yc,deps:[Vt,Up,Wc]},{provide:Yc,useClass:Yc,deps:[Vt,Up,Wc]}],UO=[{provide:h_,useValue:"root"},{provide:Lp,useFactory:MO,deps:[]},{provide:Yp,useClass:kO,multi:!0,deps:[se,Vt,bi]},{provide:Yp,useClass:RO,multi:!0,deps:[se]},tl,q_,z_,{provide:Gc,useExisting:tl},{provide:j_,useClass:IO,deps:[]},[]],$_=(()=>{let t=class t{constructor(i){}static withServerTransition(i){return{ngModule:t,providers:[{provide:la,useValue:i.appId}]}}};t.\u0275fac=function(o){return new(o||t)(it(FO,12))},t.\u0275mod=Ht({type:t}),t.\u0275inj=qt({providers:[...UO,...jO],imports:[M_,S_]});let e=t;return e})();var W_=(()=>{let t=class t{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}};t.\u0275fac=function(o){return new(o||t)(it(se))},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var st="primary",Na=Symbol("RouteTitle"),nm=class{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Co(e){return new nm(e)}function BO(e,t,n){let i=n.path.split("/");if(i.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||i.length<e.length))return null;let o={};for(let a=0;a<i.length;a++){let u=i[a],l=e[a];if(u.startsWith(":"))o[u.substring(1)]=l;else if(u!==l.path)return null}return{consumed:e.slice(0,i.length),posParams:o}}function zO(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Bn(e[n],t[n]))return!1;return!0}function Bn(e,t){let n=e?rm(e):void 0,i=t?rm(t):void 0;if(!n||!i||n.length!=i.length)return!1;let o;for(let a=0;a<n.length;a++)if(o=n[a],!aI(e[o],t[o]))return!1;return!0}function rm(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function aI(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),i=[...t].sort();return n.every((o,a)=>i[a]===o)}else return e===t}function uI(e){return e.length>0?e[e.length-1]:null}function Cr(e){return r_(e)?e:I_(e)?$e(Promise.resolve(e)):tt(e)}var qO={exact:lI,subset:dI},cI={exact:HO,subset:KO,ignored:()=>!0};function Q_(e,t,n){return qO[n.paths](e.root,t.root,n.matrixParams)&&cI[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function HO(e,t){return Bn(e,t)}function lI(e,t,n){if(!wi(e.segments,t.segments)||!il(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let i in t.children)if(!e.children[i]||!lI(e.children[i],t.children[i],n))return!1;return!0}function KO(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>aI(e[n],t[n]))}function dI(e,t,n){return hI(e,t,t.segments,n)}function hI(e,t,n,i){if(e.segments.length>n.length){let o=e.segments.slice(0,n.length);return!(!wi(o,n)||t.hasChildren()||!il(o,n,i))}else if(e.segments.length===n.length){if(!wi(e.segments,n)||!il(e.segments,n,i))return!1;for(let o in t.children)if(!e.children[o]||!dI(e.children[o],t.children[o],i))return!1;return!0}else{let o=n.slice(0,e.segments.length),a=n.slice(e.segments.length);return!wi(e.segments,o)||!il(e.segments,o,i)||!e.children[st]?!1:hI(e.children[st],t,a,i)}}function il(e,t,n){return t.every((i,o)=>cI[n](e[o].parameters,i.parameters))}var Tr=class{constructor(t=new bt([],{}),n={},i=null){this.root=t,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Co(this.queryParams),this._queryParamMap}toString(){return WO.serialize(this)}},bt=class{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ol(this)}},yi=class{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=Co(this.parameters),this._parameterMap}toString(){return pI(this)}};function GO(e,t){return wi(e,t)&&e.every((n,i)=>Bn(n.parameters,t[i].parameters))}function wi(e,t){return e.length!==t.length?!1:e.every((n,i)=>n.path===t[i].path)}function $O(e,t){let n=[];return Object.entries(e.children).forEach(([i,o])=>{i===st&&(n=n.concat(t(o,i)))}),Object.entries(e.children).forEach(([i,o])=>{i!==st&&(n=n.concat(t(o,i)))}),n}var Ma=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=ht({token:t,factory:()=>new xa,providedIn:"root"});let e=t;return e})(),xa=class{parse(t){let n=new om(t);return new Tr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${ya(t.root,!0)}`,i=XO(t.queryParams),o=typeof t.fragment=="string"?`#${YO(t.fragment)}`:"";return`${n}${i}${o}`}},WO=new xa;function ol(e){return e.segments.map(t=>pI(t)).join("/")}function ya(e,t){if(!e.hasChildren())return ol(e);if(t){let n=e.children[st]?ya(e.children[st],!1):"",i=[];return Object.entries(e.children).forEach(([o,a])=>{o!==st&&i.push(`${o}:${ya(a,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}else{let n=$O(e,(i,o)=>o===st?[ya(e.children[st],!1)]:[`${o}:${ya(i,!1)}`]);return Object.keys(e.children).length===1&&e.children[st]!=null?`${ol(e)}/${n[0]}`:`${ol(e)}/(${n.join("//")})`}}function fI(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function nl(e){return fI(e).replace(/%3B/gi,";")}function YO(e){return encodeURI(e)}function im(e){return fI(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function sl(e){return decodeURIComponent(e)}function X_(e){return sl(e.replace(/\+/g,"%20"))}function pI(e){return`${im(e.path)}${QO(e.parameters)}`}function QO(e){return Object.entries(e).map(([t,n])=>`;${im(t)}=${im(n)}`).join("")}function XO(e){let t=Object.entries(e).map(([n,i])=>Array.isArray(i)?i.map(o=>`${nl(n)}=${nl(o)}`).join("&"):`${nl(n)}=${nl(i)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var ZO=/^[^\/()?;#]+/;function Zp(e){let t=e.match(ZO);return t?t[0]:""}var JO=/^[^\/()?;=#]+/;function tR(e){let t=e.match(JO);return t?t[0]:""}var eR=/^[^=?&#]+/;function nR(e){let t=e.match(eR);return t?t[0]:""}var rR=/^[^&#]+/;function iR(e){let t=e.match(rR);return t?t[0]:""}var om=class{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new bt([],{}):new bt([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(i[st]=new bt(t,n)),i}parseSegment(){let t=Zp(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new Ut(4009,!1);return this.capture(t),new yi(sl(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=tR(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let o=Zp(this.remaining);o&&(i=o,this.capture(i))}t[sl(n)]=sl(i)}parseQueryParam(t){let n=nR(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let u=iR(this.remaining);u&&(i=u,this.capture(i))}let o=X_(n),a=X_(i);if(t.hasOwnProperty(o)){let u=t[o];Array.isArray(u)||(u=[u],t[o]=u),u.push(a)}else t[o]=a}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=Zp(this.remaining),o=this.remaining[i.length];if(o!=="/"&&o!==")"&&o!==";")throw new Ut(4010,!1);let a;i.indexOf(":")>-1?(a=i.slice(0,i.indexOf(":")),this.capture(a),this.capture(":")):t&&(a=st);let u=this.parseChildren();n[a]=Object.keys(u).length===1?u[st]:new bt([],u),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new Ut(4011,!1)}};function mI(e){return e.segments.length>0?new bt([],{[st]:e}):e}function gI(e){let t={};for(let[i,o]of Object.entries(e.children)){let a=gI(o);if(i===st&&a.segments.length===0&&a.hasChildren())for(let[u,l]of Object.entries(a.children))t[u]=l;else(a.segments.length>0||a.hasChildren())&&(t[i]=a)}let n=new bt(e.segments,t);return oR(n)}function oR(e){if(e.numberOfChildren===1&&e.children[st]){let t=e.children[st];return new bt(e.segments.concat(t.segments),t.children)}return e}function Ao(e){return e instanceof Tr}function sR(e,t,n=null,i=null){let o=vI(e);return bI(o,t,n,i)}function vI(e){let t;function n(a){let u={};for(let h of a.children){let p=n(h);u[h.outlet]=p}let l=new bt(a.url,u);return a===e&&(t=l),l}let i=n(e.root),o=mI(i);return t??o}function bI(e,t,n,i){let o=e;for(;o.parent;)o=o.parent;if(t.length===0)return Jp(o,o,o,n,i);let a=aR(t);if(a.toRoot())return Jp(o,o,new bt([],{}),n,i);let u=uR(a,o,e),l=u.processChildren?Ia(u.segmentGroup,u.index,a.commands):wI(u.segmentGroup,u.index,a.commands);return Jp(o,u.segmentGroup,l,n,i)}function al(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function Sa(e){return typeof e=="object"&&e!=null&&e.outlets}function Jp(e,t,n,i,o){let a={};i&&Object.entries(i).forEach(([h,p])=>{a[h]=Array.isArray(p)?p.map(m=>`${m}`):`${p}`});let u;e===t?u=n:u=yI(e,t,n);let l=mI(gI(u));return new Tr(l,a,o)}function yI(e,t,n){let i={};return Object.entries(e.children).forEach(([o,a])=>{a===t?i[o]=n:i[o]=yI(a,t,n)}),new bt(e.segments,i)}var ul=class{constructor(t,n,i){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=i,t&&i.length>0&&al(i[0]))throw new Ut(4003,!1);let o=i.find(Sa);if(o&&o!==uI(i))throw new Ut(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function aR(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new ul(!0,0,e);let t=0,n=!1,i=e.reduce((o,a,u)=>{if(typeof a=="object"&&a!=null){if(a.outlets){let l={};return Object.entries(a.outlets).forEach(([h,p])=>{l[h]=typeof p=="string"?p.split("/"):p}),[...o,{outlets:l}]}if(a.segmentPath)return[...o,a.segmentPath]}return typeof a!="string"?[...o,a]:u===0?(a.split("/").forEach((l,h)=>{h==0&&l==="."||(h==0&&l===""?n=!0:l===".."?t++:l!=""&&o.push(l))}),o):[...o,a]},[]);return new ul(n,t,i)}var xo=class{constructor(t,n,i){this.segmentGroup=t,this.processChildren=n,this.index=i}};function uR(e,t,n){if(e.isAbsolute)return new xo(t,!0,0);if(!n)return new xo(t,!1,NaN);if(n.parent===null)return new xo(n,!0,0);let i=al(e.commands[0])?0:1,o=n.segments.length-1+i;return cR(n,o,e.numberOfDoubleDots)}function cR(e,t,n){let i=e,o=t,a=n;for(;a>o;){if(a-=o,i=i.parent,!i)throw new Ut(4005,!1);o=i.segments.length}return new xo(i,!1,o-a)}function lR(e){return Sa(e[0])?e[0].outlets:{[st]:e}}function wI(e,t,n){if(e??=new bt([],{}),e.segments.length===0&&e.hasChildren())return Ia(e,t,n);let i=dR(e,t,n),o=n.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){let a=new bt(e.segments.slice(0,i.pathIndex),{});return a.children[st]=new bt(e.segments.slice(i.pathIndex),e.children),Ia(a,0,o)}else return i.match&&o.length===0?new bt(e.segments,{}):i.match&&!e.hasChildren()?sm(e,t,n):i.match?Ia(e,0,o):sm(e,t,n)}function Ia(e,t,n){if(n.length===0)return new bt(e.segments,{});{let i=lR(n),o={};if(Object.keys(i).some(a=>a!==st)&&e.children[st]&&e.numberOfChildren===1&&e.children[st].segments.length===0){let a=Ia(e.children[st],t,n);return new bt(e.segments,a.children)}return Object.entries(i).forEach(([a,u])=>{typeof u=="string"&&(u=[u]),u!==null&&(o[a]=wI(e.children[a],t,u))}),Object.entries(e.children).forEach(([a,u])=>{i[a]===void 0&&(o[a]=u)}),new bt(e.segments,o)}}function dR(e,t,n){let i=0,o=t,a={match:!1,pathIndex:0,commandIndex:0};for(;o<e.segments.length;){if(i>=n.length)return a;let u=e.segments[o],l=n[i];if(Sa(l))break;let h=`${l}`,p=i<n.length-1?n[i+1]:null;if(o>0&&h===void 0)break;if(h&&p&&typeof p=="object"&&p.outlets===void 0){if(!J_(h,p,u))return a;i+=2}else{if(!J_(h,{},u))return a;i++}o++}return{match:!0,pathIndex:o,commandIndex:i}}function sm(e,t,n){let i=e.segments.slice(0,t),o=0;for(;o<n.length;){let a=n[o];if(Sa(a)){let h=hR(a.outlets);return new bt(i,h)}if(o===0&&al(n[0])){let h=e.segments[t];i.push(new yi(h.path,Z_(n[0]))),o++;continue}let u=Sa(a)?a.outlets[st]:`${a}`,l=o<n.length-1?n[o+1]:null;u&&l&&al(l)?(i.push(new yi(u,Z_(l))),o+=2):(i.push(new yi(u,{})),o++)}return new bt(i,{})}function hR(e){let t={};return Object.entries(e).forEach(([n,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(t[n]=sm(new bt([],{}),0,i))}),t}function Z_(e){let t={};return Object.entries(e).forEach(([n,i])=>t[n]=`${i}`),t}function J_(e,t,n){return e==n.path&&Bn(t,n.parameters)}var Ea="imperative",ee=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(ee||{}),hn=class{constructor(t,n){this.id=t,this.url=n}},ko=class extends hn{constructor(t,n,i="imperative",o=null){super(t,n),this.type=ee.NavigationStart,this.navigationTrigger=i,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},nr=class extends hn{constructor(t,n,i){super(t,n),this.urlAfterRedirects=i,this.type=ee.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Qe=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(Qe||{}),cl=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(cl||{}),xr=class extends hn{constructor(t,n,i,o){super(t,n),this.reason=i,this.code=o,this.type=ee.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Sr=class extends hn{constructor(t,n,i,o){super(t,n),this.reason=i,this.code=o,this.type=ee.NavigationSkipped}},Ca=class extends hn{constructor(t,n,i,o){super(t,n),this.error=i,this.target=o,this.type=ee.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ll=class extends hn{constructor(t,n,i,o){super(t,n),this.urlAfterRedirects=i,this.state=o,this.type=ee.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},am=class extends hn{constructor(t,n,i,o){super(t,n),this.urlAfterRedirects=i,this.state=o,this.type=ee.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},um=class extends hn{constructor(t,n,i,o,a){super(t,n),this.urlAfterRedirects=i,this.state=o,this.shouldActivate=a,this.type=ee.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},cm=class extends hn{constructor(t,n,i,o){super(t,n),this.urlAfterRedirects=i,this.state=o,this.type=ee.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},lm=class extends hn{constructor(t,n,i,o){super(t,n),this.urlAfterRedirects=i,this.state=o,this.type=ee.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},dm=class{constructor(t){this.route=t,this.type=ee.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},hm=class{constructor(t){this.route=t,this.type=ee.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},fm=class{constructor(t){this.snapshot=t,this.type=ee.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},pm=class{constructor(t){this.snapshot=t,this.type=ee.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},mm=class{constructor(t){this.snapshot=t,this.type=ee.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},gm=class{constructor(t){this.snapshot=t,this.type=ee.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},dl=class{constructor(t,n,i){this.routerEvent=t,this.position=n,this.anchor=i,this.type=ee.Scroll}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},Aa=class{},ka=class{constructor(t){this.url=t}};var vm=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Pa,this.attachRef=null}},Pa=(()=>{let t=class t{constructor(){this.contexts=new Map}onChildOutletCreated(i,o){let a=this.getOrCreateContext(i);a.outlet=o,this.contexts.set(i,a)}onChildOutletDestroyed(i){let o=this.getContext(i);o&&(o.outlet=null,o.attachRef=null)}onOutletDeactivated(){let i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let o=this.getContext(i);return o||(o=new vm,this.contexts.set(i,o)),o}getContext(i){return this.contexts.get(i)||null}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),hl=class{constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=bm(t,this._root);return n?n.children.map(i=>i.value):[]}firstChild(t){let n=bm(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=ym(t,this._root);return n.length<2?[]:n[n.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return ym(t,this._root).map(n=>n.value)}};function bm(e,t){if(e===t.value)return t;for(let n of t.children){let i=bm(e,n);if(i)return i}return null}function ym(e,t){if(e===t.value)return[t];for(let n of t.children){let i=ym(e,n);if(i.length)return i.unshift(t),i}return[]}var Ye=class{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function To(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var fl=class extends hl{constructor(t,n){super(t),this.snapshot=n,Rm(this,t)}toString(){return this.snapshot.toString()}};function _I(e){let t=fR(e),n=new ln([new yi("",{})]),i=new ln({}),o=new ln({}),a=new ln({}),u=new ln(""),l=new Do(n,i,a,u,o,st,e,t.root);return l.snapshot=t.root,new fl(new Ye(l,[]),t)}function fR(e){let t={},n={},i={},o="",a=new Da([],t,i,o,n,st,e,null,{});return new pl("",new Ye(a,[]))}var Do=class{constructor(t,n,i,o,a,u,l,h){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=o,this.dataSubject=a,this.outlet=u,this.component=l,this._futureSnapshot=h,this.title=this.dataSubject?.pipe(Et(p=>p[Na]))??tt(void 0),this.url=t,this.params=n,this.queryParams=i,this.fragment=o,this.data=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Et(t=>Co(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Et(t=>Co(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Om(e,t,n="emptyOnly"){let i,{routeConfig:o}=e;return t!==null&&(n==="always"||o?.path===""||!t.component&&!t.routeConfig?.loadComponent)?i={params:K(K({},t.params),e.params),data:K(K({},t.data),e.data),resolve:K(K(K(K({},e.data),t.data),o?.data),e._resolvedData)}:i={params:K({},e.params),data:K({},e.data),resolve:K(K({},e.data),e._resolvedData??{})},o&&EI(o)&&(i.resolve[Na]=o.title),i}var Da=class{get title(){return this.data?.[Na]}constructor(t,n,i,o,a,u,l,h,p){this.url=t,this.params=n,this.queryParams=i,this.fragment=o,this.data=a,this.outlet=u,this.component=l,this.routeConfig=h,this._resolve=p}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Co(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Co(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(i=>i.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},pl=class extends hl{constructor(t,n){super(n),this.url=t,Rm(this,n)}toString(){return II(this._root)}};function Rm(e,t){t.value._routerState=e,t.children.forEach(n=>Rm(e,n))}function II(e){let t=e.children.length>0?` { ${e.children.map(II).join(", ")} } `:"";return`${e.value}${t}`}function tm(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Bn(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),Bn(t.params,n.params)||e.paramsSubject.next(n.params),zO(t.url,n.url)||e.urlSubject.next(n.url),Bn(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function wm(e,t){let n=Bn(e.params,t.params)&&GO(e.url,t.url),i=!e.parent!=!t.parent;return n&&!i&&(!e.parent||wm(e.parent,t.parent))}function EI(e){return typeof e.title=="string"||e.title===null}var Nm=(()=>{let t=class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=st,this.activateEvents=new vi,this.deactivateEvents=new vi,this.attachEvents=new vi,this.detachEvents=new vi,this.parentContexts=Y(Pa),this.location=Y(b_),this.changeDetector=Y(Xc),this.environmentInjector=Y(ca),this.inputBinder=Y(yl,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(i){if(i.name){let{firstChange:o,previousValue:a}=i.name;if(o)return;this.isTrackedInParentContexts(a)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(a)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Ut(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Ut(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Ut(4012,!1);this.location.detach();let i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,o){this.activated=i,this._activatedRoute=o,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){let i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,o){if(this.isActivated)throw new Ut(4013,!1);this._activatedRoute=i;let a=this.location,l=i.snapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,p=new _m(i,h,a.injector);this.activated=a.createComponent(l,{index:a.length,injector:p,environmentInjector:o??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};t.\u0275fac=function(o){return new(o||t)},t.\u0275dir=gi({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Np]});let e=t;return e})(),_m=class{constructor(t,n,i){this.route=t,this.childContexts=n,this.parent=i}get(t,n){return t===Do?this.route:t===Pa?this.childContexts:this.parent.get(t,n)}},yl=new Zt(""),tI=(()=>{let t=class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(i){this.unsubscribeFromRouteData(i),this.subscribeToRouteData(i)}unsubscribeFromRouteData(i){this.outletDataSubscriptions.get(i)?.unsubscribe(),this.outletDataSubscriptions.delete(i)}subscribeToRouteData(i){let{activatedRoute:o}=i,a=yo([o.queryParams,o.params,o.data]).pipe(xn(([u,l,h],p)=>(h=K(K(K({},u),l),h),p===0?tt(h):Promise.resolve(h)))).subscribe(u=>{if(!i.isActivated||!i.activatedComponentRef||i.activatedRoute!==o||o.component===null){this.unsubscribeFromRouteData(i);return}let l=C_(o.component);if(!l){this.unsubscribeFromRouteData(i);return}for(let{templateName:h}of l.inputs)i.activatedComponentRef.setInput(h,u[h])});this.outletDataSubscriptions.set(i,a)}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac});let e=t;return e})();function pR(e,t,n){let i=Oa(e,t._root,n?n._root:void 0);return new fl(i,t)}function Oa(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let i=n.value;i._futureSnapshot=t.value;let o=mR(e,t,n);return new Ye(i,o)}else{if(e.shouldAttach(t.value)){let a=e.retrieve(t.value);if(a!==null){let u=a.route;return u.value._futureSnapshot=t.value,u.children=t.children.map(l=>Oa(e,l)),u}}let i=gR(t.value),o=t.children.map(a=>Oa(e,a));return new Ye(i,o)}}function mR(e,t,n){return t.children.map(i=>{for(let o of n.children)if(e.shouldReuseRoute(i.value,o.value.snapshot))return Oa(e,i,o);return Oa(e,i)})}function gR(e){return new Do(new ln(e.url),new ln(e.params),new ln(e.queryParams),new ln(e.fragment),new ln(e.data),e.outlet,e.component,e)}var TI="ngNavigationCancelingError";function xI(e,t){let{redirectTo:n,navigationBehaviorOptions:i}=Ao(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=SI(!1,Qe.Redirect);return o.url=n,o.navigationBehaviorOptions=i,o}function SI(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[TI]=!0,n.cancellationCode=t,n}function vR(e){return CI(e)&&Ao(e.url)}function CI(e){return!!e&&e[TI]}var bR=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=oe({type:t,selectors:[["ng-component"]],standalone:!0,features:[pa],decls:1,vars:0,template:function(o,a){o&1&&ct(0,"router-outlet")},dependencies:[Nm],encapsulation:2});let e=t;return e})();function yR(e,t){return e.providers&&!e._injector&&(e._injector=jp(e.providers,t,`Route: ${e.path}`)),e._injector??t}function Mm(e){let t=e.children&&e.children.map(Mm),n=t?ge(K({},e),{children:t}):K({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==st&&(n.component=bR),n}function zn(e){return e.outlet||st}function wR(e,t){let n=e.filter(i=>zn(i)===t);return n.push(...e.filter(i=>zn(i)!==t)),n}function La(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var _R=(e,t,n,i)=>Et(o=>(new Im(t,o.targetRouterState,o.currentRouterState,n,i).activate(e),o)),Im=class{constructor(t,n,i,o,a){this.routeReuseStrategy=t,this.futureState=n,this.currState=i,this.forwardEvent=o,this.inputBindingEnabled=a}activate(t){let n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,t),tm(this.futureState.root),this.activateChildRoutes(n,i,t)}deactivateChildRoutes(t,n,i){let o=To(n);t.children.forEach(a=>{let u=a.value.outlet;this.deactivateRoutes(a,o[u],i),delete o[u]}),Object.values(o).forEach(a=>{this.deactivateRouteAndItsChildren(a,i)})}deactivateRoutes(t,n,i){let o=t.value,a=n?n.value:null;if(o===a)if(o.component){let u=i.getContext(o.outlet);u&&this.deactivateChildRoutes(t,n,u.children)}else this.deactivateChildRoutes(t,n,i);else a&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let i=n.getContext(t.value.outlet),o=i&&t.value.component?i.children:n,a=To(t);for(let u of Object.values(a))this.deactivateRouteAndItsChildren(u,o);if(i&&i.outlet){let u=i.outlet.detach(),l=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:u,route:t,contexts:l})}}deactivateRouteAndOutlet(t,n){let i=n.getContext(t.value.outlet),o=i&&t.value.component?i.children:n,a=To(t);for(let u of Object.values(a))this.deactivateRouteAndItsChildren(u,o);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,n,i){let o=To(n);t.children.forEach(a=>{this.activateRoutes(a,o[a.value.outlet],i),this.forwardEvent(new gm(a.value.snapshot))}),t.children.length&&this.forwardEvent(new pm(t.value.snapshot))}activateRoutes(t,n,i){let o=t.value,a=n?n.value:null;if(tm(o),o===a)if(o.component){let u=i.getOrCreateContext(o.outlet);this.activateChildRoutes(t,n,u.children)}else this.activateChildRoutes(t,n,i);else if(o.component){let u=i.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){let l=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),u.children.onOutletReAttached(l.contexts),u.attachRef=l.componentRef,u.route=l.route.value,u.outlet&&u.outlet.attach(l.componentRef,l.route.value),tm(l.route.value),this.activateChildRoutes(t,null,u.children)}else{let l=La(o.snapshot);u.attachRef=null,u.route=o,u.injector=l,u.outlet&&u.outlet.activateWith(o,u.injector),this.activateChildRoutes(t,null,u.children)}}else this.activateChildRoutes(t,null,i)}},ml=class{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},So=class{constructor(t,n){this.component=t,this.route=n}};function IR(e,t,n){let i=e._root,o=t?t._root:null;return wa(i,o,n,[i.value])}function ER(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function Ro(e,t){let n=Symbol(),i=t.get(e,n);return i===n?typeof e=="function"&&!l_(e)?e:t.get(e):i}function wa(e,t,n,i,o={canDeactivateChecks:[],canActivateChecks:[]}){let a=To(t);return e.children.forEach(u=>{TR(u,a[u.value.outlet],n,i.concat([u.value]),o),delete a[u.value.outlet]}),Object.entries(a).forEach(([u,l])=>Ta(l,n.getContext(u),o)),o}function TR(e,t,n,i,o={canDeactivateChecks:[],canActivateChecks:[]}){let a=e.value,u=t?t.value:null,l=n?n.getContext(e.value.outlet):null;if(u&&a.routeConfig===u.routeConfig){let h=xR(u,a,a.routeConfig.runGuardsAndResolvers);h?o.canActivateChecks.push(new ml(i)):(a.data=u.data,a._resolvedData=u._resolvedData),a.component?wa(e,t,l?l.children:null,i,o):wa(e,t,n,i,o),h&&l&&l.outlet&&l.outlet.isActivated&&o.canDeactivateChecks.push(new So(l.outlet.component,u))}else u&&Ta(t,l,o),o.canActivateChecks.push(new ml(i)),a.component?wa(e,null,l?l.children:null,i,o):wa(e,null,n,i,o);return o}function xR(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!wi(e.url,t.url);case"pathParamsOrQueryParamsChange":return!wi(e.url,t.url)||!Bn(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!wm(e,t)||!Bn(e.queryParams,t.queryParams);case"paramsChange":default:return!wm(e,t)}}function Ta(e,t,n){let i=To(e),o=e.value;Object.entries(i).forEach(([a,u])=>{o.component?t?Ta(u,t.children.getContext(a),n):Ta(u,null,n):Ta(u,t,n)}),o.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new So(t.outlet.component,o)):n.canDeactivateChecks.push(new So(null,o)):n.canDeactivateChecks.push(new So(null,o))}function Fa(e){return typeof e=="function"}function SR(e){return typeof e=="boolean"}function CR(e){return e&&Fa(e.canLoad)}function AR(e){return e&&Fa(e.canActivate)}function kR(e){return e&&Fa(e.canActivateChild)}function DR(e){return e&&Fa(e.canDeactivate)}function OR(e){return e&&Fa(e.canMatch)}function AI(e){return e instanceof i_||e?.name==="EmptyError"}var rl=Symbol("INITIAL_VALUE");function Oo(){return xn(e=>yo(e.map(t=>t.pipe(yr(1),qc(rl)))).pipe(Et(t=>{for(let n of t)if(n!==!0){if(n===rl)return rl;if(n===!1||n instanceof Tr)return n}return!0}),mi(t=>t!==rl),yr(1)))}function RR(e,t){return We(n=>{let{targetSnapshot:i,currentSnapshot:o,guards:{canActivateChecks:a,canDeactivateChecks:u}}=n;return u.length===0&&a.length===0?tt(ge(K({},n),{guardsResult:!0})):NR(u,i,o,e).pipe(We(l=>l&&SR(l)?MR(i,a,e,t):tt(l)),Et(l=>ge(K({},n),{guardsResult:l})))})}function NR(e,t,n,i){return $e(e).pipe(We(o=>UR(o.component,o.route,n,t,i)),wr(o=>o!==!0,!0))}function MR(e,t,n,i){return $e(t).pipe(_o(o=>Bc(LR(o.route.parent,i),PR(o.route,i),jR(e,o.path,n),FR(e,o.route,n))),wr(o=>o!==!0,!0))}function PR(e,t){return e!==null&&t&&t(new mm(e)),tt(!0)}function LR(e,t){return e!==null&&t&&t(new fm(e)),tt(!0)}function FR(e,t,n){let i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||i.length===0)return tt(!0);let o=i.map(a=>Ap(()=>{let u=La(t)??n,l=Ro(a,u),h=AR(l)?l.canActivate(t,e):Ir(u,()=>l(t,e));return Cr(h).pipe(wr())}));return tt(o).pipe(Oo())}function jR(e,t,n){let i=t[t.length-1],a=t.slice(0,t.length-1).reverse().map(u=>ER(u)).filter(u=>u!==null).map(u=>Ap(()=>{let l=u.guards.map(h=>{let p=La(u.node)??n,m=Ro(h,p),b=kR(m)?m.canActivateChild(i,e):Ir(p,()=>m(i,e));return Cr(b).pipe(wr())});return tt(l).pipe(Oo())}));return tt(a).pipe(Oo())}function UR(e,t,n,i,o){let a=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!a||a.length===0)return tt(!0);let u=a.map(l=>{let h=La(t)??o,p=Ro(l,h),m=DR(p)?p.canDeactivate(e,t,n,i):Ir(h,()=>p(e,t,n,i));return Cr(m).pipe(wr())});return tt(u).pipe(Oo())}function VR(e,t,n,i){let o=t.canLoad;if(o===void 0||o.length===0)return tt(!0);let a=o.map(u=>{let l=Ro(u,e),h=CR(l)?l.canLoad(t,n):Ir(e,()=>l(t,n));return Cr(h)});return tt(a).pipe(Oo(),kI(i))}function kI(e){return e_(ve(t=>{if(Ao(t))throw xI(e,t)}),Et(t=>t===!0))}function BR(e,t,n,i){let o=t.canMatch;if(!o||o.length===0)return tt(!0);let a=o.map(u=>{let l=Ro(u,e),h=OR(l)?l.canMatch(t,n):Ir(e,()=>l(t,n));return Cr(h)});return tt(a).pipe(Oo(),kI(i))}var Ra=class{constructor(t){this.segmentGroup=t||null}},gl=class extends Error{constructor(t){super(),this.urlTree=t}};function Eo(e){return aa(new Ra(e))}function zR(e){return aa(new Ut(4e3,!1))}function qR(e){return aa(SI(!1,Qe.GuardRejected))}var Em=class{constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let i=[],o=n.root;for(;;){if(i=i.concat(o.segments),o.numberOfChildren===0)return tt(i);if(o.numberOfChildren>1||!o.children[st])return zR(t.redirectTo);o=o.children[st]}}applyRedirectCommands(t,n,i){let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,i);if(n.startsWith("/"))throw new gl(o);return o}applyRedirectCreateUrlTree(t,n,i,o){let a=this.createSegmentGroup(t,n.root,i,o);return new Tr(a,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let i={};return Object.entries(t).forEach(([o,a])=>{if(typeof a=="string"&&a.startsWith(":")){let l=a.substring(1);i[o]=n[l]}else i[o]=a}),i}createSegmentGroup(t,n,i,o){let a=this.createSegments(t,n.segments,i,o),u={};return Object.entries(n.children).forEach(([l,h])=>{u[l]=this.createSegmentGroup(t,h,i,o)}),new bt(a,u)}createSegments(t,n,i,o){return n.map(a=>a.path.startsWith(":")?this.findPosParam(t,a,o):this.findOrReturn(a,i))}findPosParam(t,n,i){let o=i[n.path.substring(1)];if(!o)throw new Ut(4001,!1);return o}findOrReturn(t,n){let i=0;for(let o of n){if(o.path===t.path)return n.splice(i),o;i++}return t}},Tm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function HR(e,t,n,i,o){let a=Pm(e,t,n);return a.matched?(i=yR(t,i),BR(i,t,n,o).pipe(Et(u=>u===!0?a:K({},Tm)))):tt(a)}function Pm(e,t,n){if(t.path==="**")return KR(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?K({},Tm):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let o=(t.matcher||BO)(n,e,t);if(!o)return K({},Tm);let a={};Object.entries(o.posParams??{}).forEach(([l,h])=>{a[l]=h.path});let u=o.consumed.length>0?K(K({},a),o.consumed[o.consumed.length-1].parameters):a;return{matched:!0,consumedSegments:o.consumed,remainingSegments:n.slice(o.consumed.length),parameters:u,positionalParamSegments:o.posParams??{}}}function KR(e){return{matched:!0,parameters:e.length>0?uI(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function eI(e,t,n,i){return n.length>0&&WR(e,n,i)?{segmentGroup:new bt(t,$R(i,new bt(n,e.children))),slicedSegments:[]}:n.length===0&&YR(e,n,i)?{segmentGroup:new bt(e.segments,GR(e,n,i,e.children)),slicedSegments:n}:{segmentGroup:new bt(e.segments,e.children),slicedSegments:n}}function GR(e,t,n,i){let o={};for(let a of n)if(wl(e,t,a)&&!i[zn(a)]){let u=new bt([],{});o[zn(a)]=u}return K(K({},i),o)}function $R(e,t){let n={};n[st]=t;for(let i of e)if(i.path===""&&zn(i)!==st){let o=new bt([],{});n[zn(i)]=o}return n}function WR(e,t,n){return n.some(i=>wl(e,t,i)&&zn(i)!==st)}function YR(e,t,n){return n.some(i=>wl(e,t,i))}function wl(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function QR(e,t,n,i){return zn(e)!==i&&(i===st||!wl(t,n,e))?!1:Pm(t,e,n).matched}function XR(e,t,n){return t.length===0&&!e.children[n]}var xm=class{};function ZR(e,t,n,i,o,a,u="emptyOnly"){return new Sm(e,t,n,i,o,u,a).recognize()}var JR=31,Sm=class{constructor(t,n,i,o,a,u,l){this.injector=t,this.configLoader=n,this.rootComponentType=i,this.config=o,this.urlTree=a,this.paramsInheritanceStrategy=u,this.urlSerializer=l,this.applyRedirects=new Em(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new Ut(4002,`'${t.segmentGroup}'`)}recognize(){let t=eI(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(Et(n=>{let i=new Da([],Object.freeze({}),Object.freeze(K({},this.urlTree.queryParams)),this.urlTree.fragment,{},st,this.rootComponentType,null,{}),o=new Ye(i,n),a=new pl("",o),u=sR(i,[],this.urlTree.queryParams,this.urlTree.fragment);return u.queryParams=this.urlTree.queryParams,a.url=this.urlSerializer.serialize(u),this.inheritParamsAndData(a._root,null),{state:a,tree:u}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t,st).pipe(wo(i=>{if(i instanceof gl)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Ra?this.noMatchError(i):i}))}inheritParamsAndData(t,n){let i=t.value,o=Om(i,n,this.paramsInheritanceStrategy);i.params=Object.freeze(o.params),i.data=Object.freeze(o.data),t.children.forEach(a=>this.inheritParamsAndData(a,i))}processSegmentGroup(t,n,i,o){return i.segments.length===0&&i.hasChildren()?this.processChildren(t,n,i):this.processSegment(t,n,i,i.segments,o,!0).pipe(Et(a=>a instanceof Ye?[a]:[]))}processChildren(t,n,i){let o=[];for(let a of Object.keys(i.children))a==="primary"?o.unshift(a):o.push(a);return $e(o).pipe(_o(a=>{let u=i.children[a],l=wR(n,a);return this.processSegmentGroup(t,l,u,a)}),u_((a,u)=>(a.push(...u),a)),kp(null),a_(),We(a=>{if(a===null)return Eo(i);let u=DI(a);return tN(u),tt(u)}))}processSegment(t,n,i,o,a,u){return $e(n).pipe(_o(l=>this.processSegmentAgainstRoute(l._injector??t,n,l,i,o,a,u).pipe(wo(h=>{if(h instanceof Ra)return tt(null);throw h}))),wr(l=>!!l),wo(l=>{if(AI(l))return XR(i,o,a)?tt(new xm):Eo(i);throw l}))}processSegmentAgainstRoute(t,n,i,o,a,u,l){return QR(i,o,a,u)?i.redirectTo===void 0?this.matchSegmentAgainstRoute(t,o,i,a,u):this.allowRedirects&&l?this.expandSegmentAgainstRouteUsingRedirect(t,o,n,i,a,u):Eo(o):Eo(o)}expandSegmentAgainstRouteUsingRedirect(t,n,i,o,a,u){let{matched:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=Pm(n,o,a);if(!l)return Eo(n);o.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>JR&&(this.allowRedirects=!1));let b=this.applyRedirects.applyRedirectCommands(h,o.redirectTo,p);return this.applyRedirects.lineralizeSegments(o,b).pipe(We(y=>this.processSegment(t,i,n,y.concat(m),u,!1)))}matchSegmentAgainstRoute(t,n,i,o,a){let u=HR(n,i,o,t,this.urlSerializer);return i.path==="**"&&(n.children={}),u.pipe(xn(l=>l.matched?(t=i._injector??t,this.getChildConfig(t,i,o).pipe(xn(({routes:h})=>{let p=i._loadedInjector??t,{consumedSegments:m,remainingSegments:b,parameters:y}=l,_=new Da(m,y,Object.freeze(K({},this.urlTree.queryParams)),this.urlTree.fragment,nN(i),zn(i),i.component??i._loadedComponent??null,i,rN(i)),{segmentGroup:I,slicedSegments:E}=eI(n,m,b,h);if(E.length===0&&I.hasChildren())return this.processChildren(p,h,I).pipe(Et(O=>O===null?null:new Ye(_,O)));if(h.length===0&&E.length===0)return tt(new Ye(_,[]));let S=zn(i)===a;return this.processSegment(p,h,I,E,S?st:a,!0).pipe(Et(O=>new Ye(_,O instanceof Ye?[O]:[])))}))):Eo(n)))}getChildConfig(t,n,i){return n.children?tt({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?tt({routes:n._loadedRoutes,injector:n._loadedInjector}):VR(t,n,i,this.urlSerializer).pipe(We(o=>o?this.configLoader.loadChildren(t,n).pipe(ve(a=>{n._loadedRoutes=a.routes,n._loadedInjector=a.injector})):qR(n))):tt({routes:[],injector:t})}};function tN(e){e.sort((t,n)=>t.value.outlet===st?-1:n.value.outlet===st?1:t.value.outlet.localeCompare(n.value.outlet))}function eN(e){let t=e.value.routeConfig;return t&&t.path===""}function DI(e){let t=[],n=new Set;for(let i of e){if(!eN(i)){t.push(i);continue}let o=t.find(a=>i.value.routeConfig===a.value.routeConfig);o!==void 0?(o.children.push(...i.children),n.add(o)):t.push(i)}for(let i of n){let o=DI(i.children);t.push(new Ye(i.value,o))}return t.filter(i=>!n.has(i))}function nN(e){return e.data||{}}function rN(e){return e.resolve||{}}function iN(e,t,n,i,o,a){return We(u=>ZR(e,t,n,i,u.extractedUrl,o,a).pipe(Et(({state:l,tree:h})=>ge(K({},u),{targetSnapshot:l,urlAfterRedirects:h}))))}function oN(e,t){return We(n=>{let{targetSnapshot:i,guards:{canActivateChecks:o}}=n;if(!o.length)return tt(n);let a=new Set(o.map(h=>h.route)),u=new Set;for(let h of a)if(!u.has(h))for(let p of OI(h))u.add(p);let l=0;return $e(u).pipe(_o(h=>a.has(h)?sN(h,i,e,t):(h.data=Om(h,h.parent,e).resolve,tt(void 0))),ve(()=>l++),Dp(1),We(h=>l===u.size?tt(n):br))})}function OI(e){let t=e.children.map(n=>OI(n)).flat();return[e,...t]}function sN(e,t,n,i){let o=e.routeConfig,a=e._resolve;return o?.title!==void 0&&!EI(o)&&(a[Na]=o.title),aN(a,e,t,i).pipe(Et(u=>(e._resolvedData=u,e.data=Om(e,e.parent,n).resolve,null)))}function aN(e,t,n,i){let o=rm(e);if(o.length===0)return tt({});let a={};return $e(o).pipe(We(u=>uN(e[u],t,n,i).pipe(wr(),ve(l=>{a[u]=l}))),Dp(1),s_(a),wo(u=>AI(u)?br:aa(u)))}function uN(e,t,n,i){let o=La(t)??i,a=Ro(e,o),u=a.resolve?a.resolve(t,n):Ir(o,()=>a(t,n));return Cr(u)}function em(e){return xn(t=>{let n=e(t);return n?$e(n).pipe(Et(()=>t)):tt(t)})}var RI=(()=>{let t=class t{buildTitle(i){let o,a=i.root;for(;a!==void 0;)o=this.getResolvedTitleForRoute(a)??o,a=a.children.find(u=>u.outlet===st);return o}getResolvedTitleForRoute(i){return i.data[Na]}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=ht({token:t,factory:()=>Y(cN),providedIn:"root"});let e=t;return e})(),cN=(()=>{let t=class t extends RI{constructor(i){super(),this.title=i}updateTitle(i){let o=this.buildTitle(i);o!==void 0&&this.title.setTitle(o)}};t.\u0275fac=function(o){return new(o||t)(it(W_))},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),ja=new Zt("",{providedIn:"root",factory:()=>({})}),vl=new Zt(""),Lm=(()=>{let t=class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Y(Qc)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return tt(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let o=Cr(i.loadComponent()).pipe(Et(NI),ve(u=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=u}),zc(()=>{this.componentLoaders.delete(i)})),a=new Sp(o,()=>new tr).pipe(xp());return this.componentLoaders.set(i,a),a}loadChildren(i,o){if(this.childrenLoaders.get(o))return this.childrenLoaders.get(o);if(o._loadedRoutes)return tt({routes:o._loadedRoutes,injector:o._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(o);let u=lN(o,this.compiler,i,this.onLoadEndListener).pipe(zc(()=>{this.childrenLoaders.delete(o)})),l=new Sp(u,()=>new tr).pipe(xp());return this.childrenLoaders.set(o,l),l}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function lN(e,t,n,i){return Cr(e.loadChildren()).pipe(Et(NI),We(o=>o instanceof y_||Array.isArray(o)?tt(o):$e(t.compileModuleAsync(o))),Et(o=>{i&&i(e);let a,u,l=!1;return Array.isArray(o)?(u=o,l=!0):(a=o.create(n).injector,u=a.get(vl,[],{optional:!0,self:!0}).flat()),{routes:u.map(Mm),injector:a}}))}function dN(e){return e&&typeof e=="object"&&"default"in e}function NI(e){return dN(e)?e.default:e}var Fm=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=ht({token:t,factory:()=>Y(hN),providedIn:"root"});let e=t;return e})(),hN=(()=>{let t=class t{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,o){return i}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),MI=new Zt(""),PI=new Zt("");function fN(e,t,n){let i=e.get(PI),o=e.get(se);return e.get(Vt).runOutsideAngular(()=>{if(!o.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,Promise.resolve();let a,u=new Promise(p=>{a=p}),l=o.startViewTransition(()=>(a(),pN(e))),{onViewTransitionCreated:h}=i;return h&&Ir(e,()=>h({transition:l,from:t,to:n})),u})}function pN(e){return new Promise(t=>{v_(t,{injector:e})})}var jm=(()=>{let t=class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new tr,this.transitionAbortSubject=new tr,this.configLoader=Y(Lm),this.environmentInjector=Y(ca),this.urlSerializer=Y(Ma),this.rootContexts=Y(Pa),this.location=Y(ma),this.inputBindingEnabled=Y(yl,{optional:!0})!==null,this.titleStrategy=Y(RI),this.options=Y(ja,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=Y(Fm),this.createViewTransition=Y(MI,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>tt(void 0),this.rootComponentType=null;let i=a=>this.events.next(new dm(a)),o=a=>this.events.next(new hm(a));this.configLoader.onLoadEndListener=o,this.configLoader.onLoadStartListener=i}complete(){this.transitions?.complete()}handleNavigationRequest(i){let o=++this.navigationId;this.transitions?.next(ge(K(K({},this.transitions.value),i),{id:o}))}setupNavigations(i,o,a){return this.transitions=new ln({id:0,currentUrlTree:o,currentRawUrl:o,extractedUrl:this.urlHandlingStrategy.extract(o),urlAfterRedirects:this.urlHandlingStrategy.extract(o),rawUrl:o,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ea,restoredState:null,currentSnapshot:a.snapshot,targetSnapshot:null,currentRouterState:a,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(mi(u=>u.id!==0),Et(u=>ge(K({},u),{extractedUrl:this.urlHandlingStrategy.extract(u.rawUrl)})),xn(u=>{let l=!1,h=!1;return tt(u).pipe(xn(p=>{if(this.navigationId>u.id)return this.cancelNavigationTransition(u,"",Qe.SupersededByNewNavigation),br;this.currentTransition=u,this.currentNavigation={id:p.id,initialUrl:p.rawUrl,extractedUrl:p.extractedUrl,trigger:p.source,extras:p.extras,previousNavigation:this.lastSuccessfulNavigation?ge(K({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let m=!i.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),b=p.extras.onSameUrlNavigation??i.onSameUrlNavigation;if(!m&&b!=="reload"){let y="";return this.events.next(new Sr(p.id,this.urlSerializer.serialize(p.rawUrl),y,cl.IgnoredSameUrlNavigation)),p.resolve(null),br}if(this.urlHandlingStrategy.shouldProcessUrl(p.rawUrl))return tt(p).pipe(xn(y=>{let _=this.transitions?.getValue();return this.events.next(new ko(y.id,this.urlSerializer.serialize(y.extractedUrl),y.source,y.restoredState)),_!==this.transitions?.getValue()?br:Promise.resolve(y)}),iN(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,this.paramsInheritanceStrategy),ve(y=>{u.targetSnapshot=y.targetSnapshot,u.urlAfterRedirects=y.urlAfterRedirects,this.currentNavigation=ge(K({},this.currentNavigation),{finalUrl:y.urlAfterRedirects});let _=new ll(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(_)}));if(m&&this.urlHandlingStrategy.shouldProcessUrl(p.currentRawUrl)){let{id:y,extractedUrl:_,source:I,restoredState:E,extras:S}=p,O=new ko(y,this.urlSerializer.serialize(_),I,E);this.events.next(O);let F=_I(this.rootComponentType).snapshot;return this.currentTransition=u=ge(K({},p),{targetSnapshot:F,urlAfterRedirects:_,extras:ge(K({},S),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=_,tt(u)}else{let y="";return this.events.next(new Sr(p.id,this.urlSerializer.serialize(p.extractedUrl),y,cl.IgnoredByUrlHandlingStrategy)),p.resolve(null),br}}),ve(p=>{let m=new am(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(m)}),Et(p=>(this.currentTransition=u=ge(K({},p),{guards:IR(p.targetSnapshot,p.currentSnapshot,this.rootContexts)}),u)),RR(this.environmentInjector,p=>this.events.next(p)),ve(p=>{if(u.guardsResult=p.guardsResult,Ao(p.guardsResult))throw xI(this.urlSerializer,p.guardsResult);let m=new um(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot,!!p.guardsResult);this.events.next(m)}),mi(p=>p.guardsResult?!0:(this.cancelNavigationTransition(p,"",Qe.GuardRejected),!1)),em(p=>{if(p.guards.canActivateChecks.length)return tt(p).pipe(ve(m=>{let b=new cm(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(b)}),xn(m=>{let b=!1;return tt(m).pipe(oN(this.paramsInheritanceStrategy,this.environmentInjector),ve({next:()=>b=!0,complete:()=>{b||this.cancelNavigationTransition(m,"",Qe.NoDataFromResolver)}}))}),ve(m=>{let b=new lm(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(b)}))}),em(p=>{let m=b=>{let y=[];b.routeConfig?.loadComponent&&!b.routeConfig._loadedComponent&&y.push(this.configLoader.loadComponent(b.routeConfig).pipe(ve(_=>{b.component=_}),Et(()=>{})));for(let _ of b.children)y.push(...m(_));return y};return yo(m(p.targetSnapshot.root)).pipe(kp(null),yr(1))}),em(()=>this.afterPreactivation()),xn(()=>{let{currentSnapshot:p,targetSnapshot:m}=u,b=this.createViewTransition?.(this.environmentInjector,p.root,m.root);return b?$e(b).pipe(Et(()=>u)):tt(u)}),Et(p=>{let m=pR(i.routeReuseStrategy,p.targetSnapshot,p.currentRouterState);return this.currentTransition=u=ge(K({},p),{targetRouterState:m}),this.currentNavigation.targetRouterState=m,u}),ve(()=>{this.events.next(new Aa)}),_R(this.rootContexts,i.routeReuseStrategy,p=>this.events.next(p),this.inputBindingEnabled),yr(1),ve({next:p=>{l=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new nr(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects))),this.titleStrategy?.updateTitle(p.targetRouterState.snapshot),p.resolve(!0)},complete:()=>{l=!0}}),Hc(this.transitionAbortSubject.pipe(ve(p=>{throw p}))),zc(()=>{!l&&!h&&this.cancelNavigationTransition(u,"",Qe.SupersededByNewNavigation),this.currentTransition?.id===u.id&&(this.currentNavigation=null,this.currentTransition=null)}),wo(p=>{if(h=!0,CI(p))this.events.next(new xr(u.id,this.urlSerializer.serialize(u.extractedUrl),p.message,p.cancellationCode)),vR(p)?this.events.next(new ka(p.url)):u.resolve(!1);else{this.events.next(new Ca(u.id,this.urlSerializer.serialize(u.extractedUrl),p,u.targetSnapshot??void 0));try{u.resolve(i.errorHandler(p))}catch(m){this.options.resolveNavigationPromiseOnError?u.resolve(!1):u.reject(m)}}return br}))}))}cancelNavigationTransition(i,o,a){let u=new xr(i.id,this.urlSerializer.serialize(i.extractedUrl),o,a);this.events.next(u),i.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function mN(e){return e!==Ea}var gN=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=ht({token:t,factory:()=>Y(vN),providedIn:"root"});let e=t;return e})(),Cm=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},vN=(()=>{let t=class t extends Cm{};t.\u0275fac=(()=>{let i;return function(a){return(i||(i=Mp(t)))(a||t)}})(),t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),LI=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=ht({token:t,factory:()=>Y(bN),providedIn:"root"});let e=t;return e})(),bN=(()=>{let t=class t extends LI{constructor(){super(...arguments),this.location=Y(ma),this.urlSerializer=Y(Ma),this.options=Y(ja,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=Y(Fm),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Tr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=_I(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(i){return this.location.subscribe(o=>{o.type==="popstate"&&i(o.url,o.state)})}handleRouterEvent(i,o){if(i instanceof ko)this.stateMemento=this.createStateMemento();else if(i instanceof Sr)this.rawUrlTree=o.initialUrl;else if(i instanceof ll){if(this.urlUpdateStrategy==="eager"&&!o.extras.skipLocationChange){let a=this.urlHandlingStrategy.merge(o.finalUrl,o.initialUrl);this.setBrowserUrl(a,o)}}else i instanceof Aa?(this.currentUrlTree=o.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(o.finalUrl,o.initialUrl),this.routerState=o.targetRouterState,this.urlUpdateStrategy==="deferred"&&(o.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,o))):i instanceof xr&&(i.code===Qe.GuardRejected||i.code===Qe.NoDataFromResolver)?this.restoreHistory(o):i instanceof Ca?this.restoreHistory(o,!0):i instanceof nr&&(this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId)}setBrowserUrl(i,o){let a=this.urlSerializer.serialize(i);if(this.location.isCurrentPathEqualTo(a)||o.extras.replaceUrl){let u=this.browserPageId,l=K(K({},o.extras.state),this.generateNgRouterState(o.id,u));this.location.replaceState(a,"",l)}else{let u=K(K({},o.extras.state),this.generateNgRouterState(o.id,this.browserPageId+1));this.location.go(a,"",u)}}restoreHistory(i,o=!1){if(this.canceledNavigationResolution==="computed"){let a=this.browserPageId,u=this.currentPageId-a;u!==0?this.location.historyGo(u):this.currentUrlTree===i.finalUrl&&u===0&&(this.resetState(i),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(o&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,o){return this.canceledNavigationResolution==="computed"?{navigationId:i,\u0275routerPageId:o}:{navigationId:i}}};t.\u0275fac=(()=>{let i;return function(a){return(i||(i=Mp(t)))(a||t)}})(),t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),_a=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(_a||{});function FI(e,t){e.events.pipe(mi(n=>n instanceof nr||n instanceof xr||n instanceof Ca||n instanceof Sr),Et(n=>n instanceof nr||n instanceof Sr?_a.COMPLETE:(n instanceof xr?n.code===Qe.Redirect||n.code===Qe.SupersededByNewNavigation:!1)?_a.REDIRECTING:_a.FAILED),mi(n=>n!==_a.REDIRECTING),yr(1)).subscribe(()=>{t()})}function yN(e){throw e}var wN={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},_N={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ue=(()=>{let t=class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=Y($c),this.stateManager=Y(LI),this.options=Y(ja,{optional:!0})||{},this.pendingTasks=Y(w_),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=Y(jm),this.urlSerializer=Y(Ma),this.location=Y(ma),this.urlHandlingStrategy=Y(Fm),this._events=new tr,this.errorHandler=this.options.errorHandler||yN,this.navigated=!1,this.routeReuseStrategy=Y(gN),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=Y(vl,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!Y(yl,{optional:!0}),this.eventsSubscription=new t_,this.isNgZoneEnabled=Y(Vt)instanceof Vt&&Vt.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:i=>{this.console.warn(i)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let i=this.navigationTransitions.events.subscribe(o=>{try{let a=this.navigationTransitions.currentTransition,u=this.navigationTransitions.currentNavigation;if(a!==null&&u!==null){if(this.stateManager.handleRouterEvent(o,u),o instanceof xr&&o.code!==Qe.Redirect&&o.code!==Qe.SupersededByNewNavigation)this.navigated=!0;else if(o instanceof nr)this.navigated=!0;else if(o instanceof ka){let l=this.urlHandlingStrategy.merge(o.url,a.currentRawUrl),h={info:a.extras.info,skipLocationChange:a.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||mN(a.source)};this.scheduleNavigation(l,Ea,null,h,{resolve:a.resolve,reject:a.reject,promise:a.promise})}}EN(o)&&this._events.next(o)}catch(a){this.navigationTransitions.transitionAbortSubject.next(a)}});this.eventsSubscription.add(i)}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ea,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((i,o)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(i,"popstate",o)},0)})}navigateToSyncWithBrowser(i,o,a){let u={replaceUrl:!0},l=a?.navigationId?a:null;if(a){let p=K({},a);delete p.navigationId,delete p.\u0275routerPageId,Object.keys(p).length!==0&&(u.state=p)}let h=this.parseUrl(i);this.scheduleNavigation(h,o,l,u)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(Mm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(i,o={}){let{relativeTo:a,queryParams:u,fragment:l,queryParamsHandling:h,preserveFragment:p}=o,m=p?this.currentUrlTree.fragment:l,b=null;switch(h){case"merge":b=K(K({},this.currentUrlTree.queryParams),u);break;case"preserve":b=this.currentUrlTree.queryParams;break;default:b=u||null}b!==null&&(b=this.removeEmptyProps(b));let y;try{let _=a?a.snapshot:this.routerState.snapshot.root;y=vI(_)}catch{(typeof i[0]!="string"||!i[0].startsWith("/"))&&(i=[]),y=this.currentUrlTree.root}return bI(y,i,b,m??null)}navigateByUrl(i,o={skipLocationChange:!1}){let a=Ao(i)?i:this.parseUrl(i),u=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(u,Ea,null,o)}navigate(i,o={skipLocationChange:!1}){return IN(i),this.navigateByUrl(this.createUrlTree(i,o),o)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){try{return this.urlSerializer.parse(i)}catch{return this.urlSerializer.parse("/")}}isActive(i,o){let a;if(o===!0?a=K({},wN):o===!1?a=K({},_N):a=o,Ao(i))return Q_(this.currentUrlTree,i,a);let u=this.parseUrl(i);return Q_(this.currentUrlTree,u,a)}removeEmptyProps(i){return Object.entries(i).reduce((o,[a,u])=>(u!=null&&(o[a]=u),o),{})}scheduleNavigation(i,o,a,u,l){if(this.disposed)return Promise.resolve(!1);let h,p,m;l?(h=l.resolve,p=l.reject,m=l.promise):m=new Promise((y,_)=>{h=y,p=_});let b=this.pendingTasks.add();return FI(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(b))}),this.navigationTransitions.handleNavigationRequest({source:o,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:i,extras:u,resolve:h,reject:p,promise:m,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),m.catch(y=>Promise.reject(y))}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function IN(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new Ut(4008,!1)}function EN(e){return!(e instanceof Aa)&&!(e instanceof ka)}var bl=class{};var TN=(()=>{let t=class t{constructor(i,o,a,u,l){this.router=i,this.injector=a,this.preloadingStrategy=u,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(mi(i=>i instanceof nr),_o(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,o){let a=[];for(let u of o){u.providers&&!u._injector&&(u._injector=jp(u.providers,i,`Route: ${u.path}`));let l=u._injector??i,h=u._loadedInjector??l;(u.loadChildren&&!u._loadedRoutes&&u.canLoad===void 0||u.loadComponent&&!u._loadedComponent)&&a.push(this.preloadConfig(l,u)),(u.children||u._loadedRoutes)&&a.push(this.processRoutes(h,u.children??u._loadedRoutes))}return $e(a).pipe(Cp())}preloadConfig(i,o){return this.preloadingStrategy.preload(o,()=>{let a;o.loadChildren&&o.canLoad===void 0?a=this.loader.loadChildren(i,o):a=tt(null);let u=a.pipe(We(l=>l===null?tt(void 0):(o._loadedRoutes=l.routes,o._loadedInjector=l.injector,this.processRoutes(l.injector??i,l.routes))));if(o.loadComponent&&!o._loadedComponent){let l=this.loader.loadComponent(o);return $e([u,l]).pipe(Cp())}else return u})}};t.\u0275fac=function(o){return new(o||t)(it(ue),it(Qc),it(ca),it(bl),it(Lm))},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),jI=new Zt(""),xN=(()=>{let t=class t{constructor(i,o,a,u,l={}){this.urlSerializer=i,this.transitions=o,this.viewportScroller=a,this.zone=u,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration||="disabled",l.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof ko?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof nr?(this.lastId=i.id,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.urlAfterRedirects).fragment)):i instanceof Sr&&i.code===cl.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof dl&&(i.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(i.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,o){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new dl(i,this.lastSource==="popstate"?this.store[this.restoredId]:null,o))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};t.\u0275fac=function(o){fa()},t.\u0275prov=ht({token:t,factory:t.\u0275fac});let e=t;return e})();function SN(e){return e.routerState.root}function Ua(e,t){return{\u0275kind:e,\u0275providers:t}}function CN(){let e=Y(Pp);return t=>{let n=e.get(Bp);if(t!==n.components[0])return;let i=e.get(ue),o=e.get(UI);e.get(Um)===1&&i.initialNavigation(),e.get(VI,null,Op.Optional)?.setUpPreloading(),e.get(jI,null,Op.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}var UI=new Zt("",{factory:()=>new tr}),Um=new Zt("",{providedIn:"root",factory:()=>1});function AN(){return Ua(2,[{provide:Um,useValue:0},{provide:Vp,multi:!0,deps:[Pp],useFactory:t=>{let n=t.get(D_,Promise.resolve());return()=>n.then(()=>new Promise(i=>{let o=t.get(ue),a=t.get(UI);FI(o,()=>{i(!0)}),t.get(jm).afterPreactivation=()=>(i(!0),a.closed?tt(void 0):a),o.initialNavigation()}))}}])}function kN(){return Ua(3,[{provide:Vp,multi:!0,useFactory:()=>{let t=Y(ue);return()=>{t.setUpLocationChangeListener()}}},{provide:Um,useValue:2}])}var VI=new Zt("");function DN(e){return Ua(0,[{provide:VI,useExisting:TN},{provide:bl,useExisting:e}])}function ON(){return Ua(8,[tI,{provide:yl,useExisting:tI}])}function RN(e){let t=[{provide:MI,useValue:fN},{provide:PI,useValue:K({skipNextTransition:!!e?.skipInitialTransition},e)}];return Ua(9,t)}var nI=new Zt("ROUTER_FORROOT_GUARD"),NN=[ma,{provide:Ma,useClass:xa},ue,Pa,{provide:Do,useFactory:SN,deps:[ue]},Lm,[]],Vm=(()=>{let t=class t{constructor(i){}static forRoot(i,o){return{ngModule:t,providers:[NN,[],{provide:vl,multi:!0,useValue:i},{provide:nI,useFactory:FN,deps:[[ue,new Rp,new d_]]},{provide:ja,useValue:o||{}},o?.useHash?PN():LN(),MN(),o?.preloadingStrategy?DN(o.preloadingStrategy).\u0275providers:[],o?.initialNavigation?jN(o):[],o?.bindToComponentInputs?ON().\u0275providers:[],o?.enableViewTransitions?RN().\u0275providers:[],UN()]}}static forChild(i){return{ngModule:t,providers:[{provide:vl,multi:!0,useValue:i}]}}};t.\u0275fac=function(o){return new(o||t)(it(nI,8))},t.\u0275mod=Ht({type:t}),t.\u0275inj=qt({});let e=t;return e})();function MN(){return{provide:jI,useFactory:()=>{let e=Y(F_),t=Y(Vt),n=Y(ja),i=Y(jm),o=Y(Ma);return n.scrollOffset&&e.setOffset(n.scrollOffset),new xN(o,i,e,t,n)}}}function PN(){return{provide:zp,useClass:R_}}function LN(){return{provide:zp,useClass:O_}}function FN(e){return"guarded"}function jN(e){return[e.initialNavigation==="disabled"?kN().\u0275providers:[],e.initialNavigation==="enabledBlocking"?AN().\u0275providers:[]]}var rI=new Zt("");function UN(){return[{provide:rI,useFactory:CN},{provide:E_,multi:!0,useExisting:rI}]}var Ve=(lE(),Tp(cE)),Xe=class{static init(t){return Ve.default.initializeApp(t),[]}static getFirestore(){return Ve.default.firestore()}static _getFirestore(){return Ve.default.firestore}static getAuth(){return Ve.default.auth()}static getStorage(){return Ve.default.storage()}static getFirestoreTimestamp(){return Ve.default.firestore.Timestamp.now()}};hE();var fn=class{constructor(){this.auth=Xe.getAuth()}createAccountWith(t){return new Promise((n,i)=>{this.auth.createUserWithEmailAndPassword(t.email,t.password).then(o=>{try{t.onComplete(o)}catch{}n(o)}).catch(o=>{try{t.onFail(o)}catch{}i(o)})})}signInAnonymously(t){return new Promise((n,i)=>{this.auth.signInAnonymously().then(o=>{try{t.onComplete(o)}catch{}n(o)}).catch(o=>{try{t.onFail(o)}catch{}i(o)})})}signInWith(t){return new Promise((n,i)=>{t.provider?this.auth.signInWithPopup(this.getProvider(t.provider)).then(o=>{try{t.onComplete(o)}catch{}n(o)}).catch(o=>{try{t.onFail(o)}catch{}i(o)}):this.auth.signInWithEmailAndPassword(t.email,t.password).then(o=>{try{t.onComplete(o)}catch{}n(o)}).catch(o=>{try{t.onFail(o)}catch{}i(o)})})}getProvider(t){switch(t.toLowerCase()){case"google":return new Ve.default.auth.GoogleAuthProvider;case"apple":return new Ve.default.auth.OAuthProvider("apple.com");case"facebook":return new Ve.default.auth.FacebookAuthProvider;case"yahoo":return new Ve.default.auth.OAuthProvider("yahoo.com");case"github":return new Ve.default.auth.GithubAuthProvider;case"twitter":return new Ve.default.auth.TwitterAuthProvider;case"microsoft":return new Ve.default.auth.OAuthProvider("microsoft.com")}}signOut(t){return new Promise((n,i)=>{t?this.auth.signOut().then(()=>{try{t.onComplete()}catch{}n()}).catch(()=>{try{t.onFail()}catch{}i(new Error("Failed to signout."))}):this.auth.signOut()})}listenToSignInStateChanges(t){this.auth.onAuthStateChanged(n=>{t(n)})}sendVerificationEmail(){try{this.validateIsSignedIn(),this.auth.currentUser.sendEmailVerification()}catch(t){console.error(`${t} User must be signed in to use the sendVerificaitonEmail() function.`)}}sendPasswordResetEmail(t){t.onComplete?this.auth.sendPasswordResetEmail(t.email).then(()=>t.onComplete(`Instructions to reset password was sent to ${t.email}.`)).catch(()=>t.onComplete("Failed to send password reset email.")):this.auth.sendPasswordResetEmail(t.email)}isEmailVerified(){try{return this.validateIsSignedIn(),this.auth.currentUser.emailVerified}catch(t){console.error(`User must be signed in to use the isEmailVerified() function. 
${t}`)}return!1}isSignedIn(){return this.auth.currentUser!=null||this.auth.currentUser!=null}validateIsSignedIn(){if(!this.isSignedIn())throw new Error("No user was signed in.")}getAuth(){return this.auth}checkSignInState(t){let n=this.getAuth().currentUser;try{t.whenChanged(n)}catch{}if(this.isSignedIn()){try{t.whenSignedIn(n)}catch{}if(this.isEmailVerified())try{t.whenSignedInAndEmailVerified(n)}catch{}else try{t.whenSignedInAndEmailNotVerified(n)}catch{}}else try{t.whenSignedOut(n)}catch{}}};var fE=(()=>{let t=class t{constructor(i){this.router=i,this.firebasetsAuth=new fn}ngOnInit(){this.firebasetsAuth.getAuth().onAuthStateChanged(i=>{i?this.router.navigate(["feed"]):this.router.navigate([""])})}toLoginSubmit(i,o){let a=i.value,u=o.value;this.firebasetsAuth.signInWith({email:a,password:u,onComplete:l=>{this.router.navigate(["feed"])},onFail:l=>{alert("Email and password not match!")}})}toSignup(){this.router.navigate(["signup"])}toReset(){this.router.navigate(["reset"])}};t.\u0275fac=function(o){return new(o||t)(er(ue))},t.\u0275cmp=oe({type:t,selectors:[["app-login"]],decls:45,vars:0,consts:[["loginEmail",""],["loginPassword",""],[1,"session"],[1,"left"],["enable-background","new 0 0 300 302.5","version","1.1","viewBox","0 0 300 302.5",0,"xml","space","preserve","xmlns","http://www.w3.org/2000/svg"],["type","text/css"],["d","m126 302.2c-2.3 0.7-5.7 0.2-7.7-1.2l-105-71.6c-2-1.3-3.7-4.4-3.9-6.7l-9.4-126.7c-0.2-2.4 1.1-5.6 2.8-7.2l93.2-86.4c1.7-1.6 5.1-2.6 7.4-2.3l125.6 18.9c2.3 0.4 5.2 2.3 6.4 4.4l63.5 110.1c1.2 2 1.4 5.5 0.6 7.7l-46.4 118.3c-0.9 2.2-3.4 4.6-5.7 5.3l-121.4 37.4zm63.4-102.7c2.3-0.7 4.8-3.1 5.7-5.3l19.9-50.8c0.9-2.2 0.6-5.7-0.6-7.7l-27.3-47.3c-1.2-2-4.1-4-6.4-4.4l-53.9-8c-2.3-0.4-5.7 0.7-7.4 2.3l-40 37.1c-1.7 1.6-3 4.9-2.8 7.2l4.1 54.4c0.2 2.4 1.9 5.4 3.9 6.7l45.1 30.8c2 1.3 5.4 1.9 7.7 1.2l52-16.2z",1,"st01"],["action","","autocomplete","off",1,"log-in"],[1,"floating-label"],["placeholder","Email","type","email","name","email","id","email","autocomplete","off","required",""],["for","email"],[1,"icon"],["enable-background","new 0 0 100 100","version","1.1","viewBox","0 0 100 100",0,"xml","space","preserve","xmlns","http://www.w3.org/2000/svg"],["transform","translate(0 -952.36)"],["d","m17.5 977c-1.3 0-2.4 1.1-2.4 2.4v45.9c0 1.3 1.1 2.4 2.4 2.4h64.9c1.3 0 2.4-1.1 2.4-2.4v-45.9c0-1.3-1.1-2.4-2.4-2.4h-64.9zm2.4 4.8h60.2v1.2l-30.1 22-30.1-22v-1.2zm0 7l28.7 21c0.8 0.6 2 0.6 2.8 0l28.7-21v34.1h-60.2v-34.1z"],["width","100","height","100",1,"st0"],["placeholder","Password","type","password","name","password","id","password","autocomplete","off","required",""],["for","password"],["enable-background","new 0 0 24 24","version","1.1","viewBox","0 0 24 24",0,"xml","space","preserve","xmlns","http://www.w3.org/2000/svg"],["width","24","height","24",1,"st0"],["d","M19,21H5V9h14V21z M6,20h12V10H6V20z",1,"st1"],["d","M16.5,10h-1V7c0-1.9-1.6-3.5-3.5-3.5S8.5,5.1,8.5,7v3h-1V7c0-2.5,2-4.5,4.5-4.5s4.5,2,4.5,4.5V10z",1,"st1"],["d","m12 16.5c-0.8 0-1.5-0.7-1.5-1.5s0.7-1.5 1.5-1.5 1.5 0.7 1.5 1.5-0.7 1.5-1.5 1.5zm0-2c-0.3 0-0.5 0.2-0.5 0.5s0.2 0.5 0.5 0.5 0.5-0.2 0.5-0.5-0.2-0.5-0.5-0.5z",1,"st1"],["type","submit","onClick","return false;",3,"click"],["target","_blank",1,"discrete",2,"margin-bottom","-35px",3,"click"],["target","_blank",1,"discrete",3,"click"]],template:function(o,a){if(o&1){let u=Io();j(0,"body")(1,"div",2)(2,"div",3),je(),j(3,"svg",4)(4,"style",5),nt(5," .st01 { fill: #fff; } "),q(),ct(6,"path",6),q()(),Ue(),j(7,"form",7)(8,"h4"),nt(9,"Login to "),j(10,"span"),nt(11,"1Thing."),q()(),j(12,"p"),nt(13,"Welcome back! Log in to your account to view feed today."),q(),j(14,"div",8),ct(15,"input",9,0),j(17,"label",10),nt(18,"Email:"),q(),j(19,"div",11),je(),j(20,"svg",12)(21,"style",5),nt(22," .st0 { fill: none; } "),q(),j(23,"g",13),ct(24,"path",14),q(),ct(25,"rect",15),q()()(),Ue(),j(26,"div",8),ct(27,"input",16,1),j(29,"label",17),nt(30,"Password:"),q(),j(31,"div",11),je(),j(32,"svg",18)(33,"style",5),nt(34," .st0 { fill: none; } .st1 { fill: #010101; } "),q(),ct(35,"rect",19)(36,"path",20)(37,"path",21)(38,"path",22),q()()(),Ue(),j(39,"button",23),dn("click",function(){Un(u);let h=Sn(16),p=Sn(28);return Vn(a.toLoginSubmit(h,p))}),nt(40,"Log in"),q(),j(41,"a",24),dn("click",function(){return Un(u),Vn(a.toSignup())}),nt(42,"Create an account"),q(),j(43,"a",25),dn("click",function(){return Un(u),Vn(a.toReset())}),nt(44,"Reset Password"),q()()()()}},styles:[".all[_ngcontent-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,San Francisco,Helvetica,Arial,sans-serif;font-weight:300;margin:0}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100vh;width:100vw;margin:0;display:flex;align-items:flex-start;justify-content:flex-start;background:#f3f2f2}h4[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:#000;opacity:.85}label[_ngcontent-%COMP%]{font-size:12.5px;color:#000;opacity:.8;font-weight:400}form[_ngcontent-%COMP%]{padding:40px 30px 20px;background:#fefefe;display:flex;flex-direction:column;align-items:flex-start;width:300px}form[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:20px;color:#00000080}form[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#000;font-weight:700}form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:155%;font-size:14px;color:#000;opacity:.65;font-weight:400;max-width:200px;margin-bottom:40px}a.discrete[_ngcontent-%COMP%]{color:#0006;font-size:14px;border-bottom:solid 1px rgba(0,0,0,0);padding-bottom:4px;margin-left:auto;font-weight:300;transition:all .3s ease;margin-top:40px;cursor:pointer}a.discrete[_ngcontent-%COMP%]:hover{border-bottom:solid 1px rgba(0,0,0,.2)}button[_ngcontent-%COMP%]{-webkit-appearance:none;width:auto;min-width:100px;border-radius:24px;text-align:center;padding:15px 40px;margin-top:5px;background-color:#b08bf8;color:#fff;font-size:14px;margin-left:auto;font-weight:500;box-shadow:0 2px 6px -1px #00000021;border:none;transition:all .3s ease;outline:0}button[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 2px 6px -1px #b69de6a6}button[_ngcontent-%COMP%]:hover:active{transform:scale(.99)}input[_ngcontent-%COMP%]{font-size:16px;padding:20px 0;height:56px;border:none;border-bottom:solid 1px rgba(0,0,0,.1);background:#fff;width:280px;box-sizing:border-box;transition:all .3s linear;color:#000;font-weight:400;-webkit-appearance:none}input[_ngcontent-%COMP%]:focus{border-bottom:solid 1px #b69de6;outline:0;box-shadow:0 2px 6px -8px #b69de673}.floating-label[_ngcontent-%COMP%]{position:relative;margin-bottom:10px;width:100%}.floating-label[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;top:calc(50% - 7px);left:0;opacity:0;transition:all .3s ease;padding-left:44px}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:calc(100% - 44px);margin-left:auto;display:flex}.floating-label[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{position:absolute;top:0;left:-13px;height:56px;width:44px;display:flex}.floating-label[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:30px;width:30px;margin:auto;opacity:.15;transition:all .3s ease}.floating-label[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{transition:all .3s ease}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:-moz-placeholder-shown){padding:28px 0 12px}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:-ms-input-placeholder){padding:28px 0 12px}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:placeholder-shown){padding:28px 0 12px}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:-moz-placeholder-shown) + label[_ngcontent-%COMP%]{transform:translateY(-10px);opacity:.7}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:-ms-input-placeholder) + label[_ngcontent-%COMP%]{transform:translateY(-10px);opacity:.7}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:placeholder-shown) + label[_ngcontent-%COMP%]{transform:translateY(-10px);opacity:.7}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid:not(:-moz-placeholder-shown) + label[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{opacity:1}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid:not(:-ms-input-placeholder) + label[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{opacity:1}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid:not(:placeholder-shown) + label[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{opacity:1}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid:not(:-moz-placeholder-shown) + label[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#b69de6}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid:not(:-ms-input-placeholder) + label[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#b69de6}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid:not(:placeholder-shown) + label[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#b69de6}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:valid):not(:focus) + label[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%]{-webkit-animation-name:_ngcontent-%COMP%_shake-shake;animation-name:_ngcontent-%COMP%_shake-shake;-webkit-animation-duration:.3s;animation-duration:.3s}@-webkit-keyframes _ngcontent-%COMP%_shake-shake{0%{transform:translate(-3px)}20%{transform:translate(3px)}40%{transform:translate(-3px)}60%{transform:translate(3px)}80%{transform:translate(-3px)}to{transform:translate(0)}}.session[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:auto;height:auto;margin:auto;background:#fff;border-radius:4px;box-shadow:0 2px 6px -1px #0000001f}.left[_ngcontent-%COMP%]{width:220px;height:auto;min-height:100%;position:relative;background-image:url(https://images.pexels.com/photos/114979/pexels-photo-114979.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940);background-size:cover;border-top-left-radius:4px;border-bottom-left-radius:4px}.left[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:40px;width:auto;margin:20px}"]});let e=t;return e})();MS();var Bd=class{constructor(){this.listeners=new Map}appendArray(t){return Xe._getFirestore().FieldValue.arrayUnion(t)}increment(t){return Xe._getFirestore().FieldValue.increment(t)}genDocId(){return Xe.getFirestore().collection("TEMP").doc().id}all(t){let n=Xe.getFirestore().batch();for(let i of t.operations)i.getOperation(n);return new Promise((i,o)=>{n.commit().then(()=>{try{t.onComplete()}catch{}i()}).catch(a=>{try{t.onFail(a)}catch{}o(a)})})}create(t){return new Promise((n,i)=>{if(t.data==null||t.data==null)throw new Error("Error creating data. Data is null or undefined.");if(this.isCollectionPath(t.path)){let o=this.genCollectionReference(t.path).doc();o.set(t.data).then(()=>{try{t.onComplete(o.id)}catch{}n(o.id)}).catch(a=>{try{t.onFail(a)}catch{}i(a)})}else if(this.isDocumentPath(t.path)){let o=this.genDocumentReference(t.path);o.set(t.data).then(()=>{try{t.onComplete(o.id)}catch{}n(o.id)}).catch(a=>{try{t.onFail(a)}catch{}i(a)})}})}delete(t){return new Promise((n,i)=>{this.checkDocumentPathValidity(t.path),this.genDocumentReference(t.path).delete().then(()=>{try{t.onComplete()}catch{}n()}).catch(o=>{try{t.onFail(o)}catch{}i(o)})})}update(t){return new Promise((n,i)=>{this.checkDocumentPathValidity(t.path);let o=this.genDocumentReference(t.path);o.update(t.data).then(()=>{try{t.onComplete(o)}catch{}n(o)}).catch(a=>{try{t.onFail(a)}catch{}i(a)})})}getCollection(t){let n=this.genCollectionReference(t.path);return(t.where!=null||t.where!=null)&&t.where.length>0?new Promise((i,o)=>{let a,u=Array(t.where)[0];for(let l=0;l<u.length;l++)a==null?a=u[l].getQuery(n):a=u[l].concatQuery(a);a.get().then(l=>{try{t.onComplete(l)}catch{}i(l)}).catch(l=>{try{t.onFail(l)}catch{}o(l)})}):new Promise((i,o)=>{n.get().then(a=>{try{t.onComplete(a)}catch{}i(a)}).catch(a=>{try{t.onFail(a)}catch{}o(a)})})}getDocument(t){return new Promise((n,i)=>{this.genDocumentReference(t.path).get().then(o=>{try{t.onComplete(o)}catch{}n(o)}).catch(o=>{try{t.onFail(o)}catch{}i(o)})})}listenToDocument(t){this.validateListenerName(t.name),this.addListener(t.name,this.genDocumentReference(t.path).onSnapshot(n=>{try{t.onUpdate(n)}catch{}}))}listenToCollection(t){this.validateListenerName(t.name);let n=this.genCollectionReference(t.path);if((t.where!=null||t.where!=null)&&t.where.length>0){let i,o=Array(t.where)[0];for(let a=0;a<o.length;a++)i==null?i=o[a].getQuery(n):i=o[a].concatQuery(i);this.addListener(t.name,i.onSnapshot(a=>{try{t.onUpdate(a)}catch{}}))}else this.addListener(t.name,n.onSnapshot(i=>{try{t.onUpdate(i)}catch{}}))}genCollectionReference(t){this.checkCollectionPathValidity(t);let n=Array(t)[0],i,o;for(let a=0;a<n.length;a++)a%2==0?i==null?i=Xe.getFirestore().collection(n[a]):i=o.collection(n[a]):o=i.doc(n[a]);return i}genDocumentReference(t){this.checkDocumentPathValidity(t);let n=Array(t)[0],i,o;for(let a=0;a<n.length;a++)a%2==0?i==null?i=Xe.getFirestore().collection(n[a]):i=o.collection(n[a]):o=i.doc(n[a]);return o}addListener(t,n){return this.listeners.set(t,n),n}stopListeningTo(t){try{this.listeners.get(t)(),this.listeners.delete(t)}catch{}}stopListeningToAll(){this.listeners.forEach((t,n,i)=>{this.stopListeningTo(n)})}validateListenerName(t){if(t==null||t==null||typeof t!="string"||t.trim().length<=0)throw"Listener name cannot be empty.";if(this.listeners.get(t)!=null)throw`Listener name: ${t} is already taken.`}checkCollectionPathValidity(t){if(t==null||t==null||t.length<=0||!this.isCollectionPath(t))throw"Not a valid path to a collection."}isCollectionPath(t){return Array(t)[0].length%2==1}checkDocumentPathValidity(t){if(t==null||t==null||t.length<=0||!this.isDocumentPath(t))throw"Not a valid path to a document."}isDocumentPath(t){return Array(t)[0].length%2==0}};var PS=(()=>{let t=class t{constructor(i){this.firestore=new Bd,this.firebasetsAuth=new fn,this.router=i}ToSubmitSignup(i,o,a,u,l){let h=i.value,p=o.value,m=a.value,b=u.value,y=l.value;this.isAMatch(b,y)?this.firebasetsAuth.createAccountWith({email:m,password:b,onComplete:_=>{let I=_.user;alert("Registered Successfully"),I?this.firestore.create({path:["Users",I.uid],data:{publicName:h,username:p},onComplete:E=>{alert("Profile Created"),i.value="",o.value="",this.router.navigate([""])},onFail:E=>{console.error("Firestore Error:",E),alert(E)}}):(console.error("User object is null."),alert("Failed to create profile. Please try again."))},onFail:_=>{console.error("Authentication Error:",_),alert("Failed to create profile. Please try again.")}}):alert("Passwords do not match.")}isAMatch(i,o){return i===o}toLogin(){this.router.navigate([""])}};t.\u0275fac=function(o){return new(o||t)(er(ue))},t.\u0275cmp=oe({type:t,selectors:[["app-signup"]],decls:80,vars:0,consts:[["signupName",""],["signupUsername",""],["signupEmail",""],["signupPassword",""],["signupConfirmPassword",""],[1,"session"],[1,"left"],["enable-background","new 0 0 300 302.5","version","1.1","viewBox","0 0 300 302.5",0,"xml","space","preserve","xmlns","http://www.w3.org/2000/svg"],["type","text/css"],["d","m126 302.2c-2.3 0.7-5.7 0.2-7.7-1.2l-105-71.6c-2-1.3-3.7-4.4-3.9-6.7l-9.4-126.7c-0.2-2.4 1.1-5.6 2.8-7.2l93.2-86.4c1.7-1.6 5.1-2.6 7.4-2.3l125.6 18.9c2.3 0.4 5.2 2.3 6.4 4.4l63.5 110.1c1.2 2 1.4 5.5 0.6 7.7l-46.4 118.3c-0.9 2.2-3.4 4.6-5.7 5.3l-121.4 37.4zm63.4-102.7c2.3-0.7 4.8-3.1 5.7-5.3l19.9-50.8c0.9-2.2 0.6-5.7-0.6-7.7l-27.3-47.3c-1.2-2-4.1-4-6.4-4.4l-53.9-8c-2.3-0.4-5.7 0.7-7.4 2.3l-40 37.1c-1.7 1.6-3 4.9-2.8 7.2l4.1 54.4c0.2 2.4 1.9 5.4 3.9 6.7l45.1 30.8c2 1.3 5.4 1.9 7.7 1.2l52-16.2z",1,"st01"],["action","","autocomplete","off",1,"log-in"],[1,"floating-label"],["placeholder","Name","type","text","name","text","id","Name","autocomplete","off","required",""],["for","username"],[1,"icon"],["enable-background","new 0 0 100 100","version","1.1","viewBox","0 0 100 100",0,"xml","space","preserve","xmlns","http://www.w3.org/2000/svg"],["transform","translate(0 -952.36)"],["d","m17.5 977c-1.3 0-2.4 1.1-2.4 2.4v45.9c0 1.3 1.1 2.4 2.4 2.4h64.9c1.3 0 2.4-1.1 2.4-2.4v-45.9c0-1.3-1.1-2.4-2.4-2.4h-64.9zm2.4 4.8h60.2v1.2l-30.1 22-30.1-22v-1.2zm0 7l28.7 21c0.8 0.6 2 0.6 2.8 0l28.7-21v34.1h-60.2v-34.1z"],["width","100","height","100",1,"st0"],["placeholder","Username","type","text","name","text","id","username","autocomplete","off","required",""],["placeholder","Email","type","email","name","email","id","email","autocomplete","off","required",""],["for","email"],["placeholder","Password","type","password","name","password","id","password","autocomplete","off","required",""],["for","password"],["enable-background","new 0 0 24 24","version","1.1","viewBox","0 0 24 24",0,"xml","space","preserve","xmlns","http://www.w3.org/2000/svg"],["width","24","height","24",1,"st0"],["d","M19,21H5V9h14V21z M6,20h12V10H6V20z",1,"st1"],["d","M16.5,10h-1V7c0-1.9-1.6-3.5-3.5-3.5S8.5,5.1,8.5,7v3h-1V7c0-2.5,2-4.5,4.5-4.5s4.5,2,4.5,4.5V10z",1,"st1"],["d","m12 16.5c-0.8 0-1.5-0.7-1.5-1.5s0.7-1.5 1.5-1.5 1.5 0.7 1.5 1.5-0.7 1.5-1.5 1.5zm0-2c-0.3 0-0.5 0.2-0.5 0.5s0.2 0.5 0.5 0.5 0.5-0.2 0.5-0.5-0.2-0.5-0.5-0.5z",1,"st1"],["placeholder","Comfirm Password","type","password","name","password_2","id","password_2","autocomplete","off","required",""],["for","password_2"],["type","submit","onClick","return false;",3,"click"],["target","_blank",1,"discrete",3,"click"]],template:function(o,a){if(o&1){let u=Io();j(0,"body")(1,"div",5)(2,"div",6),je(),j(3,"svg",7)(4,"style",8),nt(5," .st01 { fill: #fff; } "),q(),ct(6,"path",9),q()(),Ue(),j(7,"form",10)(8,"h4"),nt(9,"Sign up, "),j(10,"span"),nt(11,"1Thing."),q()(),j(12,"p"),nt(13,"Join now for view feed today."),q(),j(14,"div",11),ct(15,"input",12,0),j(17,"label",13),nt(18,"Name - Lastname:"),q(),j(19,"div",14),je(),j(20,"svg",15)(21,"style",8),nt(22," .st0 { fill: none; } "),q(),j(23,"g",16),ct(24,"path",17),q(),ct(25,"rect",18),q()()(),Ue(),j(26,"div",11),ct(27,"input",19,1),j(29,"label",13),nt(30,"Username:"),q(),j(31,"div",14),je(),j(32,"svg",15)(33,"style",8),nt(34," .st0 { fill: none; } "),q(),j(35,"g",16),ct(36,"path",17),q(),ct(37,"rect",18),q()()(),Ue(),j(38,"div",11),ct(39,"input",20,2),j(41,"label",21),nt(42,"Email:"),q(),j(43,"div",14),je(),j(44,"svg",15)(45,"style",8),nt(46," .st0 { fill: none; } "),q(),j(47,"g",16),ct(48,"path",17),q(),ct(49,"rect",18),q()()(),Ue(),j(50,"div",11),ct(51,"input",22,3),j(53,"label",23),nt(54,"Password:"),q(),j(55,"div",14),je(),j(56,"svg",24)(57,"style",8),nt(58," .st0 { fill: none; } .st1 { fill: #010101; } "),q(),ct(59,"rect",25)(60,"path",26)(61,"path",27)(62,"path",28),q()()(),Ue(),j(63,"div",11),ct(64,"input",29,4),j(66,"label",30),nt(67,"Confirm Password:"),q(),j(68,"div",14),je(),j(69,"svg",24)(70,"style",8),nt(71," .st0 { fill: none; } .st1 { fill: #010101; } "),q(),ct(72,"rect",25)(73,"path",26)(74,"path",27)(75,"path",28),q()()(),Ue(),j(76,"button",31),dn("click",function(){Un(u);let h=Sn(16),p=Sn(28),m=Sn(40),b=Sn(52),y=Sn(65);return Vn(a.ToSubmitSignup(h,p,m,b,y))}),nt(77,"Sign Up"),q(),j(78,"a",32),dn("click",function(){return Un(u),Vn(a.toLogin())}),nt(79,"Back to Signin"),q()()()()}},styles:[".all[_ngcontent-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,San Francisco,Helvetica,Arial,sans-serif;font-weight:300;margin:0}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100vh;width:100vw;margin:0;display:flex;align-items:flex-start;justify-content:flex-start;background:#f3f2f2}h4[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:#000;opacity:.85}label[_ngcontent-%COMP%]{font-size:12.5px;color:#000;opacity:.8;font-weight:400}form[_ngcontent-%COMP%]{padding:40px 30px 20px;background:#fefefe;display:flex;flex-direction:column;align-items:flex-start;width:300px}form[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:20px;color:#00000080}form[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#000;font-weight:700}form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:155%;font-size:14px;color:#000;opacity:.65;font-weight:400;max-width:200px;margin-bottom:40px}a.discrete[_ngcontent-%COMP%]{color:#0006;font-size:14px;border-bottom:solid 1px rgba(0,0,0,0);padding-bottom:4px;margin-left:auto;font-weight:300;transition:all .3s ease;margin-top:40px;cursor:pointer}a.discrete[_ngcontent-%COMP%]:hover{border-bottom:solid 1px rgba(0,0,0,.2)}button[_ngcontent-%COMP%]{-webkit-appearance:none;width:auto;min-width:100px;border-radius:24px;text-align:center;padding:15px 40px;margin-top:5px;background-color:#b08bf8;color:#fff;font-size:14px;margin-left:auto;font-weight:500;box-shadow:0 2px 6px -1px #00000021;border:none;transition:all .3s ease;outline:0}button[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 2px 6px -1px #b69de6a6}button[_ngcontent-%COMP%]:hover:active{transform:scale(.99)}input[_ngcontent-%COMP%]{font-size:16px;padding:20px 0;height:56px;border:none;border-bottom:solid 1px rgba(0,0,0,.1);background:#fff;width:280px;box-sizing:border-box;transition:all .3s linear;color:#000;font-weight:400;-webkit-appearance:none}input[_ngcontent-%COMP%]:focus{border-bottom:solid 1px #b69de6;outline:0;box-shadow:0 2px 6px -8px #b69de673}.floating-label[_ngcontent-%COMP%]{position:relative;margin-bottom:10px;width:100%}.floating-label[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;top:calc(50% - 7px);left:0;opacity:0;transition:all .3s ease;padding-left:44px}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:calc(100% - 44px);margin-left:auto;display:flex}.floating-label[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{position:absolute;top:0;left:-13px;height:56px;width:44px;display:flex}.floating-label[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:30px;width:30px;margin:auto;opacity:.15;transition:all .3s ease}.floating-label[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{transition:all .3s ease}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:-moz-placeholder-shown){padding:28px 0 12px}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:-ms-input-placeholder){padding:28px 0 12px}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:placeholder-shown){padding:28px 0 12px}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:-moz-placeholder-shown) + label[_ngcontent-%COMP%]{transform:translateY(-10px);opacity:.7}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:-ms-input-placeholder) + label[_ngcontent-%COMP%]{transform:translateY(-10px);opacity:.7}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:placeholder-shown) + label[_ngcontent-%COMP%]{transform:translateY(-10px);opacity:.7}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid:not(:-moz-placeholder-shown) + label[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{opacity:1}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid:not(:-ms-input-placeholder) + label[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{opacity:1}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid:not(:placeholder-shown) + label[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{opacity:1}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid:not(:-moz-placeholder-shown) + label[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#b69de6}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid:not(:-ms-input-placeholder) + label[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#b69de6}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid:not(:placeholder-shown) + label[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#b69de6}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:valid):not(:focus) + label[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%]{-webkit-animation-name:_ngcontent-%COMP%_shake-shake;animation-name:_ngcontent-%COMP%_shake-shake;-webkit-animation-duration:.3s;animation-duration:.3s}@-webkit-keyframes _ngcontent-%COMP%_shake-shake{0%{transform:translate(-3px)}20%{transform:translate(3px)}40%{transform:translate(-3px)}60%{transform:translate(3px)}80%{transform:translate(-3px)}to{transform:translate(0)}}.session[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:auto;height:auto;margin:auto;background:#fff;border-radius:4px;box-shadow:0 2px 6px -1px #0000001f}.left[_ngcontent-%COMP%]{width:220px;height:auto;min-height:100%;position:relative;background-image:url(https://images.pexels.com/photos/114979/pexels-photo-114979.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940);background-size:cover;border-top-left-radius:4px;border-bottom-left-radius:4px}.left[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:40px;width:auto;margin:20px}"]});let e=t;return e})();var LS=(()=>{let t=class t{constructor(){this.firebasetsAuth=new fn,this.router=new ue}toLogin(){this.router.navigate([""])}toResetSubmit(i){let o=i.value;this.firebasetsAuth.sendPasswordResetEmail({email:o,onComplete:a=>{alert(`Reset Email sent to ${o}`),this.router.navigate([""])}})}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=oe({type:t,selectors:[["app-resetemail"]],decls:29,vars:0,consts:[["resetEmail",""],[1,"session"],[1,"left"],["enable-background","new 0 0 300 302.5","version","1.1","viewBox","0 0 300 302.5",0,"xml","space","preserve","xmlns","http://www.w3.org/2000/svg"],["type","text/css"],["d","m126 302.2c-2.3 0.7-5.7 0.2-7.7-1.2l-105-71.6c-2-1.3-3.7-4.4-3.9-6.7l-9.4-126.7c-0.2-2.4 1.1-5.6 2.8-7.2l93.2-86.4c1.7-1.6 5.1-2.6 7.4-2.3l125.6 18.9c2.3 0.4 5.2 2.3 6.4 4.4l63.5 110.1c1.2 2 1.4 5.5 0.6 7.7l-46.4 118.3c-0.9 2.2-3.4 4.6-5.7 5.3l-121.4 37.4zm63.4-102.7c2.3-0.7 4.8-3.1 5.7-5.3l19.9-50.8c0.9-2.2 0.6-5.7-0.6-7.7l-27.3-47.3c-1.2-2-4.1-4-6.4-4.4l-53.9-8c-2.3-0.4-5.7 0.7-7.4 2.3l-40 37.1c-1.7 1.6-3 4.9-2.8 7.2l4.1 54.4c0.2 2.4 1.9 5.4 3.9 6.7l45.1 30.8c2 1.3 5.4 1.9 7.7 1.2l52-16.2z",1,"st01"],["action","","autocomplete","off",1,"log-in"],[1,"floating-label"],["placeholder","Email","type","email","name","email","id","email","autocomplete","off","required",""],["for","email"],[1,"icon"],["enable-background","new 0 0 100 100","version","1.1","viewBox","0 0 100 100",0,"xml","space","preserve","xmlns","http://www.w3.org/2000/svg"],["transform","translate(0 -952.36)"],["d","m17.5 977c-1.3 0-2.4 1.1-2.4 2.4v45.9c0 1.3 1.1 2.4 2.4 2.4h64.9c1.3 0 2.4-1.1 2.4-2.4v-45.9c0-1.3-1.1-2.4-2.4-2.4h-64.9zm2.4 4.8h60.2v1.2l-30.1 22-30.1-22v-1.2zm0 7l28.7 21c0.8 0.6 2 0.6 2.8 0l28.7-21v34.1h-60.2v-34.1z"],["width","100","height","100",1,"st0"],["type","submit","onClick","return false;",3,"click"],["target","_blank",1,"discrete",3,"click"]],template:function(o,a){if(o&1){let u=Io();j(0,"body")(1,"div",1)(2,"div",2),je(),j(3,"svg",3)(4,"style",4),nt(5," .st01 { fill: #fff; } "),q(),ct(6,"path",5),q()(),Ue(),j(7,"form",6)(8,"h4")(9,"span"),nt(10,"Reset Password."),q()(),j(11,"p"),nt(12,"Put your E-mail and get reset password in your email. "),q(),j(13,"div",7),ct(14,"input",8,0),j(16,"label",9),nt(17,"Email:"),q(),j(18,"div",10),je(),j(19,"svg",11)(20,"style",4),nt(21," .st0 { fill: none; } "),q(),j(22,"g",12),ct(23,"path",13),q(),ct(24,"rect",14),q()()(),Ue(),j(25,"button",15),dn("click",function(){Un(u);let h=Sn(15);return Vn(a.toResetSubmit(h))}),nt(26,"Reset"),q(),j(27,"a",16),dn("click",function(){return Un(u),Vn(a.toLogin())}),nt(28,"Back to Login"),q()()()()}},styles:[".all[_ngcontent-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,San Francisco,Helvetica,Arial,sans-serif;font-weight:300;margin:0}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100vh;width:100vw;margin:0;display:flex;align-items:flex-start;justify-content:flex-start;background:#f3f2f2}h4[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:#000;opacity:.85}label[_ngcontent-%COMP%]{font-size:12.5px;color:#000;opacity:.8;font-weight:400}form[_ngcontent-%COMP%]{padding:40px 30px 20px;background:#fefefe;display:flex;flex-direction:column;align-items:flex-start;width:300px}form[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:20px;color:#00000080}form[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#000;font-weight:700}form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:155%;font-size:14px;color:#000;opacity:.65;font-weight:400;max-width:200px;margin-bottom:40px}a.discrete[_ngcontent-%COMP%]{color:#0006;font-size:14px;border-bottom:solid 1px rgba(0,0,0,0);padding-bottom:4px;margin-left:auto;font-weight:300;transition:all .3s ease;margin-top:40px;cursor:pointer}a.discrete[_ngcontent-%COMP%]:hover{border-bottom:solid 1px rgba(0,0,0,.2)}button[_ngcontent-%COMP%]{-webkit-appearance:none;width:auto;min-width:100px;border-radius:24px;text-align:center;padding:15px 40px;margin-top:5px;background-color:#b08bf8;color:#fff;font-size:14px;margin-left:auto;font-weight:500;box-shadow:0 2px 6px -1px #00000021;border:none;transition:all .3s ease;outline:0}button[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 2px 6px -1px #b69de6a6}button[_ngcontent-%COMP%]:hover:active{transform:scale(.99)}input[_ngcontent-%COMP%]{font-size:16px;padding:20px 0;height:56px;border:none;border-bottom:solid 1px rgba(0,0,0,.1);background:#fff;width:280px;box-sizing:border-box;transition:all .3s linear;color:#000;font-weight:400;-webkit-appearance:none}input[_ngcontent-%COMP%]:focus{border-bottom:solid 1px #b69de6;outline:0;box-shadow:0 2px 6px -8px #b69de673}.floating-label[_ngcontent-%COMP%]{position:relative;margin-bottom:10px;width:100%}.floating-label[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;top:calc(50% - 7px);left:0;opacity:0;transition:all .3s ease;padding-left:44px}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:calc(100% - 44px);margin-left:auto;display:flex}.floating-label[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{position:absolute;top:0;left:-13px;height:56px;width:44px;display:flex}.floating-label[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:30px;width:30px;margin:auto;opacity:.15;transition:all .3s ease}.floating-label[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{transition:all .3s ease}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:-moz-placeholder-shown){padding:28px 0 12px}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:-ms-input-placeholder){padding:28px 0 12px}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:placeholder-shown){padding:28px 0 12px}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:-moz-placeholder-shown) + label[_ngcontent-%COMP%]{transform:translateY(-10px);opacity:.7}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:-ms-input-placeholder) + label[_ngcontent-%COMP%]{transform:translateY(-10px);opacity:.7}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:placeholder-shown) + label[_ngcontent-%COMP%]{transform:translateY(-10px);opacity:.7}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid:not(:-moz-placeholder-shown) + label[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{opacity:1}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid:not(:-ms-input-placeholder) + label[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{opacity:1}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid:not(:placeholder-shown) + label[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{opacity:1}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid:not(:-moz-placeholder-shown) + label[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#b69de6}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid:not(:-ms-input-placeholder) + label[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#b69de6}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid:not(:placeholder-shown) + label[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#b69de6}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:valid):not(:focus) + label[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%]{-webkit-animation-name:_ngcontent-%COMP%_shake-shake;animation-name:_ngcontent-%COMP%_shake-shake;-webkit-animation-duration:.3s;animation-duration:.3s}@-webkit-keyframes _ngcontent-%COMP%_shake-shake{0%{transform:translate(-3px)}20%{transform:translate(3px)}40%{transform:translate(-3px)}60%{transform:translate(3px)}80%{transform:translate(-3px)}to{transform:translate(0)}}.session[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:auto;height:auto;margin:auto;background:#fff;border-radius:4px;box-shadow:0 2px 6px -1px #0000001f}.left[_ngcontent-%COMP%]{width:220px;height:auto;min-height:100%;position:relative;background-image:url(https://images.pexels.com/photos/114979/pexels-photo-114979.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940);background-size:cover;border-top-left-radius:4px;border-bottom-left-radius:4px}.left[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:40px;width:auto;margin:20px}"]});let e=t;return e})();var FS=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=oe({type:t,selectors:[["app-topbar"]],decls:15,vars:0,consts:[[1,"navbar"],[1,"logo"],[1,"nav-links"],["href","#"]],template:function(o,a){o&1&&(j(0,"nav",0),ct(1,"div",1),j(2,"ul",2)(3,"li")(4,"a",3),nt(5,"Home"),q()(),j(6,"li")(7,"a",3),nt(8,"About"),q()(),j(9,"li")(10,"a",3),nt(11,"Services"),q()(),j(12,"li")(13,"a",3),nt(14,"Contact"),q()()()())},styles:[".navbar[_ngcontent-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,San Francisco,Helvetica,Arial,sans-serif;background-color:#b19cd9;padding:20px}.nav-links[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.nav-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline;margin-right:20px}.nav-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{margin-right:0}.nav-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#fff;font-weight:700}.nav-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff}"]});let e=t;return e})();var jS=(()=>{let t=class t{constructor(){this.firebasetsAuth=new fn,this.router=new ue}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=oe({type:t,selectors:[["app-feed"]],decls:1,vars:0,template:function(o,a){o&1&&ct(0,"app-topbar")},dependencies:[FS]});let e=t;return e})();var dF=[{path:"",component:fE},{path:"signup",component:PS},{path:"reset",component:LS},{path:"feed",component:jS}],US=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=Ht({type:t}),t.\u0275inj=qt({imports:[Vm.forRoot(dF),Vm]});let e=t;return e})();var VS=(()=>{let t=class t{constructor(){this.auth=new fn,this.router=new ue}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=oe({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(o,a){o&1&&ct(0,"router-outlet")},dependencies:[Nm]});let e=t;return e})();var hF="@",fF=(()=>{let t=class t{constructor(i,o,a,u,l){this.doc=i,this.delegate=o,this.zone=a,this.animationType=u,this.moduleImpl=l,this._rendererFactoryPromise=null,this.scheduler=Y(m_,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-6VNBEIAX.js")).catch(o=>{throw new Ut(5300,!1)}).then(({\u0275createEngine:o,\u0275AnimationRendererFactory:a})=>{this._engine=o(this.animationType,this.doc,this.scheduler);let u=new a(this.delegate,this._engine,this.zone);return this.delegate=u,u})}createRenderer(i,o){let a=this.delegate.createRenderer(i,o);if(a.\u0275type===0)return a;typeof a.throwOnSyntheticProps=="boolean"&&(a.throwOnSyntheticProps=!1);let u=new Xv(a);return o?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(l=>{let h=l.createRenderer(i,o);u.use(h)}).catch(l=>{u.use(a)}),u}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};t.\u0275fac=function(o){fa()},t.\u0275prov=ht({token:t,factory:t.\u0275fac});let e=t;return e})(),Xv=class{constructor(t){this.delegate=t,this.replay=[],this.\u0275type=1}use(t){if(this.delegate=t,this.replay!==null){for(let n of this.replay)n(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,n){return this.delegate.createElement(t,n)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,n){this.delegate.appendChild(t,n)}insertBefore(t,n,i,o){this.delegate.insertBefore(t,n,i,o)}removeChild(t,n,i){this.delegate.removeChild(t,n,i)}selectRootElement(t,n){return this.delegate.selectRootElement(t,n)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,n,i,o){this.delegate.setAttribute(t,n,i,o)}removeAttribute(t,n,i){this.delegate.removeAttribute(t,n,i)}addClass(t,n){this.delegate.addClass(t,n)}removeClass(t,n){this.delegate.removeClass(t,n)}setStyle(t,n,i,o){this.delegate.setStyle(t,n,i,o)}removeStyle(t,n,i){this.delegate.removeStyle(t,n,i)}setProperty(t,n,i){this.shouldReplay(n)&&this.replay.push(o=>o.setProperty(t,n,i)),this.delegate.setProperty(t,n,i)}setValue(t,n){this.delegate.setValue(t,n)}listen(t,n,i){return this.shouldReplay(n)&&this.replay.push(o=>o.listen(t,n,i)),this.delegate.listen(t,n,i)}shouldReplay(t){return this.replay!==null&&t.startsWith(hF)}};function BS(e="animations"){return g_("NgAsyncAnimations"),Kc([{provide:Gc,useFactory:(t,n,i)=>new fF(t,n,i,e),deps:[se,tl,Vt]},{provide:Fp,useValue:e==="noop"?"NoopAnimations":"BrowserAnimations"}])}var zS={production:!0,firebaseConfig:{apiKey:"AIzaSyDQSvJxcPBsFa6sttkCEwookpEp9Ghxsio",authDomain:"thing-702bc.firebaseapp.com",projectId:"thing-702bc",storageBucket:"thing-702bc.appspot.com",messagingSenderId:"855219867760",appId:"1:855219867760:web:6c89ba7257b02a332ca4b5",measurementId:"G-VZ7L6RQT3V"}};var Zv;try{Zv=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Zv=!1}var Mu=(()=>{let t=class t{constructor(i){this._platformId=i,this.isBrowser=this._platformId?L_(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||Zv)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};t.\u0275fac=function(o){return new(o||t)(it(bi))},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Nu;function pF(){if(Nu==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Nu=!0}))}finally{Nu=Nu||!1}return Nu}function Jv(e){return pF()?e:!!e.capture}function qS(e){return e.composedPath?e.composedPath()[0]:e.target}function HS(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function tb(e){return Array.isArray(e)?e:[e]}function eb(e){return e instanceof Er?e.nativeElement:e}var GS=new Set,Hi,mF=(()=>{let t=class t{constructor(i,o){this._platform=i,this._nonce=o,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):vF}matchMedia(i){return(this._platform.WEBKIT||this._platform.BLINK)&&gF(i,this._nonce),this._matchMedia(i)}};t.\u0275fac=function(o){return new(o||t)(it(Mu),it(da,8))},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function gF(e,t){if(!GS.has(e))try{Hi||(Hi=document.createElement("style"),t&&(Hi.nonce=t),Hi.setAttribute("type","text/css"),document.head.appendChild(Hi)),Hi.sheet&&(Hi.sheet.insertRule(`@media ${e} {body{ }}`,0),GS.add(e))}catch(n){console.error(n)}}function vF(e){return{matches:e==="all"||e==="",media:e,addListener:()=>{},removeListener:()=>{}}}var WS=(()=>{let t=class t{constructor(i,o){this._mediaMatcher=i,this._zone=o,this._queries=new Map,this._destroySubject=new tr}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(i){return $S(tb(i)).some(a=>this._registerQuery(a).mql.matches)}observe(i){let a=$S(tb(i)).map(l=>this._registerQuery(l).observable),u=yo(a);return u=Bc(u.pipe(yr(1)),u.pipe(c_(1),o_(0))),u.pipe(Et(l=>{let h={matches:!1,breakpoints:{}};return l.forEach(({matches:p,query:m})=>{h.matches=h.matches||p,h.breakpoints[m]=p}),h}))}_registerQuery(i){if(this._queries.has(i))return this._queries.get(i);let o=this._mediaMatcher.matchMedia(i),u={observable:new n_(l=>{let h=p=>this._zone.run(()=>l.next(p));return o.addListener(h),()=>{o.removeListener(h)}}).pipe(qc(o),Et(({matches:l})=>({query:i,matches:l})),Hc(this._destroySubject)),mql:o};return this._queries.set(i,u),u}};t.\u0275fac=function(o){return new(o||t)(it(mF),it(Vt))},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function $S(e){return e.map(t=>t.split(",")).reduce((t,n)=>t.concat(n)).map(t=>t.trim())}function XS(e){return e.buttons===0||e.detail===0}function ZS(e){let t=e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0];return!!t&&t.identifier===-1&&(t.radiusX==null||t.radiusX===1)&&(t.radiusY==null||t.radiusY===1)}var Ki=function(e){return e[e.NONE=0]="NONE",e[e.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",e[e.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",e}(Ki||{}),YS="cdk-high-contrast-black-on-white",QS="cdk-high-contrast-white-on-black",nb="cdk-high-contrast-active",JS=(()=>{let t=class t{constructor(i,o){this._platform=i,this._document=o,this._breakpointSubscription=Y(WS).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Ki.NONE;let i=this._document.createElement("div");i.style.backgroundColor="rgb(1,2,3)",i.style.position="absolute",this._document.body.appendChild(i);let o=this._document.defaultView||window,a=o&&o.getComputedStyle?o.getComputedStyle(i):null,u=(a&&a.backgroundColor||"").replace(/ /g,"");switch(i.remove(),u){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Ki.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Ki.BLACK_ON_WHITE}return Ki.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let i=this._document.body.classList;i.remove(nb,YS,QS),this._hasCheckedHighContrastMode=!0;let o=this.getHighContrastMode();o===Ki.BLACK_ON_WHITE?i.add(nb,YS):o===Ki.WHITE_ON_BLACK&&i.add(nb,QS)}}};t.\u0275fac=function(o){return new(o||t)(it(Mu),it(se))},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var rb=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=Ht({type:t}),t.\u0275inj=qt({});let e=t;return e})();function wF(){return!0}var _F=new Zt("mat-sanity-checks",{providedIn:"root",factory:wF}),$r=(()=>{let t=class t{constructor(i,o,a){this._sanityChecks=o,this._document=a,this._hasDoneGlobalChecks=!1,i._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(i){return HS()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[i]}};t.\u0275fac=function(o){return new(o||t)(it(JS),it(_F,8),it(se))},t.\u0275mod=Ht({type:t}),t.\u0275inj=qt({imports:[rb,rb]});let e=t;return e})();var gn=function(e){return e[e.FADING_IN=0]="FADING_IN",e[e.VISIBLE=1]="VISIBLE",e[e.FADING_OUT=2]="FADING_OUT",e[e.HIDDEN=3]="HIDDEN",e}(gn||{}),ib=class{constructor(t,n,i,o=!1){this._renderer=t,this.element=n,this.config=i,this._animationForciblyDisabledThroughCss=o,this.state=gn.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},tC=Jv({passive:!0,capture:!0}),ob=class{constructor(){this._events=new Map,this._delegateEventHandler=t=>{let n=qS(t);n&&this._events.get(t.type)?.forEach((i,o)=>{(o===n||o.contains(n))&&i.forEach(a=>a.handleEvent(t))})}}addHandler(t,n,i,o){let a=this._events.get(n);if(a){let u=a.get(i);u?u.add(o):a.set(i,new Set([o]))}else this._events.set(n,new Map([[i,new Set([o])]])),t.runOutsideAngular(()=>{document.addEventListener(n,this._delegateEventHandler,tC)})}removeHandler(t,n,i){let o=this._events.get(t);if(!o)return;let a=o.get(n);a&&(a.delete(i),a.size===0&&o.delete(n),o.size===0&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,tC)))}},eC={enterDuration:225,exitDuration:150},IF=800,nC=Jv({passive:!0,capture:!0}),rC=["mousedown","touchstart"],iC=["mouseup","mouseleave","touchend","touchcancel"],Pu=class Pu{constructor(t,n,i,o){this._target=t,this._ngZone=n,this._platform=o,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,o.isBrowser&&(this._containerElement=eb(i))}fadeInRipple(t,n,i={}){let o=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a=K(K({},eC),i.animation);i.centered&&(t=o.left+o.width/2,n=o.top+o.height/2);let u=i.radius||EF(t,n,o),l=t-o.left,h=n-o.top,p=a.enterDuration,m=document.createElement("div");m.classList.add("mat-ripple-element"),m.style.left=`${l-u}px`,m.style.top=`${h-u}px`,m.style.height=`${u*2}px`,m.style.width=`${u*2}px`,i.color!=null&&(m.style.backgroundColor=i.color),m.style.transitionDuration=`${p}ms`,this._containerElement.appendChild(m);let b=window.getComputedStyle(m),y=b.transitionProperty,_=b.transitionDuration,I=y==="none"||_==="0s"||_==="0s, 0s"||o.width===0&&o.height===0,E=new ib(this,m,i,I);m.style.transform="scale3d(1, 1, 1)",E.state=gn.FADING_IN,i.persistent||(this._mostRecentTransientRipple=E);let S=null;return!I&&(p||a.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let O=()=>this._finishRippleTransition(E),F=()=>this._destroyRipple(E);m.addEventListener("transitionend",O),m.addEventListener("transitioncancel",F),S={onTransitionEnd:O,onTransitionCancel:F}}),this._activeRipples.set(E,S),(I||!p)&&this._finishRippleTransition(E),E}fadeOutRipple(t){if(t.state===gn.FADING_OUT||t.state===gn.HIDDEN)return;let n=t.element,i=K(K({},eC),t.config.animation);n.style.transitionDuration=`${i.exitDuration}ms`,n.style.opacity="0",t.state=gn.FADING_OUT,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){let n=eb(t);!this._platform.isBrowser||!n||n===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=n,rC.forEach(i=>{Pu._eventManager.addHandler(this._ngZone,i,n,this)}))}handleEvent(t){t.type==="mousedown"?this._onMousedown(t):t.type==="touchstart"?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{iC.forEach(n=>{this._triggerElement.addEventListener(n,this,nC)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){t.state===gn.FADING_IN?this._startFadeOutTransition(t):t.state===gn.FADING_OUT&&this._destroyRipple(t)}_startFadeOutTransition(t){let n=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=gn.VISIBLE,!i&&(!n||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){let n=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=gn.HIDDEN,n!==null&&(t.element.removeEventListener("transitionend",n.onTransitionEnd),t.element.removeEventListener("transitioncancel",n.onTransitionCancel)),t.element.remove()}_onMousedown(t){let n=XS(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+IF;!this._target.rippleDisabled&&!n&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!ZS(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let n=t.changedTouches;if(n)for(let i=0;i<n.length;i++)this.fadeInRipple(n[i].clientX,n[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{let n=t.state===gn.VISIBLE||t.config.terminateOnPointerUp&&t.state===gn.FADING_IN;!t.config.persistent&&n&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let t=this._triggerElement;t&&(rC.forEach(n=>Pu._eventManager.removeHandler(n,t,this)),this._pointerUpEventsRegistered&&iC.forEach(n=>t.removeEventListener(n,this,nC)))}};Pu._eventManager=new ob;var oC=Pu;function EF(e,t,n){let i=Math.max(Math.abs(e-n.left),Math.abs(e-n.right)),o=Math.max(Math.abs(t-n.top),Math.abs(t-n.bottom));return Math.sqrt(i*i+o*o)}var cC=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=Ht({type:t}),t.\u0275inj=qt({imports:[$r,$r]});let e=t;return e})();var lC=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=Ht({type:t}),t.\u0275inj=qt({imports:[$r,$r]});let e=t;return e})();var dC=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=Ht({type:t}),t.\u0275inj=qt({imports:[$r,cC,$r]});let e=t;return e})();var hC=(()=>{let t=class t{constructor(){Xe.init(zS.firebaseConfig)}};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=Ht({type:t,bootstrap:[VS]}),t.\u0275inj=qt({providers:[BS()],imports:[$_,US,lC,dC]});let e=t;return e})();G_().bootstrapModule(hC).catch(e=>console.error(e));
