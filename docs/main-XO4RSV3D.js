import{$ as In,$a as xs,$b as Ox,A as tx,Aa as xn,Ab as ii,B as pt,Ba as Dc,Bb as xx,C as ys,Ca as Yg,Cb as Sd,D as wn,Da as cn,Db as Ss,E as Bg,Ea as fo,Eb as As,F as _d,Fa as Bt,Fb as He,G as lo,Ga as un,Gb as et,H as ex,Ha as ux,Hb as Zg,I as nx,Ia as Rc,Ib as _i,J as wd,Ja as lx,Jb as We,K as me,Ka as po,Kb as Cx,L as zg,La as Un,Lb as Jg,M as cr,Ma as Oc,Mb as Ad,N as ur,Na as Is,Nb as Tx,O as qg,Oa as Es,Ob as kd,P as Hg,Pa as dx,Pb as Dd,Q as ye,Qa as hx,Qb as tv,R as ix,Ra as fx,Rb as Sx,S as Wg,Sa as px,Sb as ev,T as ho,Ta as mx,Tb as Ax,U as lr,Ua as gx,Ub as Lc,V as Gg,Va as vx,Vb as Rd,W as rx,Wa as Cn,Wb as kx,X as ox,Xa as bx,Xb as mo,Y as sx,Ya as Pc,Yb as Dx,Z as Id,Za as Qt,Zb as Rx,_ as Li,_a as X,_b as ri,a as V,aa as Fi,ab as Mc,ac as Od,b as se,ba as Xt,bb as yx,bc as Px,ca as Vt,cb as Cd,cc as Mx,d as _n,da as dr,db as Td,dc as ct,e as ON,ea as W,eb as _x,ec as Nx,f as bd,fa as mt,fb as ht,fc as nv,g as Ni,ga as ax,gb as wx,gc as Lx,h as JE,ha as dt,hb as Cs,hc as Fx,i as Tc,ia as $g,ib as ji,ic as Vi,j as jg,ja as D,jb as yi,jc as jx,k as Ug,ka as q,kb as Ix,kc as Ux,l as Ct,la as Ed,lb as Xg,lc as Pd,m as sn,ma as Kg,mb as Ex,mc as Md,n as ar,na as kc,nb as ln,nc as Vx,o as Z,oa as Gt,ob as ei,oc as Nd,p as co,pa as Tt,pb as dn,pc as Bx,q as k,qa as gt,qb as hn,qc as zx,r as A,ra as ge,rb as Nc,rc as iv,s as yd,sa as xd,sb as N,sc as qx,t as Sc,ta as cx,tb as U,tc as Hx,u as Nt,ua as _s,ub as at,v as Ac,va as hr,vb as ni,w as an,wa as ws,wb as Qg,x as Y,xa as Pe,xb as zt,y as uo,ya as Me,yb as Ts,z as Vg,za as En,zb as Ui}from"./chunk-5K6PZ5BD.js";function ZC(e){return Vs(void 0,e)}function Vs(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(var i in t)!t.hasOwnProperty(i)||!l2(i)||(e[i]=Vs(e[i],t[i]));return e}function l2(e){return e!=="__proto__"}function oh(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},i=t||"demo-project",r=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var c=co({iss:"https://securetoken.google.com/"+i,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),l="";return[XC(JSON.stringify(n)),XC(JSON.stringify(c)),l].join(".")}function br(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(br())}function ab(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function eT(){return typeof self=="object"&&self.self===self}function nT(){var e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function iT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rT(){return br().indexOf("Electron/")>=0}function oT(){var e=br();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function sT(){return br().indexOf("MSAppHost/")>=0}function aT(){return!ab()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function h2(e,t){return e.replace(f2,function(n,i){var r=t[i];return r!=null?String(r):"<"+i+"?>"})}function ub(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function cT(e,t){var n=new p2(e,t);return n.subscribe.bind(n)}function m2(e,t){if(typeof e!="object"||e===null)return!1;for(var n=0,i=t;n<i.length;n++){var r=i[n];if(r in e&&typeof e[r]=="function")return!0}return!1}function sb(){}function At(e){return e&&e._delegate?e._delegate:e}var QC,a2,c2,u2,XC,JC,d2,cb,sh,f2,x5,p2,C5,Bs=_n(()=>{"use strict";Ac();QC=function(e){for(var t=[],n=0,i=0;i<e.length;i++){var r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=r&63|128):(r&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=r&63|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=r&63|128)}return t},a2=function(e){for(var t=[],n=0,i=0;n<e.length;){var r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){var s=e[n++];t[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){var s=e[n++],c=e[n++],l=e[n++],d=((r&7)<<18|(s&63)<<12|(c&63)<<6|l&63)-65536;t[i++]=String.fromCharCode(55296+(d>>10)),t[i++]=String.fromCharCode(56320+(d&1023))}else{var s=e[n++],c=e[n++];t[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|c&63)}}return t.join("")},c2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[],r=0;r<e.length;r+=3){var s=e[r],c=r+1<e.length,l=c?e[r+1]:0,d=r+2<e.length,f=d?e[r+2]:0,m=s>>2,v=(s&3)<<4|l>>4,y=(l&15)<<2|f>>6,_=f&63;d||(_=64,c||(y=64)),i.push(n[m],n[v],n[y],n[_])}return i.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(QC(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):a2(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[],r=0;r<e.length;){var s=n[e.charAt(r++)],c=r<e.length,l=c?n[e.charAt(r)]:0;++r;var d=r<e.length,f=d?n[e.charAt(r)]:64;++r;var m=r<e.length,v=m?n[e.charAt(r)]:64;if(++r,s==null||l==null||f==null||v==null)throw Error();var y=s<<2|l>>4;if(i.push(y),f!==64){var _=l<<4&240|f>>2;if(i.push(_),v!==64){var I=f<<6&192|v;i.push(I)}}}return i},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},u2=function(e){var t=QC(e);return c2.encodeByteArray(t,!0)},XC=function(e){return u2(e).replace(/\./g,"")};JC=function(){function e(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,i){t.resolve=n,t.reject=i})}return e.prototype.wrapCallback=function(t){var n=this;return function(i,r){i?n.reject(i):n.resolve(r),typeof t=="function"&&(n.promise.catch(function(){}),t.length===1?t(i):t(i,r))}},e}();d2="FirebaseError",cb=function(e){Z(t,e);function t(n,i,r){var s=e.call(this,i)||this;return s.code=n,s.customData=r,s.name=d2,Object.setPrototypeOf(s,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,sh.prototype.create),s}return t}(Error),sh=function(){function e(t,n,i){this.service=t,this.serviceName=n,this.errors=i}return e.prototype.create=function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var r=n[0]||{},s=this.service+"/"+t,c=this.errors[t],l=c?h2(c,r):"Error",d=this.serviceName+": "+l+" ("+s+").",f=new cb(s,d,r);return f},e}();f2=/\{\$([^}]+)}/g;x5=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(t,n){n||(n=0);var i=this.W_;if(typeof t=="string")for(var r=0;r<16;r++)i[r]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(var r=0;r<16;r++)i[r]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(var r=16;r<80;r++){var s=i[r-3]^i[r-8]^i[r-14]^i[r-16];i[r]=(s<<1|s>>>31)&4294967295}for(var c=this.chain_[0],l=this.chain_[1],d=this.chain_[2],f=this.chain_[3],m=this.chain_[4],v,y,r=0;r<80;r++){r<40?r<20?(v=f^l&(d^f),y=1518500249):(v=l^d^f,y=1859775393):r<60?(v=l&d|f&(l|d),y=2400959708):(v=l^d^f,y=3395469782);var s=(c<<5|c>>>27)+v+m+y+i[r]&4294967295;m=f,f=d,d=(l<<30|l>>>2)&4294967295,l=c,c=s}this.chain_[0]=this.chain_[0]+c&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+d&4294967295,this.chain_[3]=this.chain_[3]+f&4294967295,this.chain_[4]=this.chain_[4]+m&4294967295},e.prototype.update=function(t,n){if(t!=null){n===void 0&&(n=t.length);for(var i=n-this.blockSize,r=0,s=this.buf_,c=this.inbuf_;r<n;){if(c===0)for(;r<=i;)this.compress_(t,r),r+=this.blockSize;if(typeof t=="string"){for(;r<n;)if(s[c]=t.charCodeAt(r),++c,++r,c===this.blockSize){this.compress_(s),c=0;break}}else for(;r<n;)if(s[c]=t[r],++c,++r,c===this.blockSize){this.compress_(s),c=0;break}}this.inbuf_=c,this.total_+=n}},e.prototype.digest=function(){var t=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);for(var r=0,i=0;i<5;i++)for(var s=24;s>=0;s-=8)t[r]=this.chain_[i]>>s&255,++r;return t},e}();p2=function(){function e(t,n){var i=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(i)}).catch(function(r){i.error(r)})}return e.prototype.next=function(t){this.forEachObserver(function(n){n.next(t)})},e.prototype.error=function(t){this.forEachObserver(function(n){n.error(t)}),this.close(t)},e.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},e.prototype.subscribe=function(t,n,i){var r=this,s;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");m2(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:i},s.next===void 0&&(s.next=sb),s.error===void 0&&(s.error=sb),s.complete===void 0&&(s.complete=sb);var c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{r.finalError?s.error(r.finalError):s.complete()}catch{}}),this.observers.push(s),c},e.prototype.unsubscribeOne=function(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},e.prototype.forEachObserver=function(t){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,t)},e.prototype.sendOne=function(t,n){var i=this;this.task.then(function(){if(i.observers!==void 0&&i.observers[t]!==void 0)try{n(i.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})},e.prototype.close=function(t){var n=this;this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},e}();C5=4*60*60*1e3;});function v2(e){return e===bo?void 0:e}function b2(e){return e.instantiationMode==="EAGER"}var yr,bo,g2,uT,ah=_n(()=>{"use strict";Ac();Bs();yr=function(){function e(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},e.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},e.prototype.setServiceProps=function(t){return this.serviceProps=t,this},e.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},e}();bo="[DEFAULT]";g2=function(){function e(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(t){var n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){var i=new JC;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise},e.prototype.getImmediate=function(t){var n,i=this.normalizeInstanceIdentifier(t?.identifier),r=(n=t?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error("Service "+this.name+" is not available")}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(t){var n,i;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,!!this.shouldAutoInitialize()){if(b2(t))try{this.getOrInitializeService({instanceIdentifier:bo})}catch{}try{for(var r=yd(this.instancesDeferred.entries()),s=r.next();!s.done;s=r.next()){var c=Sc(s.value,2),l=c[0],d=c[1],f=this.normalizeInstanceIdentifier(l);try{var m=this.getOrInitializeService({instanceIdentifier:f});d.resolve(m)}catch{}}}catch(v){n={error:v}}finally{try{s&&!s.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}}},e.prototype.clearInstance=function(t){t===void 0&&(t=bo),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},e.prototype.delete=function(){return k(this,void 0,void 0,function(){var t;return A(this,function(n){switch(n.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Nt(Nt([],Sc(t.filter(function(i){return"INTERNAL"in i}).map(function(i){return i.INTERNAL.delete()}))),Sc(t.filter(function(i){return"_delete"in i}).map(function(i){return i._delete()}))))];case 1:return n.sent(),[2]}})})},e.prototype.isComponentSet=function(){return this.component!=null},e.prototype.isInitialized=function(t){return t===void 0&&(t=bo),this.instances.has(t)},e.prototype.getOptions=function(t){return t===void 0&&(t=bo),this.instancesOptions.get(t)||{}},e.prototype.initialize=function(t){var n,i;t===void 0&&(t={});var r=t.options,s=r===void 0?{}:r,c=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(c))throw Error(this.name+"("+c+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var l=this.getOrInitializeService({instanceIdentifier:c,options:s});try{for(var d=yd(this.instancesDeferred.entries()),f=d.next();!f.done;f=d.next()){var m=Sc(f.value,2),v=m[0],y=m[1],_=this.normalizeInstanceIdentifier(v);c===_&&y.resolve(l)}}catch(I){n={error:I}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}return l},e.prototype.onInit=function(t,n){var i,r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(t),this.onInitCallbacks.set(r,s);var c=this.instances.get(r);return c&&t(c,r),function(){s.delete(t)}},e.prototype.invokeOnInitCallbacks=function(t,n){var i,r,s=this.onInitCallbacks.get(n);if(s)try{for(var c=yd(s),l=c.next();!l.done;l=c.next()){var d=l.value;try{d(t,n)}catch{}}}catch(f){i={error:f}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(i)throw i.error}}},e.prototype.getOrInitializeService=function(t){var n=t.instanceIdentifier,i=t.options,r=i===void 0?{}:i,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:v2(n),options:r}),this.instances.set(n,s),this.instancesOptions.set(n,r),this.invokeOnInitCallbacks(s,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch{}return s||null},e.prototype.normalizeInstanceIdentifier=function(t){return t===void 0&&(t=bo),this.component?this.component.multipleInstances?t:bo:t},e.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},e}();uT=function(){function e(t){this.name=t,this.providers=new Map}return e.prototype.addComponent=function(t){var n=this.getProvider(t.name);if(n.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);n.setComponent(t)},e.prototype.addOrOverwriteComponent=function(t){var n=this.getProvider(t.name);n.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},e.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var n=new g2(t,this);return this.providers.set(t,n),n},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}()});function oi(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var i=Array(e),r=0,t=0;t<n;t++)for(var s=arguments[t],c=0,l=s.length;c<l;c++,r++)i[r]=s[c];return i}function dT(e){lb.forEach(function(t){t.setLogLevel(e)})}function hT(e,t){for(var n=function(c){var l=null;t&&t.level&&(l=lT[t.level]),e===null?c.userLogHandler=null:c.userLogHandler=function(d,f){for(var m=[],v=2;v<arguments.length;v++)m[v-2]=arguments[v];var y=m.map(function(_){if(_==null)return null;if(typeof _=="string")return _;if(typeof _=="number"||typeof _=="boolean")return _.toString();if(_ instanceof Error)return _.message;try{return JSON.stringify(_)}catch{return null}}).filter(function(_){return _}).join(" ");f>=(l??d.logLevel)&&e({level:Et[f].toLowerCase(),message:y,args:m,type:d.name})}},i=0,r=lb;i<r.length;i++){var s=r[i];n(s)}}var yo,lb,Et,lT,y2,_2,w2,ch,uh=_n(()=>{"use strict";lb=[],Et=function(e){return e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",e}(Et||{}),lT={debug:Et.DEBUG,verbose:Et.VERBOSE,info:Et.INFO,warn:Et.WARN,error:Et.ERROR,silent:Et.SILENT},y2=Et.INFO,_2=(yo={},yo[Et.DEBUG]="log",yo[Et.VERBOSE]="log",yo[Et.INFO]="info",yo[Et.WARN]="warn",yo[Et.ERROR]="error",yo),w2=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var r=new Date().toISOString(),s=_2[t];if(s)console[s].apply(console,oi(["["+r+"]  "+e.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}},ch=function(){function e(t){this.name=t,this._logLevel=y2,this._logHandler=w2,this._userLogHandler=null,lb.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in Et))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(t){this._logLevel=typeof t=="string"?lT[t]:t},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,oi([this,Et.DEBUG],t)),this._logHandler.apply(this,oi([this,Et.DEBUG],t))},e.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,oi([this,Et.VERBOSE],t)),this._logHandler.apply(this,oi([this,Et.VERBOSE],t))},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,oi([this,Et.INFO],t)),this._logHandler.apply(this,oi([this,Et.INFO],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,oi([this,Et.WARN],t)),this._logHandler.apply(this,oi([this,Et.WARN],t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,oi([this,Et.ERROR],t)),this._logHandler.apply(this,oi([this,Et.ERROR],t))},e}()});function j2(e){var t={},n=new Map,i={__esModule:!0,initializeApp:c,app:s,registerVersion:f,setLogLevel:dT,onLog:m,apps:null,SDK_VERSION:F2,INTERNAL:{registerComponent:d,removeApp:r,components:n,useAsService:v}};i.default=i,Object.defineProperty(i,"apps",{get:l});function r(y){delete t[y]}function s(y){if(y=y||dh,!ub(t,y))throw zs.create("no-app",{appName:y});return t[y]}s.App=e;function c(y,_){if(_===void 0&&(_={}),typeof _!="object"||_===null){var I=_;_={name:I}}var E=_;E.name===void 0&&(E.name=dh);var C=E.name;if(typeof C!="string"||!C)throw zs.create("bad-app-name",{appName:String(C)});if(ub(t,C))throw zs.create("duplicate-app",{appName:C});var R=new e(y,E,i);return t[C]=R,R}function l(){return Object.keys(t).map(function(y){return t[y]})}function d(y){var _=y.name;if(n.has(_))return qs.debug("There were multiple attempts to register component "+_+"."),y.type==="PUBLIC"?i[_]:null;if(n.set(_,y),y.type==="PUBLIC"){var I=function(L){if(L===void 0&&(L=s()),typeof L[_]!="function")throw zs.create("invalid-app-argument",{appName:_});return L[_]()};y.serviceProps!==void 0&&Vs(I,y.serviceProps),i[_]=I,e.prototype[_]=function(){for(var L=[],B=0;B<arguments.length;B++)L[B]=arguments[B];var nt=this._getService.bind(this,_);return nt.apply(this,y.multipleInstances?L:[])}}for(var E=0,C=Object.keys(t);E<C.length;E++){var R=C[E];t[R]._addComponent(y)}return y.type==="PUBLIC"?i[_]:null}function f(y,_,I){var E,C=(E=L2[y])!==null&&E!==void 0?E:y;I&&(C+="-"+I);var R=C.match(/\s|\//),L=_.match(/\s|\//);if(R||L){var B=['Unable to register library "'+C+'" with version "'+_+'":'];R&&B.push('library name "'+C+'" contains illegal characters (whitespace or "/")'),R&&L&&B.push("and"),L&&B.push('version name "'+_+'" contains illegal characters (whitespace or "/")'),qs.warn(B.join(" "));return}d(new yr(C+"-version",function(){return{library:C,version:_}},"VERSION"))}function m(y,_){if(y!==null&&typeof y!="function")throw zs.create("invalid-log-argument");hT(y,_)}function v(y,_){if(_==="serverAuth")return null;var I=_;return I}return i}function pT(){var e=j2(lh);e.INTERNAL=co(co({},e.INTERNAL),{createFirebaseNamespace:pT,extendNamespace:t,createSubscribe:cT,ErrorFactory:sh,deepExtend:Vs});function t(n){Vs(e,n)}return e}function V2(e){var t=e.getComponent();return t?.type==="VERSION"}function B2(e,t){e.INTERNAL.registerComponent(new yr("platform-logger",function(n){return new U2(n)},"PRIVATE")),e.registerVersion(fT,E2,t),e.registerVersion("fire-js","")}var _r,I2,zs,fT,E2,x2,C2,T2,S2,A2,k2,D2,R2,O2,P2,M2,N2,Ne,dh,L2,qs,lh,F2,hb,U2,db,z2,mT,it,Hs=_n(()=>{"use strict";Ac();Bs();ah();uh();I2=(_r={},_r["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",_r["bad-app-name"]="Illegal App name: '{$appName}",_r["duplicate-app"]="Firebase App named '{$appName}' already exists",_r["app-deleted"]="Firebase App named '{$appName}' already deleted",_r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",_r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",_r),zs=new sh("app","Firebase",I2),fT="@firebase/app",E2="0.6.30",x2="@firebase/analytics",C2="@firebase/app-check",T2="@firebase/auth",S2="@firebase/database",A2="@firebase/functions",k2="@firebase/installations",D2="@firebase/messaging",R2="@firebase/performance",O2="@firebase/remote-config",P2="@firebase/storage",M2="@firebase/firestore",N2="firebase-wrapper";dh="[DEFAULT]",L2=(Ne={},Ne[fT]="fire-core",Ne[x2]="fire-analytics",Ne[C2]="fire-app-check",Ne[T2]="fire-auth",Ne[S2]="fire-rtdb",Ne[A2]="fire-fn",Ne[k2]="fire-iid",Ne[D2]="fire-fcm",Ne[R2]="fire-perf",Ne[O2]="fire-rc",Ne[P2]="fire-gcs",Ne[M2]="fire-fst",Ne["fire-js"]="fire-js",Ne[N2]="fire-js-all",Ne);qs=new ch("@firebase/app");lh=function(){function e(t,n,i){var r=this;this.firebase_=i,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=ZC(t),this.container=new uT(n.name),this._addComponent(new yr("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(s){return r._addComponent(s)})}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var t=this;return new Promise(function(n){t.checkDestroyed_(),n()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(n){return n.delete()}))}).then(function(){t.isDeleted_=!0})},e.prototype._getService=function(t,n){var i;n===void 0&&(n=dh),this.checkDestroyed_();var r=this.container.getProvider(t);return!r.isInitialized()&&((i=r.getComponent())===null||i===void 0?void 0:i.instantiationMode)==="EXPLICIT"&&r.initialize(),r.getImmediate({identifier:n})},e.prototype._removeServiceInstance=function(t,n){n===void 0&&(n=dh),this.container.getProvider(t).clearInstance(n)},e.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(n){qs.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,n)}},e.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw zs.create("app-deleted",{appName:this.name_})},e}();lh.prototype.name&&lh.prototype.options||lh.prototype.delete||console.log("dc");F2="8.10.0";hb=pT();U2=function(){function e(t){this.container=t}return e.prototype.getPlatformInfoString=function(){var t=this.container.getProviders();return t.map(function(n){if(V2(n)){var i=n.getImmediate();return i.library+"/"+i.version}else return null}).filter(function(n){return n}).join(" ")},e}();eT()&&self.firebase!==void 0&&(qs.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `),db=self.firebase.SDK_VERSION,db&&db.indexOf("LITE")>=0&&qs.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `));z2=hb.initializeApp;hb.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ab()&&qs.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),z2.apply(void 0,e)};mT=hb;B2(mT);it=mT});var vT={};ON(vT,{default:()=>it});var q2,gT,bT=_n(()=>{"use strict";Hs();Hs();q2="firebase",gT="8.10.1";it.registerVersion(q2,gT,"app");it.SDK_VERSION=gT});var yT=_n(()=>{"use strict";Hs();(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,a,u){o!=Array.prototype&&o!=Object.prototype&&(o[a]=u.value)};function n(o){o=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,o];for(var a=0;a<o.length;++a){var u=o[a];if(u&&u.Math==Math)return u}return globalThis}var i=n(this);function r(o,a){if(a){var u=i;o=o.split(".");for(var h=0;h<o.length-1;h++){var p=o[h];p in u||(u[p]={}),u=u[p]}o=o[o.length-1],h=u[o],a=a(h),a!=h&&a!=null&&t(u,o,{configurable:!0,writable:!0,value:a})}}function s(o){var a=0;return function(){return a<o.length?{done:!1,value:o[a++]}:{done:!0}}}function c(o){var a=typeof Symbol<"u"&&Symbol.iterator&&o[Symbol.iterator];return a?a.call(o):{next:s(o)}}r("Promise",function(o){function a(b){this.b=0,this.c=void 0,this.a=[];var w=this.f();try{b(w.resolve,w.reject)}catch(S){w.reject(S)}}function u(){this.a=null}function h(b){return b instanceof a?b:new a(function(w){w(b)})}if(o)return o;u.prototype.b=function(b){if(this.a==null){this.a=[];var w=this;this.c(function(){w.g()})}this.a.push(b)};var p=i.setTimeout;u.prototype.c=function(b){p(b,0)},u.prototype.g=function(){for(;this.a&&this.a.length;){var b=this.a;this.a=[];for(var w=0;w<b.length;++w){var S=b[w];b[w]=null;try{S()}catch(O){this.f(O)}}}this.a=null},u.prototype.f=function(b){this.c(function(){throw b})},a.prototype.f=function(){function b(O){return function(ot){S||(S=!0,O.call(w,ot))}}var w=this,S=!1;return{resolve:b(this.m),reject:b(this.g)}},a.prototype.m=function(b){if(b===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(b instanceof a)this.s(b);else{t:switch(typeof b){case"object":var w=b!=null;break t;case"function":w=!0;break t;default:w=!1}w?this.v(b):this.h(b)}},a.prototype.v=function(b){var w=void 0;try{w=b.then}catch(S){this.g(S);return}typeof w=="function"?this.u(w,b):this.h(b)},a.prototype.g=function(b){this.i(2,b)},a.prototype.h=function(b){this.i(1,b)},a.prototype.i=function(b,w){if(this.b!=0)throw Error("Cannot settle("+b+", "+w+"): Promise already settled in state"+this.b);this.b=b,this.c=w,this.l()},a.prototype.l=function(){if(this.a!=null){for(var b=0;b<this.a.length;++b)g.b(this.a[b]);this.a=null}};var g=new u;return a.prototype.s=function(b){var w=this.f();b.Ra(w.resolve,w.reject)},a.prototype.u=function(b,w){var S=this.f();try{b.call(w,S.resolve,S.reject)}catch(O){S.reject(O)}},a.prototype.then=function(b,w){function S(It,be){return typeof It=="function"?function(Mi){try{O(It(Mi))}catch(Fg){ot(Fg)}}:be}var O,ot,Dt=new a(function(It,be){O=It,ot=be});return this.Ra(S(b,O),S(w,ot)),Dt},a.prototype.catch=function(b){return this.then(void 0,b)},a.prototype.Ra=function(b,w){function S(){switch(O.b){case 1:b(O.c);break;case 2:w(O.c);break;default:throw Error("Unexpected state: "+O.b)}}var O=this;this.a==null?g.b(S):this.a.push(S)},a.resolve=h,a.reject=function(b){return new a(function(w,S){S(b)})},a.race=function(b){return new a(function(w,S){for(var O=c(b),ot=O.next();!ot.done;ot=O.next())h(ot.value).Ra(w,S)})},a.all=function(b){var w=c(b),S=w.next();return S.done?h([]):new a(function(O,ot){function Dt(Mi){return function(Fg){It[Mi]=Fg,be--,be==0&&O(It)}}var It=[],be=0;do It.push(void 0),be++,h(S.value).Ra(Dt(It.length-1),ot),S=w.next();while(!S.done)})},a});var l=l||{},d=this||self,f=/^[\w+/_-]+[=]{0,2}$/,m=null;function v(o){return(o=o.querySelector&&o.querySelector("script[nonce]"))&&(o=o.nonce||o.getAttribute("nonce"))&&f.test(o)?o:""}function y(){}function _(o){var a=typeof o;return a!="object"?a:o?Array.isArray(o)?"array":a:"null"}function I(o){var a=_(o);return a=="array"||a=="object"&&typeof o.length=="number"}function E(o){return _(o)=="function"}function C(o){var a=typeof o;return a=="object"&&o!=null||a=="function"}function R(o){return Object.prototype.hasOwnProperty.call(o,L)&&o[L]||(o[L]=++B)}var L="closure_uid_"+(1e9*Math.random()>>>0),B=0;function nt(o,a,u){return o.call.apply(o.bind,arguments)}function ut(o,a,u){if(!o)throw Error();if(2<arguments.length){var h=Array.prototype.slice.call(arguments,2);return function(){var p=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(p,h),o.apply(a,p)}}return function(){return o.apply(a,arguments)}}function F(o,a,u){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?F=nt:F=ut,F.apply(null,arguments)}function Ot(o,a){var u=Array.prototype.slice.call(arguments,1);return function(){var h=u.slice();return h.push.apply(h,arguments),o.apply(this,h)}}var $n=Date.now;function K(o,a){function u(){}u.prototype=a.prototype,o.bb=a.prototype,o.prototype=new u,o.prototype.constructor=o}function $o(o){return o}function x(o,a,u){this.code=Ba+o,this.message=a||SR[o]||"",this.a=u||null}K(x,Error),x.prototype.w=function(){var o={code:this.code,message:this.message};return this.a&&(o.serverResponse=this.a),o},x.prototype.toJSON=function(){return this.w()};function o_(o){var a=o&&o.code;return a?new x(a.substring(Ba.length),o.message,o.serverResponse):null}var Ba="auth/",SR={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},ip={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function za(o){for(var a in ip)if(ip[a].id===o)return o=ip[a],{firebaseEndpoint:o.Ua,secureTokenEndpoint:o.$a,identityPlatformEndpoint:o.Xa};return null}var qa;qa=za("__EID__")?"__EID__":void 0;function s_(o){if(!o)return!1;try{return!!o.$goog_Thenable}catch{return!1}}function gn(o){if(Error.captureStackTrace)Error.captureStackTrace(this,gn);else{var a=Error().stack;a&&(this.stack=a)}o&&(this.message=String(o))}K(gn,Error),gn.prototype.name="CustomError";function rp(o,a){o=o.split("%s");for(var u="",h=o.length-1,p=0;p<h;p++)u+=o[p]+(p<a.length?a[p]:"%s");gn.call(this,u+o[h])}K(rp,gn),rp.prototype.name="AssertionError";function Ko(o,a){throw new rp("Failure"+(o?": "+o:""),Array.prototype.slice.call(arguments,1))}function op(o,a){this.c=o,this.f=a,this.b=0,this.a=null}op.prototype.get=function(){if(0<this.b){this.b--;var o=this.a;this.a=o.next,o.next=null}else o=this.c();return o};function a_(o,a){o.f(a),100>o.b&&(o.b++,a.next=o.a,o.a=a)}function c_(){this.b=this.a=null}var u_=new op(function(){return new sp},function(o){o.reset()});c_.prototype.add=function(o,a){var u=u_.get();u.set(o,a),this.b?this.b.next=u:this.a=u,this.b=u};function AR(){var o=L_,a=null;return o.a&&(a=o.a,o.a=o.a.next,o.a||(o.b=null),a.next=null),a}function sp(){this.next=this.b=this.a=null}sp.prototype.set=function(o,a){this.a=o,this.b=a,this.next=null},sp.prototype.reset=function(){this.next=this.b=this.a=null};var l_=Array.prototype.indexOf?function(o,a){return Array.prototype.indexOf.call(o,a,void 0)}:function(o,a){if(typeof o=="string")return typeof a!="string"||a.length!=1?-1:o.indexOf(a,0);for(var u=0;u<o.length;u++)if(u in o&&o[u]===a)return u;return-1},Ht=Array.prototype.forEach?function(o,a,u){Array.prototype.forEach.call(o,a,u)}:function(o,a,u){for(var h=o.length,p=typeof o=="string"?o.split(""):o,g=0;g<h;g++)g in p&&a.call(u,p[g],g,o)};function kR(o,a){for(var u=typeof o=="string"?o.split(""):o,h=o.length-1;0<=h;--h)h in u&&a.call(void 0,u[h],h,o)}var DR=Array.prototype.filter?function(o,a){return Array.prototype.filter.call(o,a,void 0)}:function(o,a){for(var u=o.length,h=[],p=0,g=typeof o=="string"?o.split(""):o,b=0;b<u;b++)if(b in g){var w=g[b];a.call(void 0,w,b,o)&&(h[p++]=w)}return h},ml=Array.prototype.map?function(o,a){return Array.prototype.map.call(o,a,void 0)}:function(o,a){for(var u=o.length,h=Array(u),p=typeof o=="string"?o.split(""):o,g=0;g<u;g++)g in p&&(h[g]=a.call(void 0,p[g],g,o));return h},RR=Array.prototype.some?function(o,a){return Array.prototype.some.call(o,a,void 0)}:function(o,a){for(var u=o.length,h=typeof o=="string"?o.split(""):o,p=0;p<u;p++)if(p in h&&a.call(void 0,h[p],p,o))return!0;return!1};function OR(o){t:{for(var a=dP,u=o.length,h=typeof o=="string"?o.split(""):o,p=0;p<u;p++)if(p in h&&a.call(void 0,h[p],p,o)){a=p;break t}a=-1}return 0>a?null:typeof o=="string"?o.charAt(a):o[a]}function ki(o,a){return 0<=l_(o,a)}function gl(o,a){a=l_(o,a);var u;return(u=0<=a)&&Array.prototype.splice.call(o,a,1),u}function Kn(o,a){var u=0;kR(o,function(h,p){a.call(void 0,h,p,o)&&Array.prototype.splice.call(o,p,1).length==1&&u++})}function ap(o){return Array.prototype.concat.apply([],arguments)}function Br(o){var a=o.length;if(0<a){for(var u=Array(a),h=0;h<a;h++)u[h]=o[h];return u}return[]}var d_=String.prototype.trim?function(o){return o.trim()}:function(o){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(o)[1]},PR=/&/g,MR=/</g,NR=/>/g,LR=/"/g,FR=/'/g,jR=/\x00/g,UR=/[\x00&<>"']/;function Lt(o,a){return o.indexOf(a)!=-1}function cp(o,a){return o<a?-1:o>a?1:0}var Yo;t:{var h_=d.navigator;if(h_){var f_=h_.userAgent;if(f_){Yo=f_;break t}}Yo=""}function fe(o){return Lt(Yo,o)}function p_(o,a){for(var u in o)a.call(void 0,o[u],u,o)}function zr(o){for(var a in o)return!1;return!0}function Zi(o){var a={},u;for(u in o)a[u]=o[u];return a}var m_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tn(o,a){for(var u,h,p=1;p<arguments.length;p++){h=arguments[p];for(u in h)o[u]=h[u];for(var g=0;g<m_.length;g++)u=m_[g],Object.prototype.hasOwnProperty.call(h,u)&&(o[u]=h[u])}}function g_(o,a){t:{try{var u=o&&o.ownerDocument,h=u&&(u.defaultView||u.parentWindow);if(h=h||d,h.Element&&h.Location){var p=h;break t}}catch{}p=null}if(p&&typeof p[a]<"u"&&(!o||!(o instanceof p[a])&&(o instanceof p.Location||o instanceof p.Element))){if(C(o))try{var g=o.constructor.displayName||o.constructor.name||Object.prototype.toString.call(o)}catch{g="<object could not be stringified>"}else g=o===void 0?"undefined":o===null?"null":typeof o;Ko("Argument is not a %s (or a non-Element, non-Location mock); got: %s",a,g)}}function di(o,a){this.a=o===vl&&a||"",this.b=v_}di.prototype.ta=!0,di.prototype.sa=function(){return this.a},di.prototype.toString=function(){return"Const{"+this.a+"}"};function up(o){return o instanceof di&&o.constructor===di&&o.b===v_?o.a:(Ko("expected object of type Const, got '"+o+"'"),"type_error:Const")}var v_={},vl={},bl;function b_(){if(bl===void 0){var o=null,a=d.trustedTypes;if(a&&a.createPolicy){try{o=a.createPolicy("goog#html",{createHTML:$o,createScript:$o,createScriptURL:$o})}catch(u){d.console&&d.console.error(u.message)}bl=o}else bl=o}return bl}function Xo(o,a){this.a=a===__?o:""}Xo.prototype.ta=!0,Xo.prototype.sa=function(){return this.a.toString()},Xo.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function y_(o){return o instanceof Xo&&o.constructor===Xo?o.a:(Ko("expected object of type TrustedResourceUrl, got '"+o+"' of type "+_(o)),"type_error:TrustedResourceUrl")}function lp(o,a){var u=up(o);if(!BR.test(u))throw Error("Invalid TrustedResourceUrl format: "+u);return o=u.replace(VR,function(h,p){if(!Object.prototype.hasOwnProperty.call(a,p))throw Error('Found marker, "'+p+'", in format string, "'+u+'", but no valid label mapping found in args: '+JSON.stringify(a));return h=a[p],h instanceof di?up(h):encodeURIComponent(String(h))}),zR(o)}var VR=/%{(\w+)}/g,BR=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,__={};function zR(o){var a=b_();return o=a?a.createScriptURL(o):o,new Xo(o,__)}function en(o,a){this.a=a===Ha?o:""}en.prototype.ta=!0,en.prototype.sa=function(){return this.a.toString()},en.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function yl(o){return o instanceof en&&o.constructor===en?o.a:(Ko("expected object of type SafeUrl, got '"+o+"' of type "+_(o)),"type_error:SafeUrl")}var qR=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,HR=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,w_=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function I_(o){if(o instanceof en)return o;if(o=typeof o=="object"&&o.ta?o.sa():String(o),w_.test(o))o=new en(o,Ha);else{o=String(o),o=o.replace(/(%0A|%0D)/g,"");var a=o.match(HR);o=a&&qR.test(a[1])?new en(o,Ha):null}return o}function E_(o){return o instanceof en?o:(o=typeof o=="object"&&o.ta?o.sa():String(o),w_.test(o)||(o="about:invalid#zClosurez"),new en(o,Ha))}var Ha={},x_=new en("about:invalid#zClosurez",Ha);function Qo(o,a,u){this.a=u===C_?o:""}Qo.prototype.ta=!0,Qo.prototype.sa=function(){return this.a.toString()},Qo.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function WR(o){return o instanceof Qo&&o.constructor===Qo?o.a:(Ko("expected object of type SafeHtml, got '"+o+"' of type "+_(o)),"type_error:SafeHtml")}var C_={};function GR(o,a){g_(o,"HTMLScriptElement"),o.src=y_(a),(a=o.ownerDocument&&o.ownerDocument.defaultView)&&a!=d?a=v(a.document):(m===null&&(m=v(d.document)),a=m),a&&o.setAttribute("nonce",a)}function T_(o,a,u,h){return o=o instanceof en?o:E_(o),a=a||d,u=u instanceof di?up(u):u||"",a.open(yl(o),u,h,void 0)}function S_(o,a){for(var u=o.split("%s"),h="",p=Array.prototype.slice.call(arguments,1);p.length&&1<u.length;)h+=u.shift()+p.shift();return h+u.join("%s")}function dp(o){return UR.test(o)&&(o.indexOf("&")!=-1&&(o=o.replace(PR,"&amp;")),o.indexOf("<")!=-1&&(o=o.replace(MR,"&lt;")),o.indexOf(">")!=-1&&(o=o.replace(NR,"&gt;")),o.indexOf('"')!=-1&&(o=o.replace(LR,"&quot;")),o.indexOf("'")!=-1&&(o=o.replace(FR,"&#39;")),o.indexOf("\0")!=-1&&(o=o.replace(jR,"&#0;"))),o}function hp(o){return hp[" "](o),o}hp[" "]=y;function $R(o,a){var u=QR;return Object.prototype.hasOwnProperty.call(u,o)?u[o]:u[o]=a(o)}var KR=fe("Opera"),Yn=fe("Trident")||fe("MSIE"),A_=fe("Edge"),YR=A_||Yn,k_=fe("Gecko")&&!(Lt(Yo.toLowerCase(),"webkit")&&!fe("Edge"))&&!(fe("Trident")||fe("MSIE"))&&!fe("Edge"),XR=Lt(Yo.toLowerCase(),"webkit")&&!fe("Edge");function D_(){var o=d.document;return o?o.documentMode:void 0}var _l;t:{var fp="",pp=function(){var o=Yo;if(k_)return/rv:([^\);]+)(\)|;)/.exec(o);if(A_)return/Edge\/([\d\.]+)/.exec(o);if(Yn)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(o);if(XR)return/WebKit\/(\S+)/.exec(o);if(KR)return/(?:Version)[ \/]?(\S+)/.exec(o)}();if(pp&&(fp=pp?pp[1]:""),Yn){var mp=D_();if(mp!=null&&mp>parseFloat(fp)){_l=String(mp);break t}}_l=fp}var QR={};function R_(o){return $R(o,function(){for(var a=0,u=d_(String(_l)).split("."),h=d_(String(o)).split("."),p=Math.max(u.length,h.length),g=0;a==0&&g<p;g++){var b=u[g]||"",w=h[g]||"";do{if(b=/(\d*)(\D*)(.*)/.exec(b)||["","","",""],w=/(\d*)(\D*)(.*)/.exec(w)||["","","",""],b[0].length==0&&w[0].length==0)break;a=cp(b[1].length==0?0:parseInt(b[1],10),w[1].length==0?0:parseInt(w[1],10))||cp(b[2].length==0,w[2].length==0)||cp(b[2],w[2]),b=b[3],w=w[3]}while(a==0)}return 0<=a})}var gp;if(d.document&&Yn){var O_=D_();gp=O_||parseInt(_l,10)||void 0}else gp=void 0;var Ji=gp;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var ZR=!Yn||9<=Number(Ji);function Wa(o){var a=document;return typeof o=="string"?a.getElementById(o):o}function P_(o,a){p_(a,function(u,h){u&&typeof u=="object"&&u.ta&&(u=u.sa()),h=="style"?o.style.cssText=u:h=="class"?o.className=u:h=="for"?o.htmlFor=u:M_.hasOwnProperty(h)?o.setAttribute(M_[h],u):h.lastIndexOf("aria-",0)==0||h.lastIndexOf("data-",0)==0?o.setAttribute(h,u):o[h]=u})}var M_={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function JR(o,a,u){var h=arguments,p=document,g=String(h[0]),b=h[1];if(!ZR&&b&&(b.name||b.type)){if(g=["<",g],b.name&&g.push(' name="',dp(b.name),'"'),b.type){g.push(' type="',dp(b.type),'"');var w={};tn(w,b),delete w.type,b=w}g.push(">"),g=g.join("")}return g=wl(p,g),b&&(typeof b=="string"?g.className=b:Array.isArray(b)?g.className=b.join(" "):P_(g,b)),2<h.length&&tO(p,g,h),g}function tO(o,a,u){function h(w){w&&a.appendChild(typeof w=="string"?o.createTextNode(w):w)}for(var p=2;p<u.length;p++){var g=u[p];if(!I(g)||C(g)&&0<g.nodeType)h(g);else{t:{if(g&&typeof g.length=="number"){if(C(g)){var b=typeof g.item=="function"||typeof g.item=="string";break t}if(E(g)){b=typeof g.item=="function";break t}}b=!1}Ht(b?Br(g):g,h)}}}function wl(o,a){return a=String(a),o.contentType==="application/xhtml+xml"&&(a=a.toLowerCase()),o.createElement(a)}function N_(o){d.setTimeout(function(){throw o},0)}var vp;function eO(){var o=d.MessageChannel;if(typeof o>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!fe("Presto")&&(o=function(){var p=wl(document,"IFRAME");p.style.display="none",document.documentElement.appendChild(p);var g=p.contentWindow;p=g.document,p.open(),p.close();var b="callImmediate"+Math.random(),w=g.location.protocol=="file:"?"*":g.location.protocol+"//"+g.location.host;p=F(function(S){(w=="*"||S.origin==w)&&S.data==b&&this.port1.onmessage()},this),g.addEventListener("message",p,!1),this.port1={},this.port2={postMessage:function(){g.postMessage(b,w)}}}),typeof o<"u"&&!fe("Trident")&&!fe("MSIE")){var a=new o,u={},h=u;return a.port1.onmessage=function(){if(u.next!==void 0){u=u.next;var p=u.Hb;u.Hb=null,p()}},function(p){h.next={Hb:p},h=h.next,a.port2.postMessage(0)}}return function(p){d.setTimeout(p,0)}}function Il(o,a){El||nO(),bp||(El(),bp=!0),L_.add(o,a)}var El;function nO(){if(d.Promise&&d.Promise.resolve){var o=d.Promise.resolve(void 0);El=function(){o.then(F_)}}else El=function(){var a=F_;!E(d.setImmediate)||d.Window&&d.Window.prototype&&!fe("Edge")&&d.Window.prototype.setImmediate==d.setImmediate?(vp||(vp=eO()),vp(a)):d.setImmediate(a)}}var bp=!1,L_=new c_;function F_(){for(var o;o=AR();){try{o.a.call(o.b)}catch(a){N_(a)}a_(u_,o)}bp=!1}function bt(o,a){if(this.a=qr,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,o!=y)try{var u=this;o.call(a,function(h){Hr(u,Ga,h)},function(h){if(!(h instanceof Zo))try{throw h instanceof Error?h:Error("Promise rejected.")}catch{}Hr(u,Di,h)})}catch(h){Hr(this,Di,h)}}var qr=0,Ga=2,Di=3;function j_(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}j_.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var U_=new op(function(){return new j_},function(o){o.reset()});function yp(o,a,u){var h=U_.get();return h.g=o,h.b=a,h.f=u,h}function tt(o){if(o instanceof bt)return o;var a=new bt(y);return Hr(a,Ga,o),a}function jt(o){return new bt(function(a,u){u(o)})}function V_(o,a,u){H_(o,a,u,null)||Il(Ot(a,o))}function iO(o){return new bt(function(a,u){var h=o.length,p=[];if(h)for(var g=function(O,ot){h--,p[O]=ot,h==0&&a(p)},b=function(O){u(O)},w=0,S;w<o.length;w++)S=o[w],V_(S,Ot(g,w),b);else a(p)})}function B_(o){return new bt(function(a){var u=o.length,h=[];if(u)for(var p=function(w,S,O){u--,h[w]=S?{Qb:!0,value:O}:{Qb:!1,reason:O},u==0&&a(h)},g=0,b;g<o.length;g++)b=o[g],V_(b,Ot(p,g,!0),Ot(p,g,!1));else a(h)})}bt.prototype.then=function(o,a,u){return q_(this,E(o)?o:null,E(a)?a:null,u)},bt.prototype.$goog_Thenable=!0,e=bt.prototype,e.oa=function(o,a){return o=yp(o,o,a),o.c=!0,_p(this,o),this},e.o=function(o,a){return q_(this,null,o,a)},e.cancel=function(o){if(this.a==qr){var a=new Zo(o);Il(function(){z_(this,a)},this)}};function z_(o,a){if(o.a==qr)if(o.c){var u=o.c;if(u.b){for(var h=0,p=null,g=null,b=u.b;b&&(b.c||(h++,b.a==o&&(p=b),!(p&&1<h)));b=b.next)p||(g=b);p&&(u.a==qr&&h==1?z_(u,a):(g?(h=g,h.next==u.f&&(u.f=h),h.next=h.next.next):G_(u),$_(u,p,Di,a)))}o.c=null}else Hr(o,Di,a)}function _p(o,a){o.b||o.a!=Ga&&o.a!=Di||W_(o),o.f?o.f.next=a:o.b=a,o.f=a}function q_(o,a,u,h){var p=yp(null,null,null);return p.a=new bt(function(g,b){p.g=a?function(w){try{var S=a.call(h,w);g(S)}catch(O){b(O)}}:g,p.b=u?function(w){try{var S=u.call(h,w);S===void 0&&w instanceof Zo?b(w):g(S)}catch(O){b(O)}}:b}),p.a.c=o,_p(o,p),p.a}e.$c=function(o){this.a=qr,Hr(this,Ga,o)},e.ad=function(o){this.a=qr,Hr(this,Di,o)};function Hr(o,a,u){o.a==qr&&(o===u&&(a=Di,u=new TypeError("Promise cannot resolve to itself")),o.a=1,H_(u,o.$c,o.ad,o)||(o.i=u,o.a=a,o.c=null,W_(o),a!=Di||u instanceof Zo||oO(o,u)))}function H_(o,a,u,h){if(o instanceof bt)return _p(o,yp(a||y,u||null,h)),!0;if(s_(o))return o.then(a,u,h),!0;if(C(o))try{var p=o.then;if(E(p))return rO(o,p,a,u,h),!0}catch(g){return u.call(h,g),!0}return!1}function rO(o,a,u,h,p){function g(S){w||(w=!0,h.call(p,S))}function b(S){w||(w=!0,u.call(p,S))}var w=!1;try{a.call(o,b,g)}catch(S){g(S)}}function W_(o){o.h||(o.h=!0,Il(o.gc,o))}function G_(o){var a=null;return o.b&&(a=o.b,o.b=a.next,a.next=null),o.b||(o.f=null),a}e.gc=function(){for(var o;o=G_(this);)$_(this,o,this.a,this.i);this.h=!1};function $_(o,a,u,h){if(u==Di&&a.b&&!a.c)for(;o&&o.g;o=o.c)o.g=!1;if(a.a)a.a.c=null,K_(a,u,h);else try{a.c?a.g.call(a.f):K_(a,u,h)}catch(p){Y_.call(null,p)}a_(U_,a)}function K_(o,a,u){a==Ga?o.g.call(o.f,u):o.b&&o.b.call(o.f,u)}function oO(o,a){o.g=!0,Il(function(){o.g&&Y_.call(null,a)})}var Y_=N_;function Zo(o){gn.call(this,o)}K(Zo,gn),Zo.prototype.name="cancel";function xl(){wp!=0&&(X_[R(this)]=this),this.ya=this.ya,this.pa=this.pa}var wp=0,X_={};xl.prototype.ya=!1;function Q_(o){if(!o.ya&&(o.ya=!0,o.Da(),wp!=0)){var a=R(o);if(wp!=0&&o.pa&&0<o.pa.length)throw Error(o+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete X_[a]}}xl.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var sO=Object.freeze||function(o){return o},Z_=!Yn||9<=Number(Ji),aO=Yn&&!R_("9"),cO=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var o=!1,a=Object.defineProperty({},"passive",{get:function(){o=!0}});try{d.addEventListener("test",y,a),d.removeEventListener("test",y,a)}catch{}return o}();function nn(o,a){this.type=o,this.b=this.target=a,this.defaultPrevented=!1}nn.prototype.preventDefault=function(){this.defaultPrevented=!0};function Wr(o,a){if(nn.call(this,o?o.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,o){var u=this.type=o.type,h=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.b=a,a=o.relatedTarget){if(k_){t:{try{hp(a.nodeName);var p=!0;break t}catch{}p=!1}p||(a=null)}}else u=="mouseover"?a=o.fromElement:u=="mouseout"&&(a=o.toElement);this.relatedTarget=a,h?(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:uO[o.pointerType]||"",this.a=o,o.defaultPrevented&&this.preventDefault()}}K(Wr,nn);var uO=sO({2:"touch",3:"pen",4:"mouse"});Wr.prototype.preventDefault=function(){Wr.bb.preventDefault.call(this);var o=this.a;if(o.preventDefault)o.preventDefault();else if(o.returnValue=!1,aO)try{(o.ctrlKey||112<=o.keyCode&&123>=o.keyCode)&&(o.keyCode=-1)}catch{}},Wr.prototype.g=function(){return this.a};var $a="closure_listenable_"+(1e6*Math.random()|0),lO=0;function dO(o,a,u,h,p){this.listener=o,this.proxy=null,this.src=a,this.type=u,this.capture=!!h,this.Wa=p,this.key=++lO,this.wa=this.Qa=!1}function Cl(o){o.wa=!0,o.listener=null,o.proxy=null,o.src=null,o.Wa=null}function Tl(o){this.src=o,this.a={},this.b=0}Tl.prototype.add=function(o,a,u,h,p){var g=o.toString();o=this.a[g],o||(o=this.a[g]=[],this.b++);var b=Ep(o,a,h,p);return-1<b?(a=o[b],u||(a.Qa=!1)):(a=new dO(a,this.src,g,!!h,p),a.Qa=u,o.push(a)),a};function Ip(o,a){var u=a.type;u in o.a&&gl(o.a[u],a)&&(Cl(a),o.a[u].length==0&&(delete o.a[u],o.b--))}function Ep(o,a,u,h){for(var p=0;p<o.length;++p){var g=o[p];if(!g.wa&&g.listener==a&&g.capture==!!u&&g.Wa==h)return p}return-1}var xp="closure_lm_"+(1e6*Math.random()|0),Cp={},J_=0;function Nn(o,a,u,h,p){if(h&&h.once)Tp(o,a,u,h,p);else if(Array.isArray(a))for(var g=0;g<a.length;g++)Nn(o,a[g],u,h,p);else u=Ap(u),o&&o[$a]?ow(o,a,u,C(h)?!!h.capture:!!h,p):tw(o,a,u,!1,h,p)}function tw(o,a,u,h,p,g){if(!a)throw Error("Invalid event type");var b=C(p)?!!p.capture:!!p,w=Sl(o);if(w||(o[xp]=w=new Tl(o)),u=w.add(a,u,h,b,g),!u.proxy){if(h=hO(),u.proxy=h,h.src=o,h.listener=u,o.addEventListener)cO||(p=b),p===void 0&&(p=!1),o.addEventListener(a.toString(),h,p);else if(o.attachEvent)o.attachEvent(nw(a.toString()),h);else if(o.addListener&&o.removeListener)o.addListener(h);else throw Error("addEventListener and attachEvent are unavailable.");J_++}}function hO(){var o=fO,a=Z_?function(u){return o.call(a.src,a.listener,u)}:function(u){if(u=o.call(a.src,a.listener,u),!u)return u};return a}function Tp(o,a,u,h,p){if(Array.isArray(a))for(var g=0;g<a.length;g++)Tp(o,a[g],u,h,p);else u=Ap(u),o&&o[$a]?kp(o,a,u,C(h)?!!h.capture:!!h,p):tw(o,a,u,!0,h,p)}function vn(o,a,u,h,p){if(Array.isArray(a))for(var g=0;g<a.length;g++)vn(o,a[g],u,h,p);else h=C(h)?!!h.capture:!!h,u=Ap(u),o&&o[$a]?(o=o.v,a=String(a).toString(),a in o.a&&(g=o.a[a],u=Ep(g,u,h,p),-1<u&&(Cl(g[u]),Array.prototype.splice.call(g,u,1),g.length==0&&(delete o.a[a],o.b--)))):o&&(o=Sl(o))&&(a=o.a[a.toString()],o=-1,a&&(o=Ep(a,u,h,p)),(u=-1<o?a[o]:null)&&ew(u))}function ew(o){if(typeof o!="number"&&o&&!o.wa){var a=o.src;if(a&&a[$a])Ip(a.v,o);else{var u=o.type,h=o.proxy;a.removeEventListener?a.removeEventListener(u,h,o.capture):a.detachEvent?a.detachEvent(nw(u),h):a.addListener&&a.removeListener&&a.removeListener(h),J_--,(u=Sl(a))?(Ip(u,o),u.b==0&&(u.src=null,a[xp]=null)):Cl(o)}}}function nw(o){return o in Cp?Cp[o]:Cp[o]="on"+o}function iw(o,a,u,h){var p=!0;if((o=Sl(o))&&(a=o.a[a.toString()]))for(a=a.concat(),o=0;o<a.length;o++){var g=a[o];g&&g.capture==u&&!g.wa&&(g=rw(g,h),p=p&&g!==!1)}return p}function rw(o,a){var u=o.listener,h=o.Wa||o.src;return o.Qa&&ew(o),u.call(h,a)}function fO(o,a){if(o.wa)return!0;if(!Z_){if(!a)t:{a=["window","event"];for(var u=d,h=0;h<a.length;h++)if(u=u[a[h]],u==null){a=null;break t}a=u}if(h=a,a=new Wr(h,this),u=!0,!(0>h.keyCode||h.returnValue!=null)){t:{var p=!1;if(h.keyCode==0)try{h.keyCode=-1;break t}catch{p=!0}(p||h.returnValue==null)&&(h.returnValue=!0)}for(h=[],p=a.b;p;p=p.parentNode)h.push(p);for(o=o.type,p=h.length-1;0<=p;p--){a.b=h[p];var g=iw(h[p],o,!0,a);u=u&&g}for(p=0;p<h.length;p++)a.b=h[p],g=iw(h[p],o,!1,a),u=u&&g}return u}return rw(o,new Wr(a,this))}function Sl(o){return o=o[xp],o instanceof Tl?o:null}var Sp="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ap(o){return E(o)?o:(o[Sp]||(o[Sp]=function(a){return o.handleEvent(a)}),o[Sp])}function ze(){xl.call(this),this.v=new Tl(this),this.bc=this,this.hb=null}K(ze,xl),ze.prototype[$a]=!0,ze.prototype.addEventListener=function(o,a,u,h){Nn(this,o,a,u,h)},ze.prototype.removeEventListener=function(o,a,u,h){vn(this,o,a,u,h)},ze.prototype.dispatchEvent=function(o){var a,u=this.hb;if(u)for(a=[];u;u=u.hb)a.push(u);u=this.bc;var h=o.type||o;if(typeof o=="string")o=new nn(o,u);else if(o instanceof nn)o.target=o.target||u;else{var p=o;o=new nn(h,u),tn(o,p)}if(p=!0,a)for(var g=a.length-1;0<=g;g--){var b=o.b=a[g];p=Al(b,h,!0,o)&&p}if(b=o.b=u,p=Al(b,h,!0,o)&&p,p=Al(b,h,!1,o)&&p,a)for(g=0;g<a.length;g++)b=o.b=a[g],p=Al(b,h,!1,o)&&p;return p},ze.prototype.Da=function(){if(ze.bb.Da.call(this),this.v){var o=this.v,a=0,u;for(u in o.a){for(var h=o.a[u],p=0;p<h.length;p++)++a,Cl(h[p]);delete o.a[u],o.b--}}this.hb=null};function ow(o,a,u,h,p){o.v.add(String(a),u,!1,h,p)}function kp(o,a,u,h,p){o.v.add(String(a),u,!0,h,p)}function Al(o,a,u,h){if(a=o.v.a[String(a)],!a)return!0;a=a.concat();for(var p=!0,g=0;g<a.length;++g){var b=a[g];if(b&&!b.wa&&b.capture==u){var w=b.listener,S=b.Wa||b.src;b.Qa&&Ip(o.v,b),p=w.call(S,h)!==!1&&p}}return p&&!h.defaultPrevented}function Dp(o,a,u){if(E(o))u&&(o=F(o,u));else if(o&&typeof o.handleEvent=="function")o=F(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(a)?-1:d.setTimeout(o,a||0)}function Jo(o){var a=null;return new bt(function(u,h){a=Dp(function(){u(void 0)},o),a==-1&&h(Error("Failed to schedule timer."))}).o(function(u){throw d.clearTimeout(a),u})}function sw(o){if(o.X&&typeof o.X=="function")return o.X();if(typeof o=="string")return o.split("");if(I(o)){for(var a=[],u=o.length,h=0;h<u;h++)a.push(o[h]);return a}a=[],u=0;for(h in o)a[u++]=o[h];return a}function aw(o){if(o.Y&&typeof o.Y=="function")return o.Y();if(!o.X||typeof o.X!="function"){if(I(o)||typeof o=="string"){var a=[];o=o.length;for(var u=0;u<o;u++)a.push(u);return a}a=[],u=0;for(var h in o)a[u++]=h;return a}}function pO(o,a){if(o.forEach&&typeof o.forEach=="function")o.forEach(a,void 0);else if(I(o)||typeof o=="string")Ht(o,a,void 0);else for(var u=aw(o),h=sw(o),p=h.length,g=0;g<p;g++)a.call(void 0,h[g],u&&u[g],o)}function ts(o,a){this.b={},this.a=[],this.c=0;var u=arguments.length;if(1<u){if(u%2)throw Error("Uneven number of arguments");for(var h=0;h<u;h+=2)this.set(arguments[h],arguments[h+1])}else if(o)if(o instanceof ts)for(u=o.Y(),h=0;h<u.length;h++)this.set(u[h],o.get(u[h]));else for(h in o)this.set(h,o[h])}e=ts.prototype,e.X=function(){Rp(this);for(var o=[],a=0;a<this.a.length;a++)o.push(this.b[this.a[a]]);return o},e.Y=function(){return Rp(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0};function Rp(o){if(o.c!=o.a.length){for(var a=0,u=0;a<o.a.length;){var h=o.a[a];Gr(o.b,h)&&(o.a[u++]=h),a++}o.a.length=u}if(o.c!=o.a.length){var p={};for(u=a=0;a<o.a.length;)h=o.a[a],Gr(p,h)||(o.a[u++]=h,p[h]=1),a++;o.a.length=u}}e.get=function(o,a){return Gr(this.b,o)?this.b[o]:a},e.set=function(o,a){Gr(this.b,o)||(this.c++,this.a.push(o)),this.b[o]=a},e.forEach=function(o,a){for(var u=this.Y(),h=0;h<u.length;h++){var p=u[h],g=this.get(p);o.call(a,g,p,this)}};function Gr(o,a){return Object.prototype.hasOwnProperty.call(o,a)}var cw=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function mO(o,a){if(o){o=o.split("&");for(var u=0;u<o.length;u++){var h=o[u].indexOf("="),p=null;if(0<=h){var g=o[u].substring(0,h);p=o[u].substring(h+1)}else g=o[u];a(g,p?decodeURIComponent(p.replace(/\+/g," ")):"")}}}function tr(o,a){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var u;o instanceof tr?(this.i=a!==void 0?a:o.i,Ka(this,o.c),this.l=o.l,this.a=o.a,Ya(this,o.g),this.f=o.f,Op(this,hw(o.b)),this.h=o.h):o&&(u=String(o).match(cw))?(this.i=!!a,Ka(this,u[1]||"",!0),this.l=Xa(u[2]||""),this.a=Xa(u[3]||"",!0),Ya(this,u[4]),this.f=Xa(u[5]||"",!0),Op(this,u[6]||"",!0),this.h=Xa(u[7]||"")):(this.i=!!a,this.b=new $r(null,this.i))}tr.prototype.toString=function(){var o=[],a=this.c;a&&o.push(Qa(a,uw,!0),":");var u=this.a;return(u||a=="file")&&(o.push("//"),(a=this.l)&&o.push(Qa(a,uw,!0),"@"),o.push(encodeURIComponent(String(u)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u=this.g,u!=null&&o.push(":",String(u))),(u=this.f)&&(this.a&&u.charAt(0)!="/"&&o.push("/"),o.push(Qa(u,u.charAt(0)=="/"?bO:vO,!0))),(u=this.b.toString())&&o.push("?",u),(u=this.h)&&o.push("#",Qa(u,_O)),o.join("")},tr.prototype.resolve=function(o){var a=new tr(this),u=!!o.c;u?Ka(a,o.c):u=!!o.l,u?a.l=o.l:u=!!o.a,u?a.a=o.a:u=o.g!=null;var h=o.f;if(u)Ya(a,o.g);else if(u=!!o.f){if(h.charAt(0)!="/")if(this.a&&!this.f)h="/"+h;else{var p=a.f.lastIndexOf("/");p!=-1&&(h=a.f.substr(0,p+1)+h)}if(p=h,p==".."||p==".")h="";else if(Lt(p,"./")||Lt(p,"/.")){h=p.lastIndexOf("/",0)==0,p=p.split("/");for(var g=[],b=0;b<p.length;){var w=p[b++];w=="."?h&&b==p.length&&g.push(""):w==".."?((1<g.length||g.length==1&&g[0]!="")&&g.pop(),h&&b==p.length&&g.push("")):(g.push(w),h=!0)}h=g.join("/")}else h=p}return u?a.f=h:u=o.b.toString()!=="",u?Op(a,hw(o.b)):u=!!o.h,u&&(a.h=o.h),a};function Ka(o,a,u){o.c=u?Xa(a,!0):a,o.c&&(o.c=o.c.replace(/:$/,""))}function Ya(o,a){if(a){if(a=Number(a),isNaN(a)||0>a)throw Error("Bad port number "+a);o.g=a}else o.g=null}function Op(o,a,u){a instanceof $r?(o.b=a,wO(o.b,o.i)):(u||(a=Qa(a,yO)),o.b=new $r(a,o.i))}function te(o,a,u){o.b.set(a,u)}function Ln(o,a){return o.b.get(a)}function rn(o){return o instanceof tr?new tr(o):new tr(o,void 0)}function kl(o,a,u,h){var p=new tr(null,void 0);return o&&Ka(p,o),a&&(p.a=a),u&&Ya(p,u),h&&(p.f=h),p}function Xa(o,a){return o?a?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Qa(o,a,u){return typeof o=="string"?(o=encodeURI(o).replace(a,gO),u&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function gO(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var uw=/[#\/\?@]/g,vO=/[#\?:]/g,bO=/[#\?]/g,yO=/[#\?@]/g,_O=/#/g;function $r(o,a){this.b=this.a=null,this.c=o||null,this.f=!!a}function er(o){o.a||(o.a=new ts,o.b=0,o.c&&mO(o.c,function(a,u){o.add(decodeURIComponent(a.replace(/\+/g," ")),u)}))}function lw(o){var a=aw(o);if(typeof a>"u")throw Error("Keys are undefined");var u=new $r(null,void 0);o=sw(o);for(var h=0;h<a.length;h++){var p=a[h],g=o[h];Array.isArray(g)?dw(u,p,g):u.add(p,g)}return u}e=$r.prototype,e.add=function(o,a){er(this),this.c=null,o=es(this,o);var u=this.a.get(o);return u||this.a.set(o,u=[]),u.push(a),this.b+=1,this};function hi(o,a){er(o),a=es(o,a),Gr(o.a.b,a)&&(o.c=null,o.b-=o.a.get(a).length,o=o.a,Gr(o.b,a)&&(delete o.b[a],o.c--,o.a.length>2*o.c&&Rp(o)))}e.clear=function(){this.a=this.c=null,this.b=0};function Pp(o,a){return er(o),a=es(o,a),Gr(o.a.b,a)}e.forEach=function(o,a){er(this),this.a.forEach(function(u,h){Ht(u,function(p){o.call(a,p,h,this)},this)},this)},e.Y=function(){er(this);for(var o=this.a.X(),a=this.a.Y(),u=[],h=0;h<a.length;h++)for(var p=o[h],g=0;g<p.length;g++)u.push(a[h]);return u},e.X=function(o){er(this);var a=[];if(typeof o=="string")Pp(this,o)&&(a=ap(a,this.a.get(es(this,o))));else{o=this.a.X();for(var u=0;u<o.length;u++)a=ap(a,o[u])}return a},e.set=function(o,a){return er(this),this.c=null,o=es(this,o),Pp(this,o)&&(this.b-=this.a.get(o).length),this.a.set(o,[a]),this.b+=1,this},e.get=function(o,a){return o?(o=this.X(o),0<o.length?String(o[0]):a):a};function dw(o,a,u){hi(o,a),0<u.length&&(o.c=null,o.a.set(es(o,a),Br(u)),o.b+=u.length)}e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var o=[],a=this.a.Y(),u=0;u<a.length;u++){var h=a[u],p=encodeURIComponent(String(h));h=this.X(h);for(var g=0;g<h.length;g++){var b=p;h[g]!==""&&(b+="="+encodeURIComponent(String(h[g]))),o.push(b)}}return this.c=o.join("&")};function hw(o){var a=new $r;return a.c=o.c,o.a&&(a.a=new ts(o.a),a.b=o.b),a}function es(o,a){return a=String(a),o.f&&(a=a.toLowerCase()),a}function wO(o,a){a&&!o.f&&(er(o),o.c=null,o.a.forEach(function(u,h){var p=h.toLowerCase();h!=p&&(hi(this,h),dw(this,p,u))},o)),o.f=a}function fw(o){var a=[];return Mp(new IO,o,a),a.join("")}function IO(){}function Mp(o,a,u){if(a==null)u.push("null");else{if(typeof a=="object"){if(Array.isArray(a)){var h=a;a=h.length,u.push("[");for(var p="",g=0;g<a;g++)u.push(p),Mp(o,h[g],u),p=",";u.push("]");return}if(a instanceof String||a instanceof Number||a instanceof Boolean)a=a.valueOf();else{u.push("{"),p="";for(h in a)Object.prototype.hasOwnProperty.call(a,h)&&(g=a[h],typeof g!="function"&&(u.push(p),mw(h,u),u.push(":"),Mp(o,g,u),p=","));u.push("}");return}}switch(typeof a){case"string":mw(a,u);break;case"number":u.push(isFinite(a)&&!isNaN(a)?String(a):"null");break;case"boolean":u.push(String(a));break;case"function":u.push("null");break;default:throw Error("Unknown type: "+typeof a)}}}var pw={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},EO=/\uffff/.test("\uFFFF")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function mw(o,a){a.push('"',o.replace(EO,function(u){var h=pw[u];return h||(h="\\u"+(u.charCodeAt(0)|65536).toString(16).substr(1),pw[u]=h),h}),'"')}function Np(){var o=xe();return Yn&&!!Ji&&Ji==11||/Edge\/\d+/.test(o)}function Za(){return d.window&&d.window.location.href||self&&self.location&&self.location.href||""}function gw(o,a){a=a||d.window;var u="about:blank";o&&(u=yl(I_(o)||x_)),a.location.href=u}function vw(o,a){var u=[],h;for(h in o)h in a?typeof o[h]!=typeof a[h]?u.push(h):typeof o[h]=="object"&&o[h]!=null&&a[h]!=null?0<vw(o[h],a[h]).length&&u.push(h):o[h]!==a[h]&&u.push(h):u.push(h);for(h in a)h in o||u.push(h);return u}function xO(){var o=xe();return o=ns(o)!=ww?null:(o=o.match(/\sChrome\/(\d+)/i))&&o.length==2?parseInt(o[1],10):null,o&&30>o?!1:!Yn||!Ji||9<Ji}function bw(o){return o=(o||xe()).toLowerCase(),!!(o.match(/android/)||o.match(/webos/)||o.match(/iphone|ipad|ipod/)||o.match(/blackberry/)||o.match(/windows phone/)||o.match(/iemobile/))}function Kr(o){o=o||d.window;try{o.close()}catch{}}function yw(o,a,u){var h=Math.floor(1e9*Math.random()).toString();a=a||500,u=u||600;var p=(window.screen.availHeight-u)/2,g=(window.screen.availWidth-a)/2;a={width:a,height:u,top:0<p?p:0,left:0<g?g:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},u=xe().toLowerCase(),h&&(a.target=h,Lt(u,"crios/")&&(a.target="_blank")),ns(xe())==jp&&(o=o||"http://localhost",a.scrollbars=!0),u=o||"",(o=a)||(o={}),h=window,a=u instanceof en?u:I_(typeof u.href<"u"?u.href:String(u))||x_,u=o.target||u.target,p=[];for(b in o)switch(b){case"width":case"height":case"top":case"left":p.push(b+"="+o[b]);break;case"target":case"noopener":case"noreferrer":break;default:p.push(b+"="+(o[b]?1:0))}var b=p.join(",");if((fe("iPhone")&&!fe("iPod")&&!fe("iPad")||fe("iPad")||fe("iPod"))&&h.navigator&&h.navigator.standalone&&u&&u!="_self"?(b=wl(document,"A"),g_(b,"HTMLAnchorElement"),a=a instanceof en?a:E_(a),b.href=yl(a),b.setAttribute("target",u),o.noreferrer&&b.setAttribute("rel","noreferrer"),o=document.createEvent("MouseEvent"),o.initMouseEvent("click",!0,!0,h,1),b.dispatchEvent(o),b={}):o.noreferrer?(b=T_("",h,u,b),o=yl(a),b&&(YR&&Lt(o,";")&&(o="'"+o.replace(/'/g,"%27")+"'"),b.opener=null,o='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+dp(o)+'">',o=(h=b_())?h.createHTML(o):o,o=new Qo(o,null,C_),h=b.document)&&(h.write(WR(o)),h.close())):(b=T_(a,h,u,b))&&o.noopener&&(b.opener=null),b)try{b.focus()}catch{}return b}function CO(o){return new bt(function(a){function u(){Jo(2e3).then(function(){if(!o||o.closed)a();else return u()})}return u()})}var TO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,SO=/^[^@]+@[^@]+$/;function Dl(){var o=null;return new bt(function(a){d.document.readyState=="complete"?a():(o=function(){a()},Tp(window,"load",o))}).o(function(a){throw vn(window,"load",o),a})}function AO(){return Lp(void 0)?Dl().then(function(){return new bt(function(o,a){var u=d.document,h=setTimeout(function(){a(Error("Cordova framework is not ready."))},1e3);u.addEventListener("deviceready",function(){clearTimeout(h),o()},!1)})}):jt(Error("Cordova must run in an Android or iOS file scheme."))}function Lp(o){return o=o||xe(),!(rs()!=="file:"&&rs()!=="ionic:"||!o.toLowerCase().match(/iphone|ipad|ipod|android/))}function Fp(){var o=d.window;try{return!(!o||o==o.top)}catch{return!1}}function Xn(){return typeof d.WorkerGlobalScope<"u"&&typeof d.importScripts=="function"}function fi(){return it.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":it.INTERNAL.hasOwnProperty("node")?"Node":Xn()?"Worker":"Browser"}function _w(){var o=fi();return o==="ReactNative"||o==="Node"}function kO(){for(var o=50,a=[];0<o;)a.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),o--;return a.join("")}var jp="Firefox",ww="Chrome";function ns(o){var a=o.toLowerCase();if(Lt(a,"opera/")||Lt(a,"opr/")||Lt(a,"opios/"))return"Opera";if(Lt(a,"iemobile"))return"IEMobile";if(Lt(a,"msie")||Lt(a,"trident/"))return"IE";if(Lt(a,"edge/"))return"Edge";if(Lt(a,"firefox/"))return jp;if(Lt(a,"silk/"))return"Silk";if(Lt(a,"blackberry"))return"Blackberry";if(Lt(a,"webos"))return"Webos";if(!Lt(a,"safari/")||Lt(a,"chrome/")||Lt(a,"crios/")||Lt(a,"android"))if(!Lt(a,"chrome/")&&!Lt(a,"crios/")||Lt(a,"edge/")){if(Lt(a,"android"))return"Android";if((o=o.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&o.length==2)return o[1]}else return ww;else return"Safari";return"Other"}var Iw={md:"FirebaseCore-web",od:"FirebaseUI-web"};function is(o,a){a=a||[];var u=[],h={},p;for(p in Iw)h[Iw[p]]=!0;for(p=0;p<a.length;p++)typeof h[a[p]]<"u"&&(delete h[a[p]],u.push(a[p]));return u.sort(),a=u,a.length||(a=["FirebaseCore-web"]),u=fi(),u==="Browser"?(h=xe(),u=ns(h)):u==="Worker"&&(h=xe(),u=ns(h)+"-"+u),u+"/JsCore/"+o+"/"+a.join(",")}function xe(){return d.navigator&&d.navigator.userAgent||""}function Ut(o,a){o=o.split("."),a=a||d;for(var u=0;u<o.length&&typeof a=="object"&&a!=null;u++)a=a[o[u]];return u!=o.length&&(a=void 0),a}function Up(){try{var o=d.localStorage,a=Xr();if(o)return o.setItem(a,"1"),o.removeItem(a),Np()?!!d.indexedDB:!0}catch{return Xn()&&!!d.indexedDB}return!1}function Yr(){return(Rl()||rs()==="chrome-extension:"||Lp())&&!_w()&&Up()&&!Xn()}function Rl(){return rs()==="http:"||rs()==="https:"}function rs(){return d.location&&d.location.protocol||null}function Ja(o){return o=o||xe(),!(bw(o)||ns(o)==jp)}function tc(o){return typeof o>"u"?null:fw(o)}function Ew(o){var a={},u;for(u in o)o.hasOwnProperty(u)&&o[u]!==null&&o[u]!==void 0&&(a[u]=o[u]);return a}function os(o){if(o!==null)return JSON.parse(o)}function Xr(o){return o||Math.floor(1e9*Math.random()).toString()}function xw(o){return o=o||xe(),!(ns(o)=="Safari"||o.toLowerCase().match(/iphone|ipad|ipod/))}function Cw(){var o=d.___jsl;if(o&&o.H){for(var a in o.H)if(o.H[a].r=o.H[a].r||[],o.H[a].L=o.H[a].L||[],o.H[a].r=o.H[a].L.concat(),o.CP)for(var u=0;u<o.CP.length;u++)o.CP[u]=null}}function nr(o,a){if(o>a)throw Error("Short delay should be less than long delay!");this.a=o,this.c=a,o=xe(),a=fi(),this.b=bw(o)||a==="ReactNative"}nr.prototype.get=function(){var o=d.navigator;return!(o&&typeof o.onLine=="boolean"&&(Rl()||rs()==="chrome-extension:"||typeof o.connection<"u"))||o.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function Vp(){var o=d.document;return o&&typeof o.visibilityState<"u"?o.visibilityState=="visible":!0}function DO(){var o=d.document,a=null;return Vp()||!o?tt():new bt(function(u){a=function(){Vp()&&(o.removeEventListener("visibilitychange",a,!1),u())},o.addEventListener("visibilitychange",a,!1)}).o(function(u){throw o.removeEventListener("visibilitychange",a,!1),u})}function ec(o){try{var a=new Date(parseInt(o,10));if(!isNaN(a.getTime())&&!/[^0-9]/.test(o))return a.toUTCString()}catch{}return null}function Tw(){return!(!Ut("fireauth.oauthhelper",d)&&!Ut("fireauth.iframe",d))}function RO(){var o=d.navigator;return o&&o.serviceWorker&&o.serviceWorker.controller||null}function OO(){var o=d.navigator;return o&&o.serviceWorker?tt().then(function(){return o.serviceWorker.ready}).then(function(a){return a.active||null}).o(function(){return null}):tt(null)}var Sw={};function Bp(o){Sw[o]||(Sw[o]=!0,typeof console<"u"&&typeof console.warn=="function"&&console.warn(o))}var zp;try{var qp={};Object.defineProperty(qp,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(qp,"abcd",{configurable:!0,enumerable:!0,value:2}),zp=qp.abcd==2}catch{zp=!1}function $(o,a,u){zp?Object.defineProperty(o,a,{configurable:!0,enumerable:!0,value:u}):o[a]=u}function qe(o,a){if(a)for(var u in a)a.hasOwnProperty(u)&&$(o,u,a[u])}function pi(o){var a={};return qe(a,o),a}function PO(o){var a={},u;for(u in o)o.hasOwnProperty(u)&&(a[u]=o[u]);return a}function MO(o,a){if(!a||!a.length)return!0;if(!o)return!1;for(var u=0;u<a.length;u++){var h=o[a[u]];if(h==null||h==="")return!1}return!0}function Hp(o){var a=o;if(typeof o=="object"&&o!=null){a="length"in o?[]:{};for(var u in o)$(a,u,Hp(o[u]))}return a}function Wp(o){var a=o&&(o[Yp]?"phone":null);if(a&&o&&o[Kp]){$(this,"uid",o[Kp]),$(this,"displayName",o[Aw]||null);var u=null;o[$p]&&(u=new Date(o[$p]).toUTCString()),$(this,"enrollmentTime",u),$(this,"factorId",a)}else throw new x("internal-error","Internal assert: invalid MultiFactorInfo object")}Wp.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function Gp(o){try{var a=new nc(o)}catch{a=null}return a}var Aw="displayName",$p="enrolledAt",Kp="mfaEnrollmentId",Yp="phoneInfo";function nc(o){Wp.call(this,o),$(this,"phoneNumber",o[Yp])}K(nc,Wp),nc.prototype.w=function(){var o=nc.bb.w.call(this);return o.phoneNumber=this.phoneNumber,o};function NO(o){var a={},u=o[LO],h=o[jO],p=o[UO];if(o=Gp(o[FO]),!p||p!=Ol&&p!=ic&&!u||p==ic&&!h||p==Xp&&!o)throw Error("Invalid checkActionCode response!");p==ic?(a[Dw]=u||null,a[Rw]=u||null,a[kw]=h):(a[Dw]=h||null,a[Rw]=h||null,a[kw]=u||null),a[VO]=o||null,$(this,zO,p),$(this,BO,Hp(a))}var Xp="REVERT_SECOND_FACTOR_ADDITION",Ol="EMAIL_SIGNIN",ic="VERIFY_AND_CHANGE_EMAIL",LO="email",FO="mfaInfo",jO="newEmail",UO="requestType",kw="email",Dw="fromEmail",VO="multiFactorInfo",Rw="previousEmail",BO="data",zO="operation";function Qp(o){o=rn(o);var a=Ln(o,Ow)||null,u=Ln(o,Pw)||null,h=Ln(o,Mw)||null;if(h=h&&GO[h]||null,!a||!u||!h)throw new x("argument-error",Ow+", "+Pw+"and "+Mw+" are required in a valid action code URL.");qe(this,{apiKey:a,operation:h,code:u,continueUrl:Ln(o,qO)||null,languageCode:Ln(o,HO)||null,tenantId:Ln(o,WO)||null})}var Ow="apiKey",Pw="oobCode",qO="continueUrl",HO="languageCode",Mw="mode",WO="tenantId",GO={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:Xp,signIn:Ol,verifyAndChangeEmail:ic,verifyEmail:"VERIFY_EMAIL"};function Nw(o){try{return new Qp(o)}catch{return null}}function Pl(o){var a=o[$O];if(typeof a>"u")throw new x("missing-continue-uri");if(typeof a!="string"||typeof a=="string"&&!a.length)throw new x("invalid-continue-uri");this.h=a,this.b=this.a=null,this.g=!1;var u=o[Lw];if(u&&typeof u=="object"){a=u[Bw];var h=u[Uw];if(u=u[Vw],typeof a=="string"&&a.length){if(this.a=a,typeof h<"u"&&typeof h!="boolean")throw new x("argument-error",Uw+" property must be a boolean when specified.");if(this.g=!!h,typeof u<"u"&&(typeof u!="string"||typeof u=="string"&&!u.length))throw new x("argument-error",Vw+" property must be a non empty string when specified.");this.b=u||null}else{if(typeof a<"u")throw new x("argument-error",Bw+" property must be a non empty string when specified.");if(typeof h<"u"||typeof u<"u")throw new x("missing-android-pkg-name")}}else if(typeof u<"u")throw new x("argument-error",Lw+" property must be a non null object when specified.");if(this.f=null,(a=o[jw])&&typeof a=="object"){if(a=a[zw],typeof a=="string"&&a.length)this.f=a;else if(typeof a<"u")throw new x("argument-error",zw+" property must be a non empty string when specified.")}else if(typeof a<"u")throw new x("argument-error",jw+" property must be a non null object when specified.");if(a=o[Zp],typeof a<"u"&&typeof a!="boolean")throw new x("argument-error",Zp+" property must be a boolean when specified.");if(this.c=!!a,o=o[Fw],typeof o<"u"&&(typeof o!="string"||typeof o=="string"&&!o.length))throw new x("argument-error",Fw+" property must be a non empty string when specified.");this.i=o||null}var Lw="android",Fw="dynamicLinkDomain",Zp="handleCodeInApp",jw="iOS",$O="url",Uw="installApp",Vw="minimumVersion",Bw="packageName",zw="bundleId";function Ml(o){var a={};a.continueUrl=o.h,a.canHandleCodeInApp=o.c,(a.androidPackageName=o.a)&&(a.androidMinimumVersion=o.b,a.androidInstallApp=o.g),a.iOSBundleId=o.f,a.dynamicLinkDomain=o.i;for(var u in a)a[u]===null&&delete a[u];return a}function KO(o){return ml(o,function(a){return a=a.toString(16),1<a.length?a:"0"+a}).join("")}var rc=null;function YO(o){var a=[];return XO(o,function(u){a.push(u)}),a}function XO(o,a){function u(S){for(;h<o.length;){var O=o.charAt(h++),ot=rc[O];if(ot!=null)return ot;if(!/^[\s\xa0]*$/.test(O))throw Error("Unknown base64 encoding at char: "+O)}return S}QO();for(var h=0;;){var p=u(-1),g=u(0),b=u(64),w=u(64);if(w===64&&p===-1)break;a(p<<2|g>>4),b!=64&&(a(g<<4&240|b>>2),w!=64&&a(b<<6&192|w))}}function QO(){if(!rc){rc={};for(var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),a=["+/=","+/","-_=","-_.","-_"],u=0;5>u;u++)for(var h=o.concat(a[u].split("")),p=0;p<h.length;p++){var g=h[p];rc[g]===void 0&&(rc[g]=p)}}}function Nl(o){var a=qw(o);if(!(a&&a.sub&&a.iss&&a.aud&&a.exp))throw Error("Invalid JWT");this.h=o,this.a=a.exp,this.i=a.sub,o=Date.now()/1e3,this.g=a.iat||(o>this.a?this.a:o),this.b=a.provider_id||a.firebase&&a.firebase.sign_in_provider||null,this.f=a.firebase&&a.firebase.tenant||null,this.c=!!a.is_anonymous||this.b=="anonymous"}Nl.prototype.T=function(){return this.f},Nl.prototype.l=function(){return this.c},Nl.prototype.toString=function(){return this.h};function Ll(o){try{return new Nl(o)}catch{return null}}function qw(o){if(!o||(o=o.split("."),o.length!=3))return null;o=o[1];for(var a=(4-o.length%4)%4,u=0;u<a;u++)o+=".";try{var h=YO(o);for(o=[],u=a=0;a<h.length;){var p=h[a++];if(128>p)o[u++]=String.fromCharCode(p);else if(191<p&&224>p){var g=h[a++];o[u++]=String.fromCharCode((p&31)<<6|g&63)}else if(239<p&&365>p){g=h[a++];var b=h[a++],w=h[a++],S=((p&7)<<18|(g&63)<<12|(b&63)<<6|w&63)-65536;o[u++]=String.fromCharCode(55296+(S>>10)),o[u++]=String.fromCharCode(56320+(S&1023))}else g=h[a++],b=h[a++],o[u++]=String.fromCharCode((p&15)<<12|(g&63)<<6|b&63)}return JSON.parse(o.join(""))}catch{}return null}var Hw="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Fl=["client_id","response_type","scope","redirect_uri","state"],Jp={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Fl},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Fl},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Fl},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:Hw},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function tm(o){for(var a in Jp)if(Jp[a].fa==o)return Jp[a];return null}function Ww(o){var a={};a["facebook.com"]=$w,a["google.com"]=Yw,a["github.com"]=Kw,a["twitter.com"]=Xw;var u=o&&o[Gw];try{if(u)return a[u]?new a[u](o):new mi(o);if(typeof o[em]<"u")return new nm(o)}catch{}return null}var em="idToken",Gw="providerId";function nm(o){var a=o[Gw];if(!a&&o[em]){var u=Ll(o[em]);u&&u.b&&(a=u.b)}if(!a)throw Error("Invalid additional user info!");(a=="anonymous"||a=="custom")&&(a=null),u=!1,typeof o.isNewUser<"u"?u=!!o.isNewUser:o.kind==="identitytoolkit#SignupNewUserResponse"&&(u=!0),$(this,"providerId",a),$(this,"isNewUser",u)}function mi(o){nm.call(this,o),o=os(o.rawUserInfo||"{}"),$(this,"profile",Hp(o||{}))}K(mi,nm);function $w(o){if(mi.call(this,o),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}K($w,mi);function Kw(o){if(mi.call(this,o),this.providerId!="github.com")throw Error("Invalid provider ID!");$(this,"username",this.profile&&this.profile.login||null)}K(Kw,mi);function Yw(o){if(mi.call(this,o),this.providerId!="google.com")throw Error("Invalid provider ID!")}K(Yw,mi);function Xw(o){if(mi.call(this,o),this.providerId!="twitter.com")throw Error("Invalid provider ID!");$(this,"username",o.screenName||null)}K(Xw,mi);function Qw(o){var a=rn(o),u=Ln(a,"link"),h=Ln(rn(u),"link");return a=Ln(a,"deep_link_id"),Ln(rn(a),"link")||a||h||u||o}function jl(o,a){if(!o&&!a)throw new x("internal-error","Internal assert: no raw session string available");if(o&&a)throw new x("internal-error","Internal assert: unable to determine the session type");this.a=o||null,this.b=a||null,this.type=this.a?oc:Ul}var oc="enroll",Ul="signin";jl.prototype.Ha=function(){return this.a?tt(this.a):tt(this.b)},jl.prototype.w=function(){return this.type==oc?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function ss(){}ss.prototype.ka=function(){},ss.prototype.b=function(){},ss.prototype.c=function(){},ss.prototype.w=function(){};function as(o,a){return o.then(function(u){if(u[Jn]){var h=Ll(u[Jn]);if(!h||a!=h.i)throw new x("user-mismatch");return u}throw new x("user-mismatch")}).o(function(u){throw u&&u.code&&u.code==Ba+"user-not-found"?new x("user-mismatch"):u})}function Qr(o,a){if(a)this.a=a;else throw new x("internal-error","failed to construct a credential");$(this,"providerId",o),$(this,"signInMethod",o)}Qr.prototype.ka=function(o){return Tm(o,im(this))},Qr.prototype.b=function(o,a){var u=im(this);return u.idToken=a,Sm(o,u)},Qr.prototype.c=function(o,a){return as(Am(o,im(this)),a)};function im(o){return{pendingToken:o.a,requestUri:"http://localhost"}}Qr.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function ZO(o){if(o&&o.providerId&&o.signInMethod&&o.providerId.indexOf("saml.")==0&&o.pendingToken)try{return new Qr(o.providerId,o.pendingToken)}catch{}return null}function Ri(o,a,u){if(this.a=null,a.idToken||a.accessToken)a.idToken&&$(this,"idToken",a.idToken),a.accessToken&&$(this,"accessToken",a.accessToken),a.nonce&&!a.pendingToken&&$(this,"nonce",a.nonce),a.pendingToken&&(this.a=a.pendingToken);else if(a.oauthToken&&a.oauthTokenSecret)$(this,"accessToken",a.oauthToken),$(this,"secret",a.oauthTokenSecret);else throw new x("internal-error","failed to construct a credential");$(this,"providerId",o),$(this,"signInMethod",u)}Ri.prototype.ka=function(o){return Tm(o,rm(this))},Ri.prototype.b=function(o,a){var u=rm(this);return u.idToken=a,Sm(o,u)},Ri.prototype.c=function(o,a){var u=rm(this);return as(Am(o,u),a)};function rm(o){var a={};return o.idToken&&(a.id_token=o.idToken),o.accessToken&&(a.access_token=o.accessToken),o.secret&&(a.oauth_token_secret=o.secret),a.providerId=o.providerId,o.nonce&&!o.a&&(a.nonce=o.nonce),a={postBody:lw(a).toString(),requestUri:"http://localhost"},o.a&&(delete a.postBody,a.pendingToken=o.a),a}Ri.prototype.w=function(){var o={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(o.oauthIdToken=this.idToken),this.accessToken&&(o.oauthAccessToken=this.accessToken),this.secret&&(o.oauthTokenSecret=this.secret),this.nonce&&(o.nonce=this.nonce),this.a&&(o.pendingToken=this.a),o};function JO(o){if(o&&o.providerId&&o.signInMethod){var a={idToken:o.oauthIdToken,accessToken:o.oauthTokenSecret?null:o.oauthAccessToken,oauthTokenSecret:o.oauthTokenSecret,oauthToken:o.oauthTokenSecret&&o.oauthAccessToken,nonce:o.nonce,pendingToken:o.pendingToken};try{return new Ri(o.providerId,a,o.signInMethod)}catch{}}return null}function Zr(o,a){this.Qc=a||[],qe(this,{providerId:o,isOAuthProvider:!0}),this.Jb={},this.qb=(tm(o)||{}).Ja||null,this.pb=null}Zr.prototype.Ka=function(o){return this.Jb=Zi(o),this};function Zw(o){if(typeof o!="string"||o.indexOf("saml.")!=0)throw new x("argument-error",'SAML provider IDs must be prefixed with "saml."');Zr.call(this,o,[])}K(Zw,Zr);function bn(o){Zr.call(this,o,Fl),this.a=[]}K(bn,Zr),bn.prototype.Ca=function(o){return ki(this.a,o)||this.a.push(o),this},bn.prototype.Rb=function(){return Br(this.a)},bn.prototype.credential=function(o,a){var u;if(C(o)?u={idToken:o.idToken||null,accessToken:o.accessToken||null,nonce:o.rawNonce||null}:u={idToken:o||null,accessToken:a||null},!u.idToken&&!u.accessToken)throw new x("argument-error","credential failed: must provide the ID token and/or the access token.");return new Ri(this.providerId,u,this.providerId)};function Jr(){bn.call(this,"facebook.com")}K(Jr,bn),$(Jr,"PROVIDER_ID","facebook.com"),$(Jr,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function Jw(o){if(!o)throw new x("argument-error","credential failed: expected 1 argument (the OAuth access token).");var a=o;return C(o)&&(a=o.accessToken),new Jr().credential({accessToken:a})}function to(){bn.call(this,"github.com")}K(to,bn),$(to,"PROVIDER_ID","github.com"),$(to,"GITHUB_SIGN_IN_METHOD","github.com");function tI(o){if(!o)throw new x("argument-error","credential failed: expected 1 argument (the OAuth access token).");var a=o;return C(o)&&(a=o.accessToken),new to().credential({accessToken:a})}function eo(){bn.call(this,"google.com"),this.Ca("profile")}K(eo,bn),$(eo,"PROVIDER_ID","google.com"),$(eo,"GOOGLE_SIGN_IN_METHOD","google.com");function eI(o,a){var u=o;return C(o)&&(u=o.idToken,a=o.accessToken),new eo().credential({idToken:u,accessToken:a})}function cs(){Zr.call(this,"twitter.com",Hw)}K(cs,Zr),$(cs,"PROVIDER_ID","twitter.com"),$(cs,"TWITTER_SIGN_IN_METHOD","twitter.com");function nI(o,a){var u=o;if(C(u)||(u={oauthToken:o,oauthTokenSecret:a}),!u.oauthToken||!u.oauthTokenSecret)throw new x("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Ri("twitter.com",u,"twitter.com")}function ir(o,a,u){this.a=o,this.f=a,$(this,"providerId","password"),$(this,"signInMethod",u===Fn.EMAIL_LINK_SIGN_IN_METHOD?Fn.EMAIL_LINK_SIGN_IN_METHOD:Fn.EMAIL_PASSWORD_SIGN_IN_METHOD)}ir.prototype.ka=function(o){return this.signInMethod==Fn.EMAIL_LINK_SIGN_IN_METHOD?yt(o,jP,{email:this.a,oobCode:this.f}):yt(o,DI,{email:this.a,password:this.f})},ir.prototype.b=function(o,a){return this.signInMethod==Fn.EMAIL_LINK_SIGN_IN_METHOD?yt(o,UP,{idToken:a,email:this.a,oobCode:this.f}):yt(o,kI,{idToken:a,email:this.a,password:this.f})},ir.prototype.c=function(o,a){return as(this.ka(o),a)},ir.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function tP(o){return o&&o.email&&o.password?new ir(o.email,o.password,o.signInMethod):null}function Fn(){qe(this,{providerId:"password",isOAuthProvider:!1})}function iI(o,a){if(a=om(a),!a)throw new x("argument-error","Invalid email link!");return new ir(o,a.code,Fn.EMAIL_LINK_SIGN_IN_METHOD)}function om(o){return o=Qw(o),(o=Nw(o))&&o.operation===Ol?o:null}qe(Fn,{PROVIDER_ID:"password"}),qe(Fn,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),qe(Fn,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function rr(o){if(!(o.fb&&o.eb||o.La&&o.ea))throw new x("internal-error");this.a=o,$(this,"providerId","phone"),this.fa="phone",$(this,"signInMethod","phone")}rr.prototype.ka=function(o){return o.gb(sc(this))},rr.prototype.b=function(o,a){var u=sc(this);return u.idToken=a,yt(o,oM,u)},rr.prototype.c=function(o,a){var u=sc(this);return u.operation="REAUTH",o=yt(o,sM,u),as(o,a)},rr.prototype.w=function(){var o={providerId:"phone"};return this.a.fb&&(o.verificationId=this.a.fb),this.a.eb&&(o.verificationCode=this.a.eb),this.a.La&&(o.temporaryProof=this.a.La),this.a.ea&&(o.phoneNumber=this.a.ea),o};function eP(o){if(o&&o.providerId==="phone"&&(o.verificationId&&o.verificationCode||o.temporaryProof&&o.phoneNumber)){var a={};return Ht(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(u){o[u]&&(a[u]=o[u])}),new rr(a)}return null}function sc(o){return o.a.La&&o.a.ea?{temporaryProof:o.a.La,phoneNumber:o.a.ea}:{sessionInfo:o.a.fb,code:o.a.eb}}function Oi(o){try{this.a=o||it.auth()}catch{throw new x("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}qe(this,{providerId:"phone",isOAuthProvider:!1})}Oi.prototype.gb=function(o,a){var u=this.a.a;return tt(a.verify()).then(function(h){if(typeof h!="string")throw new x("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(a.type){case"recaptcha":var p=C(o)?o.session:null,g=C(o)?o.phoneNumber:o,b;return p&&p.type==oc?b=p.Ha().then(function(w){return kP(u,{idToken:w,phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:h}})}):p&&p.type==Ul?b=p.Ha().then(function(w){return DP(u,{mfaPendingCredential:w,mfaEnrollmentId:o.multiFactorHint&&o.multiFactorHint.uid||o.multiFactorUid,phoneSignInInfo:{recaptchaToken:h}})}):b=AP(u,{phoneNumber:g,recaptchaToken:h}),b.then(function(w){return typeof a.reset=="function"&&a.reset(),w},function(w){throw typeof a.reset=="function"&&a.reset(),w});default:throw new x("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function rI(o,a){if(!o)throw new x("missing-verification-id");if(!a)throw new x("missing-verification-code");return new rr({fb:o,eb:a})}qe(Oi,{PROVIDER_ID:"phone"}),qe(Oi,{PHONE_SIGN_IN_METHOD:"phone"});function sm(o){if(o.temporaryProof&&o.phoneNumber)return new rr({La:o.temporaryProof,ea:o.phoneNumber});var a=o&&o.providerId;if(!a||a==="password")return null;var u=o&&o.oauthAccessToken,h=o&&o.oauthTokenSecret,p=o&&o.nonce,g=o&&o.oauthIdToken,b=o&&o.pendingToken;try{switch(a){case"google.com":return eI(g,u);case"facebook.com":return Jw(u);case"github.com":return tI(u);case"twitter.com":return nI(u,h);default:return u||h||g||b?b?a.indexOf("saml.")==0?new Qr(a,b):new Ri(a,{pendingToken:b,idToken:o.oauthIdToken,accessToken:o.oauthAccessToken},a):new bn(a).credential({idToken:g,accessToken:u,rawNonce:p}):null}}catch{return null}}function am(o){if(!o.isOAuthProvider)throw new x("invalid-oauth-provider")}function Qn(o,a,u,h,p,g,b){if(this.c=o,this.b=a||null,this.g=u||null,this.f=h||null,this.i=g||null,this.h=b||null,this.a=p||null,this.g||this.a){if(this.g&&this.a)throw new x("invalid-auth-event");if(this.g&&!this.f)throw new x("invalid-auth-event")}else throw new x("invalid-auth-event")}Qn.prototype.getUid=function(){var o=[];return o.push(this.c),this.b&&o.push(this.b),this.f&&o.push(this.f),this.h&&o.push(this.h),o.join("-")},Qn.prototype.T=function(){return this.h},Qn.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function oI(o){return o=o||{},o.type?new Qn(o.type,o.eventId,o.urlResponse,o.sessionId,o.error&&o_(o.error),o.postBody,o.tenantId):null}function nP(){this.b=null,this.a=[]}var cm=null;function iP(o){var a=cm;a.a.push(o),a.b||(a.b=function(u){for(var h=0;h<a.a.length;h++)a.a[h](u)},o=Ut("universalLinks.subscribe",d),typeof o=="function"&&o(null,a.b))}function um(o){var a="unauthorized-domain",u=void 0,h=rn(o);o=h.a,h=h.c,h=="chrome-extension"?u=S_("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",o):h=="http"||h=="https"?u=S_("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",o):a="operation-not-supported-in-this-environment",x.call(this,a,u)}K(um,x);function ac(o,a,u){x.call(this,o,u),o=a||{},o.Kb&&$(this,"email",o.Kb),o.ea&&$(this,"phoneNumber",o.ea),o.credential&&$(this,"credential",o.credential),o.$b&&$(this,"tenantId",o.$b)}K(ac,x),ac.prototype.w=function(){var o={code:this.code,message:this.message};this.email&&(o.email=this.email),this.phoneNumber&&(o.phoneNumber=this.phoneNumber),this.tenantId&&(o.tenantId=this.tenantId);var a=this.credential&&this.credential.w();return a&&tn(o,a),o},ac.prototype.toJSON=function(){return this.w()};function Vl(o){if(o.code){var a=o.code||"";a.indexOf(Ba)==0&&(a=a.substring(Ba.length));var u={credential:sm(o),$b:o.tenantId};if(o.email)u.Kb=o.email;else if(o.phoneNumber)u.ea=o.phoneNumber;else if(!u.credential)return new x(a,o.message||void 0);return new ac(a,u,o.message)}return null}function cc(){}cc.prototype.c=null;function sI(o){return o.c||(o.c=o.b())}var lm;function Bl(){}K(Bl,cc),Bl.prototype.a=function(){var o=aI(this);return o?new ActiveXObject(o):new XMLHttpRequest},Bl.prototype.b=function(){var o={};return aI(this)&&(o[0]=!0,o[1]=!0),o};function aI(o){if(!o.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var a=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],u=0;u<a.length;u++){var h=a[u];try{return new ActiveXObject(h),o.f=h}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return o.f}lm=new Bl;function zl(){}K(zl,cc),zl.prototype.a=function(){var o=new XMLHttpRequest;if("withCredentials"in o)return o;if(typeof XDomainRequest<"u")return new cI;throw Error("Unsupported browser")},zl.prototype.b=function(){return{}};function cI(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=F(this.qc,this),this.a.onerror=F(this.Tb,this),this.a.onprogress=F(this.rc,this),this.a.ontimeout=F(this.vc,this)}e=cI.prototype,e.open=function(o,a,u){if(u!=null&&!u)throw Error("Only async requests are supported.");this.a.open(o,a)},e.send=function(o){if(o)if(typeof o=="string")this.a.send(o);else throw Error("Only string data is supported");else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(o){return o.toLowerCase()=="content-type"?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,dm(this,4)},e.Tb=function(){this.status=500,this.response=this.responseText="",dm(this,4)},e.vc=function(){this.Tb()},e.rc=function(){this.status=200,dm(this,1)};function dm(o,a){o.readyState=a,o.onreadystatechange&&o.onreadystatechange()}e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function hm(o,a,u){this.reset(o,a,u,void 0,void 0)}hm.prototype.a=null;var rP=0;hm.prototype.reset=function(o,a,u,h,p){typeof p=="number"||rP++,h||$n(),delete this.a};function fm(o){this.f=o,this.b=this.c=this.a=null}function uc(o,a){this.name=o,this.value=a}uc.prototype.toString=function(){return this.name};var uI=new uc("SEVERE",1e3),pm=new uc("WARNING",900),oP=new uc("CONFIG",700),sP=new uc("FINE",500);function lI(o){return o.c?o.c:o.a?lI(o.a):(Ko("Root logger has no level set."),null)}fm.prototype.log=function(o,a,u){if(o.value>=lI(this).value)for(E(a)&&(a=a()),o=new hm(o,String(a),this.f),u&&(o.a=u),u=this;u;)u=u.a};var mm={},ql=null;function gm(o){ql||(ql=new fm(""),mm[""]=ql,ql.c=oP);var a;if(!(a=mm[o])){a=new fm(o);var u=o.lastIndexOf("."),h=o.substr(u+1);u=gm(o.substr(0,u)),u.b||(u.b={}),u.b[h]=a,a.a=u,mm[o]=a}return a}function jn(o,a){o&&o.log(sP,a,void 0)}function Hl(o){this.f=o}K(Hl,cc),Hl.prototype.a=function(){return new Wl(this.f)},Hl.prototype.b=function(o){return function(){return o}}({});function Wl(o){ze.call(this),this.u=o,this.h=void 0,this.readyState=vm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=gm("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}K(Wl,ze);var vm=0;e=Wl.prototype,e.open=function(o,a){if(this.readyState!=vm)throw this.abort(),Error("Error reopening a connection");this.s=o,this.f=a,this.readyState=1,dc(this)},e.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var a={headers:this.l,method:this.s,credentials:this.h,cache:void 0};o&&(a.body=o),this.u.fetch(new Request(this.f,a)).then(this.uc.bind(this),this.Va.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,lc(this)),this.readyState=vm},e.uc=function(o){this.a&&(this.g=o,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=o.headers,this.readyState=2,dc(this)),this.a&&(this.readyState=3,dc(this),this.a&&(this.responseType==="arraybuffer"?o.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):typeof d.ReadableStream<"u"&&"body"in o?(this.response=this.responseText="",this.c=o.body.getReader(),this.m=new TextDecoder,dI(this)):o.text().then(this.tc.bind(this),this.Va.bind(this)))))};function dI(o){o.c.read().then(o.pc.bind(o)).catch(o.Va.bind(o))}e.pc=function(o){if(this.a){var a=this.m.decode(o.value?o.value:new Uint8Array(0),{stream:!o.done});a&&(this.response=this.responseText+=a),o.done?lc(this):dc(this),this.readyState==3&&dI(this)}},e.tc=function(o){this.a&&(this.response=this.responseText=o,lc(this))},e.sc=function(o){this.a&&(this.response=o,lc(this))},e.Va=function(o){var a=this.i;a&&a.log(pm,"Failed to fetch url "+this.f,o instanceof Error?o:Error(o)),this.a&&lc(this)};function lc(o){o.readyState=4,o.g=null,o.c=null,o.m=null,dc(o)}e.setRequestHeader=function(o,a){this.l.append(o,a)},e.getResponseHeader=function(o){return this.b?this.b.get(o.toLowerCase())||"":((o=this.i)&&o.log(pm,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var o=this.i;return o&&o.log(pm,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}o=[];for(var a=this.b.entries(),u=a.next();!u.done;)u=u.value,o.push(u[0]+": "+u[1]),u=a.next();return o.join(`\r
`)};function dc(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(Wl.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(o){this.h=o?"include":"same-origin"}});function hc(o){ze.call(this),this.headers=new ts,this.D=o||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=hI,this.u=this.S=!1}K(hc,ze);var hI="";hc.prototype.b=gm("goog.net.XhrIo");var aP=/^https?$/i,cP=["POST","PUT"];function uP(o,a,u,h,p){if(o.a)throw Error("[goog.net.XhrIo] Object is active with another request="+o.l+"; newUri="+a);u=u?u.toUpperCase():"GET",o.l=a,o.h="",o.P=u,o.J=!1,o.c=!0,o.a=o.D?o.D.a():lm.a(),o.C=o.D?sI(o.D):sI(lm),o.a.onreadystatechange=F(o.Wb,o);try{jn(o.b,Pi(o,"Opening Xhr")),o.N=!0,o.a.open(u,String(a),!0),o.N=!1}catch(b){jn(o.b,Pi(o,"Error opening Xhr: "+b.message)),fI(o,b);return}a=h||"";var g=new ts(o.headers);p&&pO(p,function(b,w){g.set(w,b)}),p=OR(g.Y()),h=d.FormData&&a instanceof d.FormData,!ki(cP,u)||p||h||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),g.forEach(function(b,w){this.a.setRequestHeader(w,b)},o),o.m&&(o.a.responseType=o.m),"withCredentials"in o.a&&o.a.withCredentials!==o.S&&(o.a.withCredentials=o.S);try{gI(o),0<o.g&&(o.u=lP(o.a),jn(o.b,Pi(o,"Will abort after "+o.g+"ms if incomplete, xhr2 "+o.u)),o.u?(o.a.timeout=o.g,o.a.ontimeout=F(o.Ma,o)):o.s=Dp(o.Ma,o.g,o)),jn(o.b,Pi(o,"Sending request")),o.i=!0,o.a.send(a),o.i=!1}catch(b){jn(o.b,Pi(o,"Send error: "+b.message)),fI(o,b)}}function lP(o){return Yn&&R_(9)&&typeof o.timeout=="number"&&o.ontimeout!==void 0}function dP(o){return o.toLowerCase()=="content-type"}e=hc.prototype,e.Ma=function(){typeof l<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",jn(this.b,Pi(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function fI(o,a){o.c=!1,o.a&&(o.f=!0,o.a.abort(),o.f=!1),o.h=a,pI(o),Gl(o)}function pI(o){o.J||(o.J=!0,o.dispatchEvent("complete"),o.dispatchEvent("error"))}e.abort=function(){this.a&&this.c&&(jn(this.b,Pi(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Gl(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Gl(this,!0)),hc.bb.Da.call(this)},e.Wb=function(){this.ya||(this.N||this.i||this.f?mI(this):this.Jc())},e.Jc=function(){mI(this)};function mI(o){if(o.c&&typeof l<"u"){if(o.C[1]&&fc(o)==4&&$l(o)==2)jn(o.b,Pi(o,"Local request error detected and ignored"));else if(o.i&&fc(o)==4)Dp(o.Wb,0,o);else if(o.dispatchEvent("readystatechange"),fc(o)==4){jn(o.b,Pi(o,"Request complete")),o.c=!1;try{var a=$l(o);t:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var u=!0;break t;default:u=!1}var h;if(!(h=u)){var p;if(p=a===0){var g=String(o.l).match(cw)[1]||null;if(!g&&d.self&&d.self.location){var b=d.self.location.protocol;g=b.substr(0,b.length-1)}p=!aP.test(g?g.toLowerCase():"")}h=p}if(h)o.dispatchEvent("complete"),o.dispatchEvent("success");else{try{var w=2<fc(o)?o.a.statusText:""}catch(S){jn(o.b,"Can not get status: "+S.message),w=""}o.h=w+" ["+$l(o)+"]",pI(o)}}finally{Gl(o)}}}}function Gl(o,a){if(o.a){gI(o);var u=o.a,h=o.C[0]?y:null;o.a=null,o.C=null,a||o.dispatchEvent("ready");try{u.onreadystatechange=h}catch(p){(o=o.b)&&o.log(uI,"Problem encountered resetting onreadystatechange: "+p.message,void 0)}}}function gI(o){o.a&&o.u&&(o.a.ontimeout=null),o.s&&(d.clearTimeout(o.s),o.s=null)}function fc(o){return o.a?o.a.readyState:0}function $l(o){try{return 2<fc(o)?o.a.status:-1}catch{return-1}}function hP(o){try{return o.a?o.a.responseText:""}catch(a){return jn(o.b,"Can not get responseText: "+a.message),""}}e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case hI:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var o=this.b;return o&&o.log(uI,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(a){return jn(this.b,"Can not get response: "+a.message),null}};function Pi(o,a){return a+" ["+o.P+" "+o.l+" "+$l(o)+"]"}function no(o){var a=mP;this.g=[],this.u=a,this.s=o||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}no.prototype.cancel=function(o){if(this.a)this.c instanceof no&&this.c.cancel();else{if(this.b){var a=this.b;delete this.b,o?a.cancel(o):(a.l--,0>=a.l&&a.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(o=new mc(this),Kl(this),pc(this,!1,o))}},no.prototype.m=function(o,a){this.i=!1,pc(this,o,a)};function pc(o,a,u){o.a=!0,o.c=u,o.f=!a,bI(o)}function Kl(o){if(o.a){if(!o.v)throw new Yl(o);o.v=!1}}function fP(o,a){bm(o,null,a,void 0)}function bm(o,a,u,h){o.g.push([a,u,h]),o.a&&bI(o)}no.prototype.then=function(o,a,u){var h,p,g=new bt(function(b,w){h=b,p=w});return bm(this,h,function(b){b instanceof mc?g.cancel():p(b)}),g.then(o,a,u)},no.prototype.$goog_Thenable=!0;function vI(o){return RR(o.g,function(a){return E(a[1])})}function bI(o){if(o.h&&o.a&&vI(o)){var a=o.h,u=Xl[a];u&&(d.clearTimeout(u.a),delete Xl[a]),o.h=0}o.b&&(o.b.l--,delete o.b),a=o.c;for(var h=u=!1;o.g.length&&!o.i;){var p=o.g.shift(),g=p[0],b=p[1];if(p=p[2],g=o.f?b:g)try{var w=g.call(p||o.s,a);w!==void 0&&(o.f=o.f&&(w==a||w instanceof Error),o.c=a=w),(s_(a)||typeof d.Promise=="function"&&a instanceof d.Promise)&&(h=!0,o.i=!0)}catch(S){a=S,o.f=!0,vI(o)||(u=!0)}}o.c=a,h&&(w=F(o.m,o,!0),h=F(o.m,o,!1),a instanceof no?(bm(a,w,h),a.C=!0):a.then(w,h)),u&&(a=new yI(a),Xl[a.a]=a,o.h=a.a)}function Yl(){gn.call(this)}K(Yl,gn),Yl.prototype.message="Deferred has already fired",Yl.prototype.name="AlreadyCalledError";function mc(){gn.call(this)}K(mc,gn),mc.prototype.message="Deferred was canceled",mc.prototype.name="CanceledError";function yI(o){this.a=d.setTimeout(F(this.c,this),0),this.b=o}yI.prototype.c=function(){throw delete Xl[this.a],this.b};var Xl={};function ym(o){var a={},u=a.document||document,h=y_(o).toString(),p=wl(document,"SCRIPT"),g={Xb:p,Ma:void 0},b=new no(g),w=null,S=a.timeout!=null?a.timeout:5e3;return 0<S&&(w=window.setTimeout(function(){Ql(p,!0);var O=new _m(vP,"Timeout reached for loading script "+h);Kl(b),pc(b,!1,O)},S),g.Ma=w),p.onload=p.onreadystatechange=function(){p.readyState&&p.readyState!="loaded"&&p.readyState!="complete"||(Ql(p,a.xd||!1,w),Kl(b),pc(b,!0,null))},p.onerror=function(){Ql(p,!0,w);var O=new _m(gP,"Error while loading script "+h);Kl(b),pc(b,!1,O)},g=a.attributes||{},tn(g,{type:"text/javascript",charset:"UTF-8"}),P_(p,g),GR(p,o),pP(u).appendChild(p),b}function pP(o){var a;return(a=(o||document).getElementsByTagName("HEAD"))&&a.length!=0?a[0]:o.documentElement}function mP(){if(this&&this.Xb){var o=this.Xb;o&&o.tagName=="SCRIPT"&&Ql(o,!0,this.Ma)}}function Ql(o,a,u){u!=null&&d.clearTimeout(u),o.onload=y,o.onerror=y,o.onreadystatechange=y,a&&window.setTimeout(function(){o&&o.parentNode&&o.parentNode.removeChild(o)},0)}var gP=0,vP=1;function _m(o,a){var u="Jsloader error (code #"+o+")";a&&(u+=": "+a),gn.call(this,u),this.code=o}K(_m,gn);function Zl(o){this.f=o}K(Zl,cc),Zl.prototype.a=function(){return new this.f},Zl.prototype.b=function(){return{}};function Zn(o,a,u){if(this.c=o,o=a||{},this.l=o.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=o.secureTokenTimeout||bP,this.g=Zi(o.secureTokenHeaders||yP),this.h=o.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=o.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=o.firebaseTimeout||_P,this.a=Zi(o.firebaseHeaders||wP),u&&(this.a["X-Client-Version"]=u,this.g["X-Client-Version"]=u),u=fi()=="Node",u=d.XMLHttpRequest||u&&it.INTERNAL.node&&it.INTERNAL.node.XMLHttpRequest,!u&&!Xn())throw new x("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Xn()?this.f=new Hl(self):_w()?this.f=new Zl(u):this.f=new zl,this.b=null}var wm,Jn="idToken",bP=new nr(3e4,6e4),yP={"Content-Type":"application/x-www-form-urlencoded"},_P=new nr(3e4,6e4),wP={"Content-Type":"application/json"};function _I(o,a){a?o.a["X-Firebase-Locale"]=a:delete o.a["X-Firebase-Locale"]}function Jl(o,a){a&&(o.l=Im("https://securetoken.googleapis.com/v1/token",a),o.h=Im("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",a),o.i=Im("https://identitytoolkit.googleapis.com/v2/",a))}function Im(o,a){return o=rn(o),a=rn(a.url),o.f=o.a+o.f,Ka(o,a.c),o.a=a.a,Ya(o,a.g),o.toString()}function wI(o,a){a?(o.a["X-Client-Version"]=a,o.g["X-Client-Version"]=a):(delete o.a["X-Client-Version"],delete o.g["X-Client-Version"])}Zn.prototype.T=function(){return this.b};function II(o,a,u,h,p,g,b){xO()||Xn()?o=F(o.u,o):(wm||(wm=new bt(function(w,S){EP(w,S)})),o=F(o.s,o)),o(a,u,h,p,g,b)}Zn.prototype.u=function(o,a,u,h,p,g){if(Xn()&&(typeof d.fetch>"u"||typeof d.Headers>"u"||typeof d.Request>"u"))throw new x("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var b=new hc(this.f);if(g){b.g=Math.max(0,g);var w=setTimeout(function(){b.dispatchEvent("timeout")},g)}ow(b,"complete",function(){w&&clearTimeout(w);var S=null;try{S=JSON.parse(hP(this))||null}catch{S=null}a&&a(S)}),kp(b,"ready",function(){w&&clearTimeout(w),Q_(this)}),kp(b,"timeout",function(){w&&clearTimeout(w),Q_(this),a&&a(null)}),uP(b,o,u,h,p)};var IP=new di(vl,"https://apis.google.com/js/client.js?onload=%{onload}"),EI="__fcb"+Math.floor(1e6*Math.random()).toString();function EP(o,a){if(((window.gapi||{}).client||{}).request)o();else{d[EI]=function(){((window.gapi||{}).client||{}).request?o():a(Error("CORS_UNSUPPORTED"))};var u=lp(IP,{onload:EI});fP(ym(u),function(){a(Error("CORS_UNSUPPORTED"))})}}Zn.prototype.s=function(o,a,u,h,p){var g=this;wm.then(function(){window.gapi.client.setApiKey(g.c);var b=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:o,method:u,body:h,headers:p,authType:"none",callback:function(w){window.gapi.auth.setToken(b),a&&a(w)}})}).o(function(b){a&&a({error:{message:b&&b.message||"CORS_UNSUPPORTED"}})})};function xP(o,a){return new bt(function(u,h){a.grant_type=="refresh_token"&&a.refresh_token||a.grant_type=="authorization_code"&&a.code?II(o,o.l+"?key="+encodeURIComponent(o.c),function(p){p?p.error?h(Dm(p)):p.access_token&&p.refresh_token?u(p):h(new x("internal-error")):h(new x("network-request-failed"))},"POST",lw(a).toString(),o.g,o.m.get()):h(new x("internal-error"))})}function xI(o,a,u,h,p,g,b){var w=rn(a+u);te(w,"key",o.c),b&&te(w,"cb",Date.now().toString());var S=h=="GET";if(S)for(var O in p)p.hasOwnProperty(O)&&te(w,O,p[O]);return new bt(function(ot,Dt){II(o,w.toString(),function(It){It?It.error?Dt(Dm(It,g||{})):ot(It):Dt(new x("network-request-failed"))},h,S?void 0:fw(Ew(p)),o.a,o.v.get())})}function io(o){if(o=o.email,typeof o!="string"||!SO.test(o))throw new x("invalid-email")}function CI(o){"email"in o&&io(o)}function CP(o,a){return yt(o,NP,{identifier:a,continueUri:Rl()?Za():"http://localhost"}).then(function(u){return u.signinMethods||[]})}function TP(o){return yt(o,$P,{}).then(function(a){return a.authorizedDomains||[]})}function on(o){if(!o[Jn])throw o.mfaPendingCredential?new x("multi-factor-auth-required",null,Zi(o)):new x("internal-error")}function Em(o){if(o.phoneNumber||o.temporaryProof){if(!o.phoneNumber||!o.temporaryProof)throw new x("internal-error")}else{if(!o.sessionInfo)throw new x("missing-verification-id");if(!o.code)throw new x("missing-verification-code")}}Zn.prototype.Ab=function(){return yt(this,QP,{})},Zn.prototype.Cb=function(o,a){return yt(this,AI,{idToken:o,email:a})},Zn.prototype.Db=function(o,a){return yt(this,kI,{idToken:o,password:a})};var SP={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};e=Zn.prototype,e.Eb=function(o,a){var u={idToken:o},h=[];return p_(SP,function(p,g){var b=a[g];b===null?h.push(p):g in a&&(u[g]=b)}),h.length&&(u.deleteAttribute=h),yt(this,AI,u)},e.wb=function(o,a){return o={requestType:"PASSWORD_RESET",email:o},tn(o,a),yt(this,GP,o)},e.xb=function(o,a){return o={requestType:"EMAIL_SIGNIN",email:o},tn(o,a),yt(this,qP,o)},e.vb=function(o,a){return o={requestType:"VERIFY_EMAIL",idToken:o},tn(o,a),yt(this,HP,o)},e.Fb=function(o,a,u){return o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:o,newEmail:a},tn(o,u),yt(this,WP,o)};function AP(o,a){return yt(o,XP,a)}e.gb=function(o){return yt(this,rM,o)};function kP(o,a){return yt(o,ZP,a).then(function(u){return u.phoneSessionInfo.sessionInfo})}function TI(o){if(!o.phoneVerificationInfo)throw new x("internal-error");if(!o.phoneVerificationInfo.sessionInfo)throw new x("missing-verification-id");if(!o.phoneVerificationInfo.code)throw new x("missing-verification-code")}function DP(o,a){return yt(o,JP,a).then(function(u){return u.phoneResponseInfo.sessionInfo})}function RP(o,a,u){return yt(o,FP,{idToken:a,deleteProvider:u})}function xm(o){if(!o.requestUri||!o.sessionId&&!o.postBody&&!o.pendingToken)throw new x("internal-error")}function Cm(o,a){return a.oauthIdToken&&a.providerId&&a.providerId.indexOf("oidc.")==0&&!a.pendingToken&&(o.sessionId?a.nonce=o.sessionId:o.postBody&&(o=new $r(o.postBody),Pp(o,"nonce")&&(a.nonce=o.get("nonce")))),a}function SI(o){var a=null;if(o.needConfirmation?(o.code="account-exists-with-different-credential",a=Vl(o)):o.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(o.code="credential-already-in-use",a=Vl(o)):o.errorMessage=="EMAIL_EXISTS"?(o.code="email-already-in-use",a=Vl(o)):o.errorMessage&&(a=RI(o.errorMessage)),a)throw a;on(o)}function Tm(o,a){return a.returnIdpCredential=!0,yt(o,tM,a)}function Sm(o,a){return a.returnIdpCredential=!0,yt(o,nM,a)}function Am(o,a){return a.returnIdpCredential=!0,a.autoCreate=!1,yt(o,eM,a)}function km(o){if(!o.oobCode)throw new x("invalid-action-code")}e.ob=function(o,a){return yt(this,YP,{oobCode:o,newPassword:a})},e.Sa=function(o){return yt(this,PP,{oobCode:o})},e.kb=function(o){return yt(this,OP,{oobCode:o})};var OP={endpoint:"setAccountInfo",A:km,Z:"email",B:!0},PP={endpoint:"resetPassword",A:km,G:function(o){var a=o.requestType;if(!a||!o.email&&a!="EMAIL_SIGNIN"&&a!="VERIFY_AND_CHANGE_EMAIL")throw new x("internal-error")},B:!0},MP={endpoint:"signupNewUser",A:function(o){if(io(o),!o.password)throw new x("weak-password")},G:on,V:!0,B:!0},NP={endpoint:"createAuthUri",B:!0},LP={endpoint:"deleteAccount",O:["idToken"]},FP={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(o){if(!Array.isArray(o.deleteProvider))throw new x("internal-error")}},jP={endpoint:"emailLinkSignin",O:["email","oobCode"],A:io,G:on,V:!0,B:!0},UP={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:io,G:on,V:!0},VP={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:TI,G:on,B:!0,Na:!0},BP={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:TI,G:on,B:!0,Na:!0},zP={endpoint:"getAccountInfo"},qP={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(o){if(o.requestType!="EMAIL_SIGNIN")throw new x("internal-error");io(o)},Z:"email",B:!0},HP={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(o){if(o.requestType!="VERIFY_EMAIL")throw new x("internal-error")},Z:"email",B:!0},WP={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(o){if(o.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new x("internal-error")},Z:"email",B:!0},GP={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(o){if(o.requestType!="PASSWORD_RESET")throw new x("internal-error");io(o)},Z:"email",B:!0},$P={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},KP={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(o){if(!o.recaptchaSiteKey)throw new x("internal-error")}},YP={endpoint:"resetPassword",A:km,Z:"email",B:!0},XP={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},AI={endpoint:"setAccountInfo",O:["idToken"],A:CI,V:!0},kI={endpoint:"setAccountInfo",O:["idToken"],A:function(o){if(CI(o),!o.password)throw new x("weak-password")},G:on,V:!0},QP={endpoint:"signupNewUser",G:on,V:!0,B:!0},ZP={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(o){if(!o.phoneEnrollmentInfo)throw new x("internal-error");if(!o.phoneEnrollmentInfo.phoneNumber)throw new x("missing-phone-number");if(!o.phoneEnrollmentInfo.recaptchaToken)throw new x("missing-app-credential")},G:function(o){if(!o.phoneSessionInfo||!o.phoneSessionInfo.sessionInfo)throw new x("internal-error")},B:!0,Na:!0},JP={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(o){if(!o.phoneSignInInfo||!o.phoneSignInInfo.recaptchaToken)throw new x("missing-app-credential")},G:function(o){if(!o.phoneResponseInfo||!o.phoneResponseInfo.sessionInfo)throw new x("internal-error")},B:!0,Na:!0},tM={endpoint:"verifyAssertion",A:xm,Za:Cm,G:SI,V:!0,B:!0},eM={endpoint:"verifyAssertion",A:xm,Za:Cm,G:function(o){if(o.errorMessage&&o.errorMessage=="USER_NOT_FOUND")throw new x("user-not-found");if(o.errorMessage)throw RI(o.errorMessage);on(o)},V:!0,B:!0},nM={endpoint:"verifyAssertion",A:function(o){if(xm(o),!o.idToken)throw new x("internal-error")},Za:Cm,G:SI,V:!0},iM={endpoint:"verifyCustomToken",A:function(o){if(!o.token)throw new x("invalid-custom-token")},G:on,V:!0,B:!0},DI={endpoint:"verifyPassword",A:function(o){if(io(o),!o.password)throw new x("wrong-password")},G:on,V:!0,B:!0},rM={endpoint:"verifyPhoneNumber",A:Em,G:on,B:!0},oM={endpoint:"verifyPhoneNumber",A:function(o){if(!o.idToken)throw new x("internal-error");Em(o)},G:function(o){if(o.temporaryProof)throw o.code="credential-already-in-use",Vl(o);on(o)}},sM={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:Em,G:on,B:!0},aM={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(o){if(!!o[Jn]^!!o.refreshToken)throw new x("internal-error")},B:!0,Na:!0};function yt(o,a,u){if(!MO(u,a.O))return jt(new x("internal-error"));var h=!!a.Na,p=a.Vb||"POST",g;return tt(u).then(a.A).then(function(){return a.V&&(u.returnSecureToken=!0),a.B&&o.b&&typeof u.tenantId>"u"&&(u.tenantId=o.b),h?xI(o,o.i,a.endpoint,p,u,a.Ib,a.mb||!1):xI(o,o.h,a.endpoint,p,u,a.Ib,a.mb||!1)}).then(function(b){return g=b,a.Za?a.Za(u,g):g}).then(a.G).then(function(){if(!a.Z)return g;if(!(a.Z in g))throw new x("internal-error");return g[a.Z]})}function RI(o){return Dm({error:{errors:[{message:o}],code:400,message:o}})}function Dm(o,a){var u=(o.error&&o.error.errors&&o.error.errors[0]||{}).reason||"",h={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(u=h[u]?new x(h[u]):null)return u;u=o.error&&o.error.message||"",h={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},tn(h,a||{}),a=(a=u.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<a.length?a[1]:void 0;for(var p in h)if(u.indexOf(p)===0)return new x(h[p],a);return!a&&o&&(a=tc(o)),new x("internal-error",a)}function cM(o){this.b=o,this.a=null,this.sb=uM(this)}function uM(o){return mM().then(function(){return new bt(function(a,u){Ut("gapi.iframes.getContext")().open({where:document.body,url:o.b,messageHandlersFilter:Ut("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(h){function p(){clearTimeout(g),a()}o.a=h,o.a.restyle({setHideOnLeave:!1});var g=setTimeout(function(){u(Error("Network Error"))},pM.get());h.ping(p).then(p,function(){u(Error("Network Error"))})})})})}function lM(o,a){return o.sb.then(function(){return new bt(function(u){o.a.send(a.type,a,u,Ut("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function dM(o,a){o.sb.then(function(){o.a.register("authEvent",a,Ut("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var hM=new di(vl,"https://apis.google.com/js/api.js?onload=%{onload}"),fM=new nr(3e4,6e4),pM=new nr(5e3,15e3),td=null;function mM(){return td||(td=new bt(function(o,a){function u(){Cw(),Ut("gapi.load")("gapi.iframes",{callback:o,ontimeout:function(){Cw(),a(Error("Network Error"))},timeout:fM.get()})}if(Ut("gapi.iframes.Iframe"))o();else if(Ut("gapi.load"))u();else{var h="__iframefcb"+Math.floor(1e6*Math.random()).toString();d[h]=function(){Ut("gapi.load")?u():a(Error("Network Error"))},h=lp(hM,{onload:h}),tt(ym(h)).o(function(){a(Error("Network Error"))})}}).o(function(o){throw td=null,o}))}function OI(o,a,u,h){this.l=o,this.h=a,this.i=u,this.g=h,this.f=null,this.g?(o=rn(this.g.url),o=kl(o.c,o.a,o.g,"/emulator/auth/iframe")):o=kl("https",this.l,null,"/__/auth/iframe"),this.a=o,te(this.a,"apiKey",this.h),te(this.a,"appName",this.i),this.b=null,this.c=[]}OI.prototype.toString=function(){return this.f?te(this.a,"v",this.f):hi(this.a.b,"v"),this.b?te(this.a,"eid",this.b):hi(this.a.b,"eid"),this.c.length?te(this.a,"fw",this.c.join(",")):hi(this.a.b,"fw"),this.a.toString()};function Rm(o,a,u,h,p,g){this.u=o,this.s=a,this.c=u,this.m=h,this.v=g,this.i=this.g=this.l=null,this.a=p,this.h=this.f=null}Rm.prototype.zb=function(o){return this.h=o,this},Rm.prototype.toString=function(){if(this.v){var o=rn(this.v.url);o=kl(o.c,o.a,o.g,"/emulator/auth/handler")}else o=kl("https",this.u,null,"/__/auth/handler");if(te(o,"apiKey",this.s),te(o,"appName",this.c),te(o,"authType",this.m),this.a.isOAuthProvider){var a=this.a;try{var u=it.app(this.c).auth().la()}catch{u=null}a.pb=u,te(o,"providerId",this.a.providerId),u=this.a,a=Ew(u.Jb);for(var h in a)a[h]=a[h].toString();h=u.Qc,a=Zi(a);for(var p=0;p<h.length;p++){var g=h[p];g in a&&delete a[g]}u.qb&&u.pb&&!a[u.qb]&&(a[u.qb]=u.pb),zr(a)||te(o,"customParameters",tc(a))}if(typeof this.a.Rb=="function"&&(u=this.a.Rb(),u.length&&te(o,"scopes",u.join(","))),this.l?te(o,"redirectUrl",this.l):hi(o.b,"redirectUrl"),this.g?te(o,"eventId",this.g):hi(o.b,"eventId"),this.i?te(o,"v",this.i):hi(o.b,"v"),this.b)for(var b in this.b)this.b.hasOwnProperty(b)&&!Ln(o,b)&&te(o,b,this.b[b]);return this.h?te(o,"tid",this.h):hi(o.b,"tid"),this.f?te(o,"eid",this.f):hi(o.b,"eid"),b=Om(this.c),b.length&&te(o,"fw",b.join(",")),o.toString()};function Om(o){try{return it.app(o).auth().Ga()}catch{return[]}}function PI(o,a,u,h,p,g){this.s=o,this.g=a,this.b=u,this.f=g,this.c=h||null,this.i=p||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function MI(o){var a=Za();return TP(o).then(function(u){t:{var h=rn(a),p=h.c;h=h.a;for(var g=0;g<u.length;g++){var b=u[g],w=h,S=p;if(b.indexOf("chrome-extension://")==0?w=rn(b).a==w&&S=="chrome-extension":S!="http"&&S!="https"?w=!1:TO.test(b)?w=w==b:(b=b.split(".").join("\\."),w=new RegExp("^(.+\\."+b+"|"+b+")$","i").test(w)),w){u=!0;break t}}u=!1}if(!u)throw new um(Za())})}function NI(o){return o.m||(o.m=Dl().then(function(){if(!o.u){var a=o.c,u=o.i,h=Om(o.b),p=new OI(o.s,o.g,o.b,o.f);p.f=a,p.b=u,p.c=Br(h||[]),o.u=p.toString()}o.v=new cM(o.u),gM(o)})),o.m}e=PI.prototype,e.Pb=function(o,a,u){var h=new x("popup-closed-by-user"),p=new x("web-storage-unsupported"),g=this,b=!1;return this.ma().then(function(){vM(g).then(function(w){w||(o&&Kr(o),a(p),b=!0)})}).o(function(){}).then(function(){if(!b)return CO(o)}).then(function(){if(!b)return Jo(u).then(function(){a(h)})})},e.Yb=function(){var o=xe();return!Ja(o)&&!xw(o)},e.Ub=function(){return!1},e.Nb=function(o,a,u,h,p,g,b,w){if(!o)return jt(new x("popup-blocked"));if(b&&!Ja())return this.ma().o(function(O){Kr(o),p(O)}),h(),tt();this.a||(this.a=MI(LI(this)));var S=this;return this.a.then(function(){var O=S.ma().o(function(ot){throw Kr(o),p(ot),ot});return h(),O}).then(function(){if(am(u),!b){var O=gc(S.s,S.g,S.b,a,u,null,g,S.c,void 0,S.i,w,S.f);gw(O,o)}}).o(function(O){throw O.code=="auth/network-request-failed"&&(S.a=null),O})};function LI(o){return o.l||(o.C=o.c?is(o.c,Om(o.b)):null,o.l=new Zn(o.g,za(o.i),o.C),o.f&&Jl(o.l,o.f)),o.l}e.Ob=function(o,a,u,h){this.a||(this.a=MI(LI(this)));var p=this;return this.a.then(function(){am(a);var g=gc(p.s,p.g,p.b,o,a,Za(),u,p.c,void 0,p.i,h,p.f);gw(g)}).o(function(g){throw g.code=="auth/network-request-failed"&&(p.a=null),g})},e.ma=function(){var o=this;return NI(this).then(function(){return o.v.sb}).o(function(){throw o.a=null,new x("network-request-failed")})},e.ac=function(){return!0};function gc(o,a,u,h,p,g,b,w,S,O,ot,Dt){return o=new Rm(o,a,u,h,p,Dt),o.l=g,o.g=b,o.i=w,o.b=Zi(S||null),o.f=O,o.zb(ot).toString()}function gM(o){if(!o.v)throw Error("IfcHandler must be initialized!");dM(o.v,function(a){var u={};if(a&&a.authEvent){var h=!1;for(a=oI(a.authEvent),u=0;u<o.h.length;u++)h=o.h[u](a)||h;return u={},u.status=h?"ACK":"ERROR",tt(u)}return u.status="ERROR",tt(u)})}function vM(o){var a={type:"webStorageSupport"};return NI(o).then(function(){return lM(o.v,a)}).then(function(u){if(u&&u.length&&typeof u[0].webStorageSupport<"u")return u[0].webStorageSupport;throw Error()})}e.Ea=function(o){this.h.push(o)},e.Ta=function(o){Kn(this.h,function(a){return a==o})};function FI(o){if(this.a=o||it.INTERNAL.reactNative&&it.INTERNAL.reactNative.AsyncStorage,!this.a)throw new x("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}e=FI.prototype,e.get=function(o){return tt(this.a.getItem(o)).then(function(a){return a&&os(a)})},e.set=function(o,a){return tt(this.a.setItem(o,tc(a)))},e.U=function(o){return tt(this.a.removeItem(o))},e.ca=function(){},e.ia=function(){};function jI(o){this.b=o,this.a={},this.f=F(this.c,this)}var UI=[];function bM(){var o=Xn()?self:null;if(Ht(UI,function(u){u.b==o&&(a=u)}),!a){var a=new jI(o);UI.push(a)}return a}jI.prototype.c=function(o){var a=o.data.eventType,u=o.data.eventId,h=this.a[a];if(h&&0<h.length){o.ports[0].postMessage({status:"ack",eventId:u,eventType:a,response:null});var p=[];Ht(h,function(g){p.push(tt().then(function(){return g(o.origin,o.data.data)}))}),B_(p).then(function(g){var b=[];Ht(g,function(w){b.push({fulfilled:w.Qb,value:w.value,reason:w.reason?w.reason.message:void 0})}),Ht(b,function(w){for(var S in w)typeof w[S]>"u"&&delete w[S]}),o.ports[0].postMessage({status:"done",eventId:u,eventType:a,response:b})})}};function VI(o,a,u){zr(o.a)&&o.b.addEventListener("message",o.f),typeof o.a[a]>"u"&&(o.a[a]=[]),o.a[a].push(u)}function BI(o){this.a=o}BI.prototype.postMessage=function(o,a){this.a.postMessage(o,a)};function zI(o){this.c=o,this.b=!1,this.a=[]}function qI(o,a,u,h){var p,g=u||{},b,w,S,O=null;if(o.b)return jt(Error("connection_unavailable"));var ot=h?800:50,Dt=typeof MessageChannel<"u"?new MessageChannel:null;return new bt(function(It,be){Dt?(p=Math.floor(Math.random()*Math.pow(10,20)).toString(),Dt.port1.start(),w=setTimeout(function(){be(Error("unsupported_event"))},ot),b=function(Mi){Mi.data.eventId===p&&(Mi.data.status==="ack"?(clearTimeout(w),S=setTimeout(function(){be(Error("timeout"))},3e3)):Mi.data.status==="done"?(clearTimeout(S),typeof Mi.data.response<"u"?It(Mi.data.response):be(Error("unknown_error"))):(clearTimeout(w),clearTimeout(S),be(Error("invalid_response"))))},O={messageChannel:Dt,onMessage:b},o.a.push(O),Dt.port1.addEventListener("message",b),o.c.postMessage({eventType:a,eventId:p,data:g},[Dt.port2])):be(Error("connection_unavailable"))}).then(function(It){return Pm(o,O),It}).o(function(It){throw Pm(o,O),It})}function Pm(o,a){if(a){var u=a.messageChannel,h=a.onMessage;u&&(u.port1.removeEventListener("message",h),u.port1.close()),Kn(o.a,function(p){return p==a})}}zI.prototype.close=function(){for(;0<this.a.length;)Pm(this,this.a[0]);this.b=!0};function HI(){if(!Lm())throw new x("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=d.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var o=this;Xn()&&self?(this.v=bM(),VI(this.v,"keyChanged",function(a,u){return $I(o).then(function(h){return 0<h.length&&Ht(o.a,function(p){p(h)}),{keyProcessed:ki(h,u.key)}})}),VI(this.v,"ping",function(){return tt(["keyChanged"])})):OO().then(function(a){(o.h=a)&&(o.g=new zI(new BI(a)),qI(o.g,"ping",null,!0).then(function(u){u[0].fulfilled&&ki(u[0].value,"keyChanged")&&(o.s=!0)}).o(function(){}))})}var Mm;function yM(o){return new bt(function(a,u){var h=o.m.deleteDatabase("firebaseLocalStorageDb");h.onsuccess=function(){a()},h.onerror=function(p){u(Error(p.target.error))}})}function WI(o){return new bt(function(a,u){var h=o.m.open("firebaseLocalStorageDb",1);h.onerror=function(p){try{p.preventDefault()}catch{}u(Error(p.target.error))},h.onupgradeneeded=function(p){p=p.target.result;try{p.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(g){u(g)}},h.onsuccess=function(p){p=p.target.result,p.objectStoreNames.contains("firebaseLocalStorage")?a(p):yM(o).then(function(){return WI(o)}).then(function(g){a(g)}).o(function(g){u(g)})}})}function Nm(o){return o.i||(o.i=WI(o)),o.i}function ed(o,a){function u(p,g){Nm(o).then(a).then(p).o(function(b){if(3<++h)g(b);else return Nm(o).then(function(w){return w.close(),o.i=void 0,u(p,g)}).o(function(w){g(w)})})}var h=0;return new bt(u)}function Lm(){try{return!!d.indexedDB}catch{return!1}}function vc(o){return o.objectStore("firebaseLocalStorage")}function bc(o,a){return o.transaction(["firebaseLocalStorage"],a?"readwrite":"readonly")}function us(o){return new bt(function(a,u){o.onsuccess=function(h){h&&h.target?a(h.target.result):a()},o.onerror=function(h){u(h.target.error)}})}e=HI.prototype,e.set=function(o,a){var u=this,h=!1;return ed(this,function(p){return p=vc(bc(p,!0)),us(p.get(o))}).then(function(p){return ed(u,function(g){if(g=vc(bc(g,!0)),p)return p.value=a,us(g.put(p));u.b++,h=!0;var b={};return b.fbase_key=o,b.value=a,us(g.add(b))})}).then(function(){return u.c[o]=a,GI(u,o)}).oa(function(){h&&u.b--})};function GI(o,a){return o.g&&o.h&&RO()===o.h?qI(o.g,"keyChanged",{key:a},o.s).then(function(){}).o(function(){}):tt()}e.get=function(o){return ed(this,function(a){return us(vc(bc(a,!1)).get(o))}).then(function(a){return a&&a.value})},e.U=function(o){var a=this,u=!1;return ed(this,function(h){return u=!0,a.b++,us(vc(bc(h,!0)).delete(o))}).then(function(){return delete a.c[o],GI(a,o)}).oa(function(){u&&a.b--})};function $I(o){return Nm(o).then(function(a){var u=vc(bc(a,!1));return u.getAll?us(u.getAll()):new bt(function(h,p){var g=[],b=u.openCursor();b.onsuccess=function(w){(w=w.target.result)?(g.push(w.value),w.continue()):h(g)},b.onerror=function(w){p(w.target.error)}})}).then(function(a){var u={},h=[];if(o.b==0){for(h=0;h<a.length;h++)u[a[h].fbase_key]=a[h].value;h=vw(o.c,u),o.c=u}return h})}e.ca=function(o){this.a.length==0&&_M(this),this.a.push(o)},e.ia=function(o){Kn(this.a,function(a){return a==o}),this.a.length==0&&KI(this)};function _M(o){function a(){o.f=setTimeout(function(){o.l=$I(o).then(function(u){0<u.length&&Ht(o.a,function(h){h(u)})}).then(function(){a()}).o(function(u){u.message!="STOP_EVENT"&&a()})},800)}KI(o),a()}function KI(o){o.l&&o.l.cancel("STOP_EVENT"),o.f&&(clearTimeout(o.f),o.f=null)}function YI(o){var a=this,u=null;this.a=[],this.type="indexedDB",this.c=o,this.b=tt().then(function(){if(Lm()){var h=Xr(),p="__sak"+h;return Mm||(Mm=new HI),u=Mm,u.set(p,h).then(function(){return u.get(p)}).then(function(g){if(g!==h)throw Error("indexedDB not supported!");return u.U(p)}).then(function(){return u}).o(function(){return a.c})}return a.c}).then(function(h){return a.type=h.type,h.ca(function(p){Ht(a.a,function(g){g(p)})}),h})}e=YI.prototype,e.get=function(o){return this.b.then(function(a){return a.get(o)})},e.set=function(o,a){return this.b.then(function(u){return u.set(o,a)})},e.U=function(o){return this.b.then(function(a){return a.U(o)})},e.ca=function(o){this.a.push(o)},e.ia=function(o){Kn(this.a,function(a){return a==o})};function yc(){this.a={},this.type="inMemory"}e=yc.prototype,e.get=function(o){return tt(this.a[o])},e.set=function(o,a){return this.a[o]=a,tt()},e.U=function(o){return delete this.a[o],tt()},e.ca=function(){},e.ia=function(){};function nd(){if(!wM())throw fi()=="Node"?new x("internal-error","The LocalStorage compatibility library was not found."):new x("web-storage-unsupported");this.a=XI()||it.INTERNAL.node.localStorage,this.type="localStorage"}function XI(){try{var o=d.localStorage,a=Xr();return o&&(o.setItem(a,"1"),o.removeItem(a)),o}catch{return null}}function wM(){var o=fi()=="Node";if(o=XI()||o&&it.INTERNAL.node&&it.INTERNAL.node.localStorage,!o)return!1;try{return o.setItem("__sak","1"),o.removeItem("__sak"),!0}catch{return!1}}e=nd.prototype,e.get=function(o){var a=this;return tt().then(function(){var u=a.a.getItem(o);return os(u)})},e.set=function(o,a){var u=this;return tt().then(function(){var h=tc(a);h===null?u.U(o):u.a.setItem(o,h)})},e.U=function(o){var a=this;return tt().then(function(){a.a.removeItem(o)})},e.ca=function(o){d.window&&Nn(d.window,"storage",o)},e.ia=function(o){d.window&&vn(d.window,"storage",o)};function Fm(){this.type="nullStorage"}e=Fm.prototype,e.get=function(){return tt(null)},e.set=function(){return tt()},e.U=function(){return tt()},e.ca=function(){},e.ia=function(){};function jm(){if(!IM())throw fi()=="Node"?new x("internal-error","The SessionStorage compatibility library was not found."):new x("web-storage-unsupported");this.a=QI()||it.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function QI(){try{var o=d.sessionStorage,a=Xr();return o&&(o.setItem(a,"1"),o.removeItem(a)),o}catch{return null}}function IM(){var o=fi()=="Node";if(o=QI()||o&&it.INTERNAL.node&&it.INTERNAL.node.sessionStorage,!o)return!1;try{return o.setItem("__sak","1"),o.removeItem("__sak"),!0}catch{return!1}}e=jm.prototype,e.get=function(o){var a=this;return tt().then(function(){var u=a.a.getItem(o);return os(u)})},e.set=function(o,a){var u=this;return tt().then(function(){var h=tc(a);h===null?u.U(o):u.a.setItem(o,h)})},e.U=function(o){var a=this;return tt().then(function(){a.a.removeItem(o)})},e.ca=function(){},e.ia=function(){};function EM(){var o={};o.Browser=xM,o.Node=CM,o.ReactNative=TM,o.Worker=SM,this.a=o[fi()]}var Um,xM={F:nd,cb:jm},CM={F:nd,cb:jm},TM={F:FI,cb:Fm},SM={F:nd,cb:Fm},ls={rd:"local",NONE:"none",td:"session"};function AM(o){var a=new x("invalid-persistence-type"),u=new x("unsupported-persistence-type");t:{for(h in ls)if(ls[h]==o){var h=!0;break t}h=!1}if(!h||typeof o!="string")throw a;switch(fi()){case"ReactNative":if(o==="session")throw u;break;case"Node":if(o!=="none")throw u;break;case"Worker":if(o==="session"||!Lm()&&o!=="none")throw u;break;default:if(!Up()&&o!=="none")throw u}}function ZI(){var o=!!(!xw(xe())&&Fp()),a=Ja(),u=Up();this.m=o,this.h=a,this.l=u,this.a={},Um||(Um=new EM),o=Um;try{this.g=!Np()&&Tw()||!d.indexedDB?new o.a.F:new YI(Xn()?new yc:new o.a.F)}catch{this.g=new yc,this.h=!0}try{this.i=new o.a.cb}catch{this.i=new yc}this.v=new yc,this.f=F(this.Zb,this),this.b={}}var Vm;function _c(){return Vm||(Vm=new ZI),Vm}function ro(o,a){switch(a){case"session":return o.i;case"none":return o.v;default:return o.g}}function ds(o,a){return"firebase:"+o.name+(a?":"+a:"")}function kM(o,a,u){var h=ds(a,u),p=ro(o,a.F);return o.get(a,u).then(function(g){var b=null;try{b=os(d.localStorage.getItem(h))}catch{}if(b&&!g)return d.localStorage.removeItem(h),o.set(a,b,u);b&&g&&p.type!="localStorage"&&d.localStorage.removeItem(h)})}e=ZI.prototype,e.get=function(o,a){return ro(this,o.F).get(ds(o,a))};function hs(o,a,u){return u=ds(a,u),a.F=="local"&&(o.b[u]=null),ro(o,a.F).U(u)}e.set=function(o,a,u){var h=ds(o,u),p=this,g=ro(this,o.F);return g.set(h,a).then(function(){return g.get(h)}).then(function(b){o.F=="local"&&(p.b[h]=b)})},e.addListener=function(o,a,u){o=ds(o,a),this.l&&(this.b[o]=d.localStorage.getItem(o)),zr(this.a)&&(ro(this,"local").ca(this.f),this.h||(Np()||!Tw())&&d.indexedDB||!this.l||DM(this)),this.a[o]||(this.a[o]=[]),this.a[o].push(u)},e.removeListener=function(o,a,u){o=ds(o,a),this.a[o]&&(Kn(this.a[o],function(h){return h==u}),this.a[o].length==0&&delete this.a[o]),zr(this.a)&&(ro(this,"local").ia(this.f),Bm(this))};function DM(o){Bm(o),o.c=setInterval(function(){for(var a in o.a){var u=d.localStorage.getItem(a),h=o.b[a];u!=h&&(o.b[a]=u,u=new Wr({type:"storage",key:a,target:window,oldValue:h,newValue:u,a:!0}),o.Zb(u))}},1e3)}function Bm(o){o.c&&(clearInterval(o.c),o.c=null)}e.Zb=function(o){if(o&&o.g){var a=o.a.key;if(a==null)for(var u in this.a){var h=this.b[u];typeof h>"u"&&(h=null);var p=d.localStorage.getItem(u);p!==h&&(this.b[u]=p,this.nb(u))}else if(a.indexOf("firebase:")==0&&this.a[a]){if(typeof o.a.a<"u"?ro(this,"local").ia(this.f):Bm(this),this.m){if(u=d.localStorage.getItem(a),h=o.a.newValue,h!==u)h!==null?d.localStorage.setItem(a,h):d.localStorage.removeItem(a);else if(this.b[a]===h&&typeof o.a.a>"u")return}var g=this;u=function(){(typeof o.a.a<"u"||g.b[a]!==d.localStorage.getItem(a))&&(g.b[a]=d.localStorage.getItem(a),g.nb(a))},Yn&&Ji&&Ji==10&&d.localStorage.getItem(a)!==o.a.newValue&&o.a.newValue!==o.a.oldValue?setTimeout(u,10):u()}}else Ht(o,F(this.nb,this))},e.nb=function(o){this.a[o]&&Ht(this.a[o],function(a){a()})};function RM(o){this.a=o,this.b=_c()}var zm={name:"authEvent",F:"local"};function OM(o){return o.b.get(zm,o.a).then(function(a){return oI(a)})}function PM(){this.a=_c()}function MM(){this.b=-1}function id(o,a){this.b=JI,this.f=d.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=o,this.h=a,this.l=d.Int32Array?new Int32Array(64):Array(64),rd===void 0&&(d.Int32Array?rd=new Int32Array(nE):rd=nE),this.reset()}var rd;K(id,MM);for(var JI=64,NM=JI-1,tE=[],qm=0;qm<NM;qm++)tE[qm]=0;var eE=ap(128,tE);id.prototype.reset=function(){this.g=this.c=0,this.a=d.Int32Array?new Int32Array(this.h):Br(this.h)};function Hm(o){for(var a=o.f,u=o.l,h=0,p=0;p<a.length;)u[h++]=a[p]<<24|a[p+1]<<16|a[p+2]<<8|a[p+3],p=4*h;for(a=16;64>a;a++){p=u[a-15]|0,h=u[a-2]|0;var g=(u[a-16]|0)+((p>>>7|p<<25)^(p>>>18|p<<14)^p>>>3)|0,b=(u[a-7]|0)+((h>>>17|h<<15)^(h>>>19|h<<13)^h>>>10)|0;u[a]=g+b|0}h=o.a[0]|0,p=o.a[1]|0;var w=o.a[2]|0,S=o.a[3]|0,O=o.a[4]|0,ot=o.a[5]|0,Dt=o.a[6]|0;for(g=o.a[7]|0,a=0;64>a;a++){var It=((h>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10))+(h&p^h&w^p&w)|0;b=O&ot^~O&Dt,g=g+((O>>>6|O<<26)^(O>>>11|O<<21)^(O>>>25|O<<7))|0,b=b+(rd[a]|0)|0,b=g+(b+(u[a]|0)|0)|0,g=Dt,Dt=ot,ot=O,O=S+b|0,S=w,w=p,p=h,h=b+It|0}o.a[0]=o.a[0]+h|0,o.a[1]=o.a[1]+p|0,o.a[2]=o.a[2]+w|0,o.a[3]=o.a[3]+S|0,o.a[4]=o.a[4]+O|0,o.a[5]=o.a[5]+ot|0,o.a[6]=o.a[6]+Dt|0,o.a[7]=o.a[7]+g|0}function Wm(o,a,u){u===void 0&&(u=a.length);var h=0,p=o.c;if(typeof a=="string")for(;h<u;)o.f[p++]=a.charCodeAt(h++),p==o.b&&(Hm(o),p=0);else if(I(a))for(;h<u;){var g=a[h++];if(!(typeof g=="number"&&0<=g&&255>=g&&g==(g|0)))throw Error("message must be a byte array");o.f[p++]=g,p==o.b&&(Hm(o),p=0)}else throw Error("message must be string or array");o.c=p,o.g+=u}var nE=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function iE(){id.call(this,8,LM)}K(iE,id);var LM=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function rE(o,a,u,h,p,g){this.v=o,this.i=a,this.l=u,this.m=h||null,this.u=p||null,this.s=g,this.h=a+":"+u,this.C=new PM,this.g=new RM(this.h),this.f=null,this.b=[],this.a=this.c=null}function od(o){return new x("invalid-cordova-configuration",o)}e=rE.prototype,e.ma=function(){return this.Ia?this.Ia:this.Ia=AO().then(function(){if(typeof Ut("universalLinks.subscribe",d)!="function")throw od("cordova-universal-links-plugin-fix is not installed");if(typeof Ut("BuildInfo.packageName",d)>"u")throw od("cordova-plugin-buildinfo is not installed");if(typeof Ut("cordova.plugins.browsertab.openUrl",d)!="function")throw od("cordova-plugin-browsertab is not installed");if(typeof Ut("cordova.InAppBrowser.open",d)!="function")throw od("cordova-plugin-inappbrowser is not installed")},function(){throw new x("cordova-not-ready")})};function FM(){for(var o=20,a=[];0<o;)a.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),o--;return a.join("")}function jM(o){var a=new iE;Wm(a,o),o=[];var u=8*a.g;56>a.c?Wm(a,eE,56-a.c):Wm(a,eE,a.b-(a.c-56));for(var h=63;56<=h;h--)a.f[h]=u&255,u/=256;for(Hm(a),h=u=0;h<a.i;h++)for(var p=24;0<=p;p-=8)o[u++]=a.a[h]>>p&255;return KO(o)}e.Pb=function(o,a){return a(new x("operation-not-supported-in-this-environment")),tt()},e.Nb=function(){return jt(new x("operation-not-supported-in-this-environment"))},e.ac=function(){return!1},e.Yb=function(){return!0},e.Ub=function(){return!0},e.Ob=function(o,a,u,h){if(this.c)return jt(new x("redirect-operation-pending"));var p=this,g=d.document,b=null,w=null,S=null,O=null;return this.c=tt().then(function(){return am(a),sE(p)}).then(function(){return UM(p,o,a,u,h)}).then(function(){return new bt(function(ot,Dt){w=function(){var It=Ut("cordova.plugins.browsertab.close",d);return ot(),typeof It=="function"&&It(),p.a&&typeof p.a.close=="function"&&(p.a.close(),p.a=null),!1},p.Ea(w),S=function(){b||(b=Jo(2e3).then(function(){Dt(new x("redirect-cancelled-by-user"))}))},O=function(){Vp()&&S()},g.addEventListener("resume",S,!1),xe().toLowerCase().match(/android/)||g.addEventListener("visibilitychange",O,!1)}).o(function(ot){return Gm(p).then(function(){throw ot})})}).oa(function(){S&&g.removeEventListener("resume",S,!1),O&&g.removeEventListener("visibilitychange",O,!1),b&&b.cancel(),w&&p.Ta(w),p.c=null})};function UM(o,a,u,h,p){var g=FM(),b=new Qn(a,h,null,g,new x("no-auth-event"),null,p),w=Ut("BuildInfo.packageName",d);if(typeof w!="string")throw new x("invalid-cordova-configuration");var S=Ut("BuildInfo.displayName",d),O={};if(xe().toLowerCase().match(/iphone|ipad|ipod/))O.ibi=w;else if(xe().toLowerCase().match(/android/))O.apn=w;else return jt(new x("operation-not-supported-in-this-environment"));S&&(O.appDisplayName=S),g=jM(g),O.sessionId=g;var ot=gc(o.v,o.i,o.l,a,u,null,h,o.m,O,o.u,p,o.s);return o.ma().then(function(){var Dt=o.h;return o.C.a.set(zm,b.w(),Dt)}).then(function(){var Dt=Ut("cordova.plugins.browsertab.isAvailable",d);if(typeof Dt!="function")throw new x("invalid-cordova-configuration");var It=null;Dt(function(be){if(be){if(It=Ut("cordova.plugins.browsertab.openUrl",d),typeof It!="function")throw new x("invalid-cordova-configuration");It(ot)}else{if(It=Ut("cordova.InAppBrowser.open",d),typeof It!="function")throw new x("invalid-cordova-configuration");be=xe(),o.a=It(ot,be.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||be.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function oE(o,a){for(var u=0;u<o.b.length;u++)try{o.b[u](a)}catch{}}function sE(o){return o.f||(o.f=o.ma().then(function(){return new bt(function(a){function u(h){return a(h),o.Ta(u),!1}o.Ea(u),VM(o)})})),o.f}function Gm(o){var a=null;return OM(o.g).then(function(u){return a=u,u=o.g,hs(u.b,zm,u.a)}).then(function(){return a})}function VM(o){function a(b){h=!0,p&&p.cancel(),Gm(o).then(function(w){var S=u;if(w&&b&&b.url){var O=null;S=Qw(b.url),S.indexOf("/__/auth/callback")!=-1&&(O=rn(S),O=os(Ln(O,"firebaseError")||null),O=(O=typeof O=="object"?o_(O):null)?new Qn(w.c,w.b,null,null,O,null,w.T()):new Qn(w.c,w.b,S,w.f,null,null,w.T())),S=O||u}oE(o,S)})}var u=new Qn("unknown",null,null,null,new x("no-auth-event")),h=!1,p=Jo(500).then(function(){return Gm(o).then(function(){h||oE(o,u)})}),g=d.handleOpenURL;d.handleOpenURL=function(b){if(b.toLowerCase().indexOf(Ut("BuildInfo.packageName",d).toLowerCase()+"://")==0&&a({url:b}),typeof g=="function")try{g(b)}catch(w){console.error(w)}},cm||(cm=new nP),iP(a)}e.Ea=function(o){this.b.push(o),sE(this).o(function(a){a.code==="auth/invalid-cordova-configuration"&&(a=new Qn("unknown",null,null,null,new x("no-auth-event")),o(a))})},e.Ta=function(o){Kn(this.b,function(a){return a==o})};function BM(o){this.a=o,this.b=_c()}var $m={name:"pendingRedirect",F:"session"};function zM(o){return o.b.set($m,"pending",o.a)}function Km(o){return hs(o.b,$m,o.a)}function qM(o){return o.b.get($m,o.a).then(function(a){return a=="pending"})}function sd(o,a,u,h){this.i={},this.u=0,this.D=o,this.v=a,this.m=u,this.J=h,this.h=[],this.f=!1,this.l=F(this.s,this),this.b=new cd,this.C=new gE,this.g=new BM(fE(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=aE(this.D,this.v,this.m,qa,this.J)}function aE(o,a,u,h,p){var g=it.SDK_VERSION||null;return Lp()?new rE(o,a,u,g,h,p):new PI(o,a,u,g,h,p)}sd.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=aE(this.D,this.v,this.m,null,this.J),this.i={}};function cE(o){o.f||(o.f=!0,o.a.Ea(o.l));var a=o.a;return o.a.ma().o(function(u){throw o.a==a&&o.reset(),u})}function uE(o){o.a.Yb()&&cE(o).o(function(a){var u=new Qn("unknown",null,null,null,new x("operation-not-supported-in-this-environment"));Xm(a)&&o.s(u)}),o.a.Ub()||pE(o.b)}function ad(o,a){ki(o.h,a)||o.h.push(a),o.f||qM(o.g).then(function(u){u?Km(o.g).then(function(){cE(o).o(function(h){var p=new Qn("unknown",null,null,null,new x("operation-not-supported-in-this-environment"));Xm(h)&&o.s(p)})}):uE(o)}).o(function(){uE(o)})}function Ym(o,a){Kn(o.h,function(u){return u==a})}sd.prototype.s=function(o){if(!o)throw new x("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),o&&o.getUid()&&this.i.hasOwnProperty(o.getUid()))return!1;for(var a=!1,u=0;u<this.h.length;u++){var h=this.h[u];if(h.Gb(o.c,o.b)){(a=this.c[o.c])&&(a.h(o,h),o&&(o.f||o.b)&&(this.i[o.getUid()]=!0,this.u=Date.now())),a=!0;break}}return pE(this.b),a};var HM=new nr(2e3,1e4),WM=new nr(3e4,6e4);sd.prototype.ra=function(){return this.b.ra()};function lE(o,a,u,h,p,g,b){return o.a.Nb(a,u,h,function(){o.f||(o.f=!0,o.a.Ea(o.l))},function(){o.reset()},p,g,b)}function Xm(o){return!!(o&&o.code=="auth/cordova-not-ready")}function dE(o,a,u,h,p){var g;return zM(o.g).then(function(){return o.a.Ob(a,u,h,p).o(function(b){if(Xm(b))throw new x("operation-not-supported-in-this-environment");return g=b,Km(o.g).then(function(){throw g})}).then(function(){return o.a.ac()?new bt(function(){}):Km(o.g).then(function(){return o.ra()}).then(function(){}).o(function(){})})})}function hE(o,a,u,h,p){return o.a.Pb(h,function(g){a.na(u,null,g,p)},HM.get())}var Qm={};function fE(o,a,u){return o=o+":"+a,u&&(o=o+":"+u.url),o}function Zm(o,a,u,h){var p=fE(a,u,h);return Qm[p]||(Qm[p]=new sd(o,a,u,h)),Qm[p]}function cd(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}cd.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},cd.prototype.h=function(o,a){if(o){this.reset(),this.g=!0;var u=o.c,h=o.b,p=o.a&&o.a.code=="auth/web-storage-unsupported",g=o.a&&o.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!p&&!g),u!="unknown"||p||g?o.a?(oo(this,!0,null,o.a),tt()):a.Fa(u,h)?GM(this,o,a):jt(new x("invalid-auth-event")):(oo(this,!1,null,null),tt())}else jt(new x("invalid-auth-event"))};function pE(o){o.g||(o.g=!0,oo(o,!1,null,null))}function ud(o){o.g&&!o.i&&oo(o,!1,null,null)}function GM(o,a,u){u=u.Fa(a.c,a.b);var h=a.g,p=a.f,g=a.i,b=a.T(),w=!!a.c.match(/Redirect$/);u(h,p,b,g).then(function(S){oo(o,w,S,null)}).o(function(S){oo(o,w,null,S)})}function $M(o,a){if(o.b=function(){return jt(a)},o.c.length)for(var u=0;u<o.c.length;u++)o.c[u](a)}function mE(o,a){if(o.b=function(){return tt(a)},o.f.length)for(var u=0;u<o.f.length;u++)o.f[u](a)}function oo(o,a,u,h){a?h?$M(o,h):mE(o,u):mE(o,{user:null}),o.f=[],o.c=[]}cd.prototype.ra=function(){var o=this;return new bt(function(a,u){o.b?o.b().then(a,u):(o.f.push(a),o.c.push(u),KM(o))})};function KM(o){var a=new x("timeout");o.a&&o.a.cancel(),o.a=Jo(WM.get()).then(function(){o.b||(o.g=!0,oo(o,!0,null,a))})}function gE(){}gE.prototype.h=function(o,a){if(o){var u=o.c,h=o.b;o.a?(a.na(o.c,null,o.a,o.b),tt()):a.Fa(u,h)?YM(o,a):jt(new x("invalid-auth-event"))}else jt(new x("invalid-auth-event"))};function YM(o,a){var u=o.b,h=o.c;a.Fa(h,u)(o.g,o.f,o.T(),o.i).then(function(p){a.na(h,p,null,u)}).o(function(p){a.na(h,null,p,u)})}function vE(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(o){this.jb=o},enumerable:!1})}function Jm(o,a){this.a=a,$(this,"verificationId",o)}Jm.prototype.confirm=function(o){return o=rI(this.verificationId,o),this.a(o)};function tg(o,a,u,h){return new Oi(o).gb(a,u).then(function(p){return new Jm(p,h)})}function XM(o){var a=qw(o);if(!(a&&a.exp&&a.auth_time&&a.iat))throw new x("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");qe(this,{token:o,expirationTime:ec(1e3*a.exp),authTime:ec(1e3*a.auth_time),issuedAtTime:ec(1e3*a.iat),signInProvider:a.firebase&&a.firebase.sign_in_provider?a.firebase.sign_in_provider:null,signInSecondFactor:a.firebase&&a.firebase.sign_in_second_factor?a.firebase.sign_in_second_factor:null,claims:a})}function eg(o,a,u){var h=a&&a[yE];if(!h)throw new x("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=o,this.f=Zi(a),this.g=u,this.c=new jl(null,h),this.b=[];var p=this;Ht(a[bE]||[],function(g){(g=Gp(g))&&p.b.push(g)}),$(this,"auth",this.a),$(this,"session",this.c),$(this,"hints",this.b)}var bE="mfaInfo",yE="mfaPendingCredential";eg.prototype.Rc=function(o){var a=this;return o.tb(this.a.a,this.c).then(function(u){var h=Zi(a.f);return delete h[bE],delete h[yE],tn(h,u),a.g(h)})};function ng(o,a,u,h){x.call(this,"multi-factor-auth-required",h,a),this.b=new eg(o,a,u),$(this,"resolver",this.b)}K(ng,x);function _E(o,a,u){if(o&&C(o.serverResponse)&&o.code==="auth/multi-factor-auth-required")try{return new ng(a,o.serverResponse,u,o.message)}catch{}return null}function wE(){}wE.prototype.tb=function(o,a,u){return a.type==oc?QM(this,o,a,u):ZM(this,o,a)};function QM(o,a,u,h){return u.Ha().then(function(p){return p={idToken:p},typeof h<"u"&&(p.displayName=h),tn(p,{phoneVerificationInfo:sc(o.a)}),yt(a,VP,p)})}function ZM(o,a,u){return u.Ha().then(function(h){return h={mfaPendingCredential:h},tn(h,{phoneVerificationInfo:sc(o.a)}),yt(a,BP,h)})}function ig(o){$(this,"factorId",o.fa),this.a=o}K(ig,wE);function IE(o){if(ig.call(this,o),this.a.fa!=Oi.PROVIDER_ID)throw new x("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}K(IE,ig);function fs(o,a){nn.call(this,o);for(var u in a)this[u]=a[u]}K(fs,nn);function rg(o,a){this.a=o,this.b=[],this.c=F(this.yc,this),Nn(this.a,"userReloaded",this.c);var u=[];a&&a.multiFactor&&a.multiFactor.enrolledFactors&&Ht(a.multiFactor.enrolledFactors,function(h){var p=null,g={};if(h){h.uid&&(g[Kp]=h.uid),h.displayName&&(g[Aw]=h.displayName),h.enrollmentTime&&(g[$p]=new Date(h.enrollmentTime).toISOString()),h.phoneNumber&&(g[Yp]=h.phoneNumber);try{p=new nc(g)}catch{}h=p}else h=null;h&&u.push(h)}),ld(this,u)}function JM(o){var a=[];return Ht(o.mfaInfo||[],function(u){(u=Gp(u))&&a.push(u)}),a}e=rg.prototype,e.yc=function(o){ld(this,JM(o.hd))};function ld(o,a){o.b=a,$(o,"enrolledFactors",a)}e.Sb=function(){return this.a.I().then(function(o){return new jl(o,null)})},e.fc=function(o,a){var u=this,h=this.a.a;return this.Sb().then(function(p){return o.tb(h,p,a)}).then(function(p){return gi(u.a,p),u.a.reload()})},e.bd=function(o){var a=this,u=typeof o=="string"?o:o.uid,h=this.a.a;return this.a.I().then(function(p){return yt(h,aM,{idToken:p,mfaEnrollmentId:u})}).then(function(p){var g=DR(a.b,function(b){return b.uid!=u});return ld(a,g),gi(a.a,p),a.a.reload().o(function(b){if(b.code!="auth/user-token-expired")throw b})})},e.w=function(){return{multiFactor:{enrolledFactors:ml(this.b,function(o){return o.w()})}}};function og(o,a,u){if(this.h=o,this.i=a,this.g=u,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}og.prototype.start=function(){this.a=this.c,sg(this,!0)};function tN(o,a){return a?(o.a=o.c,o.g()):(a=o.a,o.a*=2,o.a>o.f&&(o.a=o.f),a)}function sg(o,a){o.stop(),o.b=Jo(tN(o,a)).then(function(){return DO()}).then(function(){return o.h()}).then(function(){sg(o,!0)}).o(function(u){o.i(u)&&sg(o,!1)})}og.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function ag(o){this.f=o,this.b=this.a=null,this.c=Date.now()}ag.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function EE(o,a){typeof a>"u"&&(o.b?(a=o.b,a=a.a-a.g):a=0),o.c=Date.now()+1e3*a}function xE(o,a){o.b=Ll(a[Jn]||""),o.a=a.refreshToken,a=a.expiresIn,EE(o,typeof a<"u"?Number(a):void 0)}function eN(o,a){o.b=a.b,o.a=a.a,o.c=a.c}function nN(o,a){return xP(o.f,a).then(function(u){return o.b=Ll(u.access_token),o.a=u.refresh_token,EE(o,u.expires_in),{accessToken:o.b.toString(),refreshToken:o.a}}).o(function(u){throw u.code=="auth/user-token-expired"&&(o.a=null),u})}ag.prototype.getToken=function(o){return o=!!o,this.b&&!this.a?jt(new x("user-token-expired")):o||!this.b||Date.now()>this.c-3e4?this.a?nN(this,{grant_type:"refresh_token",refresh_token:this.a}):tt(null):tt({accessToken:this.b.toString(),refreshToken:this.a})};function dd(o,a){this.a=o||null,this.b=a||null,qe(this,{lastSignInTime:ec(a||null),creationTime:ec(o||null)})}function iN(o){return new dd(o.a,o.b)}dd.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function rN(o,a,u,h,p,g){qe(this,{uid:o,displayName:h||null,photoURL:p||null,email:u||null,phoneNumber:g||null,providerId:a})}function yn(o,a,u){this.N=[],this.l=o.apiKey,this.m=o.appName,this.s=o.authDomain||null;var h=it.SDK_VERSION?is(it.SDK_VERSION):null;this.a=new Zn(this.l,za(qa),h),(this.u=o.emulatorConfig||null)&&Jl(this.a,this.u),this.h=new ag(this.a),pg(this,a[Jn]),xE(this.h,a),$(this,"refreshToken",this.h.a),TE(this,u||{}),ze.call(this),this.P=!1,this.s&&Yr()&&(this.b=Zm(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=oN(this),this.ba=F(this.ib,this);var p=this;this.za=null,this.Pa=function(g){p.xa(g.h)},this.qa=null,this.Ba=function(g){cg(p,g.c)},this.$=null,this.aa=[],this.Oa=function(g){wc(p,g.f)},this.ja=null,this.S=new rg(this,u),$(this,"multiFactor",this.S)}K(yn,ze),yn.prototype.xa=function(o){this.za=o,_I(this.a,o)};function cg(o,a){o.u=a,Jl(o.a,a),o.b&&(a=o.b,o.b=Zm(o.s,o.l,o.m,o.u),o.P&&(Ym(a,o),ad(o.b,o)))}yn.prototype.la=function(){return this.za};function ug(o,a){o.qa&&vn(o.qa,"languageCodeChanged",o.Pa),(o.qa=a)&&Nn(a,"languageCodeChanged",o.Pa)}function lg(o,a){o.$&&vn(o.$,"emulatorConfigChanged",o.Ba),(o.$=a)&&Nn(a,"emulatorConfigChanged",o.Ba)}function wc(o,a){o.aa=a,wI(o.a,it.SDK_VERSION?is(it.SDK_VERSION,o.aa):null)}yn.prototype.Ga=function(){return Br(this.aa)};function dg(o,a){o.ja&&vn(o.ja,"frameworkChanged",o.Oa),(o.ja=a)&&Nn(a,"frameworkChanged",o.Oa)}yn.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())};function hg(o){try{return it.app(o.m).auth()}catch{throw new x("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+o.m+"'!")}}function oN(o){return new og(function(){return o.I(!0)},function(a){return!!(a&&a.code=="auth/network-request-failed")},function(){var a=o.h.c-Date.now()-3e5;return 0<a?a:0})}function CE(o){o.J||o.D.b||(o.D.start(),vn(o,"tokenChanged",o.ba),Nn(o,"tokenChanged",o.ba))}function fg(o){vn(o,"tokenChanged",o.ba),o.D.stop()}function pg(o,a){o.Aa=a,$(o,"_lat",a)}function sN(o,a){Kn(o.W,function(u){return u==a})}function so(o){for(var a=[],u=0;u<o.W.length;u++)a.push(o.W[u](o));return B_(a).then(function(){return o})}function Ic(o){o.b&&!o.P&&(o.P=!0,ad(o.b,o))}function TE(o,a){qe(o,{uid:a.uid,displayName:a.displayName||null,photoURL:a.photoURL||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,isAnonymous:a.isAnonymous||!1,tenantId:a.tenantId||null,metadata:new dd(a.createdAt,a.lastLoginAt),providerData:[]}),o.a.b=o.tenantId}$(yn.prototype,"providerId","firebase");function SE(){}function mg(o){return tt().then(function(){if(o.J)throw new x("app-deleted")})}function gg(o){return ml(o.providerData,function(a){return a.providerId})}function vg(o,a){a&&(AE(o,a.providerId),o.providerData.push(a))}function AE(o,a){Kn(o.providerData,function(u){return u.providerId==a})}function or(o,a,u){(a!="uid"||u)&&o.hasOwnProperty(a)&&$(o,a,u)}function hd(o,a){o!=a&&(qe(o,{uid:a.uid,displayName:a.displayName,photoURL:a.photoURL,email:a.email,emailVerified:a.emailVerified,phoneNumber:a.phoneNumber,isAnonymous:a.isAnonymous,tenantId:a.tenantId,providerData:[]}),a.metadata?$(o,"metadata",iN(a.metadata)):$(o,"metadata",new dd),Ht(a.providerData,function(u){vg(o,u)}),eN(o.h,a.h),$(o,"refreshToken",o.h.a),ld(o.S,a.S.b))}e=yn.prototype,e.reload=function(){var o=this;return pe(this,mg(this).then(function(){return bg(o).then(function(){return so(o)}).then(SE)}))};function bg(o){return o.I().then(function(a){var u=o.isAnonymous;return aN(o,a).then(function(){return u||or(o,"isAnonymous",!1),a})})}e.oc=function(o){return this.I(o).then(function(a){return new XM(a)})},e.I=function(o){var a=this;return pe(this,mg(this).then(function(){return a.h.getToken(o)}).then(function(u){if(!u)throw new x("internal-error");return u.accessToken!=a.Aa&&(pg(a,u.accessToken),a.dispatchEvent(new fs("tokenChanged"))),or(a,"refreshToken",u.refreshToken),u.accessToken}))};function gi(o,a){a[Jn]&&o.Aa!=a[Jn]&&(xE(o.h,a),o.dispatchEvent(new fs("tokenChanged")),pg(o,a[Jn]),or(o,"refreshToken",o.h.a))}function aN(o,a){return yt(o.a,zP,{idToken:a}).then(F(o.Kc,o))}e.Kc=function(o){if(o=o.users,!o||!o.length)throw new x("internal-error");o=o[0],TE(this,{uid:o.localId,displayName:o.displayName,photoURL:o.photoUrl,email:o.email,emailVerified:!!o.emailVerified,phoneNumber:o.phoneNumber,lastLoginAt:o.lastLoginAt,createdAt:o.createdAt,tenantId:o.tenantId});for(var a=cN(o),u=0;u<a.length;u++)vg(this,a[u]);or(this,"isAnonymous",!(this.email&&o.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new fs("userReloaded",{hd:o}))};function cN(o){return(o=o.providerUserInfo)&&o.length?ml(o,function(a){return new rN(a.rawId,a.providerId,a.email,a.displayName,a.photoUrl,a.phoneNumber)}):[]}e.Lc=function(o){return Bp("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(o)},e.ub=function(o){var a=this,u=null;return pe(this,o.c(this.a,this.uid).then(function(h){return gi(a,h),u=Ec(a,h,"reauthenticate"),a.i=null,a.reload()}).then(function(){return u}),!0)};function fd(o,a){return bg(o).then(function(){if(ki(gg(o),a))return so(o).then(function(){throw new x("provider-already-linked")})})}e.Cc=function(o){return Bp("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(o)},e.rb=function(o){var a=this,u=null;return pe(this,fd(this,o.providerId).then(function(){return a.I()}).then(function(h){return o.b(a.a,h)}).then(function(h){return u=Ec(a,h,"link"),kE(a,h)}).then(function(){return u}))},e.Dc=function(o,a){var u=this;return pe(this,fd(this,"phone").then(function(){return tg(hg(u),o,a,F(u.rb,u))}))},e.Mc=function(o,a){var u=this;return pe(this,tt().then(function(){return tg(hg(u),o,a,F(u.ub,u))}),!0)};function Ec(o,a,u){var h=sm(a);return a=Ww(a),pi({user:o,credential:h,additionalUserInfo:a,operationType:u})}function kE(o,a){return gi(o,a),o.reload().then(function(){return o})}e.Cb=function(o){var a=this;return pe(this,this.I().then(function(u){return a.a.Cb(u,o)}).then(function(u){return gi(a,u),a.reload()}))},e.ed=function(o){var a=this;return pe(this,this.I().then(function(u){return o.b(a.a,u)}).then(function(u){return gi(a,u),a.reload()}))},e.Db=function(o){var a=this;return pe(this,this.I().then(function(u){return a.a.Db(u,o)}).then(function(u){return gi(a,u),a.reload()}))},e.Eb=function(o){if(o.displayName===void 0&&o.photoURL===void 0)return mg(this);var a=this;return pe(this,this.I().then(function(u){return a.a.Eb(u,{displayName:o.displayName,photoUrl:o.photoURL})}).then(function(u){return gi(a,u),or(a,"displayName",u.displayName||null),or(a,"photoURL",u.photoUrl||null),Ht(a.providerData,function(h){h.providerId==="password"&&($(h,"displayName",a.displayName),$(h,"photoURL",a.photoURL))}),so(a)}).then(SE))},e.cd=function(o){var a=this;return pe(this,bg(this).then(function(u){return ki(gg(a),o)?RP(a.a,u,[o]).then(function(h){var p={};return Ht(h.providerUserInfo||[],function(g){p[g.providerId]=!0}),Ht(gg(a),function(g){p[g]||AE(a,g)}),p[Oi.PROVIDER_ID]||$(a,"phoneNumber",null),so(a)}):so(a).then(function(){throw new x("no-such-provider")})}))},e.delete=function(){var o=this;return pe(this,this.I().then(function(a){return yt(o.a,LP,{idToken:a})}).then(function(){o.dispatchEvent(new fs("userDeleted"))})).then(function(){for(var a=0;a<o.N.length;a++)o.N[a].cancel("app-deleted");ug(o,null),lg(o,null),dg(o,null),o.N=[],o.J=!0,fg(o),$(o,"refreshToken",null),o.b&&Ym(o.b,o)})},e.Gb=function(o,a){return!!(o=="linkViaPopup"&&(this.g||null)==a&&this.f||o=="reauthViaPopup"&&(this.g||null)==a&&this.f||o=="linkViaRedirect"&&(this.ga||null)==a||o=="reauthViaRedirect"&&(this.ga||null)==a)},e.na=function(o,a,u,h){o!="linkViaPopup"&&o!="reauthViaPopup"||h!=(this.g||null)||(u&&this.C?this.C(u):a&&!u&&this.f&&this.f(a),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(o,a){return o=="linkViaPopup"&&a==(this.g||null)?F(this.Lb,this):o=="reauthViaPopup"&&a==(this.g||null)?F(this.Mb,this):o=="linkViaRedirect"&&(this.ga||null)==a?F(this.Lb,this):o=="reauthViaRedirect"&&(this.ga||null)==a?F(this.Mb,this):null},e.Ec=function(o){var a=this;return DE(this,"linkViaPopup",o,function(){return fd(a,o.providerId).then(function(){return so(a)})},!1)},e.Nc=function(o){return DE(this,"reauthViaPopup",o,function(){return tt()},!0)};function DE(o,a,u,h,p){if(!Yr())return jt(new x("operation-not-supported-in-this-environment"));if(o.i&&!p)return jt(o.i);var g=tm(u.providerId),b=Xr(o.uid+":::"),w=null;(!Ja()||Fp())&&o.s&&u.isOAuthProvider&&(w=gc(o.s,o.l,o.m,a,u,null,b,it.SDK_VERSION||null,null,null,o.tenantId,o.u));var S=yw(w,g&&g.va,g&&g.ua);return h=h().then(function(){if(OE(o),!p)return o.I().then(function(){})}).then(function(){return lE(o.b,S,a,u,b,!!w,o.tenantId)}).then(function(){return new bt(function(O,ot){o.na(a,null,new x("cancelled-popup-request"),o.g||null),o.f=O,o.C=ot,o.g=b,o.c=hE(o.b,o,a,S,b)})}).then(function(O){return S&&Kr(S),O?pi(O):null}).o(function(O){throw S&&Kr(S),O}),pe(o,h,p)}e.Fc=function(o){var a=this;return RE(this,"linkViaRedirect",o,function(){return fd(a,o.providerId)},!1)},e.Oc=function(o){return RE(this,"reauthViaRedirect",o,function(){return tt()},!0)};function RE(o,a,u,h,p){if(!Yr())return jt(new x("operation-not-supported-in-this-environment"));if(o.i&&!p)return jt(o.i);var g=null,b=Xr(o.uid+":::");return h=h().then(function(){if(OE(o),!p)return o.I().then(function(){})}).then(function(){return o.ga=b,so(o)}).then(function(w){return o.ha&&(w=o.ha,w=w.b.set(yg,o.w(),w.a)),w}).then(function(){return dE(o.b,a,u,b,o.tenantId)}).o(function(w){if(g=w,o.ha)return ME(o.ha);throw g}).then(function(){if(g)throw g}),pe(o,h,p)}function OE(o){if(!o.b||!o.P)throw o.b&&!o.P?new x("internal-error"):new x("auth-domain-config-required")}e.Lb=function(o,a,u,h){var p=this;this.c&&(this.c.cancel(),this.c=null);var g=null;return u=this.I().then(function(b){return Sm(p.a,{requestUri:o,postBody:h,sessionId:a,idToken:b})}).then(function(b){return g=Ec(p,b,"link"),kE(p,b)}).then(function(){return g}),pe(this,u)},e.Mb=function(o,a,u,h){var p=this;this.c&&(this.c.cancel(),this.c=null);var g=null,b=tt().then(function(){return as(Am(p.a,{requestUri:o,sessionId:a,postBody:h,tenantId:u}),p.uid)}).then(function(w){return g=Ec(p,w,"reauthenticate"),gi(p,w),p.i=null,p.reload()}).then(function(){return g});return pe(this,b,!0)},e.vb=function(o){var a=this,u=null;return pe(this,this.I().then(function(h){return u=h,typeof o>"u"||zr(o)?{}:Ml(new Pl(o))}).then(function(h){return a.a.vb(u,h)}).then(function(h){if(a.email!=h)return a.reload()}).then(function(){}))},e.Fb=function(o,a){var u=this,h=null;return pe(this,this.I().then(function(p){return h=p,typeof a>"u"||zr(a)?{}:Ml(new Pl(a))}).then(function(p){return u.a.Fb(h,o,p)}).then(function(p){if(u.email!=p)return u.reload()}).then(function(){}))};function pe(o,a,u){var h=uN(o,a,u);return o.N.push(h),h.oa(function(){gl(o.N,h)}),h.o(function(p){var g=null;throw p&&p.code==="auth/multi-factor-auth-required"&&(g=_E(p.w(),hg(o),F(o.jc,o))),g||p})}e.jc=function(o){var a=null,u=this;return o=as(tt(o),u.uid).then(function(h){return a=Ec(u,h,"reauthenticate"),gi(u,h),u.i=null,u.reload()}).then(function(){return a}),pe(this,o,!0)};function uN(o,a,u){return o.i&&!u?(a.cancel(),jt(o.i)):a.o(function(h){throw!h||h.code!="auth/user-disabled"&&h.code!="auth/user-token-expired"||(o.i||o.dispatchEvent(new fs("userInvalidated")),o.i=h),h})}e.toJSON=function(){return this.w()},e.w=function(){var o={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&tn(o,this.metadata.w()),Ht(this.providerData,function(a){o.providerData.push(PO(a))}),tn(o,this.S.w()),o};function PE(o){if(!o.apiKey)return null;var a={apiKey:o.apiKey,authDomain:o.authDomain,appName:o.appName,emulatorConfig:o.emulatorConfig},u={};if(o.stsTokenManager&&o.stsTokenManager.accessToken){u[Jn]=o.stsTokenManager.accessToken,u.refreshToken=o.stsTokenManager.refreshToken||null;var h=o.stsTokenManager.expirationTime;h&&(u.expiresIn=(h-Date.now())/1e3)}else return null;var p=new yn(a,u,o);return o.providerData&&Ht(o.providerData,function(g){g&&vg(p,pi(g))}),o.redirectEventId&&(p.ga=o.redirectEventId),p}function lN(o,a,u,h){var p=new yn(o,a);return u&&(p.ha=u),h&&wc(p,h),p.reload().then(function(){return p})}function dN(o,a,u,h){var p=o.h,g={};return g[Jn]=p.b&&p.b.toString(),g.refreshToken=p.a,a=new yn(a||{apiKey:o.l,authDomain:o.s,appName:o.m},g),u&&(a.ha=u),h&&wc(a,h),hd(a,o),a}function hN(o){this.a=o,this.b=_c()}var yg={name:"redirectUser",F:"session"};function ME(o){return hs(o.b,yg,o.a)}function fN(o,a){return o.b.get(yg,o.a).then(function(u){return u&&a&&(u.authDomain=a),PE(u||{})})}function _g(o){this.a=o,this.b=_c(),this.c=null,this.f=pN(this),this.b.addListener(vi("local"),this.a,F(this.g,this))}_g.prototype.g=function(){var o=this,a=vi("local");ps(this,function(){return tt().then(function(){return o.c&&o.c.F!="local"?o.b.get(a,o.a):null}).then(function(u){if(u)return wg(o,"local").then(function(){o.c=a})})})};function wg(o,a){var u=[],h;for(h in ls)ls[h]!==a&&u.push(hs(o.b,vi(ls[h]),o.a));return u.push(hs(o.b,Ig,o.a)),iO(u)}function pN(o){var a=vi("local"),u=vi("session"),h=vi("none");return kM(o.b,a,o.a).then(function(){return o.b.get(u,o.a)}).then(function(p){return p?u:o.b.get(h,o.a).then(function(g){return g?h:o.b.get(a,o.a).then(function(b){return b?a:o.b.get(Ig,o.a).then(function(w){return w?vi(w):a})})})}).then(function(p){return o.c=p,wg(o,p.F)}).o(function(){o.c||(o.c=a)})}var Ig={name:"persistence",F:"session"};function vi(o){return{name:"authUser",F:o}}_g.prototype.yb=function(o){var a=null,u=this;return AM(o),ps(this,function(){return o!=u.c.F?u.b.get(u.c,u.a).then(function(h){return a=h,wg(u,o)}).then(function(){if(u.c=vi(o),a)return u.b.set(u.c,a,u.a)}):tt()})};function mN(o){return ps(o,function(){return o.b.set(Ig,o.c.F,o.a)})}function NE(o,a){return ps(o,function(){return o.b.set(o.c,a.w(),o.a)})}function LE(o){return ps(o,function(){return hs(o.b,o.c,o.a)})}function FE(o,a,u){return ps(o,function(){return o.b.get(o.c,o.a).then(function(h){return h&&a&&(h.authDomain=a),h&&u&&(h.emulatorConfig=u),PE(h||{})})})}function ps(o,a){return o.f=o.f.then(a,a),o.f}function ti(o){if(this.l=!1,$(this,"settings",new vE),$(this,"app",o),Pt(this).options&&Pt(this).options.apiKey)o=it.SDK_VERSION?is(it.SDK_VERSION):null,this.a=new Zn(Pt(this).options&&Pt(this).options.apiKey,za(qa),o);else throw new x("invalid-api-key");this.P=[],this.s=[],this.N=[],this.Pa=it.INTERNAL.createSubscribe(F(this.zc,this)),this.W=void 0,this.ib=it.INTERNAL.createSubscribe(F(this.Ac,this)),ms(this,null),this.i=new _g(Pt(this).options.apiKey+":"+Pt(this).name),this.D=new hN(Pt(this).options.apiKey+":"+Pt(this).name),this.$=Yt(this,wN(this)),this.h=Yt(this,IN(this)),this.ba=!1,this.ja=F(this.Zc,this),this.Ba=F(this.da,this),this.qa=F(this.mc,this),this.za=F(this.wc,this),this.Aa=F(this.xc,this),this.b=null,bN(this),this.INTERNAL={},this.INTERNAL.delete=F(this.delete,this),this.INTERNAL.logFramework=F(this.Gc,this),this.u=0,ze.call(this),vN(this),this.J=[],this.R=null}K(ti,ze);function jE(o){nn.call(this,"languageCodeChanged"),this.h=o}K(jE,nn);function UE(o){nn.call(this,"emulatorConfigChanged"),this.c=o}K(UE,nn);function VE(o){nn.call(this,"frameworkChanged"),this.f=o}K(VE,nn),e=ti.prototype,e.yb=function(o){return o=this.i.yb(o),Yt(this,o)},e.xa=function(o){this.aa===o||this.l||(this.aa=o,_I(this.a,this.aa),this.dispatchEvent(new jE(this.la())))},e.la=function(){return this.aa},e.fd=function(){var o=d.navigator;this.xa(o&&(o.languages&&o.languages[0]||o.language||o.userLanguage)||null)},e.gd=function(o,a){if(!this.R){if(!/^https?:\/\//.test(o))throw new x("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");a=a?!!a.disableWarnings:!1,gN(a),this.R={url:o,ec:a},this.settings.jb=!0,Jl(this.a,this.R),this.dispatchEvent(new UE(this.R))}};function gN(o){typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),d.document&&!o&&Dl().then(function(){var a=d.document.createElement("div");a.innerText="Running in emulator mode. Do not use with production credentials.",a.style.position="fixed",a.style.width="100%",a.style.backgroundColor="#ffffff",a.style.border=".1em solid #000000",a.style.color="#b50000",a.style.bottom="0px",a.style.left="0px",a.style.margin="0px",a.style.zIndex=1e4,a.style.textAlign="center",a.classList.add("firebase-emulator-warning"),d.document.body.appendChild(a)})}e.Gc=function(o){this.J.push(o),wI(this.a,it.SDK_VERSION?is(it.SDK_VERSION,this.J):null),this.dispatchEvent(new VE(this.J))},e.Ga=function(){return Br(this.J)},e.zb=function(o){this.S===o||this.l||(this.S=o,this.a.b=this.S)},e.T=function(){return this.S};function vN(o){Object.defineProperty(o,"lc",{get:function(){return this.la()},set:function(a){this.xa(a)},enumerable:!1}),o.aa=null,Object.defineProperty(o,"ti",{get:function(){return this.T()},set:function(a){this.zb(a)},enumerable:!1}),o.S=null,Object.defineProperty(o,"emulatorConfig",{get:function(){if(this.R){var a=rn(this.R.url);a=pi({protocol:a.c,host:a.a,port:a.g,options:pi({disableWarnings:this.R.ec})})}else a=null;return a},enumerable:!1})}e.toJSON=function(){return{apiKey:Pt(this).options.apiKey,authDomain:Pt(this).options.authDomain,appName:Pt(this).name,currentUser:lt(this)&&lt(this).w()}};function Eg(o){return o.Oa||jt(new x("auth-domain-config-required"))}function bN(o){var a=Pt(o).options.authDomain,u=Pt(o).options.apiKey;a&&Yr()&&(o.Oa=o.$.then(function(){if(!o.l){if(o.b=Zm(a,u,Pt(o).name,o.R),ad(o.b,o),lt(o)&&Ic(lt(o)),o.m){Ic(o.m);var h=o.m;h.xa(o.la()),ug(h,o),h=o.m,wc(h,o.J),dg(h,o),h=o.m,cg(h,o.R),lg(h,o),o.m=null}return o.b}}))}e.Gb=function(o,a){switch(o){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==a&&!!this.f;default:return!1}},e.na=function(o,a,u,h){o=="signInViaPopup"&&this.g==h&&(u&&this.C?this.C(u):a&&!u&&this.f&&this.f(a),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(o,a){return o=="signInViaRedirect"||o=="signInViaPopup"&&this.g==a&&this.f?F(this.ic,this):null},e.ic=function(o,a,u,h){var p=this,g={requestUri:o,postBody:h,sessionId:a,tenantId:u};return this.c&&(this.c.cancel(),this.c=null),p.$.then(function(){return ao(p,Tm(p.a,g))})},e.Xc=function(o){if(!Yr())return jt(new x("operation-not-supported-in-this-environment"));var a=this,u=tm(o.providerId),h=Xr(),p=null;(!Ja()||Fp())&&Pt(this).options.authDomain&&o.isOAuthProvider&&(p=gc(Pt(this).options.authDomain,Pt(this).options.apiKey,Pt(this).name,"signInViaPopup",o,null,h,it.SDK_VERSION||null,null,null,this.T(),this.R));var g=yw(p,u&&u.va,u&&u.ua);return u=Eg(this).then(function(b){return lE(b,g,"signInViaPopup",o,h,!!p,a.T())}).then(function(){return new bt(function(b,w){a.na("signInViaPopup",null,new x("cancelled-popup-request"),a.g),a.f=b,a.C=w,a.g=h,a.c=hE(a.b,a,"signInViaPopup",g,h)})}).then(function(b){return g&&Kr(g),b?pi(b):null}).o(function(b){throw g&&Kr(g),b}),Yt(this,u)},e.Yc=function(o){if(!Yr())return jt(new x("operation-not-supported-in-this-environment"));var a=this,u=Eg(this).then(function(){return mN(a.i)}).then(function(){return dE(a.b,"signInViaRedirect",o,void 0,a.T())});return Yt(this,u)};function BE(o){if(!Yr())return jt(new x("operation-not-supported-in-this-environment"));var a=Eg(o).then(function(){return o.b.ra()}).then(function(u){return u?pi(u):null});return Yt(o,a)}e.ra=function(){var o=this;return BE(this).then(function(a){return o.b&&ud(o.b.b),a}).o(function(a){throw o.b&&ud(o.b.b),a})},e.dd=function(o){if(!o)return jt(new x("null-user"));if(this.S!=o.tenantId)return jt(new x("tenant-id-mismatch"));var a=this,u={};u.apiKey=Pt(this).options.apiKey,u.authDomain=Pt(this).options.authDomain,u.appName=Pt(this).name;var h=dN(o,u,a.D,a.Ga());return Yt(this,this.h.then(function(){if(Pt(a).options.apiKey!=o.l)return h.reload()}).then(function(){return lt(a)&&o.uid==lt(a).uid?(hd(lt(a),o),a.da(o)):(ms(a,h),Ic(h),a.da(h))}).then(function(){xc(a)}))};function yN(o,a){var u={};return u.apiKey=Pt(o).options.apiKey,u.authDomain=Pt(o).options.authDomain,u.appName=Pt(o).name,o.R&&(u.emulatorConfig=o.R),o.$.then(function(){return lN(u,a,o.D,o.Ga())}).then(function(h){return lt(o)&&h.uid==lt(o).uid?(hd(lt(o),h),o.da(h)):(ms(o,h),Ic(h),o.da(h))}).then(function(){xc(o)})}function ms(o,a){lt(o)&&(sN(lt(o),o.Ba),vn(lt(o),"tokenChanged",o.qa),vn(lt(o),"userDeleted",o.za),vn(lt(o),"userInvalidated",o.Aa),fg(lt(o))),a&&(a.W.push(o.Ba),Nn(a,"tokenChanged",o.qa),Nn(a,"userDeleted",o.za),Nn(a,"userInvalidated",o.Aa),0<o.u&&CE(a)),$(o,"currentUser",a),a&&(a.xa(o.la()),ug(a,o),wc(a,o.J),dg(a,o),cg(a,o.R),lg(a,o))}e.Bb=function(){var o=this,a=this.h.then(function(){return o.b&&ud(o.b.b),lt(o)?(ms(o,null),LE(o.i).then(function(){xc(o)})):tt()});return Yt(this,a)};function _N(o){var a=fN(o.D,Pt(o).options.authDomain).then(function(u){return(o.m=u)&&(u.ha=o.D),ME(o.D)});return Yt(o,a)}function wN(o){var a=Pt(o).options.authDomain,u=_N(o).then(function(){return FE(o.i,a,o.R)}).then(function(h){return h?(h.ha=o.D,o.m&&(o.m.ga||null)==(h.ga||null)?h:h.reload().then(function(){return NE(o.i,h).then(function(){return h})}).o(function(p){return p.code=="auth/network-request-failed"?h:LE(o.i)})):null}).then(function(h){ms(o,h||null)});return Yt(o,u)}function IN(o){return o.$.then(function(){return BE(o)}).o(function(){}).then(function(){if(!o.l)return o.ja()}).o(function(){}).then(function(){if(!o.l){o.ba=!0;var a=o.i;a.b.addListener(vi("local"),a.a,o.ja)}})}e.Zc=function(){var o=this;return FE(this.i,Pt(this).options.authDomain).then(function(a){if(!o.l){var u;if(u=lt(o)&&a){u=lt(o).uid;var h=a.uid;u=u==null||u===""||h===void 0||h===null||h===""?!1:u==h}if(u)return hd(lt(o),a),lt(o).I();(lt(o)||a)&&(ms(o,a),a&&(Ic(a),a.ha=o.D),o.b&&ad(o.b,o),xc(o))}})},e.da=function(o){return NE(this.i,o)},e.mc=function(){xc(this),this.da(lt(this))},e.wc=function(){this.Bb()},e.xc=function(){this.Bb()};function ao(o,a){var u=null,h=null;return Yt(o,a.then(function(p){return u=sm(p),h=Ww(p),yN(o,p)},function(p){var g=null;throw p&&p.code==="auth/multi-factor-auth-required"&&(g=_E(p.w(),o,F(o.kc,o))),g||p}).then(function(){return pi({user:lt(o),credential:u,additionalUserInfo:h,operationType:"signIn"})}))}e.kc=function(o){var a=this;return this.h.then(function(){return ao(a,tt(o))})},e.zc=function(o){var a=this;this.addAuthTokenListener(function(){o.next(lt(a))})},e.Ac=function(o){var a=this;EN(this,function(){o.next(lt(a))})},e.Ic=function(o,a,u){var h=this;return this.ba&&Promise.resolve().then(function(){typeof o=="function"?o(lt(h)):typeof o.next=="function"&&o.next(lt(h))}),this.Pa(o,a,u)},e.Hc=function(o,a,u){var h=this;return this.ba&&Promise.resolve().then(function(){h.W=h.getUid(),typeof o=="function"?o(lt(h)):typeof o.next=="function"&&o.next(lt(h))}),this.ib(o,a,u)},e.nc=function(o){var a=this,u=this.h.then(function(){return lt(a)?lt(a).I(o).then(function(h){return{accessToken:h}}):null});return Yt(this,u)},e.Tc=function(o){var a=this;return this.h.then(function(){return ao(a,yt(a.a,iM,{token:o}))}).then(function(u){var h=u.user;return or(h,"isAnonymous",!1),a.da(h),u})},e.Uc=function(o,a){var u=this;return this.h.then(function(){return ao(u,yt(u.a,DI,{email:o,password:a}))})},e.dc=function(o,a){var u=this;return this.h.then(function(){return ao(u,yt(u.a,MP,{email:o,password:a}))})},e.ab=function(o){var a=this;return this.h.then(function(){return ao(a,o.ka(a.a))})},e.Sc=function(o){return Bp("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(o)},e.Ab=function(){var o=this;return this.h.then(function(){var a=lt(o);if(a&&a.isAnonymous){var u=pi({providerId:null,isNewUser:!1});return pi({user:a,credential:null,additionalUserInfo:u,operationType:"signIn"})}return ao(o,o.a.Ab()).then(function(h){var p=h.user;return or(p,"isAnonymous",!0),o.da(p),h})})};function Pt(o){return o.app}function lt(o){return o.currentUser}e.getUid=function(){return lt(this)&&lt(this).uid||null};function pd(o){return lt(o)&&lt(o)._lat||null}function xc(o){if(o.ba){for(var a=0;a<o.s.length;a++)o.s[a]&&o.s[a](pd(o));if(o.W!==o.getUid()&&o.N.length)for(o.W=o.getUid(),a=0;a<o.N.length;a++)o.N[a]&&o.N[a](pd(o))}}e.cc=function(o){this.addAuthTokenListener(o),this.u++,0<this.u&&lt(this)&&CE(lt(this))},e.Pc=function(o){var a=this;Ht(this.s,function(u){u==o&&a.u--}),0>this.u&&(this.u=0),this.u==0&&lt(this)&&fg(lt(this)),this.removeAuthTokenListener(o)},e.addAuthTokenListener=function(o){var a=this;this.s.push(o),Yt(this,this.h.then(function(){a.l||ki(a.s,o)&&o(pd(a))}))},e.removeAuthTokenListener=function(o){Kn(this.s,function(a){return a==o})};function EN(o,a){o.N.push(a),Yt(o,o.h.then(function(){!o.l&&ki(o.N,a)&&o.W!==o.getUid()&&(o.W=o.getUid(),a(pd(o)))}))}e.delete=function(){this.l=!0;for(var o=0;o<this.P.length;o++)this.P[o].cancel("app-deleted");return this.P=[],this.i&&(o=this.i,o.b.removeListener(vi("local"),o.a,this.ja)),this.b&&(Ym(this.b,this),ud(this.b.b)),Promise.resolve()};function Yt(o,a){return o.P.push(a),a.oa(function(){gl(o.P,a)}),a}e.hc=function(o){return Yt(this,CP(this.a,o))},e.Bc=function(o){return!!om(o)},e.xb=function(o,a){var u=this;return Yt(this,tt().then(function(){var h=new Pl(a);if(!h.c)throw new x("argument-error",Zp+" must be true when sending sign in link to email");return Ml(h)}).then(function(h){return u.a.xb(o,h)}).then(function(){}))},e.jd=function(o){return this.Sa(o).then(function(a){return a.data.email})},e.ob=function(o,a){return Yt(this,this.a.ob(o,a).then(function(){}))},e.Sa=function(o){return Yt(this,this.a.Sa(o).then(function(a){return new NO(a)}))},e.kb=function(o){return Yt(this,this.a.kb(o).then(function(){}))},e.wb=function(o,a){var u=this;return Yt(this,tt().then(function(){return typeof a>"u"||zr(a)?{}:Ml(new Pl(a))}).then(function(h){return u.a.wb(o,h)}).then(function(){}))},e.Wc=function(o,a){return Yt(this,tg(this,o,a,F(this.ab,this)))},e.Vc=function(o,a){var u=this;return Yt(this,tt().then(function(){var h=a||Za(),p=iI(o,h);if(h=om(h),!h)throw new x("argument-error","Invalid email link!");if(h.tenantId!==u.T())throw new x("tenant-id-mismatch");return u.ab(p)}))};function Cc(){}Cc.prototype.render=function(){},Cc.prototype.reset=function(){},Cc.prototype.getResponse=function(){},Cc.prototype.execute=function(){};function gs(){this.a={},this.b=1e12}var xg=null;gs.prototype.render=function(o,a){return this.a[this.b.toString()]=new md(o,a),this.b++},gs.prototype.reset=function(o){var a=Cg(this,o);o=zE(o),a&&o&&(a.delete(),delete this.a[o])},gs.prototype.getResponse=function(o){return(o=Cg(this,o))?o.getResponse():null},gs.prototype.execute=function(o){(o=Cg(this,o))&&o.execute()};function Cg(o,a){return(a=zE(a))&&o.a[a]||null}function zE(o){return(o=typeof o>"u"?1e12:o)?o.toString():null}function md(o,a){this.g=!1,this.c=a,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=Wa(o);var u=this;this.i=function(){u.execute()},this.h?this.execute():Nn(this.f,"click",this.i)}md.prototype.getResponse=function(){return Tg(this),this.b},md.prototype.execute=function(){Tg(this);var o=this;this.a||(this.a=setTimeout(function(){o.b=kO();var a=o.c.callback,u=o.c["expired-callback"];if(a)try{a(o.b)}catch{}o.a=setTimeout(function(){if(o.a=null,o.b=null,u)try{u()}catch{}o.h&&o.execute()},6e4)},500))},md.prototype.delete=function(){Tg(this),this.g=!0,clearTimeout(this.a),this.a=null,vn(this.f,"click",this.i)};function Tg(o){if(o.g)throw Error("reCAPTCHA mock was already deleted!")}function Sg(){}$(Sg,"FACTOR_ID","phone");function Ag(){}Ag.prototype.g=function(){return xg||(xg=new gs),tt(xg)},Ag.prototype.c=function(){};var kg=null;function Dg(){this.b=d.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var xN=new di(vl,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),CN=new nr(3e4,6e4);Dg.prototype.g=function(o){var a=this;return new bt(function(u,h){var p=setTimeout(function(){h(new x("network-request-failed"))},CN.get());if(!d.grecaptcha||o!==a.f&&!a.b){d[a.a]=function(){if(d.grecaptcha){a.f=o;var b=d.grecaptcha.render;d.grecaptcha.render=function(w,S){return w=b(w,S),a.b++,w},clearTimeout(p),u(d.grecaptcha)}else clearTimeout(p),h(new x("internal-error"));delete d[a.a]};var g=lp(xN,{onload:a.a,hl:o||""});tt(ym(g)).o(function(){clearTimeout(p),h(new x("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(p),u(d.grecaptcha)})},Dg.prototype.c=function(){this.b--};var Rg=null;function Og(o,a,u,h,p,g,b){if($(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=a,this.g=null,b?(kg||(kg=new Ag),b=kg):(Rg||(Rg=new Dg),b=Rg),this.m=b,this.a=u||{theme:"light",type:"image"},this.h=[],this.a[WE])throw new x("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[TN]==="invisible",!d.document)throw new x("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Wa(a)||!this.i&&Wa(a).hasChildNodes())throw new x("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Zn(o,g||null,p||null),this.u=h||function(){return null};var w=this;this.l=[];var S=this.a[qE];this.a[qE]=function(ot){if(GE(w,ot),typeof S=="function")S(ot);else if(typeof S=="string"){var Dt=Ut(S,d);typeof Dt=="function"&&Dt(ot)}};var O=this.a[HE];this.a[HE]=function(){if(GE(w,null),typeof O=="function")O();else if(typeof O=="string"){var ot=Ut(O,d);typeof ot=="function"&&ot()}}}var qE="callback",HE="expired-callback",WE="sitekey",TN="size";function GE(o,a){for(var u=0;u<o.l.length;u++)try{o.l[u](a)}catch{}}function SN(o,a){Kn(o.l,function(u){return u==a})}function Pg(o,a){return o.h.push(a),a.oa(function(){gl(o.h,a)}),a}e=Og.prototype,e.Ia=function(){var o=this;return this.f?this.f:this.f=Pg(this,tt().then(function(){if(Rl()&&!Xn())return Dl();throw new x("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return o.m.g(o.u())}).then(function(a){return o.g=a,yt(o.s,KP,{})}).then(function(a){o.a[WE]=a.recaptchaSiteKey}).o(function(a){throw o.f=null,a}))},e.render=function(){gd(this);var o=this;return Pg(this,this.Ia().then(function(){if(o.c===null){var a=o.v;if(!o.i){var u=Wa(a);a=JR("DIV"),u.appendChild(a)}o.c=o.g.render(a,o.a)}return o.c}))},e.verify=function(){gd(this);var o=this;return Pg(this,this.render().then(function(a){return new bt(function(u){var h=o.g.getResponse(a);if(h)u(h);else{var p=function(g){g&&(SN(o,p),u(g))};o.l.push(p),o.i&&o.g.execute(o.c)}})}))},e.reset=function(){gd(this),this.c!==null&&this.g.reset(this.c)};function gd(o){if(o.J)throw new x("internal-error","RecaptchaVerifier instance has been destroyed.")}e.clear=function(){gd(this),this.J=!0,this.m.c();for(var o=0;o<this.h.length;o++)this.h[o].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){o=Wa(this.v);for(var a;a=o.firstChild;)o.removeChild(a)}};function Mg(o,a,u){var h=!1;try{this.b=u||it.app()}catch{throw new x("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)u=this.b.options.apiKey;else throw new x("invalid-api-key");var p=this,g=null;try{g=this.b.auth().Ga()}catch{}try{h=this.b.auth().settings.appVerificationDisabledForTesting}catch{}g=it.SDK_VERSION?is(it.SDK_VERSION,g):null,Og.call(this,u,o,a,function(){try{var b=p.b.auth().la()}catch{b=null}return b},g,za(qa),h)}K(Mg,Og);function $E(o,a,u,h){t:{u=Array.prototype.slice.call(u);for(var p=0,g=!1,b=0;b<a.length;b++)if(a[b].optional)g=!0;else{if(g)throw new x("internal-error","Argument validator encountered a required argument after an optional argument.");p++}if(g=a.length,u.length<p||g<u.length)h="Expected "+(p==g?p==1?"1 argument":p+" arguments":p+"-"+g+" arguments")+" but got "+u.length+".";else{for(p=0;p<u.length;p++)if(g=a[p].optional&&u[p]===void 0,!a[p].M(u[p])&&!g){if(a=a[p],0>p||p>=KE.length)throw new x("internal-error","Argument validator received an unsupported number of arguments.");u=KE[p],h=(h?"":u+" argument ")+(a.name?'"'+a.name+'" ':"")+"must be "+a.K+".";break t}h=null}}if(h)throw new x("argument-error",o+" failed: "+h)}var KE="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function G(o,a){return{name:o||"",K:"a valid string",optional:!!a,M:function(u){return typeof u=="string"}}}function Ng(o,a){return{name:o||"",K:"a boolean",optional:!!a,M:function(u){return typeof u=="boolean"}}}function oe(o,a){return{name:o||"",K:"a valid object",optional:!!a,M:C}}function vs(o,a){return{name:o||"",K:"a function",optional:!!a,M:function(u){return typeof u=="function"}}}function bi(o,a){return{name:o||"",K:"null",optional:!!a,M:function(u){return u===null}}}function AN(){return{name:"",K:"an HTML element",optional:!1,M:function(o){return!!(o&&o instanceof Element)}}}function kN(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(o){return!!(o&&o instanceof ti)}}}function DN(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(o){return!!(o&&o instanceof it.app.App)}}}function sr(o){return{name:o?o+"Credential":"credential",K:o?"a valid "+o+" credential":"a valid credential",optional:!1,M:function(a){if(!a)return!1;var u=!o||a.providerId===o;return!(!a.ka||!u)}}}function YE(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(o){return o?!!o.tb:!1}}}function bs(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(o){return!!(o&&o.providerId&&o.hasOwnProperty&&o.hasOwnProperty("isOAuthProvider"))}}}function Lg(o,a){return C(o)&&typeof o.type=="string"&&o.type===a&&typeof o.Ha=="function"}function XE(o){return C(o)&&typeof o.uid=="string"}function vd(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(o){return!(!o||typeof o.type!="string"||typeof o.verify!="function")}}}function ee(o,a,u,h){return{name:u||"",K:o.K+" or "+a.K,optional:!!h,M:function(p){return o.M(p)||a.M(p)}}}function Wt(o,a){for(var u in a){var h=a[u].name;o[h]=ZE(h,o[u],a[u].j)}}function QE(o,a){for(var u in a){var h=a[u].name;h!==u&&Object.defineProperty(o,h,{get:Ot(function(p){return this[p]},u),set:Ot(function(p,g,b,w){$E(p,[b],[w],!0),this[g]=w},h,u,a[u].lb),enumerable:!0})}}function ne(o,a,u,h){o[a]=ZE(a,u,h)}function ZE(o,a,u){function h(){var b=Array.prototype.slice.call(arguments);return $E(p,u,b),a.apply(this,b)}if(!u)return a;var p=RN(o),g;for(g in a)h[g]=a[g];for(g in a.prototype)h.prototype[g]=a.prototype[g];return h}function RN(o){return o=o.split("."),o[o.length-1]}Wt(ti.prototype,{kb:{name:"applyActionCode",j:[G("code")]},Sa:{name:"checkActionCode",j:[G("code")]},ob:{name:"confirmPasswordReset",j:[G("code"),G("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[G("email"),G("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[G("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[G("emailLink")]},Hc:{name:"onAuthStateChanged",j:[ee(oe(),vs(),"nextOrObserver"),vs("opt_error",!0),vs("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[ee(oe(),vs(),"nextOrObserver"),vs("opt_error",!0),vs("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[G("email"),ee(oe("opt_actionCodeSettings",!0),bi(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[G("email"),oe("actionCodeSettings")]},yb:{name:"setPersistence",j:[G("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[sr()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[sr()]},Tc:{name:"signInWithCustomToken",j:[G("token")]},Uc:{name:"signInWithEmailAndPassword",j:[G("email"),G("password")]},Vc:{name:"signInWithEmailLink",j:[G("email"),G("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[G("phoneNumber"),vd()]},Xc:{name:"signInWithPopup",j:[bs()]},Yc:{name:"signInWithRedirect",j:[bs()]},dd:{name:"updateCurrentUser",j:[ee(function(o){return{name:"user",K:"an instance of Firebase User",optional:!!o,M:function(a){return!!(a&&a instanceof yn)}}}(),bi(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[G(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[G("url"),oe("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[G("code")]}}),QE(ti.prototype,{lc:{name:"languageCode",lb:ee(G(),bi(),"languageCode")},ti:{name:"tenantId",lb:ee(G(),bi(),"tenantId")}}),ti.Persistence=ls,ti.Persistence.LOCAL="local",ti.Persistence.SESSION="session",ti.Persistence.NONE="none",Wt(yn.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Ng("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Ng("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[sr()]},rb:{name:"linkWithCredential",j:[sr()]},Dc:{name:"linkWithPhoneNumber",j:[G("phoneNumber"),vd()]},Ec:{name:"linkWithPopup",j:[bs()]},Fc:{name:"linkWithRedirect",j:[bs()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[sr()]},ub:{name:"reauthenticateWithCredential",j:[sr()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[G("phoneNumber"),vd()]},Nc:{name:"reauthenticateWithPopup",j:[bs()]},Oc:{name:"reauthenticateWithRedirect",j:[bs()]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[ee(oe("opt_actionCodeSettings",!0),bi(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[G(null,!0)]},cd:{name:"unlink",j:[G("provider")]},Cb:{name:"updateEmail",j:[G("email")]},Db:{name:"updatePassword",j:[G("password")]},ed:{name:"updatePhoneNumber",j:[sr("phone")]},Eb:{name:"updateProfile",j:[oe("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[G("email"),ee(oe("opt_actionCodeSettings",!0),bi(null,!0),"opt_actionCodeSettings",!0)]}}),Wt(gs.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Wt(Cc.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Wt(bt.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),QE(vE.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Ng("appVerificationDisabledForTesting")}}),Wt(Jm.prototype,{confirm:{name:"confirm",j:[G("verificationCode")]}}),ne(ss,"fromJSON",function(o){o=typeof o=="string"?JSON.parse(o):o;for(var a,u=[JO,tP,eP,ZO],h=0;h<u.length;h++)if(a=u[h](o))return a;return null},[ee(G(),oe(),"json")]),ne(Fn,"credential",function(o,a){return new ir(o,a)},[G("email"),G("password")]),Wt(ir.prototype,{w:{name:"toJSON",j:[G(null,!0)]}}),Wt(Jr.prototype,{Ca:{name:"addScope",j:[G("scope")]},Ka:{name:"setCustomParameters",j:[oe("customOAuthParameters")]}}),ne(Jr,"credential",Jw,[ee(G(),oe(),"token")]),ne(Fn,"credentialWithLink",iI,[G("email"),G("emailLink")]),Wt(to.prototype,{Ca:{name:"addScope",j:[G("scope")]},Ka:{name:"setCustomParameters",j:[oe("customOAuthParameters")]}}),ne(to,"credential",tI,[ee(G(),oe(),"token")]),Wt(eo.prototype,{Ca:{name:"addScope",j:[G("scope")]},Ka:{name:"setCustomParameters",j:[oe("customOAuthParameters")]}}),ne(eo,"credential",eI,[ee(G(),ee(oe(),bi()),"idToken"),ee(G(),bi(),"accessToken",!0)]),Wt(cs.prototype,{Ka:{name:"setCustomParameters",j:[oe("customOAuthParameters")]}}),ne(cs,"credential",nI,[ee(G(),oe(),"token"),G("secret",!0)]),Wt(bn.prototype,{Ca:{name:"addScope",j:[G("scope")]},credential:{name:"credential",j:[ee(G(),ee(oe(),bi()),"optionsOrIdToken"),ee(G(),bi(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[oe("customOAuthParameters")]}}),Wt(Ri.prototype,{w:{name:"toJSON",j:[G(null,!0)]}}),Wt(Qr.prototype,{w:{name:"toJSON",j:[G(null,!0)]}}),ne(Oi,"credential",rI,[G("verificationId"),G("verificationCode")]),Wt(Oi.prototype,{gb:{name:"verifyPhoneNumber",j:[ee(G(),function(o,a){return{name:o||"phoneInfoOptions",K:"valid phone info options",optional:!!a,M:function(u){return u?u.session&&u.phoneNumber?Lg(u.session,oc)&&typeof u.phoneNumber=="string":u.session&&u.multiFactorHint?Lg(u.session,Ul)&&XE(u.multiFactorHint):u.session&&u.multiFactorUid?Lg(u.session,Ul)&&typeof u.multiFactorUid=="string":u.phoneNumber?typeof u.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),vd()]}}),Wt(rr.prototype,{w:{name:"toJSON",j:[G(null,!0)]}}),Wt(x.prototype,{toJSON:{name:"toJSON",j:[G(null,!0)]}}),Wt(ac.prototype,{toJSON:{name:"toJSON",j:[G(null,!0)]}}),Wt(um.prototype,{toJSON:{name:"toJSON",j:[G(null,!0)]}}),Wt(ng.prototype,{toJSON:{name:"toJSON",j:[G(null,!0)]}}),Wt(eg.prototype,{Rc:{name:"resolveSignIn",j:[YE()]}}),Wt(rg.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[YE(),G("displayName",!0)]},bd:{name:"unenroll",j:[ee({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:XE},G(),"multiFactorInfoIdentifier")]}}),Wt(Mg.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),ne(Qp,"parseLink",Nw,[G("link")]),ne(Sg,"assertion",function(o){return new IE(o)},[sr("phone")]),function(){if(typeof it<"u"&&it.INTERNAL&&it.INTERNAL.registerComponent){var o={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Ol,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:Xp,VERIFY_AND_CHANGE_EMAIL:ic,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:ti,AuthCredential:ss,Error:x};ne(o,"EmailAuthProvider",Fn,[]),ne(o,"FacebookAuthProvider",Jr,[]),ne(o,"GithubAuthProvider",to,[]),ne(o,"GoogleAuthProvider",eo,[]),ne(o,"TwitterAuthProvider",cs,[]),ne(o,"OAuthProvider",bn,[G("providerId")]),ne(o,"SAMLAuthProvider",Zw,[G("providerId")]),ne(o,"PhoneAuthProvider",Oi,[kN()]),ne(o,"RecaptchaVerifier",Mg,[ee(G(),AN(),"recaptchaContainer"),oe("recaptchaParameters",!0),DN()]),ne(o,"ActionCodeURL",Qp,[]),ne(o,"PhoneMultiFactorGenerator",Sg,[]),it.INTERNAL.registerComponent({name:"auth",instanceFactory:function(a){return a=a.getProvider("app").getImmediate(),new ti(a)},multipleInstances:!1,serviceProps:o,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(a){a.getProvider("auth-internal").initialize()}}),it.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(a){return a=a.getProvider("auth").getImmediate(),{getUid:F(a.getUid,a),getToken:F(a.nc,a),addAuthTokenListener:F(a.cc,a),removeAuthTokenListener:F(a.Pc,a)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),it.registerVersion("@firebase/auth","0.16.8"),it.INTERNAL.extendNamespace({User:yn})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})});var H2={};var _T=_n(()=>{"use strict";yT()});function W2(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");wb(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function PT(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function bh(){}function Ib(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function bu(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function $2(e){return Object.prototype.hasOwnProperty.call(e,fb)&&e[fb]||(e[fb]=++K2)}function Y2(e,t,n){return e.call.apply(e.bind,arguments)}function X2(e,t,n){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),e.apply(t,r)}}return function(){return e.apply(t,arguments)}}function Ce(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ce=Y2:Ce=X2,Ce.apply(null,arguments)}function hh(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),e.apply(this,i)}}function Se(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(i,r,s){for(var c=Array(arguments.length-2),l=2;l<arguments.length;l++)c[l-2]=arguments[l];return t.prototype[r].apply(i,c)}}function wr(){this.s=this.s,this.o=this.o}function J2(e){t:{for(var t=Hj,n=e.length,i=typeof e=="string"?e.split(""):e,r=0;r<n;r++)if(r in i&&t.call(void 0,i[r],r,e)){t=r;break t}t=-1}return 0>t?null:typeof e=="string"?e.charAt(t):e[t]}function IT(e){return Array.prototype.concat.apply([],arguments)}function Nb(e){var t=e.length;if(0<t){for(var n=Array(t),i=0;i<t;i++)n[i]=e[i];return n}return[]}function yh(e){return/^[\s\xa0]*$/.test(e)}function Ge(e,t){return e.indexOf(t)!=-1}function pb(e,t){return e<t?-1:e>t?1:0}function Lb(e,t,n){for(var i in e)t.call(n,e[i],i,e)}function LT(e){var t={};for(var n in e)t[n]=e[n];return t}function FT(e,t){for(var n,i,r=1;r<arguments.length;r++){i=arguments[r];for(n in i)e[n]=i[n];for(var s=0;s<xT.length;s++)n=xT[s],Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}}function Fb(e){return Fb[" "](e),e}function tj(e){var t=ij;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}function VT(){var e=st.document;return e?e.documentMode:void 0}function rj(){return tj(function(){for(var e=0,t=ET(String(_h)).split("."),n=ET("9").split("."),i=Math.max(t.length,n.length),r=0;e==0&&r<i;r++){var s=t[r]||"",c=n[r]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],s[0].length==0&&c[0].length==0)break;e=pb(s[1].length==0?0:parseInt(s[1],10),c[1].length==0?0:parseInt(c[1],10))||pb(s[2].length==0,c[2].length==0)||pb(s[2],c[2]),s=s[3],c=c[3]}while(e==0)}return 0<=e})}function Le(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function fu(e,t){if(Le.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,i=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(UT){t:{try{Fb(t.nodeName);var r=!0;break t}catch{}r=!1}r||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:aj[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&fu.Z.h.call(this)}}function uj(e,t,n,i,r){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!i,this.ia=r,this.key=++cj,this.ca=this.fa=!1}function Sh(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Ah(e){this.src=e,this.g={},this.h=0}function Cb(e,t){var n=t.type;if(n in e.g){var i=e.g[n],r=MT(i,t),s;(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(Sh(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function Tb(e,t,n,i){for(var r=0;r<e.length;++r){var s=e[r];if(!s.ca&&s.listener==t&&s.capture==!!n&&s.ia==i)return r}return-1}function BT(e,t,n,i,r){if(i&&i.once)return qT(e,t,n,i,r);if(Array.isArray(t)){for(var s=0;s<t.length;s++)BT(e,t[s],n,i,r);return null}return n=Bb(n),e&&e[yu]?e.N(t,n,bu(i)?!!i.capture:!!i,r):zT(e,t,n,!1,i,r)}function zT(e,t,n,i,r,s){if(!t)throw Error("Invalid event type");var c=bu(r)?!!r.capture:!!r,l=Vb(e);if(l||(e[jb]=l=new Ah(e)),n=l.add(t,n,i,c,s),n.proxy)return n;if(i=lj(),n.proxy=i,i.src=e,i.listener=n,e.addEventListener)sj||(r=c),r===void 0&&(r=!1),e.addEventListener(t.toString(),i,r);else if(e.attachEvent)e.attachEvent(WT(t.toString()),i);else if(e.addListener&&e.removeListener)e.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function lj(){function e(n){return t.call(e.src,e.listener,n)}var t=dj;return e}function qT(e,t,n,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++)qT(e,t[s],n,i,r);return null}return n=Bb(n),e&&e[yu]?e.O(t,n,bu(i)?!!i.capture:!!i,r):zT(e,t,n,!0,i,r)}function HT(e,t,n,i,r){if(Array.isArray(t))for(var s=0;s<t.length;s++)HT(e,t[s],n,i,r);else i=bu(i)?!!i.capture:!!i,n=Bb(n),e&&e[yu]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=Tb(s,n,i,r),-1<n&&(Sh(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=Vb(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Tb(t,n,i,r)),(n=-1<e?t[e]:null)&&Ub(n))}function Ub(e){if(typeof e!="number"&&e&&!e.ca){var t=e.src;if(t&&t[yu])Cb(t.i,e);else{var n=e.type,i=e.proxy;t.removeEventListener?t.removeEventListener(n,i,e.capture):t.detachEvent?t.detachEvent(WT(n),i):t.addListener&&t.removeListener&&t.removeListener(i),(n=Vb(t))?(Cb(n,e),n.h==0&&(n.src=null,t[jb]=null)):Sh(e)}}}function WT(e){return e in bb?bb[e]:bb[e]="on"+e}function dj(e,t){if(e.ca)e=!0;else{t=new fu(t,this);var n=e.listener,i=e.ia||e.src;e.fa&&Ub(e),e=n.call(i,t)}return e}function Vb(e){return e=e[jb],e instanceof Ah?e:null}function Bb(e){return typeof e=="function"?e:(e[yb]||(e[yb]=function(t){return e.handleEvent(t)}),e[yb])}function Ie(){wr.call(this),this.i=new Ah(this),this.P=this,this.I=null}function Te(e,t){var n,i=e.I;if(i)for(n=[];i;i=i.I)n.push(i);if(e=e.P,i=t.type||t,typeof t=="string")t=new Le(t,e);else if(t instanceof Le)t.target=t.target||e;else{var r=t;t=new Le(i,e),FT(t,r)}if(r=!0,n)for(var s=n.length-1;0<=s;s--){var c=t.g=n[s];r=gh(c,i,!0,t)&&r}if(c=t.g=e,r=gh(c,i,!0,t)&&r,r=gh(c,i,!1,t)&&r,n)for(s=0;s<n.length;s++)c=t.g=n[s],r=gh(c,i,!1,t)&&r}function gh(e,t,n,i){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var r=!0,s=0;s<t.length;++s){var c=t[s];if(c&&!c.ca&&c.capture==n){var l=c.listener,d=c.ia||c.src;c.fa&&Cb(e.i,c),r=l.call(d,i)!==!1&&r}}return r&&!i.defaultPrevented}function hj(){var e=$T,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}function mj(e){st.setTimeout(function(){throw e},0)}function qb(e,t){Sb||gj(),Ab||(Sb(),Ab=!0),$T.add(e,t)}function gj(){var e=st.Promise.resolve(void 0);Sb=function(){e.then(vj)}}function vj(){for(var e;e=hj();){try{e.h.call(e.g)}catch(n){mj(n)}var t=GT;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Ab=!1}function kh(e,t){Ie.call(this),this.h=e||1,this.g=t||st,this.j=Ce(this.kb,this),this.l=Date.now()}function Hb(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Wb(e,t,n){if(typeof e=="function")n&&(e=Ce(e,n));else if(e&&typeof e.handleEvent=="function")e=Ce(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:st.setTimeout(e,t||0)}function KT(e){e.g=Wb(function(){e.g=null,e.i&&(e.i=!1,KT(e))},e.j);var t=e.h;e.h=null,e.m.apply(null,t)}function pu(e){wr.call(this),this.h=e,this.g={}}function YT(e,t,n,i){Array.isArray(n)||(n&&(CT[0]=n.toString()),n=CT);for(var r=0;r<n.length;r++){var s=BT(t,n[r],i||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function XT(e){Lb(e.g,function(t,n){this.g.hasOwnProperty(n)&&Ub(t)},e),e.g={}}function Dh(){this.g=!0}function yj(e,t,n,i,r,s){e.info(function(){if(e.g)if(s)for(var c="",l=s.split("&"),d=0;d<l.length;d++){var f=l[d].split("=");if(1<f.length){var m=f[0];f=f[1];var v=m.split("_");c=2<=v.length&&v[1]=="type"?c+(m+"="+f+"&"):c+(m+"=redacted&")}}else c=null;else c=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+`
`+n+`
`+c})}function _j(e,t,n,i,r,s,c){e.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+`
`+n+`
`+s+" "+c})}function Ws(e,t,n,i){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+Ij(e,n)+(i?" "+i:"")})}function wj(e,t){e.info(function(){return"TIMEOUT: "+t})}function Ij(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var i=n[e];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if(s!="noop"&&s!="stop"&&s!="close")for(var c=1;c<r.length;c++)r[c]=""}}}}return zb(n)}catch{return t}}function Rh(){return TT=TT||new Ie}function QT(e){Le.call(this,xo.Ma,e)}function mu(e){var t=Rh();Te(t,new QT(t,e))}function ZT(e,t){Le.call(this,xo.STAT_EVENT,e),this.stat=t}function Ke(e){var t=Rh();Te(t,new ZT(t,e))}function JT(e,t){Le.call(this,xo.Na,e),this.size=t}function _u(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return st.setTimeout(function(){e()},t)}function Gb(){}function ST(e){return e.h||(e.h=e.i())}function eS(){}function $b(){Le.call(this,"d")}function Kb(){Le.call(this,"c")}function Ph(){}function Iu(e,t,n,i){this.l=e,this.j=t,this.m=n,this.X=i||1,this.V=new pu(this),this.P=Ej,e=Eb?125:void 0,this.W=new kh(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new nS}function nS(){this.i=null,this.g="",this.h=!1}function Rb(e,t,n){e.K=1,e.v=Nh(qi(t)),e.s=n,e.U=!0,iS(e,null)}function iS(e,t){e.F=Date.now(),Eu(e),e.A=qi(e.v);var n=e.A,i=e.X;Array.isArray(i)||(i=[String(i)]),lS(n.h,"t",i),e.C=0,n=e.l.H,e.h=new nS,e.g=DS(e.l,n?t:null,!e.s),0<e.O&&(e.L=new bj(Ce(e.Ia,e,e.g),e.O)),YT(e.V,e.g,"readystatechange",e.gb),t=e.H?LT(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),mu(1),yj(e.j,e.u,e.A,e.m,e.X,e.s)}function rS(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Ba:!1}function oS(e,t,n){for(var i=!0,r;!e.I&&e.C<n.length;)if(r=xj(e,n),r==wh){t==4&&(e.o=4,Ke(14),i=!1),Ws(e.j,e.m,null,"[Incomplete Response]");break}else if(r==Db){e.o=4,Ke(15),Ws(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}else Ws(e.j,e.m,r,null),Ob(e,r);rS(e)&&r!=wh&&r!=Db&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,Ke(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,t=e.l,t.g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),iy(t),t.L=!0,Ke(11))):(Ws(e.j,e.m,n,"[Invalid Chunked Response]"),_o(e),du(e))}function xj(e,t){var n=e.C,i=t.indexOf(`
`,n);return i==-1?wh:(n=Number(t.substring(n,i)),isNaN(n)?Db:(i+=1,i+n>t.length?wh:(t=t.substr(i,n),e.C=i+n,t)))}function Eu(e){e.Y=Date.now()+e.P,sS(e,e.P)}function sS(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=_u(Ce(e.eb,e),t)}function Mh(e){e.B&&(st.clearTimeout(e.B),e.B=null)}function du(e){e.l.G==0||e.I||TS(e.l,e)}function _o(e){Mh(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,Hb(e.W),XT(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Ob(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||Pb(n.i,e))){if(n.I=e.N,!e.J&&Pb(n.i,e)&&n.G==3){try{var i=n.Ca.g.parse(t)}catch{i=null}if(Array.isArray(i)&&i.length==3){var r=i;if(r[0]==0){t:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)Ch(n),jh(n);else break t;ny(n),Ke(18)}}else n.ta=r[1],0<n.ta-n.U&&37500>r[2]&&n.N&&n.A==0&&!n.v&&(n.v=_u(Ce(n.ab,n),6e3));if(1>=fS(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else wo(n,11)}else if((e.J||n.g==e)&&Ch(n),!yh(t))for(r=n.Ca.g.parse(t),t=0;t<r.length;t++){var s=r[t];if(n.U=s[0],s=s[1],n.G==2)if(s[0]=="c"){n.J=s[1],n.la=s[2];var c=s[3];c!=null&&(n.ma=c,n.h.info("VER="+n.ma));var l=s[4];l!=null&&(n.za=l,n.h.info("SVER="+n.za));var d=s[5];d!=null&&typeof d=="number"&&0<d&&(i=1.5*d,n.K=i,n.h.info("backChannelRequestTimeoutMs_="+i)),i=n;var f=e.g;if(f){var m=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var v=i.i;!v.g&&(Ge(m,"spdy")||Ge(m,"quic")||Ge(m,"h2"))&&(v.j=v.l,v.g=new Set,v.h&&(Qb(v,v.h),v.h=null))}if(i.D){var y=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(i.sa=y,qt(i.F,i.D,y))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms")),i=n;var _=e;if(i.oa=kS(i,i.H?i.la:null,i.W),_.J){pS(i.i,_);var I=_,E=i.K;E&&I.setTimeout(E),I.B&&(Mh(I),Eu(I)),i.g=_}else xS(i);0<n.l.length&&Uh(n)}else s[0]!="stop"&&s[0]!="close"||wo(n,7);else n.G==3&&(s[0]=="stop"||s[0]=="close"?s[0]=="stop"?wo(n,7):ey(n):s[0]!="noop"&&n.j&&n.j.wa(s),n.A=0)}}mu(4)}catch{}}function Cj(e){if(e.R&&typeof e.R=="function")return e.R();if(typeof e=="string")return e.split("");if(Ib(e)){for(var t=[],n=e.length,i=0;i<n;i++)t.push(e[i]);return t}t=[],n=0;for(i in e)t[n++]=e[i];return t}function Yb(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(Ib(e)||typeof e=="string")NT(e,t,void 0);else{if(e.T&&typeof e.T=="function")var n=e.T();else if(e.R&&typeof e.R=="function")n=void 0;else if(Ib(e)||typeof e=="string"){n=[];for(var i=e.length,r=0;r<i;r++)n.push(r)}else for(r in n=[],i=0,e)n[i++]=r;i=Cj(e),r=i.length;for(var s=0;s<r;s++)t.call(void 0,i[s],n&&n[s],e)}}function $s(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(e)if(e instanceof $s)for(n=e.T(),i=0;i<n.length;i++)this.set(n[i],e.get(n[i]));else for(i in e)this.set(i,e[i])}function Xb(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var i=e.g[t];Io(e.h,i)&&(e.g[n++]=i),t++}e.g.length=n}if(e.i!=e.g.length){var r={};for(n=t=0;t<e.g.length;)i=e.g[t],Io(r,i)||(e.g[n++]=i,r[i]=1),t++;e.g.length=n}}function Io(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Tj(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var i=e[n].indexOf("="),r=null;if(0<=i){var s=e[n].substring(0,i);r=e[n].substring(i+1)}else s=e[n];t(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function Eo(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Eo){this.g=t!==void 0?t:e.g,Ih(this,e.j),this.s=e.s,Eh(this,e.i),xh(this,e.m),this.l=e.l,t=e.h;var n=new gu;n.i=t.i,t.g&&(n.g=new $s(t.g),n.h=t.h),AT(this,n),this.o=e.o}else e&&(n=String(e).match(aS))?(this.g=!!t,Ih(this,n[1]||"",!0),this.s=hu(n[2]||""),Eh(this,n[3]||"",!0),xh(this,n[4]),this.l=hu(n[5]||"",!0),AT(this,n[6]||"",!0),this.o=hu(n[7]||"")):(this.g=!!t,this.h=new gu(null,this.g))}function qi(e){return new Eo(e)}function Ih(e,t,n){e.j=n?hu(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Eh(e,t,n){e.i=n?hu(t,!0):t}function xh(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function AT(e,t,n){t instanceof gu?(e.h=t,Mj(e.h,e.g)):(n||(t=lu(t,Oj)),e.h=new gu(t,e.g))}function qt(e,t,n){e.h.set(t,n)}function Nh(e){return qt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Sj(e){return e instanceof Eo?qi(e):new Eo(e,void 0)}function Aj(e,t,n,i){var r=new Eo(null,void 0);return e&&Ih(r,e),t&&Eh(r,t),n&&xh(r,n),i&&(r.l=i),r}function hu(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function lu(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,kj),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function kj(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}function gu(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Ir(e){e.g||(e.g=new $s,e.h=0,e.i&&Tj(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function cS(e,t){Ir(e),t=Ks(e,t),Io(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,e=e.g,Io(e.h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Xb(e)))}function uS(e,t){return Ir(e),t=Ks(e,t),Io(e.g.h,t)}function lS(e,t,n){cS(e,t),0<n.length&&(e.i=null,e.g.set(Ks(e,t),Nb(n)),e.h+=n.length)}function Ks(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Mj(e,t){t&&!e.j&&(Ir(e),e.i=null,e.g.forEach(function(n,i){var r=i.toLowerCase();i!=r&&(cS(this,i),lS(this,r,n))},e)),e.j=t}function dS(e){this.l=e||Lj,st.PerformanceNavigationTiming?(e=st.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(st.g&&st.g.Ea&&st.g.Ea()&&st.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function hS(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function fS(e){return e.h?1:e.g?e.g.size:0}function Pb(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function Qb(e,t){e.g?e.g.add(t):e.h=t}function pS(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function mS(e){var t,n;if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){var i=e.i;try{for(var r=PT(e.g.values()),s=r.next();!s.done;s=r.next()){var c=s.value;i=i.concat(c.D)}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return i}return Nb(e.i)}function Zb(){}function Fj(){this.g=new Zb}function jj(e,t,n){var i=n||"";try{Yb(e,function(r,s){var c=r;bu(r)&&(c=zb(r)),t.push(i+s+"="+encodeURIComponent(c))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function Uj(e,t){var n=new Dh;if(st.Image){var i=new Image;i.onload=hh(vh,n,i,"TestLoadImage: loaded",!0,t),i.onerror=hh(vh,n,i,"TestLoadImage: error",!1,t),i.onabort=hh(vh,n,i,"TestLoadImage: abort",!1,t),i.ontimeout=hh(vh,n,i,"TestLoadImage: timeout",!1,t),st.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=e}else t(!1)}function vh(e,t,n,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function xu(e){this.l=e.$b||null,this.j=e.ib||!1}function Lh(e,t){Ie.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Jb,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}function gS(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Cu(e){e.readyState=4,e.l=null,e.j=null,e.A=null,vu(e)}function vu(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function ae(e){Ie.call(this),this.headers=new $s,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=vS,this.K=this.L=!1}function qj(e){return Gs&&rj()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}function Hj(e){return e.toLowerCase()=="content-type"}function DT(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,bS(e),Fh(e)}function bS(e){e.D||(e.D=!0,Te(e,"complete"),Te(e,"error"))}function yS(e){if(e.h&&typeof Mb<"u"&&(!e.C[1]||zi(e)!=4||e.ba()!=2)){if(e.v&&zi(e)==4)Wb(e.Fa,0,e);else if(Te(e,"readystatechange"),zi(e)==4){e.h=!1;try{var t=e.ba();t:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break t;default:n=!1}var i;if(!(i=n)){var r;if(r=t===0){var s=String(e.H).match(aS)[1]||null;if(!s&&st.self&&st.self.location){var c=st.self.location.protocol;s=c.substr(0,c.length-1)}r=!Bj.test(s?s.toLowerCase():"")}i=r}if(i)Te(e,"complete"),Te(e,"success");else{e.m=6;try{var l=2<zi(e)?e.g.statusText:""}catch{l=""}e.j=l+" ["+e.ba()+"]",bS(e)}}finally{Fh(e)}}}}function Fh(e,t){if(e.g){_S(e);var n=e.g,i=e.C[0]?bh:null;e.g=null,e.C=null,t||Te(e,"ready");try{n.onreadystatechange=i}catch{}}}function _S(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(st.clearTimeout(e.A),e.A=null)}function zi(e){return e.g?e.g.readyState:0}function RT(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case vS:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function Wj(e){var t="";return Lb(e,function(n,i){t+=i,t+=":",t+=n,t+=`\r
`}),t}function ty(e,t,n){t:{for(i in n){var i=!1;break t}i=!0}i||(n=Wj(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):qt(e,t,n))}function uu(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function wS(e){this.za=0,this.l=[],this.h=new Dh,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=uu("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=uu("baseRetryDelayMs",5e3,e),this.$a=uu("retryDelaySeedMs",1e4,e),this.Ya=uu("forwardChannelMaxRetries",2,e),this.ra=uu("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new dS(e&&e.concurrentRequestLimit),this.Ca=new Fj,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||e.Xb!==!1}function ey(e){if(IS(e),e.G==3){var t=e.V++,n=qi(e.F);qt(n,"SID",e.J),qt(n,"RID",t),qt(n,"TYPE","terminate"),Tu(e,n),t=new Iu(e,e.h,t,void 0),t.K=2,t.v=Nh(qi(n)),n=!1,st.navigator&&st.navigator.sendBeacon&&(n=st.navigator.sendBeacon(t.v.toString(),"")),!n&&st.Image&&(new Image().src=t.v,n=!0),n||(t.g=DS(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Eu(t)}AS(e)}function jh(e){e.g&&(iy(e),e.g.cancel(),e.g=null)}function IS(e){jh(e),e.u&&(st.clearTimeout(e.u),e.u=null),Ch(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&st.clearTimeout(e.m),e.m=null)}function _b(e,t){e.l.push(new Nj(e.Za++,t)),e.G==3&&Uh(e)}function Uh(e){hS(e.i)||e.m||(e.m=!0,qb(e.Ha,e),e.C=0)}function Gj(e,t){return fS(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.l=t.D.concat(e.l),!0):e.G==1||e.G==2||e.C>=(e.Xa?0:e.Ya)?!1:(e.m=_u(Ce(e.Ha,e,t),SS(e,e.C)),e.C++,!0)}function OT(e,t){var n;t?n=t.m:n=e.V++;var i=qi(e.F);qt(i,"SID",e.J),qt(i,"RID",n),qt(i,"AID",e.U),Tu(e,i),e.o&&e.s&&ty(i,e.o,e.s),n=new Iu(e,e.h,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=ES(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Qb(e.i,n),Rb(n,i,t)}function Tu(e,t){e.j&&Yb({},function(n,i){qt(t,i,n)})}function ES(e,t,n){n=Math.min(e.l.length,n);var i=e.j?Ce(e.j.Oa,e.j,e):null;t:for(var r=e.l,s=-1;;){var c=["count="+n];s==-1?0<n?(s=r[0].h,c.push("ofs="+s)):s=0:c.push("ofs="+s);for(var l=!0,d=0;d<n;d++){var f=r[d].h,m=r[d].g;if(f-=s,0>f)s=Math.max(0,r[d].h-100),l=!1;else try{jj(m,c,"req"+f+"_")}catch{i&&i(m)}}if(l){i=c.join("&");break t}}return e=e.l.splice(0,n),t.D=e,i}function xS(e){e.g||e.u||(e.Y=1,qb(e.Ga,e),e.A=0)}function ny(e){return e.g||e.u||3<=e.A?!1:(e.Y++,e.u=_u(Ce(e.Ga,e),SS(e,e.A)),e.A++,!0)}function iy(e){e.B!=null&&(st.clearTimeout(e.B),e.B=null)}function CS(e){e.g=new Iu(e,e.h,"rpc",e.Y),e.o===null&&(e.g.H=e.s),e.g.O=0;var t=qi(e.oa);qt(t,"RID","rpc"),qt(t,"SID",e.J),qt(t,"CI",e.N?"0":"1"),qt(t,"AID",e.U),Tu(e,t),qt(t,"TYPE","xmlhttp"),e.o&&e.s&&ty(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Nh(qi(t)),n.s=null,n.U=!0,iS(n,e)}function Ch(e){e.v!=null&&(st.clearTimeout(e.v),e.v=null)}function TS(e,t){var n=null;if(e.g==t){Ch(e),iy(e),e.g=null;var i=2}else if(Pb(e.i,t))n=t.D,pS(e.i,t),i=1;else return;if(e.I=t.N,e.G!=0){if(t.i)if(i==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var r=e.C;i=Rh(),Te(i,new JT(i,n,t,r)),Uh(e)}else xS(e);else if(r=t.o,r==3||r==0&&0<e.I||!(i==1&&Gj(e,t)||i==2&&ny(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),r){case 1:wo(e,5);break;case 4:wo(e,10);break;case 3:wo(e,6);break;default:wo(e,2)}}}function SS(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function wo(e,t){if(e.h.info("Error code "+t),t==2){var n=null;e.j&&(n=null);var i=Ce(e.jb,e);n||(n=new Eo("//www.google.com/images/cleardot.gif"),st.location&&st.location.protocol=="http"||Ih(n,"https"),Nh(n)),Uj(n.toString(),i)}else Ke(2);e.G=0,e.j&&e.j.va(t),AS(e),IS(e)}function AS(e){e.G=0,e.I=-1,e.j&&((mS(e.i).length!=0||e.l.length!=0)&&(e.i.i.length=0,Nb(e.l),e.l.length=0),e.j.ua())}function kS(e,t,n){var i=Sj(n);if(i.i!="")t&&Eh(i,t+"."+i.i),xh(i,i.m);else{var r=st.location;i=Aj(r.protocol,t?t+"."+r.hostname:r.hostname,+r.port,n)}return e.aa&&Lb(e.aa,function(s,c){qt(i,c,s)}),t=e.D,n=e.sa,t&&n&&qt(i,t,n),qt(i,"VER",e.ma),Tu(e,i),i}function DS(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ba&&!e.qa?new ae(new xu({ib:!0})):new ae(e.qa),t.L=e.H,t}function RS(){}function Th(){if(Gs&&!(10<=Number(oj)))throw Error("Environmental error: no available transport.")}function An(e,t){Ie.call(this),this.g=new wS(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!yh(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!yh(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Ys(this)}function OS(e){$b.call(this);var t=e.__sm__;if(t){t:{for(var n in t){e=n;break t}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}function PS(){Kb.call(this),this.status=1}function Ys(e){this.g=e}var wb,G2,H,Mb,st,fb,K2,Q2,Z2,MT,NT,ET,$e,mb,gb,xT,ej,Gs,jT,Eb,UT,nj,_h,fh,ph,mh,ij,xb,vb,oj,sj,aj,yu,cj,jb,bb,yb,zb,fj,GT,pj,Sb,Ab,$T,bj,CT,xo,TT,Oh,tS,wu,kb,Ej,Db,wh,aS,kT,Dj,Rj,Oj,Pj,Nj,Lj,Jb,Vj,vS,Bj,zj,MS,NS,Vh,LS,FS,ry,jS,Su,US,oy=_n(()=>{"use strict";wb=function(e,t){return wb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])},wb(e,t)};G2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Mb=Mb||{},st=G2||self;fb="closure_uid_"+(1e9*Math.random()>>>0),K2=0;Q2=0,Z2={};wr.prototype.s=!1;wr.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),Q2!=0)){var e=$2(this);delete Z2[e]}};wr.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};MT=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},NT=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var i=e.length,r=typeof e=="string"?e.split(""):e,s=0;s<i;s++)s in r&&t.call(n,r[s],s,e)};ET=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};t:{if(mb=st.navigator,mb&&(gb=mb.userAgent,gb)){$e=gb;break t}$e=""}xT="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");Fb[" "]=bh;ej=Ge($e,"Opera"),Gs=Ge($e,"Trident")||Ge($e,"MSIE"),jT=Ge($e,"Edge"),Eb=jT||Gs,UT=Ge($e,"Gecko")&&!(Ge($e.toLowerCase(),"webkit")&&!Ge($e,"Edge"))&&!(Ge($e,"Trident")||Ge($e,"MSIE"))&&!Ge($e,"Edge"),nj=Ge($e.toLowerCase(),"webkit")&&!Ge($e,"Edge");t:{if(fh="",ph=function(){var e=$e;if(UT)return/rv:([^\);]+)(\)|;)/.exec(e);if(jT)return/Edge\/([\d\.]+)/.exec(e);if(Gs)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(nj)return/WebKit\/(\S+)/.exec(e);if(ej)return/(?:Version)[ \/]?(\S+)/.exec(e)}(),ph&&(fh=ph?ph[1]:""),Gs&&(mh=VT(),mh!=null&&mh>parseFloat(fh))){_h=String(mh);break t}_h=fh}ij={};st.document&&Gs?(vb=VT(),xb=vb||parseInt(_h,10)||void 0):xb=void 0;oj=xb,sj=function(){if(!st.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{st.addEventListener("test",bh,t),st.removeEventListener("test",bh,t)}catch{}return e}();Le.prototype.h=function(){this.defaultPrevented=!0};Se(fu,Le);aj={2:"touch",3:"pen",4:"mouse"};fu.prototype.h=function(){fu.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};yu="closure_listenable_"+(1e6*Math.random()|0),cj=0;Ah.prototype.add=function(e,t,n,i,r){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var c=Tb(e,t,i,r);return-1<c?(t=e[c],n||(t.fa=!1)):(t=new uj(t,this.src,s,!!i,r),t.fa=n,e.push(t)),t};jb="closure_lm_"+(1e6*Math.random()|0),bb={};yb="__closure_events_fn_"+(1e9*Math.random()>>>0);Se(Ie,wr);Ie.prototype[yu]=!0;Ie.prototype.removeEventListener=function(e,t,n,i){HT(this,e,t,n,i)};Ie.prototype.M=function(){if(Ie.Z.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],i=0;i<n.length;i++)Sh(n[i]);delete e.g[t],e.h--}}this.I=null};Ie.prototype.N=function(e,t,n,i){return this.i.add(String(e),t,!1,n,i)};Ie.prototype.O=function(e,t,n,i){return this.i.add(String(e),t,!0,n,i)};zb=st.JSON.stringify;fj=function(){function e(){this.h=this.g=null}return e.prototype.add=function(t,n){var i=GT.get();i.set(t,n),this.h?this.h.next=i:this.g=i,this.h=i},e}(),GT=new(function(){function e(t,n){this.i=t,this.j=n,this.h=0,this.g=null}return e.prototype.get=function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t},e}())(function(){return new pj},function(e){return e.reset()}),pj=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(t,n){this.h=t,this.g=n,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();Ab=!1,$T=new fj;Se(kh,Ie);H=kh.prototype;H.da=!1;H.S=null;H.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Te(this,"tick"),this.da&&(Hb(this),this.start()))}};H.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};H.M=function(){kh.Z.M.call(this),Hb(this),delete this.g};bj=function(e){W2(t,e);function t(n,i){var r=e.call(this)||this;return r.m=n,r.j=i,r.h=null,r.i=!1,r.g=null,r}return t.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:KT(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(st.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(wr);Se(pu,wr);CT=[];pu.prototype.M=function(){pu.Z.M.call(this),XT(this)};pu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};Dh.prototype.Aa=function(){this.g=!1};Dh.prototype.info=function(){};xo={},TT=null;xo.Ma="serverreachability";Se(QT,Le);xo.STAT_EVENT="statevent";Se(ZT,Le);xo.Na="timingevent";Se(JT,Le);Oh={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},tS={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};Gb.prototype.h=null;wu={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};Se($b,Le);Se(Kb,Le);Se(Ph,Gb);Ph.prototype.g=function(){return new XMLHttpRequest};Ph.prototype.i=function(){return{}};kb=new Ph;Ej=45e3,Db={},wh={};H=Iu.prototype;H.setTimeout=function(e){this.P=e};H.gb=function(e){e=e.target;var t=this.L;t&&zi(e)==3?t.l():this.Ia(e)};H.Ia=function(e){try{if(e==this.g)t:{var t=zi(this.g),n=this.g.Da(),i=this.g.ba();if(!(3>t)&&(t!=3||Eb||this.g&&(this.h.h||this.g.ga()||RT(this.g)))){this.I||t!=4||n==7||(n==8||0>=i?mu(3):mu(2)),Mh(this);var r=this.g.ba();this.N=r;e:if(rS(this)){var s=RT(this.g);e="";var c=s.length,l=zi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){_o(this),du(this);var d="";break e}this.h.i=new st.TextDecoder}for(n=0;n<c;n++)this.h.h=!0,e+=this.h.i.decode(s[n],{stream:l&&n==c-1});s.splice(0,c),this.h.g+=e,this.C=0,d=this.h.g}else d=this.g.ga();if(this.i=r==200,_j(this.j,this.u,this.A,this.m,this.X,t,r),this.i){if(this.$&&!this.J){e:{if(this.g){var f,m=this.g;if((f=m.g?m.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!yh(f)){var v=f;break e}}v=null}if(r=v)Ws(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ob(this,r);else{this.i=!1,this.o=3,Ke(12),_o(this),du(this);break t}}this.U?(oS(this,t,d),Eb&&this.i&&t==3&&(YT(this.V,this.W,"tick",this.fb),this.W.start())):(Ws(this.j,this.m,d,null),Ob(this,d)),t==4&&_o(this),this.i&&!this.I&&(t==4?TS(this.l,this):(this.i=!1,Eu(this)))}else r==400&&0<d.indexOf("Unknown SID")?(this.o=3,Ke(12)):(this.o=0,Ke(13)),_o(this),du(this)}}}catch{}finally{}};H.fb=function(){if(this.g){var e=zi(this.g),t=this.g.ga();this.C<t.length&&(Mh(this),oS(this,e,t),this.i&&e!=4&&Eu(this))}};H.cancel=function(){this.I=!0,_o(this)};H.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(wj(this.j,this.A),this.K!=2&&(mu(3),Ke(17)),_o(this),this.o=2,du(this)):sS(this,this.Y-e)};H=$s.prototype;H.R=function(){Xb(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e};H.T=function(){return Xb(this),this.g.concat()};H.get=function(e,t){return Io(this.h,e)?this.h[e]:t};H.set=function(e,t){Io(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t};H.forEach=function(e,t){for(var n=this.T(),i=0;i<n.length;i++){var r=n[i],s=this.get(r);e.call(t,s,r,this)}};aS=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;Eo.prototype.toString=function(){var e=[],t=this.j;t&&e.push(lu(t,kT,!0),":");var n=this.i;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(lu(t,kT,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&e.push("/"),e.push(lu(n,n.charAt(0)=="/"?Rj:Dj,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",lu(n,Pj)),e.join("")};kT=/[#\/\?@]/g,Dj=/[#\?:]/g,Rj=/[#\?]/g,Oj=/[#\?@]/g,Pj=/#/g;H=gu.prototype;H.add=function(e,t){Ir(this),this.i=null,e=Ks(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};H.forEach=function(e,t){Ir(this),this.g.forEach(function(n,i){NT(n,function(r){e.call(t,r,i,this)},this)},this)};H.T=function(){Ir(this);for(var e=this.g.R(),t=this.g.T(),n=[],i=0;i<t.length;i++)for(var r=e[i],s=0;s<r.length;s++)n.push(t[i]);return n};H.R=function(e){Ir(this);var t=[];if(typeof e=="string")uS(this,e)&&(t=IT(t,this.g.get(Ks(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=IT(t,e[n])}return t};H.set=function(e,t){return Ir(this),this.i=null,e=Ks(this,e),uS(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};H.get=function(e,t){return e?(e=this.R(e),0<e.length?String(e[0]):t):t};H.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var i=t[n],r=encodeURIComponent(String(i));i=this.R(i);for(var s=0;s<i.length;s++){var c=r;i[s]!==""&&(c+="="+encodeURIComponent(String(i[s]))),e.push(c)}}return this.i=e.join("&")};Nj=function(){function e(t,n){this.h=t,this.g=n}return e}();Lj=10;dS.prototype.cancel=function(){var e,t;if(this.i=mS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){try{for(var n=PT(this.g.values()),i=n.next();!i.done;i=n.next()){var r=i.value;r.cancel()}}catch(s){e={error:s}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}};Zb.prototype.stringify=function(e){return st.JSON.stringify(e,void 0)};Zb.prototype.parse=function(e){return st.JSON.parse(e,void 0)};Se(xu,Gb);xu.prototype.g=function(){return new Lh(this.l,this.j)};xu.prototype.i=function(e){return function(){return e}}({});Se(Lh,Ie);Jb=0;H=Lh.prototype;H.open=function(e,t){if(this.readyState!=Jb)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,vu(this)};H.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||st).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))};H.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Cu(this)),this.readyState=Jb};H.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,vu(this)),this.g&&(this.readyState=3,vu(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof st.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;gS(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))};H.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Cu(this):vu(this),this.readyState==3&&gS(this)}};H.Ua=function(e){this.g&&(this.response=this.responseText=e,Cu(this))};H.Ta=function(e){this.g&&(this.response=e,Cu(this))};H.ha=function(){this.g&&Cu(this)};H.setRequestHeader=function(e,t){this.v.append(e,t)};H.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};H.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};Object.defineProperty(Lh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});Vj=st.JSON.parse;Se(ae,Ie);vS="",Bj=/^https?$/i,zj=["POST","PUT"];H=ae.prototype;H.ea=function(e,t,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():kb.g(),this.C=this.u?ST(this.u):ST(kb),this.g.onreadystatechange=Ce(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){DT(this,s);return}e=n||"";var r=new $s(this.headers);i&&Yb(i,function(s,c){r.set(c,s)}),i=J2(r.T()),n=st.FormData&&e instanceof st.FormData,!(0<=MT(zj,t))||i||n||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(s,c){this.g.setRequestHeader(c,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{_S(this),0<this.B&&((this.K=qj(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ce(this.pa,this)):this.A=Wb(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){DT(this,s)}};H.pa=function(){typeof Mb<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Te(this,"timeout"),this.abort(8))};H.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Te(this,"complete"),Te(this,"abort"),Fh(this))};H.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Fh(this,!0)),ae.Z.M.call(this)};H.Fa=function(){this.s||(this.F||this.v||this.l?yS(this):this.cb())};H.cb=function(){yS(this)};H.ba=function(){try{return 2<zi(this)?this.g.status:-1}catch{return-1}};H.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};H.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),Vj(t)}};H.Da=function(){return this.m};H.La=function(){return typeof this.j=="string"?this.j:String(this.j)};H=wS.prototype;H.ma=8;H.G=1;H.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch{}};H.Ha=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Iu(this,this.h,e,void 0),n=this.s;if(this.P&&(n?(n=LT(n),FT(n,this.P)):n=this.P),this.o===null&&(t.H=n),this.ja)t:{for(var i=0,r=0;r<this.l.length;r++){e:{var s=this.l[r];if("__data__"in s.g&&(s=s.g.__data__,typeof s=="string")){s=s.length;break e}s=void 0}if(s===void 0)break;if(i+=s,4096<i){i=r;break t}if(i===4096||r===this.l.length-1){i=r+1;break t}}i=1e3}else i=1e3;i=ES(this,t,i),r=qi(this.F),qt(r,"RID",e),qt(r,"CVER",22),this.D&&qt(r,"X-HTTP-Session-Id",this.D),Tu(this,r),this.o&&n&&ty(r,this.o,n),Qb(this.i,t),this.Ra&&qt(r,"TYPE","init"),this.ja?(qt(r,"$req",i),qt(r,"SID","null"),t.$=!0,Rb(t,r,null)):Rb(t,r,i),this.G=2}}else this.G==3&&(e?OT(this,e):this.l.length==0||hS(this.i)||OT(this))};H.Ga=function(){if(this.u=null,CS(this),this.$&&!(this.L||this.g==null||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=_u(Ce(this.bb,this),e)}};H.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ke(10),jh(this),CS(this))};H.ab=function(){this.v!=null&&(this.v=null,jh(this),ny(this),Ke(19))};H.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Ke(2)):(this.h.info("Failed to ping google.com"),Ke(1))};H=RS.prototype;H.xa=function(){};H.wa=function(){};H.va=function(){};H.ua=function(){};H.Oa=function(){};Th.prototype.g=function(e,t){return new An(e,t)};Se(An,Ie);An.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),qb(Ce(e.hb,e,t))),Ke(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=kS(e,null,e.W),Uh(e)};An.prototype.close=function(){ey(this.g)};An.prototype.u=function(e){if(typeof e=="string"){var t={};t.__data__=e,_b(this.g,t)}else this.v?(t={},t.__data__=zb(e),_b(this.g,t)):_b(this.g,e)};An.prototype.M=function(){this.g.j=null,delete this.j,ey(this.g),delete this.g,An.Z.M.call(this)};Se(OS,$b);Se(PS,Kb);Se(Ys,RS);Ys.prototype.xa=function(){Te(this.g,"a")};Ys.prototype.wa=function(e){Te(this.g,new OS(e))};Ys.prototype.va=function(e){Te(this.g,new PS(e))};Ys.prototype.ua=function(){Te(this.g,"b")};Th.prototype.createWebChannel=Th.prototype.g;An.prototype.send=An.prototype.u;An.prototype.open=An.prototype.m;An.prototype.close=An.prototype.close;Oh.NO_ERROR=0;Oh.TIMEOUT=8;Oh.HTTP_ERROR=6;tS.COMPLETE="complete";eS.EventType=wu;wu.OPEN="a";wu.CLOSE="b";wu.ERROR="c";wu.MESSAGE="d";Ie.prototype.listen=Ie.prototype.N;ae.prototype.listenOnce=ae.prototype.O;ae.prototype.getLastError=ae.prototype.La;ae.prototype.getLastErrorCode=ae.prototype.Da;ae.prototype.getStatus=ae.prototype.ba;ae.prototype.getResponseJson=ae.prototype.Qa;ae.prototype.getResponseText=ae.prototype.ga;ae.prototype.send=ae.prototype.ea;MS=function(){return new Th},NS=function(){return Rh()},Vh=Oh,LS=tS,FS=xo,ry={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},jS=xu,Su=eS,US=ae});function ly(){return si.logLevel}function j(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(si.logLevel<=Et.DEBUG){var i=t.map(xy);si.debug.apply(si,Nt(["Firestore (8.10.1): "+e],i))}}function le(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(si.logLevel<=Et.ERROR){var i=t.map(xy);si.error.apply(si,Nt(["Firestore (8.10.1): "+e],i))}}function Qh(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(si.logLevel<=Et.WARN){var i=t.map(xy);si.warn.apply(si,Nt(["Firestore (8.10.1): "+e],i))}}function xy(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}var t}function Q(e){e===void 0&&(e="Unexpected state");var t="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+e;throw le(t),new Error(t)}function rt(e,t){e||Q()}function z(e,t){return e}function $j(e){var t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(var i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}function _t(e,t){return e<t?-1:e>t?1:0}function na(e,t,n){return e.length===t.length&&e.every(function(i,r){return n(i,t[r])})}function Y1(e){return e+"\0"}function VS(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Mo(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function X1(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Pr(e){if(rt(!!e),typeof e=="string"){var t=0,n=Yj.exec(e);if(rt(!!n),n[1]){var i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}var r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ue(e.seconds),nanos:ue(e.nanos)}}function ue(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function ra(e){return typeof e=="string"?Qe.fromBase64String(e):Qe.fromUint8Array(e)}function Cy(e){var t,n;return((n=(((t=e?.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Z1(e){var t=e.mapValue.fields.__previous_value__;return Cy(t)?Z1(t):t}function Pu(e){var t=Pr(e.mapValue.fields.__local_write_time__.timestampValue);return new Xe(t.seconds,t.nanos)}function No(e){return e==null}function Zh(e){return e===0&&1/e==-1/0}function J1(e){return typeof e=="number"&&Number.isInteger(e)&&!Zh(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function Do(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Cy(e)?4:10:Q()}function Si(e,t){var n=Do(e);if(n!==Do(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Pu(e).isEqual(Pu(t));case 3:return function(i,r){if(typeof i.timestampValue=="string"&&typeof r.timestampValue=="string"&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;var s=Pr(i.timestampValue),c=Pr(r.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,r){return ra(i.bytesValue).isEqual(ra(r.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,r){return ue(i.geoPointValue.latitude)===ue(r.geoPointValue.latitude)&&ue(i.geoPointValue.longitude)===ue(r.geoPointValue.longitude)}(e,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return ue(i.integerValue)===ue(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){var s=ue(i.doubleValue),c=ue(r.doubleValue);return s===c?Zh(s)===Zh(c):isNaN(s)&&isNaN(c)}return!1}(e,t);case 9:return na(e.arrayValue.values||[],t.arrayValue.values||[],Si);case 10:return function(i,r){var s=i.mapValue.fields||{},c=r.mapValue.fields||{};if(VS(s)!==VS(c))return!1;for(var l in s)if(s.hasOwnProperty(l)&&(c[l]===void 0||!Si(s[l],c[l])))return!1;return!0}(e,t);default:return Q()}}function Mu(e,t){return(e.values||[]).find(function(n){return Si(n,t)})!==void 0}function oa(e,t){var n=Do(e),i=Do(t);if(n!==i)return _t(n,i);switch(n){case 0:return 0;case 1:return _t(e.booleanValue,t.booleanValue);case 2:return function(r,s){var c=ue(r.integerValue||r.doubleValue),l=ue(s.integerValue||s.doubleValue);return c<l?-1:c>l?1:c===l?0:isNaN(c)?isNaN(l)?0:-1:1}(e,t);case 3:return BS(e.timestampValue,t.timestampValue);case 4:return BS(Pu(e),Pu(t));case 5:return _t(e.stringValue,t.stringValue);case 6:return function(r,s){var c=ra(r),l=ra(s);return c.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(r,s){for(var c=r.split("/"),l=s.split("/"),d=0;d<c.length&&d<l.length;d++){var f=_t(c[d],l[d]);if(f!==0)return f}return _t(c.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(r,s){var c=_t(ue(r.latitude),ue(s.latitude));return c!==0?c:_t(ue(r.longitude),ue(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(r,s){for(var c=r.values||[],l=s.values||[],d=0;d<c.length&&d<l.length;++d){var f=oa(c[d],l[d]);if(f)return f}return _t(c.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(r,s){var c=r.fields||{},l=Object.keys(c),d=s.fields||{},f=Object.keys(d);l.sort(),f.sort();for(var m=0;m<l.length&&m<f.length;++m){var v=_t(l[m],f[m]);if(v!==0)return v;var y=oa(c[l[m]],d[f[m]]);if(y!==0)return y}return _t(l.length,f.length)}(e.mapValue,t.mapValue);default:throw Q()}}function BS(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return _t(e,t);var n=Pr(e),i=Pr(t),r=_t(n.seconds,i.seconds);return r!==0?r:_t(n.nanos,i.nanos)}function Ty(e){return dy(e)}function dy(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(i){var r=Pr(i);return"time("+r.seconds+","+r.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?ra(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,J.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(i){for(var r="[",s=!0,c=0,l=i.values||[];c<l.length;c++)s?s=!1:r+=",",r+=dy(l[c]);return r+"]"}(e.arrayValue):"mapValue"in e?function(i){for(var r="{",s=!0,c=0,l=Object.keys(i.fields||{}).sort();c<l.length;c++){var d=l[c];s?s=!1:r+=",",r+=d+":"+dy(i.fields[d])}return r+"}"}(e.mapValue):Q();var t,n}function Jh(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function hy(e){return!!e&&"integerValue"in e}function Sy(e){return!!e&&"arrayValue"in e}function zS(e){return!!e&&"nullValue"in e}function qS(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Wh(e){return!!e&&"mapValue"in e}function Du(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Mo(e.mapValue.fields,function(r,s){return t.mapValue.fields[r]=Du(s)}),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},i=0;i<(e.arrayValue.values||[]).length;++i)n.arrayValue.values[i]=Du(e.arrayValue.values[i]);return n}return Object.assign({},e)}function tA(e){var t=[];return Mo(e.fields,function(n,i){var r=new ci([n]);if(Wh(i)){var s=tA(i.mapValue).fields;if(s.length===0)t.push(r);else for(var c=0,l=s;c<l.length;c++){var d=l[c];t.push(r.child(d))}}else t.push(r)}),new ia(t)}function HS(e,t,n,i,r,s,c){return t===void 0&&(t=null),n===void 0&&(n=[]),i===void 0&&(i=[]),r===void 0&&(r=null),s===void 0&&(s=null),c===void 0&&(c=null),new Xj(e,t,n,i,r,s,c)}function qu(e){var t=z(e);if(t.h===null){var n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(i){return function(r){return r.field.canonicalString()+r.op.toString()+Ty(r.value)}(i)}).join(","),n+="|ob:",n+=t.orderBy.map(function(i){return function(r){return r.field.canonicalString()+r.dir}(i)}).join(","),No(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=ef(t.startAt)),t.endAt&&(n+="|ub:",n+=ef(t.endAt)),t.h=n}return t.h}function pf(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!rU(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var i=0;i<e.filters.length;i++)if(r=e.filters[i],s=t.filters[i],r.op!==s.op||!r.field.isEqual(s.field)||!Si(r.value,s.value))return!1;var r,s;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!GS(e.startAt,t.startAt)&&GS(e.endAt,t.endAt)}function tf(e){return J.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}function eA(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(i){return J.fromName(i.referenceValue)})}function ef(e){return(e.before?"b":"a")+":"+e.position.map(function(t){return Ty(t)}).join(",")}function rU(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function WS(e,t,n){for(var i=0,r=0;r<e.position.length;r++){var s=t[r],c=e.position[r];if(i=s.field.isKeyField()?J.comparator(J.fromName(c.referenceValue),n.key):oa(c,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return e.before?i<=0:i<0}function GS(e,t){if(e===null)return t===null;if(t===null||e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Si(e.position[n],t.position[n]))return!1;return!0}function nA(e,t,n,i,r,s,c,l){return new $i(e,t,n,i,r,s,c,l)}function wa(e){return new $i(e)}function Gh(e){return!No(e.limit)&&e.limitType==="F"}function nf(e){return!No(e.limit)&&e.limitType==="L"}function Ay(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function ky(e){for(var t=0,n=e.filters;t<n.length;t++){var i=n[t];if(i.g())return i.field}return null}function Dy(e){return e.collectionGroup!==null}function sa(e){var t=z(e);if(t.p===null){t.p=[];var n=ky(t),i=Ay(t);if(n!==null&&i===null)n.isKeyField()||t.p.push(new ea(n)),t.p.push(new ea(ci.keyField(),"asc"));else{for(var r=!1,s=0,c=t.explicitOrderBy;s<c.length;s++){var l=c[s];t.p.push(l),l.field.isKeyField()&&(r=!0)}if(!r){var d=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new ea(ci.keyField(),d))}}}return t.p}function zn(e){var t=z(e);if(!t.T)if(t.limitType==="F")t.T=HS(t.path,t.collectionGroup,sa(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],i=0,r=sa(t);i<r.length;i++){var s=r[i],c=s.dir==="desc"?"asc":"desc";n.push(new ea(s.field,c))}var l=t.endAt?new Nu(t.endAt.position,!t.endAt.before):null,d=t.startAt?new Nu(t.startAt.position,!t.startAt.before):null;t.T=HS(t.path,t.collectionGroup,n,t.filters,t.limit,l,d)}return t.T}function iA(e,t,n){return new $i(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Hu(e,t){return pf(zn(e),zn(t))&&e.limitType===t.limitType}function rA(e){return qu(zn(e))+"|lt:"+e.limitType}function fy(e){return"Query(target="+function(t){var n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=", filters: ["+t.filters.map(function(i){return(r=i).field.canonicalString()+" "+r.op+" "+Ty(r.value);var r}).join(", ")+"]"),No(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=", orderBy: ["+t.orderBy.map(function(i){return function(r){return r.field.canonicalString()+" ("+r.dir+")"}(i)}).join(", ")+"]"),t.startAt&&(n+=", startAt: "+ef(t.startAt)),t.endAt&&(n+=", endAt: "+ef(t.endAt)),"Target("+n+")"}(zn(e))+"; limitType="+e.limitType+")"}function Wu(e,t){return t.isFoundDocument()&&function(n,i){var r=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(r):J.isDocumentKey(n.path)?n.path.isEqual(r):n.path.isImmediateParentOf(r)}(e,t)&&function(n,i){for(var r=0,s=n.explicitOrderBy;r<s.length;r++){var c=s[r];if(!c.field.isKeyField()&&i.data.field(c.field)===null)return!1}return!0}(e,t)&&function(n,i){for(var r=0,s=n.filters;r<s.length;r++)if(!s[r].matches(i))return!1;return!0}(e,t)&&function(n,i){return!(n.startAt&&!WS(n.startAt,sa(n),i))&&(!n.endAt||!WS(n.endAt,sa(n),i))}(e,t)}function oA(e){return function(t,n){for(var i=!1,r=0,s=sa(e);r<s.length;r++){var c=s[r],l=oU(c,t,n);if(l!==0)return l;i=i||c.field.isKeyField()}return 0}}function oU(e,t,n){var i=e.field.isKeyField()?J.comparator(t.key,n.key):function(r,s,c){var l=s.data.field(r),d=c.data.field(r);return l!==null&&d!==null?oa(l,d):Q()}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return Q()}}function sA(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zh(t)?"-0":t}}function aA(e){return{integerValue:""+e}}function cA(e,t){return J1(t)?aA(t):sA(e,t)}function sU(e,t,n){return e instanceof aa?function(i,r){var s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(s.fields.__previous_value__=r),{mapValue:s}}(n,t):e instanceof Ro?lA(e,t):e instanceof Oo?dA(e,t):function(i,r){var s=uA(i,r),c=$S(s)+$S(i.A);return hy(s)&&hy(i.A)?aA(c):sA(i.R,c)}(e,t)}function aU(e,t,n){return e instanceof Ro?lA(e,t):e instanceof Oo?dA(e,t):n}function uA(e,t){return e instanceof ca?hy(n=t)||function(i){return!!i&&"doubleValue"in i}(n)?t:{integerValue:0}:null;var n}function lA(e,t){for(var n=hA(t),i=function(c){n.some(function(l){return Si(l,c)})||n.push(c)},r=0,s=e.elements;r<s.length;r++)i(s[r]);return{arrayValue:{values:n}}}function dA(e,t){for(var n=hA(t),i=function(c){n=n.filter(function(l){return!Si(l,c)})},r=0,s=e.elements;r<s.length;r++)i(s[r]);return{arrayValue:{values:n}}}function $S(e){return ue(e.integerValue||e.doubleValue)}function hA(e){return Sy(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function $h(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}function uU(e,t,n){e instanceof $u?function(i,r,s){var c=i.value.clone(),l=XS(i.fieldTransforms,r,s.transformResults);c.setAll(l),r.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(e,t,n):e instanceof Nr?function(i,r,s){if($h(i.precondition,r)){var c=XS(i.fieldTransforms,r,s.transformResults),l=r.data;l.setAll(fA(i)),l.setAll(c),r.convertToFoundDocument(s.version,l).setHasCommittedMutations()}else r.convertToUnknownDocument(s.version)}(e,t,n):function(i,r,s){r.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function py(e,t,n){e instanceof $u?function(i,r,s){if($h(i.precondition,r)){var c=i.value.clone(),l=QS(i.fieldTransforms,s,r);c.setAll(l),r.convertToFoundDocument(YS(r),c).setHasLocalMutations()}}(e,t,n):e instanceof Nr?function(i,r,s){if($h(i.precondition,r)){var c=QS(i.fieldTransforms,s,r),l=r.data;l.setAll(fA(i)),l.setAll(c),r.convertToFoundDocument(YS(r),l).setHasLocalMutations()}}(e,t,n):function(i,r){$h(i.precondition,r)&&r.convertToNoDocument(vt.min())}(e,t)}function lU(e,t){for(var n=null,i=0,r=e.fieldTransforms;i<r.length;i++){var s=r[i],c=t.data.field(s.field),l=uA(s.transform,c||null);l!=null&&(n==null&&(n=Rn.empty()),n.set(s.field,l))}return n||null}function KS(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&na(n,i,function(r,s){return function(c,l){return c.field.isEqual(l.field)&&function(d,f){return d instanceof Ro&&f instanceof Ro||d instanceof Oo&&f instanceof Oo?na(d.elements,f.elements,Si):d instanceof ca&&f instanceof ca?Si(d.A,f.A):d instanceof aa&&f instanceof aa}(c.transform,l.transform)}(r,s)})}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function YS(e){return e.isFoundDocument()?e.version:vt.min()}function fA(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var i=e.data.field(n);t.set(n,i)}}),t}function XS(e,t,n){var i=new Map;rt(e.length===n.length);for(var r=0;r<n.length;r++){var s=e[r],c=s.transform,l=t.data.field(s.field);i.set(s.field,aU(c,l,n[r]))}return i}function QS(e,t,n){for(var i=new Map,r=0,s=e;r<s.length;r++){var c=s[r],l=c.transform,d=n.data.field(c.field);i.set(c.field,sU(l,d,t))}return i}function pA(e){switch(e){case T.OK:return Q();case T.CANCELLED:case T.UNKNOWN:case T.DEADLINE_EXCEEDED:case T.RESOURCE_EXHAUSTED:case T.INTERNAL:case T.UNAVAILABLE:case T.UNAUTHENTICATED:return!1;case T.INVALID_ARGUMENT:case T.NOT_FOUND:case T.ALREADY_EXISTS:case T.PERMISSION_DENIED:case T.FAILED_PRECONDITION:case T.ABORTED:case T.OUT_OF_RANGE:case T.UNIMPLEMENTED:case T.DATA_LOSS:return!0;default:return Q()}}function mA(e){if(e===void 0)return le("GRPC error has no .code"),T.UNKNOWN;switch(e){case ce.OK:return T.OK;case ce.CANCELLED:return T.CANCELLED;case ce.UNKNOWN:return T.UNKNOWN;case ce.DEADLINE_EXCEEDED:return T.DEADLINE_EXCEEDED;case ce.RESOURCE_EXHAUSTED:return T.RESOURCE_EXHAUSTED;case ce.INTERNAL:return T.INTERNAL;case ce.UNAVAILABLE:return T.UNAVAILABLE;case ce.UNAUTHENTICATED:return T.UNAUTHENTICATED;case ce.INVALID_ARGUMENT:return T.INVALID_ARGUMENT;case ce.NOT_FOUND:return T.NOT_FOUND;case ce.ALREADY_EXISTS:return T.ALREADY_EXISTS;case ce.PERMISSION_DENIED:return T.PERMISSION_DENIED;case ce.FAILED_PRECONDITION:return T.FAILED_PRECONDITION;case ce.ABORTED:return T.ABORTED;case ce.OUT_OF_RANGE:return T.OUT_OF_RANGE;case ce.UNIMPLEMENTED:return T.UNIMPLEMENTED;case ce.DATA_LOSS:return T.DATA_LOSS;default:return Q()}}function Bn(){return hU}function my(){return fU}function gA(){return pU}function Rt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=mU,i=0,r=e;i<r.length;i++){var s=r[i];n=n.add(s)}return n}function vf(){return gU}function t1(){return new Be(J.comparator)}function e1(){return new Be(J.comparator)}function Lu(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function yA(e,t){return e.I?t.toBase64():t.toUint8Array()}function wU(e,t){return Lu(e,t.toTimestamp())}function ke(e){return rt(!!e),vt.fromTimestamp(function(t){var n=Pr(t);return new Xe(n.seconds,n.nanos)}(e))}function My(e,t){return function(n){return new xt(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function _A(e){var t=xt.fromString(e);return rt(AA(t)),t}function Fu(e,t){return My(e.databaseId,t.path)}function Ci(e,t){var n=_A(t);if(n.get(1)!==e.databaseId.projectId)throw new P(T.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new P(T.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new J(IA(n))}function gy(e,t){return My(e.databaseId,t)}function wA(e){var t=_A(e);return t.length===4?xt.emptyPath():IA(t)}function ju(e){return new xt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function IA(e){return rt(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function n1(e,t,n){return{name:Fu(e,t),fields:n.value.mapValue.fields}}function EA(e,t,n){var i=Ci(e,t.name),r=ke(t.updateTime),s=new Rn({mapValue:{fields:t.fields}}),c=Re.newFoundDocument(i,r,s);return n&&c.setHasCommittedMutations(),n?c.setHasCommittedMutations():c}function rf(e,t){var n;if(t instanceof $u)n={update:n1(e,t.key,t.value)};else if(t instanceof Ku)n={delete:Fu(e,t.key)};else if(t instanceof Nr)n={update:n1(e,t.key,t.data),updateMask:TU(t.fieldMask)};else{if(!(t instanceof Ry))return Q();n={verify:Fu(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(i){return function(r,s){var c=s.transform;if(c instanceof aa)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Ro)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Oo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof ca)return{fieldPath:s.field.canonicalString(),increment:c.A};throw Q()}(0,i)})),t.precondition.isNone||(n.currentDocument=function(i,r){return r.updateTime!==void 0?{updateTime:wU(i,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:Q()}(e,t.precondition)),n}function i1(e,t){var n=t.currentDocument?function(f){return f.updateTime!==void 0?Ue.updateTime(ke(f.updateTime)):f.exists!==void 0?Ue.exists(f.exists):Ue.none()}(t.currentDocument):Ue.none(),i=t.updateTransforms?t.updateTransforms.map(function(f){return function(m,v){var y=null;if("setToServerValue"in v)rt(v.setToServerValue==="REQUEST_TIME"),y=new aa;else if("appendMissingElements"in v){var _=v.appendMissingElements.values||[];y=new Ro(_)}else if("removeAllFromArray"in v){var I=v.removeAllFromArray.values||[];y=new Oo(I)}else"increment"in v?y=new ca(m,v.increment):Q();var E=ci.fromServerFormat(v.fieldPath);return new Gu(E,y)}(e,f)}):[];if(t.update){t.update.name;var r=Ci(e,t.update.name),s=new Rn({mapValue:{fields:t.update.fields}});if(t.updateMask){var c=function(f){var m=f.fieldPaths||[];return new ia(m.map(function(v){return ci.fromServerFormat(v)}))}(t.updateMask);return new Nr(r,s,c,n,i)}return new $u(r,s,n,i)}if(t.delete){var l=Ci(e,t.delete);return new Ku(l,n)}if(t.verify){var d=Ci(e,t.verify);return new Ry(d,n)}return Q()}function xA(e,t){return{documents:[gy(e,t.path)]}}function CA(e,t){var n={structuredQuery:{}},i=t.path;t.collectionGroup!==null?(n.parent=gy(e,i),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=gy(e,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);var r=function(l){if(l.length!==0){var d=l.map(function(f){return function(m){if(m.op==="=="){if(qS(m.value))return{unaryFilter:{field:Xs(m.field),op:"IS_NAN"}};if(zS(m.value))return{unaryFilter:{field:Xs(m.field),op:"IS_NULL"}}}else if(m.op==="!="){if(qS(m.value))return{unaryFilter:{field:Xs(m.field),op:"IS_NOT_NAN"}};if(zS(m.value))return{unaryFilter:{field:Xs(m.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xs(m.field),op:EU(m.op),value:m.value}}}(f)});return d.length===1?d[0]:{compositeFilter:{op:"AND",filters:d}}}}(t.filters);r&&(n.structuredQuery.where=r);var s=function(l){if(l.length!==0)return l.map(function(d){return function(f){return{field:Xs(f.field),direction:IU(f.dir)}}(d)})}(t.orderBy);s&&(n.structuredQuery.orderBy=s);var c=function(l,d){return l.I||No(d)?d:{value:d}}(e,t.limit);return c!==null&&(n.structuredQuery.limit=c),t.startAt&&(n.structuredQuery.startAt=r1(t.startAt)),t.endAt&&(n.structuredQuery.endAt=r1(t.endAt)),n}function TA(e){var t=wA(e.parent),n=e.structuredQuery,i=n.from?n.from.length:0,r=null;if(i>0){rt(i===1);var s=n.from[0];s.allDescendants?r=s.collectionId:t=t.child(s.collectionId)}var c=[];n.where&&(c=SA(n.where));var l=[];n.orderBy&&(l=n.orderBy.map(function(v){return function(y){return new ea(ta(y.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(v)}));var d=null;n.limit&&(d=function(v){var y;return No(y=typeof v=="object"?v.value:v)?null:y}(n.limit));var f=null;n.startAt&&(f=o1(n.startAt));var m=null;return n.endAt&&(m=o1(n.endAt)),nA(t,r,l,c,d,"F",f,m)}function SA(e){return e?e.unaryFilter!==void 0?[CU(e)]:e.fieldFilter!==void 0?[xU(e)]:e.compositeFilter!==void 0?e.compositeFilter.filters.map(function(t){return SA(t)}).reduce(function(t,n){return t.concat(n)}):Q():[]}function r1(e){return{before:e.before,values:e.position}}function o1(e){var t=!!e.before,n=e.values||[];return new Nu(n,t)}function IU(e){return bU[e]}function EU(e){return yU[e]}function Xs(e){return{fieldPath:e.canonicalString()}}function ta(e){return ci.fromServerFormat(e.fieldPath)}function xU(e){return Pn.create(ta(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Q()}}(e.fieldFilter.op),e.fieldFilter.value)}function CU(e){switch(e.unaryFilter.op){case"IS_NAN":var t=ta(e.unaryFilter.field);return Pn.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=ta(e.unaryFilter.field);return Pn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var i=ta(e.unaryFilter.field);return Pn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var r=ta(e.unaryFilter.field);return Pn.create(r,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Q()}}function TU(e){var t=[];return e.fields.forEach(function(n){return t.push(n.canonicalString())}),{fieldPaths:t}}function AA(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}function ai(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=s1(t)),t=SU(e.get(n),t);return s1(t)}function SU(e,t){for(var n=t,i=e.length,r=0;r<i;r++){var s=e.charAt(r);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function s1(e){return e+""}function Hi(e){var t=e.length;if(rt(t>=2),t===2)return rt(e.charAt(0)===""&&e.charAt(1)===""),xt.emptyPath();for(var n=t-2,i=[],r="",s=0;s<t;){var c=e.indexOf("",s);switch((c<0||c>n)&&Q(),e.charAt(c+1)){case"":var l=e.substring(s,c),d=void 0;r.length===0?d=l:(d=r+=l,r=""),i.push(d);break;case"":r+=e.substring(s,c),r+="\0";break;case"":r+=e.substring(s,c+1);break;default:Q()}s=c+2}return new xt(i)}function Lo(e){return e.name==="IndexedDbTransactionError"}function Co(e){return new M(function(t,n){e.onsuccess=function(i){var r=i.target.result;t(r)},e.onerror=function(i){var r=Ny(i.target.error);n(r)}})}function Ny(e){var t=da._t(br());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var i=new P("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return a1||(a1=!0,setTimeout(function(){throw i},0)),i}}return e}function mn(e,t){var n=z(e);return da.It(n.Mt,t)}function vy(e,t){if(t.document)return EA(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=J.fromSegments(t.noDocument.path),i=fa(t.noDocument.readTime),r=Re.newNoDocument(n,i);return t.hasCommittedMutations?r.setHasCommittedMutations():r}if(t.unknownDocument){var s=J.fromSegments(t.unknownDocument.path);return i=fa(t.unknownDocument.version),Re.newUnknownDocument(s,i)}return Q()}function u1(e,t,n){var i=Fy(n),r=t.key.path.popLast().toArray();if(t.isFoundDocument()){var s=function(v,y){return{name:Fu(v,y.key),fields:y.data.value.mapValue.fields,updateTime:Lu(v,y.version.toTimestamp())}}(e.Lt,t),c=t.hasCommittedMutations;return new Jt(null,null,s,c,i,r)}if(t.isNoDocument()){var l=t.key.path.toArray(),d=ha(t.version);return c=t.hasCommittedMutations,new Jt(null,new kU(l,d),null,c,i,r)}if(t.isUnknownDocument()){var f=t.key.path.toArray(),m=ha(t.version);return new Jt(new DU(f,m),null,null,!0,i,r)}return Q()}function Fy(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function PA(e){var t=new Xe(e[0],e[1]);return vt.fromTimestamp(t)}function ha(e){var t=e.toTimestamp();return new AU(t.seconds,t.nanoseconds)}function fa(e){var t=new Xe(e.seconds,e.nanoseconds);return vt.fromTimestamp(t)}function Zs(e,t){for(var n=(t.baseMutations||[]).map(function(d){return i1(e.Lt,d)}),i=0;i<t.mutations.length-1;++i){var r=t.mutations[i];if(i+1<t.mutations.length&&t.mutations[i+1].transform!==void 0){var s=t.mutations[i+1];r.updateTransforms=s.transform.fieldTransforms,t.mutations.splice(i+1,1),++i}}var c=t.mutations.map(function(d){return i1(e.Lt,d)}),l=Xe.fromMillis(t.localWriteTimeMs);return new Ly(t.batchId,l,n,c)}function ku(e){var t,n,i=fa(e.readTime),r=e.lastLimboFreeSnapshotVersion!==void 0?fa(e.lastLimboFreeSnapshotVersion):vt.min();return e.query.documents!==void 0?(rt((n=e.query).documents.length===1),t=zn(wa(wA(n.documents[0])))):t=function(s){return zn(TA(s))}(e.query),new bf(t,e.targetId,0,e.lastListenSequenceNumber,i,r,Qe.fromBase64String(e.resumeToken))}function MA(e,t){var n,i=ha(t.snapshotVersion),r=ha(t.lastLimboFreeSnapshotVersion);n=tf(t.target)?xA(e.Lt,t.target):CA(e.Lt,t.target);var s=t.resumeToken.toBase64();return new pn(t.targetId,qu(t.target),i,s,t.sequenceNumber,r,n)}function jy(e){var t=TA({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?iA(t,t.limit,"L"):t}function l1(e){return mn(e,ua.store)}function d1(e){return mn(e,la.store)}function h1(e){return mn(e,Ao.store)}function NA(e,t,n){var i=e.store(Ft.store),r=e.store(Fe.store),s=[],c=IDBKeyRange.only(n.batchId),l=0,d=i.$t({range:c},function(I,E,C){return l++,C.delete()});s.push(d.next(function(){rt(l===1)}));for(var f=[],m=0,v=n.mutations;m<v.length;m++){var y=v[m],_=Fe.key(t,y.key.path,n.batchId);s.push(r.delete(_)),f.push(y.key)}return M.waitFor(s).next(function(){return f})}function of(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Q();t=e.noDocument}return JSON.stringify(t).length}function LA(e,t,n){var i=Fe.prefixForPath(t,n.path),r=i[1],s=IDBKeyRange.lowerBound(i),c=!1;return Js(e).$t({range:s,Ft:!0},function(l,d,f){var m=l[0],v=l[1];l[2],m===t&&v===r&&(c=!0),f.done()}).next(function(){return c})}function Er(e){return mn(e,Ft.store)}function Js(e){return mn(e,Fe.store)}function FA(e){return mn(e,Dr.store)}function Qs(e){return mn(e,pn.store)}function p1(e){return mn(e,Dn.store)}function Sr(e){return mn(e,De.store)}function Fo(e){return k(this,void 0,void 0,function(){return A(this,function(t){if(e.code!==T.FAILED_PRECONDITION||e.message!==kA)throw e;return j("LocalStore","Unexpectedly lost primary lease"),[2]})})}function m1(e,t){var n=e[0],i=e[1],r=t[0],s=t[1],c=_t(n,r);return c===0?_t(i,s):c}function zh(e,t){return Sr(e).put(function(n,i){return new De(0,ai(n.path),i)}(t,e.currentSequenceNumber))}function g1(e){return mn(e,xi.store)}function Cr(e){return mn(e,Jt.store)}function qh(e){return e.path.toArray()}function v1(e){e.createObjectStore(De.store,{keyPath:De.keyPath}).createIndex(De.documentTargetsIndex,De.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(pn.store,{keyPath:pn.keyPath}).createIndex(pn.queryTargetsIndexName,pn.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Dn.store)}function Au(e){return mn(e,kn.store)}function Hh(e){return mn(e,Wi.store)}function Vy(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}function BA(e,t,n,i){return new XU(e,t,n,i)}function zA(e,t){return k(this,void 0,void 0,function(){var n,i,r,s;return A(this,function(c){switch(c.label){case 0:return n=z(e),i=n._n,r=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(l){var d;return n._n.getAllMutationBatches(l).next(function(f){return d=f,i=n.persistence.getMutationQueue(t),r=new UA(n.On,i,n.persistence.getIndexManager()),i.getAllMutationBatches(l)}).next(function(f){for(var m=[],v=[],y=Rt(),_=0,I=d;_<I.length;_++){var E=I[_];m.push(E.batchId);for(var C=0,R=E.mutations;C<R.length;C++){var L=R[C];y=y.add(L.key)}}for(var B=0,nt=f;B<nt.length;B++){var ut=nt[B];v.push(ut.batchId);for(var F=0,Ot=ut.mutations;F<Ot.length;F++){var $n=Ot[F];y=y.add($n.key)}}return r.pn(l,y).next(function(K){return{Ln:K,removedBatchIds:m,addedBatchIds:v}})})})];case 1:return s=c.sent(),[2,(n._n=i,n.Mn=r,n.xn.Vn(n.Mn),s)]}})})}function QU(e,t){var n=z(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(i){var r=t.batch.keys(),s=n.On.newChangeBuffer({trackRemovals:!0});return function(c,l,d,f){var m=d.batch,v=m.keys(),y=M.resolve();return v.forEach(function(_){y=y.next(function(){return f.getEntry(l,_)}).next(function(I){var E=d.docVersions.get(_);rt(E!==null),I.version.compareTo(E)<0&&(m.applyToRemoteDocument(I,d),I.isValidDocument()&&f.addEntry(I,d.commitVersion))})}),y.next(function(){return c._n.removeMutationBatch(l,m)})}(n,i,t,s).next(function(){return s.apply(i)}).next(function(){return n._n.performConsistencyCheck(i)}).next(function(){return n.Mn.pn(i,r)})})}function qA(e){var t=z(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return t.qe.getLastRemoteSnapshotVersion(n)})}function ZU(e,t){var n=z(e),i=t.snapshotVersion,r=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(s){var c=n.On.newChangeBuffer({trackRemovals:!0});r=n.kn;var l=[];t.targetChanges.forEach(function(m,v){var y=r.get(v);if(y){l.push(n.qe.removeMatchingKeys(s,m.removedDocuments,v).next(function(){return n.qe.addMatchingKeys(s,m.addedDocuments,v)}));var _=m.resumeToken;if(_.approximateByteSize()>0){var I=y.withResumeToken(_,i).withSequenceNumber(s.currentSequenceNumber);r=r.insert(v,I),function(E,C,R){return rt(C.resumeToken.approximateByteSize()>0),E.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=3e8||R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0}(y,I,m)&&l.push(n.qe.updateTargetData(s,I))}}});var d=Bn();if(t.documentUpdates.forEach(function(m,v){t.resolvedLimboDocuments.has(m)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,m))}),l.push(HA(s,c,t.documentUpdates,i,void 0).next(function(m){d=m})),!i.isEqual(vt.min())){var f=n.qe.getLastRemoteSnapshotVersion(s).next(function(m){return n.qe.setTargetsMetadata(s,s.currentSequenceNumber,i)});l.push(f)}return M.waitFor(l).next(function(){return c.apply(s)}).next(function(){return n.Mn.En(s,d)}).next(function(){return d})}).then(function(s){return n.kn=r,s})}function HA(e,t,n,i,r){var s=Rt();return n.forEach(function(c){return s=s.add(c)}),t.getEntries(e,s).next(function(c){var l=Bn();return n.forEach(function(d,f){var m=c.get(d),v=r?.get(d)||i;f.isNoDocument()&&f.version.isEqual(vt.min())?(t.removeEntry(d,v),l=l.insert(d,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(t.addEntry(f,v),l=l.insert(d,f)):j("LocalStore","Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",f.version)}),l})}function JU(e,t){var n=z(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(i){return t===void 0&&(t=-1),n._n.getNextMutationBatchAfterBatchId(i,t)})}function pa(e,t){var n=z(e);return n.persistence.runTransaction("Allocate target","readwrite",function(i){var r;return n.qe.getTargetData(i,t).next(function(s){return s?(r=s,M.resolve(r)):n.qe.allocateTargetId(i).next(function(c){return r=new bf(t,c,0,i.currentSequenceNumber),n.qe.addTargetData(i,r).next(function(){return r})})})}).then(function(i){var r=n.kn.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.kn=n.kn.insert(i.targetId,i),n.Fn.set(t,i.targetId)),i})}function ma(e,t,n){return k(this,void 0,void 0,function(){var i,r,s,c;return A(this,function(l){switch(l.label){case 0:i=z(e),r=i.kn.get(t),s=n?"readwrite":"readwrite-primary",l.label=1;case 1:return l.trys.push([1,4,,5]),n?[3,3]:[4,i.persistence.runTransaction("Release target",s,function(d){return i.persistence.referenceDelegate.removeTarget(d,r)})];case 2:l.sent(),l.label=3;case 3:return[3,5];case 4:if(!Lo(c=l.sent()))throw c;return j("LocalStore","Failed to update sequence numbers for target "+t+": "+c),[3,5];case 5:return i.kn=i.kn.remove(t),i.Fn.delete(r.target),[2]}})})}function af(e,t,n){var i=z(e),r=vt.min(),s=Rt();return i.persistence.runTransaction("Execute query","readonly",function(c){return function(l,d,f){var m=z(l),v=m.Fn.get(f);return v!==void 0?M.resolve(m.kn.get(v)):m.qe.getTargetData(d,f)}(i,c,zn(t)).next(function(l){if(l)return r=l.lastLimboFreeSnapshotVersion,i.qe.getMatchingKeysForTargetId(c,l.targetId).next(function(d){s=d})}).next(function(){return i.xn.getDocumentsMatchingQuery(c,t,n?r:vt.min(),n?s:Rt())}).next(function(l){return{documents:l,Bn:s}})})}function WA(e,t){var n=z(e),i=z(n.qe),r=n.kn.get(t);return r?Promise.resolve(r.target):n.persistence.runTransaction("Get target data","readonly",function(s){return i.lt(s,t).next(function(c){return c?c.target:null})})}function GA(e){var t=z(e);return t.persistence.runTransaction("Get new document changes","readonly",function(n){return function(i,r,s){var c=z(i),l=Bn(),d=Fy(s),f=Cr(r),m=IDBKeyRange.lowerBound(d,!0);return f.$t({index:Jt.readTimeIndex,range:m},function(v,y){var _=vy(c.R,y);l=l.insert(_.key,_),d=y.readTime}).next(function(){return{wn:l,readTime:PA(d)}})}(t.On,n,t.$n)}).then(function(n){var i=n.wn,r=n.readTime;return t.$n=r,i})}function t4(e){return k(this,void 0,void 0,function(){var t;return A(this,function(n){return[2,(t=z(e)).persistence.runTransaction("Synchronize last document change read time","readonly",function(i){return function(r){var s=Cr(r),c=vt.min();return s.$t({index:Jt.readTimeIndex,reverse:!0},function(l,d,f){d.readTime&&(c=PA(d.readTime)),f.done()}).next(function(){return c})}(i)}).then(function(i){t.$n=i})]})})}function e4(e,t,n,i){return k(this,void 0,void 0,function(){var r,s,c,l,d,f,m,v,y,_;return A(this,function(I){switch(I.label){case 0:for(r=z(e),s=Rt(),c=Bn(),l=gA(),d=0,f=n;d<f.length;d++)m=f[d],v=t.qn(m.metadata.name),m.document&&(s=s.add(v)),c=c.insert(v,t.Un(m)),l=l.insert(v,t.Kn(m.metadata.readTime));return y=r.On.newChangeBuffer({trackRemovals:!0}),[4,pa(r,function(E){return zn(wa(xt.fromString("__bundle__/docs/"+E)))}(i))];case 1:return _=I.sent(),[2,r.persistence.runTransaction("Apply bundle documents","readwrite",function(E){return HA(E,y,c,vt.min(),l).next(function(C){return y.apply(E),C}).next(function(C){return r.qe.removeMatchingKeysForTargetId(E,_.targetId).next(function(){return r.qe.addMatchingKeys(E,s,_.targetId)}).next(function(){return r.Mn.En(E,C)}).next(function(){return C})})})]}})})}function n4(e,t,n){return n===void 0&&(n=Rt()),k(this,void 0,void 0,function(){var i,r;return A(this,function(s){switch(s.label){case 0:return[4,pa(e,zn(jy(t.bundledQuery)))];case 1:return i=s.sent(),[2,(r=z(e)).persistence.runTransaction("Save named query","readwrite",function(c){var l=ke(t.readTime);if(i.snapshotVersion.compareTo(l)>=0)return r.Ke.saveNamedQuery(c,t);var d=i.withResumeToken(Qe.EMPTY_BYTE_STRING,l);return r.kn=r.kn.insert(d.targetId,d),r.qe.updateTargetData(c,d).next(function(){return r.qe.removeMatchingKeysForTargetId(c,i.targetId)}).next(function(){return r.qe.addMatchingKeys(c,n,i.targetId)}).next(function(){return r.Ke.saveNamedQuery(c,t)})})]}})})}function b1(e,t){return"firestore_clients_"+e+"_"+t}function y1(e,t,n){var i="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(i+="_"+t.uid),i}function ay(e,t){return"firestore_targets_"+e+"_"+t}function KA(){return typeof window<"u"?window:null}function Yh(){return typeof document<"u"?document:null}function yf(e){return new _U(e,!0)}function Yu(e){return k(this,void 0,void 0,function(){var t,n;return A(this,function(i){switch(i.label){case 0:if(!Lr(e))return[3,4];t=0,n=e.Mr,i.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:i.sent(),i.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Ea(e){return k(this,void 0,void 0,function(){var t,n;return A(this,function(i){switch(i.label){case 0:t=0,n=e.Mr,i.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:i.sent(),i.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function _f(e,t){var n=z(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),Wy(n)?Hy(n):Ca(n).er()&&qy(n,t))}function Uu(e,t){var n=z(e),i=Ca(n);n.$r.delete(t),i.er()&&XA(n,t),n.$r.size===0&&(i.er()?i.ir():Lr(n)&&n.Br.set("Unknown"))}function qy(e,t){e.qr.U(t.targetId),Ca(e).mr(t)}function XA(e,t){e.qr.U(t),Ca(e).yr(t)}function Hy(e){e.qr=new vU({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),Ca(e).start(),e.Br.Sr()}function Wy(e){return Lr(e)&&!Ca(e).tr()&&e.$r.size>0}function Lr(e){return z(e).Or.size===0}function QA(e){e.qr=void 0}function w4(e){return k(this,void 0,void 0,function(){return A(this,function(t){return e.$r.forEach(function(n,i){qy(e,n)}),[2]})})}function I4(e,t){return k(this,void 0,void 0,function(){return A(this,function(n){return QA(e),Wy(e)?(e.Br.Nr(t),Hy(e)):e.Br.set("Unknown"),[2]})})}function E4(e,t,n){return k(this,void 0,void 0,function(){var i,r,s;return A(this,function(c){switch(c.label){case 0:if(e.Br.set("Online"),!(t instanceof bA&&t.state===2&&t.cause))return[3,6];c.label=1;case 1:return c.trys.push([1,3,,5]),[4,function(l,d){return k(this,void 0,void 0,function(){var f,m,v,y;return A(this,function(_){switch(_.label){case 0:f=d.cause,m=0,v=d.targetIds,_.label=1;case 1:return m<v.length?(y=v[m],l.$r.has(y)?[4,l.remoteSyncer.rejectListen(y,f)]:[3,3]):[3,5];case 2:_.sent(),l.$r.delete(y),l.qr.removeTarget(y),_.label=3;case 3:_.label=4;case 4:return m++,[3,1];case 5:return[2]}})})}(e,t)];case 2:return c.sent(),[3,5];case 3:return i=c.sent(),j("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),[4,cf(e,i)];case 4:return c.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof Kh?e.qr.X(t):t instanceof vA?e.qr.rt(t):e.qr.et(t),n.isEqual(vt.min()))return[3,13];c.label=7;case 7:return c.trys.push([7,11,,13]),[4,qA(e.localStore)];case 8:return r=c.sent(),n.compareTo(r)>=0?[4,function(l,d){var f=l.qr.ut(d);return f.targetChanges.forEach(function(m,v){if(m.resumeToken.approximateByteSize()>0){var y=l.$r.get(v);y&&l.$r.set(v,y.withResumeToken(m.resumeToken,d))}}),f.targetMismatches.forEach(function(m){var v=l.$r.get(m);if(v){l.$r.set(m,v.withResumeToken(Qe.EMPTY_BYTE_STRING,v.snapshotVersion)),XA(l,m);var y=new bf(v.target,m,1,v.sequenceNumber);qy(l,y)}}),l.remoteSyncer.applyRemoteEvent(f)}(e,n)]:[3,10];case 9:c.sent(),c.label=10;case 10:return[3,13];case 11:return j("RemoteStore","Failed to raise snapshot:",s=c.sent()),[4,cf(e,s)];case 12:return c.sent(),[3,13];case 13:return[2]}})})}function cf(e,t,n){return k(this,void 0,void 0,function(){var i=this;return A(this,function(r){switch(r.label){case 0:if(!Lo(t))throw t;return e.Or.add(1),[4,Ea(e)];case 1:return r.sent(),e.Br.set("Offline"),n||(n=function(){return qA(e.localStore)}),e.asyncQueue.enqueueRetryable(function(){return k(i,void 0,void 0,function(){return A(this,function(s){switch(s.label){case 0:return j("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return s.sent(),e.Or.delete(1),[4,Yu(e)];case 2:return s.sent(),[2]}})})}),[2]}})})}function ZA(e,t){return t().catch(function(n){return cf(e,n,t)})}function xa(e){return k(this,void 0,void 0,function(){var t,n,i,r,s;return A(this,function(c){switch(c.label){case 0:t=z(e),n=Mr(t),i=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,c.label=1;case 1:if(!function(l){return Lr(l)&&l.Fr.length<10}(t))return[3,7];c.label=2;case 2:return c.trys.push([2,4,,6]),[4,JU(t.localStore,i)];case 3:return(r=c.sent())===null?(t.Fr.length===0&&n.ir(),[3,7]):(i=r.batchId,function(l,d){l.Fr.push(d);var f=Mr(l);f.er()&&f.pr&&f.Er(d.mutations)}(t,r),[3,6]);case 4:return s=c.sent(),[4,cf(t,s)];case 5:return c.sent(),[3,6];case 6:return[3,1];case 7:return JA(t)&&tk(t),[2]}})})}function JA(e){return Lr(e)&&!Mr(e).tr()&&e.Fr.length>0}function tk(e){Mr(e).start()}function x4(e){return k(this,void 0,void 0,function(){return A(this,function(t){return Mr(e).Ar(),[2]})})}function C4(e){return k(this,void 0,void 0,function(){var t,n,i,r;return A(this,function(s){for(t=Mr(e),n=0,i=e.Fr;n<i.length;n++)r=i[n],t.Er(r.mutations);return[2]})})}function T4(e,t,n){return k(this,void 0,void 0,function(){var i,r;return A(this,function(s){switch(s.label){case 0:return i=e.Fr.shift(),r=MU.from(i,t,n),[4,ZA(e,function(){return e.remoteSyncer.applySuccessfulWrite(r)})];case 1:return s.sent(),[4,xa(e)];case 2:return s.sent(),[2]}})})}function S4(e,t){return k(this,void 0,void 0,function(){return A(this,function(n){switch(n.label){case 0:return t&&Mr(e).pr?[4,function(i,r){return k(this,void 0,void 0,function(){var s,c;return A(this,function(l){switch(l.label){case 0:return pA(c=r.code)&&c!==T.ABORTED?(s=i.Fr.shift(),Mr(i).sr(),[4,ZA(i,function(){return i.remoteSyncer.rejectFailedWrite(s.batchId,r)})]):[3,3];case 1:return l.sent(),[4,xa(i)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return JA(e)&&tk(e),[2]}})})}function yy(e,t){return k(this,void 0,void 0,function(){var n;return A(this,function(i){switch(i.label){case 0:return n=z(e),t?(n.Or.delete(2),[4,Yu(n)]):[3,2];case 1:return i.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,Ea(n)]);case 3:i.sent(),n.Br.set("Unknown"),i.label=4;case 4:i.label=5;case 5:return[2]}})})}function Ca(e){var t=this;return e.Ur||(e.Ur=function(n,i,r){var s=z(n);return s.br(),new g4(i,s.Hi,s.credentials,s.R,r)}(e.datastore,e.asyncQueue,{Ii:w4.bind(null,e),Ri:I4.bind(null,e),_r:E4.bind(null,e)}),e.Mr.push(function(n){return k(t,void 0,void 0,function(){return A(this,function(i){switch(i.label){case 0:return n?(e.Ur.sr(),Wy(e)?Hy(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:i.sent(),QA(e),i.label=3;case 3:return[2]}})})})),e.Ur}function Mr(e){var t=this;return e.Kr||(e.Kr=function(n,i,r){var s=z(n);return s.br(),new v4(i,s.Hi,s.credentials,s.R,r)}(e.datastore,e.asyncQueue,{Ii:x4.bind(null,e),Ri:S4.bind(null,e),Ir:C4.bind(null,e),Tr:T4.bind(null,e)}),e.Mr.push(function(n){return k(t,void 0,void 0,function(){return A(this,function(i){switch(i.label){case 0:return n?(e.Kr.sr(),[4,xa(e)]):[3,2];case 1:return i.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:i.sent(),e.Fr.length>0&&(j("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),i.label=4;case 4:return[2]}})})})),e.Kr}function Ta(e,t){if(le("AsyncQueue",t+": "+e),Lo(e))return new P(T.UNAVAILABLE,t+": "+e);throw e}function Gy(e,t){return k(this,void 0,void 0,function(){var n,i,r,s,c,l,d;return A(this,function(f){switch(f.label){case 0:if(n=z(e),i=t.query,r=!1,(s=n.queries.get(i))||(r=!0,s=new k4),!r)return[3,4];f.label=1;case 1:return f.trys.push([1,3,,4]),c=s,[4,n.onListen(i)];case 2:return c.Wr=f.sent(),[3,4];case 3:return l=f.sent(),d=Ta(l,"Initialization of query '"+fy(t.query)+"' failed"),[2,void t.onError(d)];case 4:return n.queries.set(i,s),s.listeners.push(t),t.zr(n.onlineState),s.Wr&&t.Hr(s.Wr)&&Ky(n),[2]}})})}function $y(e,t){return k(this,void 0,void 0,function(){var n,i,r,s,c;return A(this,function(l){return n=z(e),i=t.query,r=!1,(s=n.queries.get(i))&&(c=s.listeners.indexOf(t))>=0&&(s.listeners.splice(c,1),r=s.listeners.length===0),r?[2,(n.queries.delete(i),n.onUnlisten(i))]:[2]})})}function R4(e,t){for(var n=z(e),i=!1,r=0,s=t;r<s.length;r++){var c=s[r],l=c.query,d=n.queries.get(l);if(d){for(var f=0,m=d.listeners;f<m.length;f++)m[f].Hr(c)&&(i=!0);d.Wr=c}}i&&Ky(n)}function O4(e,t,n){var i=z(e),r=i.queries.get(t);if(r)for(var s=0,c=r.listeners;s<c.length;s++)c[s].onError(n);i.queries.delete(t)}function Ky(e){e.Gr.forEach(function(t){t.next()})}function M4(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}function j4(e,t){return k(this,void 0,void 0,function(){var n,i,r,s,c,l;return A(this,function(d){switch(d.label){case 0:return n=t0(e),(s=n.Po.get(t))?(i=s.targetId,n.sharedClientState.addLocalQueryTarget(i),r=s.view.Ro(),[3,4]):[3,1];case 1:return[4,pa(n.localStore,zn(t))];case 2:return c=d.sent(),l=n.sharedClientState.addLocalQueryTarget(c.targetId),i=c.targetId,[4,Xy(n,t,i,l==="current")];case 3:r=d.sent(),n.isPrimaryClient&&_f(n.remoteStore,c),d.label=4;case 4:return[2,r]}})})}function Xy(e,t,n,i){return k(this,void 0,void 0,function(){var r,s,c,l,d,f;return A(this,function(m){switch(m.label){case 0:return e.Oo=function(v,y,_){return function(I,E,C,R){return k(this,void 0,void 0,function(){var L,B,nt;return A(this,function(ut){switch(ut.label){case 0:return L=E.view._o(C),L.Nn?[4,af(I.localStore,E.query,!1).then(function(F){var Ot=F.documents;return E.view._o(Ot,L)})]:[3,2];case 1:L=ut.sent(),ut.label=2;case 2:return B=R&&R.targetChanges.get(E.targetId),nt=E.view.applyChanges(L,I.isPrimaryClient,B),[2,(_y(I,E.targetId,nt.To),nt.snapshot)]}})})}(e,v,y,_)},[4,af(e.localStore,t,!0)];case 1:return r=m.sent(),s=new rk(t,r.Bn),c=s._o(r.documents),l=Py.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline"),d=s.applyChanges(c,e.isPrimaryClient,l),_y(e,n,d.To),f=new N4(t,n,s),[2,(e.Po.set(t,f),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),d.snapshot)]}})})}function U4(e,t){return k(this,void 0,void 0,function(){var n,i,r;return A(this,function(s){switch(s.label){case 0:return n=z(e),i=n.Po.get(t),(r=n.Vo.get(i.targetId)).length>1?[2,(n.Vo.set(i.targetId,r.filter(function(c){return!Hu(c,t)})),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)?[3,2]:[4,ma(n.localStore,i.targetId,!1).then(function(){n.sharedClientState.clearQueryState(i.targetId),Uu(n.remoteStore,i.targetId),ga(n,i.targetId)}).catch(Fo)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return ga(n,i.targetId),[4,ma(n.localStore,i.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function V4(e,t,n){return k(this,void 0,void 0,function(){var i,r,s,c;return A(this,function(l){switch(l.label){case 0:i=e0(e),l.label=1;case 1:return l.trys.push([1,5,,6]),[4,function(d,f){var m,v=z(d),y=Xe.now(),_=f.reduce(function(I,E){return I.add(E.key)},Rt());return v.persistence.runTransaction("Locally write mutations","readwrite",function(I){return v.Mn.pn(I,_).next(function(E){m=E;for(var C=[],R=0,L=f;R<L.length;R++){var B=L[R],nt=lU(B,m.get(B.key));nt!=null&&C.push(new Nr(B.key,nt,tA(nt.value.mapValue),Ue.exists(!0)))}return v._n.addMutationBatch(I,y,C,f)})}).then(function(I){return I.applyToLocalDocumentSet(m),{batchId:I.batchId,changes:m}})}(i.localStore,t)];case 2:return r=l.sent(),i.sharedClientState.addPendingMutation(r.batchId),function(d,f,m){var v=d.xo[d.currentUser.toKey()];v||(v=new Be(_t)),v=v.insert(f,m),d.xo[d.currentUser.toKey()]=v}(i,r.batchId,n),[4,Fr(i,r.changes)];case 3:return l.sent(),[4,xa(i.remoteStore)];case 4:return l.sent(),[3,6];case 5:return s=l.sent(),c=Ta(s,"Failed to persist write"),n.reject(c),[3,6];case 6:return[2]}})})}function ok(e,t){return k(this,void 0,void 0,function(){var n,i;return A(this,function(r){switch(r.label){case 0:n=z(e),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,ZU(n.localStore,t)];case 2:return i=r.sent(),t.targetChanges.forEach(function(s,c){var l=n.Co.get(c);l&&(rt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.bo=!0:s.modifiedDocuments.size>0?rt(l.bo):s.removedDocuments.size>0&&(rt(l.bo),l.bo=!1))}),[4,Fr(n,i,t)];case 3:return r.sent(),[3,6];case 4:return[4,Fo(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}})})}function C1(e,t,n){var i=z(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){var r=[];i.Po.forEach(function(s,c){var l=c.view.zr(t);l.snapshot&&r.push(l.snapshot)}),function(s,c){var l=z(s);l.onlineState=c;var d=!1;l.queries.forEach(function(f,m){for(var v=0,y=m.listeners;v<y.length;v++)y[v].zr(c)&&(d=!0)}),d&&Ky(l)}(i.eventManager,t),r.length&&i.vo._r(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function B4(e,t,n){return k(this,void 0,void 0,function(){var i,r,s,c,l,d;return A(this,function(f){switch(f.label){case 0:return(i=z(e)).sharedClientState.updateQueryState(t,"rejected",n),r=i.Co.get(t),(s=r&&r.key)?(c=(c=new Be(J.comparator)).insert(s,Re.newNoDocument(s,vt.min())),l=Rt().add(s),d=new Oy(vt.min(),new Map,new ve(_t),c,l),[4,ok(i,d)]):[3,2];case 1:return f.sent(),i.Do=i.Do.remove(s),i.Co.delete(t),Jy(i),[3,4];case 2:return[4,ma(i.localStore,t,!1).then(function(){return ga(i,t,n)}).catch(Fo)];case 3:f.sent(),f.label=4;case 4:return[2]}})})}function z4(e,t){return k(this,void 0,void 0,function(){var n,i,r;return A(this,function(s){switch(s.label){case 0:n=z(e),i=t.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,QU(n.localStore,t)];case 2:return r=s.sent(),Zy(n,i,null),Qy(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),[4,Fr(n,r)];case 3:return s.sent(),[3,6];case 4:return[4,Fo(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function q4(e,t,n){return k(this,void 0,void 0,function(){var i,r;return A(this,function(s){switch(s.label){case 0:i=z(e),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(c,l){var d=z(c);return d.persistence.runTransaction("Reject batch","readwrite-primary",function(f){var m;return d._n.lookupMutationBatch(f,l).next(function(v){return rt(v!==null),m=v.keys(),d._n.removeMutationBatch(f,v)}).next(function(){return d._n.performConsistencyCheck(f)}).next(function(){return d.Mn.pn(f,m)})})}(i.localStore,t)];case 2:return r=s.sent(),Zy(i,t,n),Qy(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),[4,Fr(i,r)];case 3:return s.sent(),[3,6];case 4:return[4,Fo(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function H4(e,t){return k(this,void 0,void 0,function(){var n,i,r,s,c;return A(this,function(l){switch(l.label){case 0:Lr((n=z(e)).remoteStore)||j("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,function(d){var f=z(d);return f.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(m){return f._n.getHighestUnacknowledgedBatchId(m)})}(n.localStore)];case 2:return(i=l.sent())===-1?[2,void t.resolve()]:((r=n.ko.get(i)||[]).push(t),n.ko.set(i,r),[3,4]);case 3:return s=l.sent(),c=Ta(s,"Initialization of waitForPendingWrites() operation failed"),t.reject(c),[3,4];case 4:return[2]}})})}function Qy(e,t){(e.ko.get(t)||[]).forEach(function(n){n.resolve()}),e.ko.delete(t)}function Zy(e,t,n){var i=z(e),r=i.xo[i.currentUser.toKey()];if(r){var s=r.get(t);s&&(n?s.reject(n):s.resolve(),r=r.remove(t)),i.xo[i.currentUser.toKey()]=r}}function ga(e,t,n){n===void 0&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var i=0,r=e.Vo.get(t);i<r.length;i++){var s=r[i];e.Po.delete(s),n&&e.vo.Mo(s,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach(function(c){e.No.containsKey(c)||sk(e,c)})}function sk(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);n!==null&&(Uu(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),Jy(e))}function _y(e,t,n){for(var i=0,r=n;i<r.length;i++){var s=r[i];s instanceof nk?(e.No.addReference(s.key,t),W4(e,s)):s instanceof ik?(j("SyncEngine","Document no longer in limbo: "+s.key),e.No.removeReference(s.key,t),e.No.containsKey(s.key)||sk(e,s.key)):Q()}}function W4(e,t){var n=t.key,i=n.path.canonicalString();e.Do.get(n)||e.So.has(i)||(j("SyncEngine","New document in limbo: "+n),e.So.add(i),Jy(e))}function Jy(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new J(xt.fromString(t)),i=e.Fo.next();e.Co.set(i,new L4(n)),e.Do=e.Do.insert(n,i),_f(e.remoteStore,new bf(zn(wa(n.path)),i,2,On.o))}}function Fr(e,t,n){return k(this,void 0,void 0,function(){var i,r,s,c;return A(this,function(l){switch(l.label){case 0:return i=z(e),r=[],s=[],c=[],i.Po.isEmpty()?[3,3]:(i.Po.forEach(function(d,f){c.push(i.Oo(f,t,n).then(function(m){if(m){i.isPrimaryClient&&i.sharedClientState.updateQueryState(f.targetId,m.fromCache?"not-current":"current"),r.push(m);var v=YU.Pn(f.targetId,m);s.push(v)}}))}),[4,Promise.all(c)]);case 1:return l.sent(),i.vo._r(r),[4,function(d,f){return k(this,void 0,void 0,function(){var m,v,y,_,I,E,C,R,L;return A(this,function(B){switch(B.label){case 0:m=z(d),B.label=1;case 1:return B.trys.push([1,3,,4]),[4,m.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(nt){return M.forEach(f,function(ut){return M.forEach(ut.bn,function(F){return m.persistence.referenceDelegate.addReference(nt,ut.targetId,F)}).next(function(){return M.forEach(ut.vn,function(F){return m.persistence.referenceDelegate.removeReference(nt,ut.targetId,F)})})})})];case 2:return B.sent(),[3,4];case 3:if(!Lo(v=B.sent()))throw v;return j("LocalStore","Failed to update sequence numbers: "+v),[3,4];case 4:for(y=0,_=f;y<_.length;y++)I=_[y],E=I.targetId,I.fromCache||(C=m.kn.get(E),R=C.snapshotVersion,L=C.withLastLimboFreeSnapshotVersion(R),m.kn=m.kn.insert(E,L));return[2]}})})}(i.localStore,s)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function G4(e,t){return k(this,void 0,void 0,function(){var n,i;return A(this,function(r){switch(r.label){case 0:return(n=z(e)).currentUser.isEqual(t)?[3,3]:(j("SyncEngine","User change. New user:",t.toKey()),[4,zA(n.localStore,t)]);case 1:return i=r.sent(),n.currentUser=t,function(s,c){s.ko.forEach(function(l){l.forEach(function(d){d.reject(new P(T.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ko.clear()}(n),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),[4,Fr(n,i.Ln)];case 2:r.sent(),r.label=3;case 3:return[2]}})})}function $4(e,t){var n=z(e),i=n.Co.get(t);if(i&&i.bo)return Rt().add(i.key);var r=Rt(),s=n.Vo.get(t);if(!s)return r;for(var c=0,l=s;c<l.length;c++){var d=l[c],f=n.Po.get(d);r=r.unionWith(f.view.wo)}return r}function K4(e,t){return k(this,void 0,void 0,function(){var n,i,r;return A(this,function(s){switch(s.label){case 0:return[4,af((n=z(e)).localStore,t.query,!0)];case 1:return i=s.sent(),r=t.view.Ao(i),[2,(n.isPrimaryClient&&_y(n,t.targetId,r.To),r)]}})})}function Y4(e){return k(this,void 0,void 0,function(){var t;return A(this,function(n){return[2,GA((t=z(e)).localStore).then(function(i){return Fr(t,i)})]})})}function X4(e,t,n,i){return k(this,void 0,void 0,function(){var r,s;return A(this,function(c){switch(c.label){case 0:return[4,function(l,d){var f=z(l),m=z(f._n);return f.persistence.runTransaction("Lookup mutation documents","readonly",function(v){return m.jt(v,d).next(function(y){return y?f.Mn.pn(v,y):M.resolve(null)})})}((r=z(e)).localStore,t)];case 1:return(s=c.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,xa(r.remoteStore)];case 2:return c.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(Zy(r,t,i||null),Qy(r,t),function(l,d){z(z(l)._n).Gt(d)}(r.localStore,t)):Q(),c.label=4;case 4:return[4,Fr(r,s)];case 5:return c.sent(),[3,7];case 6:j("SyncEngine","Cannot apply mutation batch with id: "+t),c.label=7;case 7:return[2]}})})}function Q4(e,t){return k(this,void 0,void 0,function(){var n,i,r,s,c,l,d,f;return A(this,function(m){switch(m.label){case 0:return t0(n=z(e)),e0(n),t!==!0||n.$o===!0?[3,3]:(i=n.sharedClientState.getAllActiveQueryTargets(),[4,T1(n,i.toArray())]);case 1:return r=m.sent(),n.$o=!0,[4,yy(n.remoteStore,!0)];case 2:for(m.sent(),s=0,c=r;s<c.length;s++)l=c[s],_f(n.remoteStore,l);return[3,7];case 3:return t!==!1||n.$o===!1?[3,7]:(d=[],f=Promise.resolve(),n.Vo.forEach(function(v,y){n.sharedClientState.isLocalQueryTarget(y)?d.push(y):f=f.then(function(){return ga(n,y),ma(n.localStore,y,!0)}),Uu(n.remoteStore,y)}),[4,f]);case 4:return m.sent(),[4,T1(n,d)];case 5:return m.sent(),function(v){var y=z(v);y.Co.forEach(function(_,I){Uu(y.remoteStore,I)}),y.No.ts(),y.Co=new Map,y.Do=new Be(J.comparator)}(n),n.$o=!1,[4,yy(n.remoteStore,!1)];case 6:m.sent(),m.label=7;case 7:return[2]}})})}function T1(e,t,n){return k(this,void 0,void 0,function(){var i,r,s,c,l,d,f,m,v,y,_,I,E,C;return A(this,function(R){switch(R.label){case 0:i=z(e),r=[],s=[],c=0,l=t,R.label=1;case 1:return c<l.length?(d=l[c],f=void 0,(m=i.Vo.get(d))&&m.length!==0?[4,pa(i.localStore,zn(m[0]))]:[3,7]):[3,13];case 2:f=R.sent(),v=0,y=m,R.label=3;case 3:return v<y.length?(_=y[v],I=i.Po.get(_),[4,K4(i,I)]):[3,6];case 4:(E=R.sent()).snapshot&&s.push(E.snapshot),R.label=5;case 5:return v++,[3,3];case 6:return[3,11];case 7:return[4,WA(i.localStore,d)];case 8:return C=R.sent(),[4,pa(i.localStore,C)];case 9:return f=R.sent(),[4,Xy(i,ak(C),d,!1)];case 10:R.sent(),R.label=11;case 11:r.push(f),R.label=12;case 12:return c++,[3,1];case 13:return[2,(i.vo._r(s),r)]}})})}function ak(e){return nA(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Z4(e){var t=z(e);return z(z(t.localStore).persistence).fn()}function J4(e,t,n,i){return k(this,void 0,void 0,function(){var r,s,c;return A(this,function(l){switch(l.label){case 0:return(r=z(e)).$o?(j("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!r.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,GA(r.localStore)];case 3:return s=l.sent(),c=Oy.createSynthesizedRemoteEventForCurrentChange(t,n==="current"),[4,Fr(r,s,c)];case 4:return l.sent(),[3,8];case 5:return[4,ma(r.localStore,t,!0)];case 6:return l.sent(),ga(r,t,i),[3,8];case 7:Q(),l.label=8;case 8:return[2]}})})}function tV(e,t,n){return k(this,void 0,void 0,function(){var i,r,s,c,l,d,f,m,v,y;return A(this,function(_){switch(_.label){case 0:if(!(i=t0(e)).$o)return[3,10];r=0,s=t,_.label=1;case 1:return r<s.length?(c=s[r],i.Vo.has(c)?(j("SyncEngine","Adding an already active target "+c),[3,5]):[4,WA(i.localStore,c)]):[3,6];case 2:return l=_.sent(),[4,pa(i.localStore,l)];case 3:return d=_.sent(),[4,Xy(i,ak(l),d.targetId,!1)];case 4:_.sent(),_f(i.remoteStore,d),_.label=5;case 5:return r++,[3,1];case 6:f=function(I){return A(this,function(E){switch(E.label){case 0:return i.Vo.has(I)?[4,ma(i.localStore,I,!1).then(function(){Uu(i.remoteStore,I),ga(i,I)}).catch(Fo)]:[3,2];case 1:E.sent(),E.label=2;case 2:return[2]}})},m=0,v=n,_.label=7;case 7:return m<v.length?(y=v[m],[5,f(y)]):[3,10];case 8:_.sent(),_.label=9;case 9:return m++,[3,7];case 10:return[2]}})})}function t0(e){var t=z(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=ok.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=$4.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=B4.bind(null,t),t.vo._r=R4.bind(null,t.eventManager),t.vo.Mo=O4.bind(null,t.eventManager),t}function e0(e){var t=z(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=z4.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=q4.bind(null,t),t}function lk(e,t){return k(this,void 0,void 0,function(){var n,i,r=this;return A(this,function(s){switch(s.label){case 0:return e.asyncQueue.verifyOperationInProgress(),j("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=s.sent(),[4,t.initialize(n)];case 2:return s.sent(),i=n.initialUser,e.setCredentialChangeListener(function(c){return k(r,void 0,void 0,function(){return A(this,function(l){switch(l.label){case 0:return i.isEqual(c)?[3,2]:[4,zA(t.localStore,c)];case 1:l.sent(),i=c,l.label=2;case 2:return[2]}})})}),t.persistence.setDatabaseDeletedListener(function(){return e.terminate()}),e.offlineComponents=t,[2]}})})}function dk(e,t){return k(this,void 0,void 0,function(){var n,i;return A(this,function(r){switch(r.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,n0(e)];case 1:return n=r.sent(),j("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return i=r.sent(),[4,t.initialize(n,i)];case 3:return r.sent(),e.setCredentialChangeListener(function(s){return function(c,l){return k(this,void 0,void 0,function(){var d,f;return A(this,function(m){switch(m.label){case 0:return(d=z(c)).asyncQueue.verifyOperationInProgress(),j("RemoteStore","RemoteStore received new credentials"),f=Lr(d),d.Or.add(3),[4,Ea(d)];case 1:return m.sent(),f&&d.Br.set("Unknown"),[4,d.remoteSyncer.handleCredentialChange(l)];case 2:return m.sent(),d.Or.delete(3),[4,Yu(d)];case 3:return m.sent(),[2]}})})}(t.remoteStore,s)}),e.onlineComponents=t,[2]}})})}function n0(e){return k(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(j("FirestoreClient","Using default OfflineComponentProvider"),[4,lk(e,new ck)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}})})}function If(e){return k(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(j("FirestoreClient","Using default OnlineComponentProvider"),[4,dk(e,new wy)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}})})}function S1(e){return n0(e).then(function(t){return t.persistence})}function hk(e){return n0(e).then(function(t){return t.localStore})}function A1(e){return If(e).then(function(t){return t.remoteStore})}function fk(e){return If(e).then(function(t){return t.syncEngine})}function va(e){return k(this,void 0,void 0,function(){var t,n;return A(this,function(i){switch(i.label){case 0:return[4,If(e)];case 1:return t=i.sent(),[2,((n=t.eventManager).onListen=j4.bind(null,t.syncEngine),n.onUnlisten=U4.bind(null,t.syncEngine),n)]}})})}function k1(e,t,n){var i=this;n===void 0&&(n={});var r=new Ve;return e.asyncQueue.enqueueAndForget(function(){return k(i,void 0,void 0,function(){var s;return A(this,function(c){switch(c.label){case 0:return s=function(l,d,f,m,v){var y=new wf({next:function(I){d.enqueueAndForget(function(){return $y(l,_)});var E=I.docs.has(f);!E&&I.fromCache?v.reject(new P(T.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&I.fromCache&&m&&m.source==="server"?v.reject(new P(T.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(I)},error:function(I){return v.reject(I)}}),_=new Yy(wa(f.path),y,{includeMetadataChanges:!0,so:!0});return Gy(l,_)},[4,va(e)];case 1:return[2,s.apply(void 0,[c.sent(),e.asyncQueue,t,n,r])]}})})}),r.promise}function D1(e,t,n){var i=this;n===void 0&&(n={});var r=new Ve;return e.asyncQueue.enqueueAndForget(function(){return k(i,void 0,void 0,function(){var s;return A(this,function(c){switch(c.label){case 0:return s=function(l,d,f,m,v){var y=new wf({next:function(I){d.enqueueAndForget(function(){return $y(l,_)}),I.fromCache&&m.source==="server"?v.reject(new P(T.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(I)},error:function(I){return v.reject(I)}}),_=new Yy(f,y,{includeMetadataChanges:!0,so:!0});return Gy(l,_)},[4,va(e)];case 1:return[2,s.apply(void 0,[c.sent(),e.asyncQueue,t,n,r])]}})})}),r.promise}function i0(e,t,n){if(!n)throw new P(T.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function r0(e,t){if(t===void 0)return{merge:!1};if(t.mergeFields!==void 0&&t.merge!==void 0)throw new P(T.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function mk(e,t,n,i){if(t===!0&&i===!0)throw new P(T.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function P1(e){if(!J.isDocumentKey(e))throw new P(T.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function M1(e){if(J.isDocumentKey(e))throw new P(T.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function Ef(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";var t=function(n){if(n.constructor){var i=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(i&&i.length>1)return i[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return typeof e=="function"?"a function":Q()}function kt(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new P(T.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Ef(e);throw new P(T.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function N1(e,t){if(t<=0)throw new P(T.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}function gk(e,t){for(var n,i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];if(e=At(e),i0("collection","path",t),e instanceof Vu)return M1(n=xt.fromString.apply(xt,Nt([t],i))),new Rr(e,null,n);if(!(e instanceof $t||e instanceof Rr))throw new P(T.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return M1(n=xt.fromString.apply(xt,Nt([e.path],i)).child(xt.fromString(t))),new Rr(e.firestore,null,n)}function Xh(e,t){for(var n,i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];if(e=At(e),arguments.length===1&&(t=K1.u()),i0("doc","path",t),e instanceof Vu)return P1(n=xt.fromString.apply(xt,Nt([t],i))),new $t(e,null,new J(n));if(!(e instanceof $t||e instanceof Rr))throw new P(T.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return P1(n=e._path.child(xt.fromString.apply(xt,Nt([t],i)))),new $t(e.firestore,e instanceof Rr?e.converter:null,new J(n))}function vk(e,t){return e=At(e),t=At(t),(e instanceof $t||e instanceof Rr)&&(t instanceof $t||t instanceof Rr)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function bk(e,t){return e=At(e),t=At(t),e instanceof Mn&&t instanceof Mn&&e.firestore===t.firestore&&Hu(e._query,t._query)&&e.converter===t.converter}function ba(e){return function(t,n){if(typeof t!="object"||t===null)return!1;for(var i=t,r=0,s=["next","error","complete"];r<s.length;r++){var c=s[r];if(c in i&&typeof i[c]=="function")return!0}return!1}(e)}function je(e){return e._firestoreClient||_k(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function _k(e){var t,n=e._freezeSettings(),i=function(r,s,c,l){return new oV(r,s,c,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,l.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new rV(e._credentials,e._queue,i)}function F1(e,t,n){var i=this,r=new Ve;return e.asyncQueue.enqueue(function(){return k(i,void 0,void 0,function(){var s;return A(this,function(c){switch(c.label){case 0:return c.trys.push([0,3,,4]),[4,lk(e,n)];case 1:return c.sent(),[4,dk(e,t)];case 2:return c.sent(),r.resolve(),[3,4];case 3:if(!function(l){return l.name==="FirebaseError"?l.code===T.FAILED_PRECONDITION||l.code===T.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(s=c.sent()))throw s;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),r.reject(s),[3,4];case 4:return[2]}})})}).then(function(){return r.promise})}function j1(e){if(e._initialized||e._terminated)throw new P(T.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}function Ik(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Q()}}function Uo(e){var t=e._freezeSettings(),n=yf(e._databaseId);return new fV(e._databaseId,!!t.ignoreUndefinedProperties,n)}function xf(e,t,n,i,r,s){s===void 0&&(s={});var c=e.Uc(s.merge||s.mergeFields?2:0,t,n,r);c0("Data must be an object, but it was:",c,i);var l,d,f=Tk(i,c);if(s.merge)l=new ia(c.fieldMask),d=c.fieldTransforms;else if(s.mergeFields){for(var m=[],v=0,y=s.mergeFields;v<y.length;v++){var _=Iy(t,y[v],n);if(!c.contains(_))throw new P(T.INVALID_ARGUMENT,"Field '"+_+"' is specified in your field mask but missing from your input data.");Ak(m,_)||m.push(_)}l=new ia(m),d=c.fieldTransforms.filter(function(I){return l.covers(I.field)})}else l=null,d=c.fieldTransforms;return new hV(new Rn(f),l,d)}function xk(e,t,n){return new Ek({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}function s0(e,t,n,i){var r=e.Uc(1,t,n);c0("Data must be an object, but it was:",r,i);var s=[],c=Rn.empty();Mo(i,function(d,f){var m=u0(t,d,n);f=At(f);var v=r.Oc(m);if(f instanceof o0)s.push(m);else{var y=Vo(f,v);y!=null&&(s.push(m),c.set(m,y))}});var l=new ia(s);return new wk(c,l,r.fieldTransforms)}function a0(e,t,n,i,r,s){var c=e.Uc(1,t,n),l=[Iy(t,i,n)],d=[r];if(s.length%2!=0)throw new P(T.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var f=0;f<s.length;f+=2)l.push(Iy(t,s[f])),d.push(s[f+1]);for(var m=[],v=Rn.empty(),y=l.length-1;y>=0;--y)if(!Ak(m,l[y])){var _=l[y],I=d[y];I=At(I);var E=c.Oc(_);if(I instanceof o0)m.push(_);else{var C=Vo(I,E);C!=null&&(m.push(_),v.set(_,C))}}var R=new ia(m);return new wk(v,R,c.fieldTransforms)}function Ck(e,t,n,i){return i===void 0&&(i=!1),Vo(n,e.Uc(i?4:3,t))}function Vo(e,t){if(Sk(e=At(e)))return c0("Unsupported field value:",t,e),Tk(e,t);if(e instanceof jo)return function(n,i){if(!Ik(i.Nc))throw i.Lc(n._methodName+"() can only be used with update() and set()");if(!i.path)throw i.Lc(n._methodName+"() is not currently supported inside arrays");var r=n._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&t.Nc!==4)throw t.Lc("Nested arrays are not supported");return function(n,i){for(var r=[],s=0,c=0,l=n;c<l.length;c++){var d=Vo(l[c],i.Mc(s));d==null&&(d={nullValue:"NULL_VALUE"}),r.push(d),s++}return{arrayValue:{values:r}}}(e,t)}return function(n,i){if((n=At(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return cA(i.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var r=Xe.fromDate(n);return{timestampValue:Lu(i.R,r)}}if(n instanceof Xe)return r=new Xe(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:Lu(i.R,r)};if(n instanceof Xu)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Po)return{bytesValue:yA(i.R,n._byteString)};if(n instanceof $t){r=i.databaseId;var s=n.firestore._databaseId;if(!s.isEqual(r))throw i.Lc("Document reference is for database "+s.projectId+"/"+s.database+" but should be for database "+r.projectId+"/"+r.database);return{referenceValue:My(n.firestore._databaseId||i.databaseId,n._key.path)}}throw i.Lc("Unsupported field value: "+Ef(n))}(e,t)}function Tk(e,t){var n={};return X1(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Mo(e,function(i,r){var s=Vo(r,t.kc(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function Sk(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Xe||e instanceof Xu||e instanceof Po||e instanceof $t||e instanceof jo)}function c0(e,t,n){if(!Sk(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){var i=Ef(n);throw i==="an object"?t.Lc(e+" a custom object"):t.Lc(e+" "+i)}}function Iy(e,t,n){if((t=At(t))instanceof Ti)return t._internalPath;if(typeof t=="string")return u0(e,t);throw df("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}function u0(e,t,n){if(t.search(bV)>=0)throw df("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return new(Ti.bind.apply(Ti,Nt([void 0],t.split("."))))()._internalPath}catch{throw df("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function df(e,t,n,i,r){var s=i&&!i.isEmpty(),c=r!==void 0,l="Function "+t+"() called with invalid data";n&&(l+=" (via `toFirestore()`)");var d="";return(s||c)&&(d+=" (found",s&&(d+=" in field "+i),c&&(d+=" in document "+r),d+=")"),new P(T.INVALID_ARGUMENT,(l+=". ")+e+d)}function Ak(e,t){return e.some(function(n){return n.isEqual(t)})}function hf(e,t){return typeof t=="string"?u0(e,t):t instanceof Ti?t._internalPath:t._delegate._internalPath}function _V(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Q()}}function kk(e,t){return e instanceof Gi&&t instanceof Gi?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(e._document===null?t._document===null:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Ar&&t instanceof Ar&&e._firestore===t._firestore&&bk(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Dk(e){if(nf(e)&&e.explicitOrderBy.length===0)throw new P(T.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function xr(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var i=0,r=t;i<r.length;i++){var s=r[i];e=s._apply(e)}return e}function Rk(e,t,n,i){if(n[0]=At(n[0]),n[0]instanceof Bu)return function(s,c,l,d,f){if(!d)throw new P(T.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+l+"().");for(var m=[],v=0,y=sa(s);v<y.length;v++){var _=y[v];if(_.field.isKeyField())m.push(Jh(c,d.key));else{var I=d.data.field(_.field);if(Cy(I))throw new P(T.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+_.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(I===null){var E=_.field.canonicalString();throw new P(T.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+E+"' (used as the orderBy) does not exist.")}m.push(I)}}return new Nu(m,f)}(e._query,e.firestore._databaseId,t,n[0]._document,i);var r=Uo(e.firestore);return function(s,c,l,d,f,m){var v=s.explicitOrderBy;if(f.length>v.length)throw new P(T.INVALID_ARGUMENT,"Too many arguments provided to "+d+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var y=[],_=0;_<f.length;_++){var I=f[_];if(v[_].field.isKeyField()){if(typeof I!="string")throw new P(T.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+d+"(), but got a "+typeof I);if(!Dy(s)&&I.indexOf("/")!==-1)throw new P(T.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+d+"() must be a plain document ID, but '"+I+"' contains a slash.");var E=s.path.child(xt.fromString(I));if(!J.isDocumentKey(E))throw new P(T.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+d+"() must result in a valid document path, but '"+E+"' is not because it contains an odd number of segments.");var C=new J(E);y.push(Jh(c,C))}else{var R=Ck(l,d,I);y.push(R)}}return new Nu(y,m)}(e._query,e.firestore._databaseId,r,t,n,i)}function z1(e,t,n){if(typeof(n=At(n))=="string"){if(n==="")throw new P(T.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Dy(t)&&n.indexOf("/")!==-1)throw new P(T.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var i=t.path.child(xt.fromString(n));if(!J.isDocumentKey(i))throw new P(T.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+i+"' is not because it has an odd number of segments ("+i.length+").");return Jh(e,new J(i))}if(n instanceof $t)return Jh(e,n._key);throw new P(T.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Ef(n)+".")}function q1(e,t){if(!Array.isArray(e)||e.length===0)throw new P(T.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new P(T.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function Ok(e,t,n){if(!n.isEqual(t))throw new P(T.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function Cf(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}function kr(e,t){if((e=At(e)).firestore!==t)throw new P(T.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function H1(e,t,n){e=kt(e,$t);var i=kt(e.firestore,de),r=Cf(e.converter,t,n);return Zu(i,[xf(Uo(i),"setDoc",e._key,r,e.converter!==null,n).toMutation(e._key,Ue.none())])}function W1(e,t,n){for(var i=[],r=3;r<arguments.length;r++)i[r-3]=arguments[r];e=kt(e,$t);var s=kt(e.firestore,de),c=Uo(s);return Zu(s,[(typeof(t=At(t))=="string"||t instanceof Ti?a0(c,"updateDoc",e._key,t,n,i):s0(c,"updateDoc",e._key,t)).toMutation(e._key,Ue.exists(!0))])}function Pk(e){for(var t,n,i,r=[],s=1;s<arguments.length;s++)r[s-1]=arguments[s];e=At(e);var c={includeMetadataChanges:!1},l=0;typeof r[l]!="object"||ba(r[l])||(c=r[l],l++);var d,f,m,v={includeMetadataChanges:c.includeMetadataChanges};if(ba(r[l])){var y=r[l];r[l]=(t=y.next)===null||t===void 0?void 0:t.bind(y),r[l+1]=(n=y.error)===null||n===void 0?void 0:n.bind(y),r[l+2]=(i=y.complete)===null||i===void 0?void 0:i.bind(y)}if(e instanceof $t)f=kt(e.firestore,de),m=wa(e._key.path),d={next:function(E){r[l]&&r[l](Ey(f,e,E))},error:r[l+1],complete:r[l+2]};else{var _=kt(e,Mn);f=kt(_.firestore,de),m=_._query;var I=new ko(f);d={next:function(E){r[l]&&r[l](new Ar(f,I,_,E))},error:r[l+1],complete:r[l+2]},Dk(e._query)}return function(E,C,R,L){var B=this,nt=new wf(L),ut=new Yy(C,nt,R);return E.asyncQueue.enqueueAndForget(function(){return k(B,void 0,void 0,function(){var F;return A(this,function(Ot){switch(Ot.label){case 0:return F=Gy,[4,va(E)];case 1:return[2,F.apply(void 0,[Ot.sent(),ut])]}})})}),function(){nt.Wo(),E.asyncQueue.enqueueAndForget(function(){return k(B,void 0,void 0,function(){var F;return A(this,function(Ot){switch(Ot.label){case 0:return F=$y,[4,va(E)];case 1:return[2,F.apply(void 0,[Ot.sent(),ut])]}})})})}}(je(f),m,v,d)}function Zu(e,t){return function(n,i){var r=this,s=new Ve;return n.asyncQueue.enqueueAndForget(function(){return k(r,void 0,void 0,function(){var c;return A(this,function(l){switch(l.label){case 0:return c=V4,[4,fk(n)];case 1:return[2,c.apply(void 0,[l.sent(),i,s])]}})})}),s.promise}(je(e),t)}function Ey(e,t,n){var i=n.docs.get(t._key),r=new ko(e);return new Gi(e,r,t._key,i,new To(n.hasPendingWrites,n.fromCache),t.converter)}function G1(){if(typeof Uint8Array>"u")throw new P(T.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function $1(){if(typeof atob>"u")throw new P(T.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}function Nk(e){var t;t=e,si.setLogLevel(t)}function Ye(e,t,n){return e.message=e.message.replace(t,n),e}function Lk(e){for(var t=0,n=e;t<n.length;t++){var i=n[t];if(typeof i=="object"&&!ba(i))return i}return{}}function Fk(e,t){var n,i,r;return{next:function(s){r.next&&r.next(t(s))},error:(n=(r=ba(e[0])?e[0]:ba(e[1])?e[1]:typeof e[0]=="function"?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)===null||n===void 0?void 0:n.bind(r),complete:(i=r.complete)===null||i===void 0?void 0:i.bind(r)}}function So(e){return kt(e,$t)}var On,T,P,si,K1,Xe,vt,Q1,xt,Kj,ci,ia,Qe,Yj,J,Rn,Re,Xj,Pn,Qj,Zj,Jj,tU,eU,nU,iU,Nu,ea,$i,mf,aa,Ro,Oo,ca,Gu,cU,Ue,gf,$u,Nr,ce,wt,Ku,Ry,dU,Be,Bh,Tr,ve,ZS,hU,fU,pU,mU,gU,Oy,Py,Kh,vA,bA,JS,vU,bU,yU,_U,AU,kn,Dr,Ft,Fe,kU,DU,Jt,xi,pn,De,Dn,Ao,Wi,ua,la,RU,kA,DA,Ve,M,RA,da,OU,Ru,PU,a1,c1,Ly,MU,bf,OA,NU,LU,Uy,FU,f1,Ei,jU,sf,UU,VU,BU,zU,qU,Ia,jA,HU,WU,GU,sy,$U,KU,UA,YU,VA,XU,i4,By,Ee,r4,o4,s4,a4,c4,u4,l4,Ae,_1,cy,w1,d4,by,uy,$A,h4,I1,f4,p4,m4,zy,YA,g4,v4,b4,y4,_4,A4,ek,E1,uf,k4,D4,Yy,P4,x1,X5,nk,ik,rk,N4,L4,F4,ck,uk,eV,wy,wf,Q5,nV,iV,rV,oV,lf,R1,pk,O1,sV,aV,cV,uV,L1,Vu,$t,Mn,Rr,lV,Z5,yk,de,Ti,Po,jo,Xu,dV,hV,wk,Ek,fV,o0,pV,mV,gV,vV,bV,Bu,yV,To,Gi,Ou,Ar,Qu,wV,IV,U1,V1,B1,l0,EV,xV,ko,CV,d0,Mk,h0,Tf,f0,p0,Sf,Or,ya,_a,Ju,TV,ff,zu,jk,Uk,Vk=_n(()=>{"use strict";Ac();Bs();uh();oy();On=function(){function e(t,n){var i=this;this.previousValue=t,n&&(n.sequenceNumberHandler=function(r){return i.t(r)},this.i=function(r){return n.writeSequenceNumber(r)})}return e.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},e.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},e}();On.o=-1;T={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},P=function(e){function t(n,i){var r=this;return(r=e.call(this,i)||this).code=n,r.message=i,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Z(t,e),t}(Error),si=new ch("@firebase/firestore");K1=function(){function e(){}return e.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length,i="";i.length<20;)for(var r=$j(40),s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=t.charAt(r[s]%t.length));return i},e}();Xe=function(){function e(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new P(T.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new P(T.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new P(T.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new P(T.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(t){return this.seconds===t.seconds?_t(this.nanoseconds,t.nanoseconds):_t(this.seconds,t.seconds)},e.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),vt=function(){function e(t){this.timestamp=t}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new Xe(0,0))},e.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},e.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();Q1=function(){function e(t,n,i){n===void 0?n=0:n>t.length&&Q(),i===void 0?i=t.length-n:i>t.length-n&&Q(),this.segments=t,this.offset=n,this.len=i}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return e.comparator(this,t)===0},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(i){n.push(i)}):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(t){return this.segments[this.offset+t]},e.prototype.isEmpty=function(){return this.length===0},e.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.forEach=function(t){for(var n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(t,n){for(var i=Math.min(t.length,n.length),r=0;r<i;r++){var s=t.get(r),c=n.get(r);if(s<c)return-1;if(s>c)return 1}return t.length<n.length?-1:t.length>n.length?1:0},e}(),xt=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Z(t,e),t.prototype.construct=function(n,i,r){return new t(n,i,r)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var r=[],s=0,c=n;s<c.length;s++){var l=c[s];if(l.indexOf("//")>=0)throw new P(T.INVALID_ARGUMENT,"Invalid segment ("+l+"). Paths must not contain // in them.");r.push.apply(r,l.split("/").filter(function(d){return d.length>0}))}return new t(r)},t.emptyPath=function(){return new t([])},t}(Q1),Kj=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ci=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Z(t,e),t.prototype.construct=function(n,i,r){return new t(n,i,r)},t.isValidIdentifier=function(n){return Kj.test(n)},t.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(n){for(var i=[],r="",s=0,c=function(){if(r.length===0)throw new P(T.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");i.push(r),r=""},l=!1;s<n.length;){var d=n[s];if(d==="\\"){if(s+1===n.length)throw new P(T.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var f=n[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new P(T.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);r+=f,s+=2}else d==="`"?(l=!l,s++):d!=="."||l?(r+=d,s++):(c(),s++)}if(c(),l)throw new P(T.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new t(i)},t.emptyPath=function(){return new t([])},t}(Q1),ia=function(){function e(t){this.fields=t,t.sort(ci.comparator)}return e.prototype.covers=function(t){for(var n=0,i=this.fields;n<i.length;n++)if(i[n].isPrefixOf(t))return!0;return!1},e.prototype.isEqual=function(t){return na(this.fields,t.fields,function(n,i){return n.isEqual(i)})},e}(),Qe=function(){function e(t){this.binaryString=t}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(n){for(var i="",r=0;r<n.length;++r)i+=String.fromCharCode(n[r]);return i}(t))},e.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},e.prototype.toUint8Array=function(){return function(t){for(var n=new Uint8Array(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(t){return _t(this.binaryString,t.binaryString)},e.prototype.isEqual=function(t){return this.binaryString===t.binaryString},e}();Qe.EMPTY_BYTE_STRING=new Qe("");Yj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);J=function(){function e(t){this.path=t}return e.fromPath=function(t){return new e(xt.fromString(t))},e.fromName=function(t){return new e(xt.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},e.prototype.isEqual=function(t){return t!==null&&xt.comparator(this.path,t.path)===0},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(t,n){return xt.comparator(t.path,n.path)},e.isDocumentKey=function(t){return t.length%2==0},e.fromSegments=function(t){return new e(new xt(t.slice()))},e}();Rn=function(){function e(t){this.value=t}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){if(t.isEmpty())return this.value;for(var n=this.value,i=0;i<t.length-1;++i)if(!Wh(n=(n.mapValue.fields||{})[t.get(i)]))return null;return(n=(n.mapValue.fields||{})[t.lastSegment()])||null},e.prototype.set=function(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Du(n)},e.prototype.setAll=function(t){var n=this,i=ci.emptyPath(),r={},s=[];t.forEach(function(l,d){if(!i.isImmediateParentOf(d)){var f=n.getFieldsMap(i);n.applyChanges(f,r,s),r={},s=[],i=d.popLast()}l?r[d.lastSegment()]=Du(l):s.push(d.lastSegment())});var c=this.getFieldsMap(i);this.applyChanges(c,r,s)},e.prototype.delete=function(t){var n=this.field(t.popLast());Wh(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]},e.prototype.isEqual=function(t){return Si(this.value,t.value)},e.prototype.getFieldsMap=function(t){var n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(var i=0;i<t.length;++i){var r=n.mapValue.fields[t.get(i)];Wh(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=r),n=r}return n.mapValue.fields},e.prototype.applyChanges=function(t,n,i){Mo(n,function(l,d){return t[l]=d});for(var r=0,s=i;r<s.length;r++){var c=s[r];delete t[c]}},e.prototype.clone=function(){return new e(Du(this.value))},e}();Re=function(){function e(t,n,i,r,s){this.key=t,this.documentType=n,this.version=i,this.data=r,this.documentState=s}return e.newInvalidDocument=function(t){return new e(t,0,vt.min(),Rn.empty(),0)},e.newFoundDocument=function(t,n,i){return new e(t,1,n,i,0)},e.newNoDocument=function(t,n){return new e(t,2,n,Rn.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,Rn.empty(),2)},e.prototype.convertToFoundDocument=function(t,n){return this.version=t,this.documentType=1,this.data=n,this.documentState=0,this},e.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Rn.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Rn.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return this.documentType!==0},e.prototype.isFoundDocument=function(){return this.documentType===1},e.prototype.isNoDocument=function(){return this.documentType===2},e.prototype.isUnknownDocument=function(){return this.documentType===3},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),Xj=function(e,t,n,i,r,s,c){t===void 0&&(t=null),n===void 0&&(n=[]),i===void 0&&(i=[]),r===void 0&&(r=null),s===void 0&&(s=null),c===void 0&&(c=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=i,this.limit=r,this.startAt=s,this.endAt=c,this.h=null};Pn=function(e){function t(n,i,r){var s=this;return(s=e.call(this)||this).field=n,s.op=i,s.value=r,s}return Z(t,e),t.create=function(n,i,r){return n.isKeyField()?i==="in"||i==="not-in"?this.l(n,i,r):new Qj(n,i,r):i==="array-contains"?new tU(n,r):i==="in"?new eU(n,r):i==="not-in"?new nU(n,r):i==="array-contains-any"?new iU(n,r):new t(n,i,r)},t.l=function(n,i,r){return i==="in"?new Zj(n,r):new Jj(n,r)},t.prototype.matches=function(n){var i=n.data.field(this.field);return this.op==="!="?i!==null&&this.m(oa(i,this.value)):i!==null&&Do(this.value)===Do(i)&&this.m(oa(i,this.value))},t.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return Q()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),Qj=function(e){function t(n,i,r){var s=this;return(s=e.call(this,n,i,r)||this).key=J.fromName(r.referenceValue),s}return Z(t,e),t.prototype.matches=function(n){var i=J.comparator(n.key,this.key);return this.m(i)},t}(Pn),Zj=function(e){function t(n,i){var r=this;return(r=e.call(this,n,"in",i)||this).keys=eA("in",i),r}return Z(t,e),t.prototype.matches=function(n){return this.keys.some(function(i){return i.isEqual(n.key)})},t}(Pn),Jj=function(e){function t(n,i){var r=this;return(r=e.call(this,n,"not-in",i)||this).keys=eA("not-in",i),r}return Z(t,e),t.prototype.matches=function(n){return!this.keys.some(function(i){return i.isEqual(n.key)})},t}(Pn);tU=function(e){function t(n,i){return e.call(this,n,"array-contains",i)||this}return Z(t,e),t.prototype.matches=function(n){var i=n.data.field(this.field);return Sy(i)&&Mu(i.arrayValue,this.value)},t}(Pn),eU=function(e){function t(n,i){return e.call(this,n,"in",i)||this}return Z(t,e),t.prototype.matches=function(n){var i=n.data.field(this.field);return i!==null&&Mu(this.value.arrayValue,i)},t}(Pn),nU=function(e){function t(n,i){return e.call(this,n,"not-in",i)||this}return Z(t,e),t.prototype.matches=function(n){if(Mu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var i=n.data.field(this.field);return i!==null&&!Mu(this.value.arrayValue,i)},t}(Pn),iU=function(e){function t(n,i){return e.call(this,n,"array-contains-any",i)||this}return Z(t,e),t.prototype.matches=function(n){var i=this,r=n.data.field(this.field);return!(!Sy(r)||!r.arrayValue.values)&&r.arrayValue.values.some(function(s){return Mu(i.value.arrayValue,s)})},t}(Pn),Nu=function(e,t){this.position=e,this.before=t};ea=function(e,t){t===void 0&&(t="asc"),this.field=e,this.dir=t};$i=function(e,t,n,i,r,s,c,l){t===void 0&&(t=null),n===void 0&&(n=[]),i===void 0&&(i=[]),r===void 0&&(r=null),s===void 0&&(s="F"),c===void 0&&(c=null),l===void 0&&(l=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=i,this.limit=r,this.limitType=s,this.startAt=c,this.endAt=l,this.p=null,this.T=null,this.startAt,this.endAt};mf=function(){this._=void 0};aa=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Z(t,e),t}(mf),Ro=function(e){function t(n){var i=this;return(i=e.call(this)||this).elements=n,i}return Z(t,e),t}(mf);Oo=function(e){function t(n){var i=this;return(i=e.call(this)||this).elements=n,i}return Z(t,e),t}(mf);ca=function(e){function t(n,i){var r=this;return(r=e.call(this)||this).R=n,r.A=i,r}return Z(t,e),t}(mf);Gu=function(e,t){this.field=e,this.transform=t},cU=function(e,t){this.version=e,this.transformResults=t},Ue=function(){function e(t,n){this.updateTime=t,this.exists=n}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},e}();gf=function(){};$u=function(e){function t(n,i,r,s){s===void 0&&(s=[]);var c=this;return(c=e.call(this)||this).key=n,c.value=i,c.precondition=r,c.fieldTransforms=s,c.type=0,c}return Z(t,e),t}(gf),Nr=function(e){function t(n,i,r,s,c){c===void 0&&(c=[]);var l=this;return(l=e.call(this)||this).key=n,l.data=i,l.fieldMask=r,l.precondition=s,l.fieldTransforms=c,l.type=1,l}return Z(t,e),t}(gf);Ku=function(e){function t(n,i){var r=this;return(r=e.call(this)||this).key=n,r.precondition=i,r.type=2,r.fieldTransforms=[],r}return Z(t,e),t}(gf),Ry=function(e){function t(n,i){var r=this;return(r=e.call(this)||this).key=n,r.precondition=i,r.type=3,r.fieldTransforms=[],r}return Z(t,e),t}(gf),dU=function(e){this.count=e};(wt=ce||(ce={}))[wt.OK=0]="OK",wt[wt.CANCELLED=1]="CANCELLED",wt[wt.UNKNOWN=2]="UNKNOWN",wt[wt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",wt[wt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",wt[wt.NOT_FOUND=5]="NOT_FOUND",wt[wt.ALREADY_EXISTS=6]="ALREADY_EXISTS",wt[wt.PERMISSION_DENIED=7]="PERMISSION_DENIED",wt[wt.UNAUTHENTICATED=16]="UNAUTHENTICATED",wt[wt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",wt[wt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",wt[wt.ABORTED=10]="ABORTED",wt[wt.OUT_OF_RANGE=11]="OUT_OF_RANGE",wt[wt.UNIMPLEMENTED=12]="UNIMPLEMENTED",wt[wt.INTERNAL=13]="INTERNAL",wt[wt.UNAVAILABLE=14]="UNAVAILABLE",wt[wt.DATA_LOSS=15]="DATA_LOSS";Be=function(){function e(t,n){this.comparator=t,this.root=n||Tr.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Tr.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Tr.BLACK,null,null))},e.prototype.get=function(t){for(var n=this.root;!n.isEmpty();){var i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null},e.prototype.indexOf=function(t){for(var n=0,i=this.root;!i.isEmpty();){var r=this.comparator(t,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},e.prototype.forEach=function(t){this.inorderTraversal(function(n,i){return t(n,i),!1})},e.prototype.toString=function(){var t=[];return this.inorderTraversal(function(n,i){return t.push(n+":"+i),!1}),"{"+t.join(", ")+"}"},e.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},e.prototype.getIterator=function(){return new Bh(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(t){return new Bh(this.root,t,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new Bh(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(t){return new Bh(this.root,t,this.comparator,!0)},e}(),Bh=function(){function e(t,n,i,r){this.isReverse=r,this.nodeStack=[];for(var s=1;!t.isEmpty();)if(s=n?i(t.key,n):1,r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return e.prototype.getNext=function(){var t=this.nodeStack.pop(),n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(this.nodeStack.length===0)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},e}(),Tr=function(){function e(t,n,i,r,s){this.key=t,this.value=n,this.color=i??e.RED,this.left=r??e.EMPTY,this.right=s??e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,i,r,s){return new e(t??this.key,n??this.value,i??this.color,r??this.left,s??this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,i){var r=this,s=i(t,r.key);return(r=s<0?r.copy(null,null,null,r.left.insert(t,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(t,n,i))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var i,r=this;if(n(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(t,r.key)===0){if(r.right.isEmpty())return e.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},e.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},e.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Q();var t=this.left.check();if(t!==this.right.check())throw Q();return t+(this.isRed()?0:1)},e}();Tr.EMPTY=null,Tr.RED=!0,Tr.BLACK=!1,Tr.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw Q()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw Q()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw Q()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw Q()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw Q()},enumerable:!1,configurable:!0}),e.prototype.copy=function(t,n,i,r,s){return this},e.prototype.insert=function(t,n,i){return new Tr(t,n)},e.prototype.remove=function(t,n){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());ve=function(){function e(t){this.comparator=t,this.data=new Be(this.comparator)}return e.prototype.has=function(t){return this.data.get(t)!==null},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(t){return this.data.indexOf(t)},e.prototype.forEach=function(t){this.data.inorderTraversal(function(n,i){return t(n),!1})},e.prototype.forEachInRange=function(t,n){for(var i=this.data.getIteratorFrom(t[0]);i.hasNext();){var r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;n(r.key)}},e.prototype.forEachWhile=function(t,n){var i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return},e.prototype.firstAfterOrEqual=function(t){var n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null},e.prototype.getIterator=function(){return new ZS(this.data.getIterator())},e.prototype.getIteratorFrom=function(t){return new ZS(this.data.getIteratorFrom(t))},e.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},e.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(t){var n=this;return n.size<t.size&&(n=t,t=this),t.forEach(function(i){n=n.add(i)}),n},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.data.getIterator(),i=t.data.getIterator();n.hasNext();){var r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0},e.prototype.toArray=function(){var t=[];return this.forEach(function(n){t.push(n)}),t},e.prototype.toString=function(){var t=[];return this.forEach(function(n){return t.push(n)}),"SortedSet("+t.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),ZS=function(){function e(t){this.iter=t}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),hU=new Be(J.comparator);fU=new Be(J.comparator);pU=new Be(J.comparator);mU=new ve(J.comparator);gU=new ve(_t);Oy=function(){function e(t,n,i,r,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var i=new Map;return i.set(t,Py.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(vt.min(),i,vf(),Bn(),Rt())},e}(),Py=function(){function e(t,n,i,r,s){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(Qe.EMPTY_BYTE_STRING,n,Rt(),Rt(),Rt())},e}(),Kh=function(e,t,n,i){this.v=e,this.removedTargetIds=t,this.key=n,this.P=i},vA=function(e,t){this.targetId=e,this.V=t},bA=function(e,t,n,i){n===void 0&&(n=Qe.EMPTY_BYTE_STRING),i===void 0&&(i=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=i},JS=function(){function e(){this.S=0,this.D=e1(),this.C=Qe.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},e.prototype.M=function(){var t=Rt(),n=Rt(),i=Rt();return this.D.forEach(function(r,s){switch(s){case 0:t=t.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:Q()}}),new Py(this.C,this.N,t,n,i)},e.prototype.L=function(){this.k=!1,this.D=e1()},e.prototype.B=function(t,n){this.k=!0,this.D=this.D.insert(t,n)},e.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),vU=function(){function e(t){this.W=t,this.G=new Map,this.H=Bn(),this.J=t1(),this.Y=new ve(_t)}return e.prototype.X=function(t){for(var n=0,i=t.v;n<i.length;n++){var r=i[n];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var s=0,c=t.removedTargetIds;s<c.length;s++)r=c[s],this.tt(r,t.key,t.P)},e.prototype.et=function(t){var n=this;this.forEachTarget(t,function(i){var r=n.nt(i);switch(t.state){case 0:n.st(i)&&r.O(t.resumeToken);break;case 1:r.K(),r.F||r.L(),r.O(t.resumeToken);break;case 2:r.K(),r.F||n.removeTarget(i);break;case 3:n.st(i)&&(r.j(),r.O(t.resumeToken));break;case 4:n.st(i)&&(n.it(i),r.O(t.resumeToken));break;default:Q()}})},e.prototype.forEachTarget=function(t,n){var i=this;t.targetIds.length>0?t.targetIds.forEach(n):this.G.forEach(function(r,s){i.st(s)&&n(s)})},e.prototype.rt=function(t){var n=t.targetId,i=t.V.count,r=this.ot(n);if(r){var s=r.target;if(tf(s))if(i===0){var c=new J(s.path);this.tt(n,c,Re.newNoDocument(c,vt.min()))}else rt(i===1);else this.ct(n)!==i&&(this.it(n),this.Y=this.Y.add(n))}},e.prototype.ut=function(t){var n=this,i=new Map;this.G.forEach(function(c,l){var d=n.ot(l);if(d){if(c.current&&tf(d.target)){var f=new J(d.target.path);n.H.get(f)!==null||n.at(l,f)||n.tt(l,f,Re.newNoDocument(f,t))}c.$&&(i.set(l,c.M()),c.L())}});var r=Rt();this.J.forEach(function(c,l){var d=!0;l.forEachWhile(function(f){var m=n.ot(f);return!m||m.purpose===2||(d=!1,!1)}),d&&(r=r.add(c))});var s=new Oy(t,i,this.Y,this.H,r);return this.H=Bn(),this.J=t1(),this.Y=new ve(_t),s},e.prototype.Z=function(t,n){if(this.st(t)){var i=this.at(t,n.key)?2:0;this.nt(t).B(n.key,i),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(t))}},e.prototype.tt=function(t,n,i){if(this.st(t)){var r=this.nt(t);this.at(t,n)?r.B(n,1):r.q(n),this.J=this.J.insert(n,this.ht(n).delete(t)),i&&(this.H=this.H.insert(n,i))}},e.prototype.removeTarget=function(t){this.G.delete(t)},e.prototype.ct=function(t){var n=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size},e.prototype.U=function(t){this.nt(t).U()},e.prototype.nt=function(t){var n=this.G.get(t);return n||(n=new JS,this.G.set(t,n)),n},e.prototype.ht=function(t){var n=this.J.get(t);return n||(n=new ve(_t),this.J=this.J.insert(t,n)),n},e.prototype.st=function(t){var n=this.ot(t)!==null;return n||j("WatchChangeAggregator","Detected inactive target",t),n},e.prototype.ot=function(t){var n=this.G.get(t);return n&&n.F?null:this.W.lt(t)},e.prototype.it=function(t){var n=this;this.G.set(t,new JS),this.W.getRemoteKeysForTarget(t).forEach(function(i){n.tt(t,i,null)})},e.prototype.at=function(t,n){return this.W.getRemoteKeysForTarget(t).has(n)},e}();bU={asc:"ASCENDING",desc:"DESCENDING"},yU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_U=function(e,t){this.databaseId=e,this.I=t};AU=function(e,t){this.seconds=e,this.nanoseconds=t},kn=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};kn.store="owner",kn.key="owner";Dr=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};Dr.store="mutationQueues",Dr.keyPath="userId";Ft=function(e,t,n,i,r){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=i,this.mutations=r};Ft.store="mutations",Ft.keyPath="batchId",Ft.userMutationsIndex="userMutationsIndex",Ft.userMutationsKeyPath=["userId","batchId"];Fe=function(){function e(){}return e.prefixForUser=function(t){return[t]},e.prefixForPath=function(t,n){return[t,ai(n)]},e.key=function(t,n,i){return[t,ai(n),i]},e}();Fe.store="documentMutations",Fe.PLACEHOLDER=new Fe;kU=function(e,t){this.path=e,this.readTime=t},DU=function(e,t){this.path=e,this.version=t},Jt=function(e,t,n,i,r,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=i,this.readTime=r,this.parentPath=s};Jt.store="remoteDocuments",Jt.readTimeIndex="readTimeIndex",Jt.readTimeIndexPath="readTime",Jt.collectionReadTimeIndex="collectionReadTimeIndex",Jt.collectionReadTimeIndexPath=["parentPath","readTime"];xi=function(e){this.byteSize=e};xi.store="remoteDocumentGlobal",xi.key="remoteDocumentGlobalKey";pn=function(e,t,n,i,r,s,c){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=i,this.lastListenSequenceNumber=r,this.lastLimboFreeSnapshotVersion=s,this.query=c};pn.store="targets",pn.keyPath="targetId",pn.queryTargetsIndexName="queryTargetsIndex",pn.queryTargetsKeyPath=["canonicalId","targetId"];De=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};De.store="targetDocuments",De.keyPath=["targetId","path"],De.documentTargetsIndex="documentTargetsIndex",De.documentTargetsKeyPath=["path","targetId"];Dn=function(e,t,n,i){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=i};Dn.key="targetGlobalKey",Dn.store="targetGlobal";Ao=function(e,t){this.collectionId=e,this.parent=t};Ao.store="collectionParents",Ao.keyPath=["collectionId","parent"];Wi=function(e,t,n,i){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=i};Wi.store="clientMetadata",Wi.keyPath="clientId";ua=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};ua.store="bundles",ua.keyPath="bundleId";la=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};la.store="namedQueries",la.keyPath="name";RU=Nt(Nt([],Nt(Nt([],Nt(Nt([],Nt(Nt([],[Dr.store,Ft.store,Fe.store,Jt.store,pn.store,kn.store,Dn.store,De.store]),[Wi.store])),[xi.store])),[Ao.store])),[ua.store,la.store]),kA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",DA=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},e}(),Ve=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})},M=function(){function e(t){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(i){n.isDone=!0,n.result=i,n.nextCallback&&n.nextCallback(i)},function(i){n.isDone=!0,n.error=i,n.catchCallback&&n.catchCallback(i)})}return e.prototype.catch=function(t){return this.next(void 0,t)},e.prototype.next=function(t,n){var i=this;return this.callbackAttached&&Q(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(r,s){i.nextCallback=function(c){i.wrapSuccess(t,c).next(r,s)},i.catchCallback=function(c){i.wrapFailure(n,c).next(r,s)}})},e.prototype.toPromise=function(){var t=this;return new Promise(function(n,i){t.next(n,i)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(i){return e.reject(i)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(n,i){n(t)})},e.reject=function(t){return new e(function(n,i){i(t)})},e.waitFor=function(t){return new e(function(n,i){var r=0,s=0,c=!1;t.forEach(function(l){++r,l.next(function(){++s,c&&s===r&&n()},function(d){return i(d)})}),c=!0,s===r&&n()})},e.or=function(t){for(var n=e.resolve(!1),i=function(c){n=n.next(function(l){return l?e.resolve(l):c()})},r=0,s=t;r<s.length;r++)i(s[r]);return n},e.forEach=function(t,n){var i=this,r=[];return t.forEach(function(s,c){r.push(n.call(i,s,c))}),this.waitFor(r)},e}(),RA=function(){function e(t,n){var i=this;this.action=t,this.transaction=n,this.aborted=!1,this.ft=new Ve,this.transaction.oncomplete=function(){i.ft.resolve()},this.transaction.onabort=function(){n.error?i.ft.reject(new Ru(t,n.error)):i.ft.resolve()},this.transaction.onerror=function(r){var s=Ny(r.target.error);i.ft.reject(new Ru(t,s))}}return e.open=function(t,n,i,r){try{return new e(n,t.transaction(r,i))}catch(s){throw new Ru(n,s)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(j("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(t){var n=this.transaction.objectStore(t);return new PU(n)},e}(),da=function(){function e(t,n,i){this.name=t,this.version=n,this.wt=i,e._t(br())===12.2&&le("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return j("SimpleDb","Removing database:",t),Co(window.indexedDB.deleteDatabase(t)).toPromise()},e.yt=function(){if(typeof indexedDB>"u")return!1;if(e.gt())return!0;var t=br(),n=e._t(t),i=0<n&&n<10,r=e.Et(t),s=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||s)},e.gt=function(){var t;return typeof process<"u"&&((t=process.env)===null||t===void 0?void 0:t.Tt)==="YES"},e.It=function(t,n){return t.store(n)},e._t=function(t){var n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(i)},e.Et=function(t){var n=t.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)},e.prototype.At=function(t){return k(this,void 0,void 0,function(){var n,i=this;return A(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(j("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(s,c){var l=indexedDB.open(i.name,i.version);l.onsuccess=function(d){var f=d.target.result;s(f)},l.onblocked=function(){c(new Ru(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=function(d){var f=d.target.error;f.name==="VersionError"?c(new P(T.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):c(new Ru(t,f))},l.onupgradeneeded=function(d){j("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',d.oldVersion);var f=d.target.result;i.wt.Rt(f,l.transaction,d.oldVersion,i.version).next(function(){j("SimpleDb","Database upgrade to version "+i.version+" complete")})}})]);case 1:n.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(s){return i.bt(s)}),this.db)]}})})},e.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(n){return t(n)})},e.prototype.runTransaction=function(t,n,i,r){return k(this,void 0,void 0,function(){var s,c,l,d,f;return A(this,function(m){switch(m.label){case 0:s=n==="readonly",c=0,l=function(){var v,y,_,I,E;return A(this,function(C){switch(C.label){case 0:++c,C.label=1;case 1:return C.trys.push([1,4,,5]),[4,d.At(t)];case 2:return d.db=C.sent(),v=RA.open(d.db,t,s?"readonly":"readwrite",i),y=r(v).catch(function(R){return v.abort(R),M.reject(R)}).toPromise(),_={},y.catch(function(){}),[4,v.dt];case 3:return[2,(_.value=(C.sent(),y),_)];case 4:return I=C.sent(),E=I.name!=="FirebaseError"&&c<3,j("SimpleDb","Transaction failed with error:",I.message,"Retrying:",E),d.close(),E?[3,5]:[2,{value:Promise.reject(I)}];case 5:return[2]}})},d=this,m.label=1;case 1:return[5,l()];case 2:if(typeof(f=m.sent())=="object")return[2,f.value];m.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),OU=function(){function e(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(t){this.St=t},e.prototype.delete=function(){return Co(this.Pt.delete())},e}(),Ru=function(e){function t(n,i){var r=this;return(r=e.call(this,T.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+i)||this).name="IndexedDbTransactionError",r}return Z(t,e),t}(P);PU=function(){function e(t){this.store=t}return e.prototype.put=function(t,n){var i;return n!==void 0?(j("SimpleDb","PUT",this.store.name,t,n),i=this.store.put(n,t)):(j("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),Co(i)},e.prototype.add=function(t){return j("SimpleDb","ADD",this.store.name,t,t),Co(this.store.add(t))},e.prototype.get=function(t){var n=this;return Co(this.store.get(t)).next(function(i){return i===void 0&&(i=null),j("SimpleDb","GET",n.store.name,t,i),i})},e.prototype.delete=function(t){return j("SimpleDb","DELETE",this.store.name,t),Co(this.store.delete(t))},e.prototype.count=function(){return j("SimpleDb","COUNT",this.store.name),Co(this.store.count())},e.prototype.Nt=function(t,n){var i=this.cursor(this.options(t,n)),r=[];return this.xt(i,function(s,c){r.push(c)}).next(function(){return r})},e.prototype.kt=function(t,n){j("SimpleDb","DELETE ALL",this.store.name);var i=this.options(t,n);i.Ft=!1;var r=this.cursor(i);return this.xt(r,function(s,c,l){return l.delete()})},e.prototype.$t=function(t,n){var i;n?i=t:(i={},n=t);var r=this.cursor(i);return this.xt(r,n)},e.prototype.Ot=function(t){var n=this.cursor({});return new M(function(i,r){n.onerror=function(s){var c=Ny(s.target.error);r(c)},n.onsuccess=function(s){var c=s.target.result;c?t(c.primaryKey,c.value).next(function(l){l?c.continue():i()}):i()}})},e.prototype.xt=function(t,n){var i=[];return new M(function(r,s){t.onerror=function(c){s(c.target.error)},t.onsuccess=function(c){var l=c.target.result;if(l){var d=new OU(l),f=n(l.primaryKey,l.value,d);if(f instanceof M){var m=f.catch(function(v){return d.done(),M.reject(v)});i.push(m)}d.isDone?r():d.Dt===null?l.continue():l.continue(d.Dt)}else r()}}).next(function(){return M.waitFor(i)})},e.prototype.options=function(t,n){var i;return t!==void 0&&(typeof t=="string"?i=t:n=t),{index:i,range:n}},e.prototype.cursor=function(t){var n="next";if(t.reverse&&(n="prev"),t.index){var i=this.store.index(t.index);return t.Ft?i.openKeyCursor(t.range,n):i.openCursor(t.range,n)}return this.store.openCursor(t.range,n)},e}();a1=!1;c1=function(e){function t(n,i){var r=this;return(r=e.call(this)||this).Mt=n,r.currentSequenceNumber=i,r}return Z(t,e),t}(DA);Ly=function(){function e(t,n,i,r){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}return e.prototype.applyToRemoteDocument=function(t,n){for(var i=n.mutationResults,r=0;r<this.mutations.length;r++){var s=this.mutations[r];s.key.isEqual(t.key)&&uU(s,t,i[r])}},e.prototype.applyToLocalView=function(t){for(var n=0,i=this.baseMutations;n<i.length;n++)(c=i[n]).key.isEqual(t.key)&&py(c,t,this.localWriteTime);for(var r=0,s=this.mutations;r<s.length;r++){var c;(c=s[r]).key.isEqual(t.key)&&py(c,t,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(t){var n=this;this.mutations.forEach(function(i){var r=t.get(i.key),s=r;n.applyToLocalView(s),r.isValidDocument()||s.convertToNoDocument(vt.min())})},e.prototype.keys=function(){return this.mutations.reduce(function(t,n){return t.add(n.key)},Rt())},e.prototype.isEqual=function(t){return this.batchId===t.batchId&&na(this.mutations,t.mutations,function(n,i){return KS(n,i)})&&na(this.baseMutations,t.baseMutations,function(n,i){return KS(n,i)})},e}(),MU=function(){function e(t,n,i,r){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}return e.from=function(t,n,i){rt(t.mutations.length===i.length);for(var r=gA(),s=t.mutations,c=0;c<s.length;c++)r=r.insert(s[c].key,i[c].version);return new e(t,n,i,r)},e}(),bf=function(){function e(t,n,i,r,s,c,l){s===void 0&&(s=vt.min()),c===void 0&&(c=vt.min()),l===void 0&&(l=Qe.EMPTY_BYTE_STRING),this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=l}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),OA=function(e){this.Lt=e};NU=function(){function e(){}return e.prototype.getBundleMetadata=function(t,n){return l1(t).get(n).next(function(i){if(i)return{id:(r=i).bundleId,createTime:fa(r.createTime),version:r.version};var r})},e.prototype.saveBundleMetadata=function(t,n){return l1(t).put({bundleId:(i=n).id,createTime:ha(ke(i.createTime)),version:i.version});var i},e.prototype.getNamedQuery=function(t,n){return d1(t).get(n).next(function(i){if(i)return{name:(r=i).name,query:jy(r.bundledQuery),readTime:fa(r.readTime)};var r})},e.prototype.saveNamedQuery=function(t,n){return d1(t).put(function(i){return{name:i.name,readTime:ha(ke(i.readTime)),bundledQuery:i.bundledQuery}}(n))},e}();LU=function(){function e(){this.Bt=new Uy}return e.prototype.addToCollectionParentIndex=function(t,n){return this.Bt.add(n),M.resolve()},e.prototype.getCollectionParents=function(t,n){return M.resolve(this.Bt.getEntries(n))},e}(),Uy=function(){function e(){this.index={}}return e.prototype.add=function(t){var n=t.lastSegment(),i=t.popLast(),r=this.index[n]||new ve(xt.comparator),s=!r.has(i);return this.index[n]=r.add(i),s},e.prototype.has=function(t){var n=t.lastSegment(),i=t.popLast(),r=this.index[n];return r&&r.has(i)},e.prototype.getEntries=function(t){return(this.index[t]||new ve(xt.comparator)).toArray()},e}(),FU=function(){function e(){this.qt=new Uy}return e.prototype.addToCollectionParentIndex=function(t,n){var i=this;if(!this.qt.has(n)){var r=n.lastSegment(),s=n.popLast();t.addOnCommittedListener(function(){i.qt.add(n)});var c={collectionId:r,parent:ai(s)};return h1(t).put(c)}return M.resolve()},e.prototype.getCollectionParents=function(t,n){var i=[],r=IDBKeyRange.bound([n,""],[Y1(n),""],!1,!0);return h1(t).Nt(r).next(function(s){for(var c=0,l=s;c<l.length;c++){var d=l[c];if(d.collectionId!==n)break;i.push(Hi(d.parent))}return i})},e}();f1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ei=function(){function e(t,n,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();Ei.DEFAULT_COLLECTION_PERCENTILE=10,Ei.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ei.DEFAULT=new Ei(41943040,Ei.DEFAULT_COLLECTION_PERCENTILE,Ei.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ei.DISABLED=new Ei(-1,0,0);jU=function(){function e(t,n,i,r){this.userId=t,this.R=n,this.Ut=i,this.referenceDelegate=r,this.Kt={}}return e.Qt=function(t,n,i,r){return rt(t.uid!==""),new e(t.isAuthenticated()?t.uid:"",n,i,r)},e.prototype.checkEmpty=function(t){var n=!0,i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Er(t).$t({index:Ft.userMutationsIndex,range:i},function(r,s,c){n=!1,c.done()}).next(function(){return n})},e.prototype.addMutationBatch=function(t,n,i,r){var s=this,c=Js(t),l=Er(t);return l.add({}).next(function(d){rt(typeof d=="number");for(var f=new Ly(d,n,i,r),m=function(R,L,B){var nt=B.baseMutations.map(function(F){return rf(R.Lt,F)}),ut=B.mutations.map(function(F){return rf(R.Lt,F)});return new Ft(L,B.batchId,B.localWriteTime.toMillis(),nt,ut)}(s.R,s.userId,f),v=[],y=new ve(function(R,L){return _t(R.canonicalString(),L.canonicalString())}),_=0,I=r;_<I.length;_++){var E=I[_],C=Fe.key(s.userId,E.key.path,d);y=y.add(E.key.path.popLast()),v.push(l.put(m)),v.push(c.put(C,Fe.PLACEHOLDER))}return y.forEach(function(R){v.push(s.Ut.addToCollectionParentIndex(t,R))}),t.addOnCommittedListener(function(){s.Kt[d]=f.keys()}),M.waitFor(v).next(function(){return f})})},e.prototype.lookupMutationBatch=function(t,n){var i=this;return Er(t).get(n).next(function(r){return r?(rt(r.userId===i.userId),Zs(i.R,r)):null})},e.prototype.jt=function(t,n){var i=this;return this.Kt[n]?M.resolve(this.Kt[n]):this.lookupMutationBatch(t,n).next(function(r){if(r){var s=r.keys();return i.Kt[n]=s,s}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var i=this,r=n+1,s=IDBKeyRange.lowerBound([this.userId,r]),c=null;return Er(t).$t({index:Ft.userMutationsIndex,range:s},function(l,d,f){d.userId===i.userId&&(rt(d.batchId>=r),c=Zs(i.R,d)),f.done()}).next(function(){return c})},e.prototype.getHighestUnacknowledgedBatchId=function(t){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),i=-1;return Er(t).$t({index:Ft.userMutationsIndex,range:n,reverse:!0},function(r,s,c){i=s.batchId,c.done()}).next(function(){return i})},e.prototype.getAllMutationBatches=function(t){var n=this,i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Er(t).Nt(Ft.userMutationsIndex,i).next(function(r){return r.map(function(s){return Zs(n.R,s)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var i=this,r=Fe.prefixForPath(this.userId,n.path),s=IDBKeyRange.lowerBound(r),c=[];return Js(t).$t({range:s},function(l,d,f){var m=l[0],v=l[1],y=l[2],_=Hi(v);if(m===i.userId&&n.path.isEqual(_))return Er(t).get(y).next(function(I){if(!I)throw Q();rt(I.userId===i.userId),c.push(Zs(i.R,I))});f.done()}).next(function(){return c})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var i=this,r=new ve(_t),s=[];return n.forEach(function(c){var l=Fe.prefixForPath(i.userId,c.path),d=IDBKeyRange.lowerBound(l),f=Js(t).$t({range:d},function(m,v,y){var _=m[0],I=m[1],E=m[2],C=Hi(I);_===i.userId&&c.path.isEqual(C)?r=r.add(E):y.done()});s.push(f)}),M.waitFor(s).next(function(){return i.Wt(t,r)})},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var i=this,r=n.path,s=r.length+1,c=Fe.prefixForPath(this.userId,r),l=IDBKeyRange.lowerBound(c),d=new ve(_t);return Js(t).$t({range:l},function(f,m,v){var y=f[0],_=f[1],I=f[2],E=Hi(_);y===i.userId&&r.isPrefixOf(E)?E.length===s&&(d=d.add(I)):v.done()}).next(function(){return i.Wt(t,d)})},e.prototype.Wt=function(t,n){var i=this,r=[],s=[];return n.forEach(function(c){s.push(Er(t).get(c).next(function(l){if(l===null)throw Q();rt(l.userId===i.userId),r.push(Zs(i.R,l))}))}),M.waitFor(s).next(function(){return r})},e.prototype.removeMutationBatch=function(t,n){var i=this;return NA(t.Mt,this.userId,n).next(function(r){return t.addOnCommittedListener(function(){i.Gt(n.batchId)}),M.forEach(r,function(s){return i.referenceDelegate.markPotentiallyOrphaned(t,s)})})},e.prototype.Gt=function(t){delete this.Kt[t]},e.prototype.performConsistencyCheck=function(t){var n=this;return this.checkEmpty(t).next(function(i){if(!i)return M.resolve();var r=IDBKeyRange.lowerBound(Fe.prefixForUser(n.userId)),s=[];return Js(t).$t({range:r},function(c,l,d){if(c[0]===n.userId){var f=Hi(c[1]);s.push(f)}else d.done()}).next(function(){rt(s.length===0)})})},e.prototype.containsKey=function(t,n){return LA(t,this.userId,n)},e.prototype.zt=function(t){var n=this;return FA(t).get(this.userId).next(function(i){return i||new Dr(n.userId,-1,"")})},e}();sf=function(){function e(t){this.Ht=t}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),UU=function(){function e(t,n){this.referenceDelegate=t,this.R=n}return e.prototype.allocateTargetId=function(t){var n=this;return this.Xt(t).next(function(i){var r=new sf(i.highestTargetId);return i.highestTargetId=r.next(),n.Zt(t,i).next(function(){return i.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(n){return vt.fromTimestamp(new Xe(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(n){return n.highestListenSequenceNumber})},e.prototype.setTargetsMetadata=function(t,n,i){var r=this;return this.Xt(t).next(function(s){return s.highestListenSequenceNumber=n,i&&(s.lastRemoteSnapshotVersion=i.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),r.Zt(t,s)})},e.prototype.addTargetData=function(t,n){var i=this;return this.te(t,n).next(function(){return i.Xt(t).next(function(r){return r.targetCount+=1,i.ee(n,r),i.Zt(t,r)})})},e.prototype.updateTargetData=function(t,n){return this.te(t,n)},e.prototype.removeTargetData=function(t,n){var i=this;return this.removeMatchingKeysForTargetId(t,n.targetId).next(function(){return Qs(t).delete(n.targetId)}).next(function(){return i.Xt(t)}).next(function(r){return rt(r.targetCount>0),r.targetCount-=1,i.Zt(t,r)})},e.prototype.removeTargets=function(t,n,i){var r=this,s=0,c=[];return Qs(t).$t(function(l,d){var f=ku(d);f.sequenceNumber<=n&&i.get(f.targetId)===null&&(s++,c.push(r.removeTargetData(t,f)))}).next(function(){return M.waitFor(c)}).next(function(){return s})},e.prototype.forEachTarget=function(t,n){return Qs(t).$t(function(i,r){var s=ku(r);n(s)})},e.prototype.Xt=function(t){return p1(t).get(Dn.key).next(function(n){return rt(n!==null),n})},e.prototype.Zt=function(t,n){return p1(t).put(Dn.key,n)},e.prototype.te=function(t,n){return Qs(t).put(MA(this.R,n))},e.prototype.ee=function(t,n){var i=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,i=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,i=!0),i},e.prototype.getTargetCount=function(t){return this.Xt(t).next(function(n){return n.targetCount})},e.prototype.getTargetData=function(t,n){var i=qu(n),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]),s=null;return Qs(t).$t({range:r,index:pn.queryTargetsIndexName},function(c,l,d){var f=ku(l);pf(n,f.target)&&(s=f,d.done())}).next(function(){return s})},e.prototype.addMatchingKeys=function(t,n,i){var r=this,s=[],c=Sr(t);return n.forEach(function(l){var d=ai(l.path);s.push(c.put(new De(i,d))),s.push(r.referenceDelegate.addReference(t,i,l))}),M.waitFor(s)},e.prototype.removeMatchingKeys=function(t,n,i){var r=this,s=Sr(t);return M.forEach(n,function(c){var l=ai(c.path);return M.waitFor([s.delete([i,l]),r.referenceDelegate.removeReference(t,i,c)])})},e.prototype.removeMatchingKeysForTargetId=function(t,n){var i=Sr(t),r=IDBKeyRange.bound([n],[n+1],!1,!0);return i.delete(r)},e.prototype.getMatchingKeysForTargetId=function(t,n){var i=IDBKeyRange.bound([n],[n+1],!1,!0),r=Sr(t),s=Rt();return r.$t({range:i,Ft:!0},function(c,l,d){var f=Hi(c[1]),m=new J(f);s=s.add(m)}).next(function(){return s})},e.prototype.containsKey=function(t,n){var i=ai(n.path),r=IDBKeyRange.bound([i],[Y1(i)],!1,!0),s=0;return Sr(t).$t({index:De.documentTargetsIndex,Ft:!0,range:r},function(c,l,d){var f=c[0];c[1],f!==0&&(s++,d.done())}).next(function(){return s>0})},e.prototype.lt=function(t,n){return Qs(t).get(n).next(function(i){return i?ku(i):null})},e}();VU=function(){function e(t){this.ne=t,this.buffer=new ve(m1),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(t){var n=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var i=this.buffer.last();m1(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),BU=function(){function e(t,n){this.garbageCollector=t,this.asyncQueue=n,this.oe=!1,this.ce=null}return e.prototype.start=function(t){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(t)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),e.prototype.ue=function(t){var n=this,i=this.oe?3e5:6e4;j("LruGarbageCollector","Garbage collection scheduled in "+i+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,function(){return k(n,void 0,void 0,function(){var r;return A(this,function(s){switch(s.label){case 0:this.ce=null,this.oe=!0,s.label=1;case 1:return s.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return s.sent(),[3,7];case 3:return Lo(r=s.sent())?(j("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r),[3,6]):[3,4];case 4:return[4,Fo(r)];case 5:s.sent(),s.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return s.sent(),[2]}})})})},e}(),zU=function(){function e(t,n){this.ae=t,this.params=n}return e.prototype.calculateTargetCount=function(t,n){return this.ae.he(t).next(function(i){return Math.floor(n/100*i)})},e.prototype.nthSequenceNumber=function(t,n){var i=this;if(n===0)return M.resolve(On.o);var r=new VU(n);return this.ae.forEachTarget(t,function(s){return r.re(s.sequenceNumber)}).next(function(){return i.ae.le(t,function(s){return r.re(s)})}).next(function(){return r.maxValue})},e.prototype.removeTargets=function(t,n,i){return this.ae.removeTargets(t,n,i)},e.prototype.removeOrphanedDocuments=function(t,n){return this.ae.removeOrphanedDocuments(t,n)},e.prototype.collect=function(t,n){var i=this;return this.params.cacheSizeCollectionThreshold===-1?(j("LruGarbageCollector","Garbage collection skipped; disabled"),M.resolve(f1)):this.getCacheSize(t).next(function(r){return r<i.params.cacheSizeCollectionThreshold?(j("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+i.params.cacheSizeCollectionThreshold),f1):i.fe(t,n)})},e.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},e.prototype.fe=function(t,n){var i,r,s,c,l,d,f,m=this,v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(y){return y>m.params.maximumSequenceNumbersToCollect?(j("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+m.params.maximumSequenceNumbersToCollect+" from "+y),r=m.params.maximumSequenceNumbersToCollect):r=y,c=Date.now(),m.nthSequenceNumber(t,r)}).next(function(y){return i=y,l=Date.now(),m.removeTargets(t,i,n)}).next(function(y){return s=y,d=Date.now(),m.removeOrphanedDocuments(t,i)}).next(function(y){return f=Date.now(),ly()<=Et.DEBUG&&j("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(c-v)+`ms
	Determined least recently used `+r+" in "+(l-c)+`ms
	Removed `+s+" targets in "+(d-l)+`ms
	Removed `+y+" documents in "+(f-d)+`ms
Total Duration: `+(f-v)+"ms"),M.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:y})})},e}(),qU=function(){function e(t,n){this.db=t,this.garbageCollector=function(i,r){return new zU(i,r)}(this,n)}return e.prototype.he=function(t){var n=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(i){return n.next(function(r){return i+r})})},e.prototype.de=function(t){var n=0;return this.le(t,function(i){n++}).next(function(){return n})},e.prototype.forEachTarget=function(t,n){return this.db.getTargetCache().forEachTarget(t,n)},e.prototype.le=function(t,n){return this.we(t,function(i,r){return n(r)})},e.prototype.addReference=function(t,n,i){return zh(t,i)},e.prototype.removeReference=function(t,n,i){return zh(t,i)},e.prototype.removeTargets=function(t,n,i){return this.db.getTargetCache().removeTargets(t,n,i)},e.prototype.markPotentiallyOrphaned=function(t,n){return zh(t,n)},e.prototype._e=function(t,n){return function(i,r){var s=!1;return FA(i).Ot(function(c){return LA(i,c,r).next(function(l){return l&&(s=!0),M.resolve(!l)})}).next(function(){return s})}(t,n)},e.prototype.removeOrphanedDocuments=function(t,n){var i=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[],c=0;return this.we(t,function(l,d){if(d<=n){var f=i._e(t,l).next(function(m){if(!m)return c++,r.getEntry(t,l).next(function(){return r.removeEntry(l),Sr(t).delete([0,ai(l.path)])})});s.push(f)}}).next(function(){return M.waitFor(s)}).next(function(){return r.apply(t)}).next(function(){return c})},e.prototype.removeTarget=function(t,n){var i=n.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)},e.prototype.updateLimboDocument=function(t,n){return zh(t,n)},e.prototype.we=function(t,n){var i,r=Sr(t),s=On.o;return r.$t({index:De.documentTargetsIndex},function(c,l){var d=c[0];c[1];var f=l.path,m=l.sequenceNumber;d===0?(s!==On.o&&n(new J(Hi(i)),s),s=m,i=f):s=On.o}).next(function(){s!==On.o&&n(new J(Hi(i)),s)})},e.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},e}();Ia=function(){function e(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return e.prototype.get=function(t){var n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0)for(var r=0,s=i;r<s.length;r++){var c=s[r],l=c[0],d=c[1];if(this.equalsFn(l,t))return d}},e.prototype.has=function(t){return this.get(t)!==void 0},e.prototype.set=function(t,n){var i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(var s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,n]);r.push([t,n])}else this.inner[i]=[[t,n]]},e.prototype.delete=function(t){var n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(var r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[n]:i.splice(r,1),!0;return!1},e.prototype.forEach=function(t){Mo(this.inner,function(n,i){for(var r=0,s=i;r<s.length;r++){var c=s[r],l=c[0],d=c[1];t(l,d)}})},e.prototype.isEmpty=function(){return X1(this.inner)},e}(),jA=function(){function e(){this.changes=new Ia(function(t){return t.toString()},function(t,n){return t.isEqual(n)}),this.changesApplied=!1}return e.prototype.getReadTime=function(t){var n=this.changes.get(t);return n?n.readTime:vt.min()},e.prototype.addEntry=function(t,n){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:n})},e.prototype.removeEntry=function(t,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(t,{document:Re.newInvalidDocument(t),readTime:n})},e.prototype.getEntry=function(t,n){this.assertNotApplied();var i=this.changes.get(n);return i!==void 0?M.resolve(i.document):this.getFromCache(t,n)},e.prototype.getEntries=function(t,n){return this.getAllFromCache(t,n)},e.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},e.prototype.assertNotApplied=function(){},e}(),HU=function(){function e(t,n){this.R=t,this.Ut=n}return e.prototype.addEntry=function(t,n,i){return Cr(t).put(qh(n),i)},e.prototype.removeEntry=function(t,n){var i=Cr(t),r=qh(n);return i.delete(r)},e.prototype.updateMetadata=function(t,n){var i=this;return this.getMetadata(t).next(function(r){return r.byteSize+=n,i.me(t,r)})},e.prototype.getEntry=function(t,n){var i=this;return Cr(t).get(qh(n)).next(function(r){return i.ye(n,r)})},e.prototype.ge=function(t,n){var i=this;return Cr(t).get(qh(n)).next(function(r){return{document:i.ye(n,r),size:of(r)}})},e.prototype.getEntries=function(t,n){var i=this,r=Bn();return this.pe(t,n,function(s,c){var l=i.ye(s,c);r=r.insert(s,l)}).next(function(){return r})},e.prototype.Ee=function(t,n){var i=this,r=Bn(),s=new Be(J.comparator);return this.pe(t,n,function(c,l){var d=i.ye(c,l);r=r.insert(c,d),s=s.insert(c,of(l))}).next(function(){return{documents:r,Te:s}})},e.prototype.pe=function(t,n,i){if(n.isEmpty())return M.resolve();var r=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),s=n.getIterator(),c=s.getNext();return Cr(t).$t({range:r},function(l,d,f){for(var m=J.fromSegments(l);c&&J.comparator(c,m)<0;)i(c,null),c=s.getNext();c&&c.isEqual(m)&&(i(c,d),c=s.hasNext()?s.getNext():null),c?f.Ct(c.path.toArray()):f.done()}).next(function(){for(;c;)i(c,null),c=s.hasNext()?s.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(t,n,i){var r=this,s=Bn(),c=n.path.length+1,l={};if(i.isEqual(vt.min())){var d=n.path.toArray();l.range=IDBKeyRange.lowerBound(d)}else{var f=n.path.toArray(),m=Fy(i);l.range=IDBKeyRange.lowerBound([f,m],!0),l.index=Jt.collectionReadTimeIndex}return Cr(t).$t(l,function(v,y,_){if(v.length===c){var I=vy(r.R,y);n.path.isPrefixOf(I.key.path)?Wu(n,I)&&(s=s.insert(I.key,I)):_.done()}}).next(function(){return s})},e.prototype.newChangeBuffer=function(t){return new WU(this,!!t&&t.trackRemovals)},e.prototype.getSize=function(t){return this.getMetadata(t).next(function(n){return n.byteSize})},e.prototype.getMetadata=function(t){return g1(t).get(xi.key).next(function(n){return rt(!!n),n})},e.prototype.me=function(t,n){return g1(t).put(xi.key,n)},e.prototype.ye=function(t,n){if(n){var i=vy(this.R,n);if(!i.isNoDocument()||!i.version.isEqual(vt.min()))return i}return Re.newInvalidDocument(t)},e}(),WU=function(e){function t(n,i){var r=this;return(r=e.call(this)||this).Ie=n,r.trackRemovals=i,r.Ae=new Ia(function(s){return s.toString()},function(s,c){return s.isEqual(c)}),r}return Z(t,e),t.prototype.applyChanges=function(n){var i=this,r=[],s=0,c=new ve(function(l,d){return _t(l.canonicalString(),d.canonicalString())});return this.changes.forEach(function(l,d){var f=i.Ae.get(l);if(d.document.isValidDocument()){var m=u1(i.Ie.R,d.document,i.getReadTime(l));c=c.add(l.path.popLast());var v=of(m);s+=v-f,r.push(i.Ie.addEntry(n,l,m))}else if(s-=f,i.trackRemovals){var y=u1(i.Ie.R,Re.newNoDocument(l,vt.min()),i.getReadTime(l));r.push(i.Ie.addEntry(n,l,y))}else r.push(i.Ie.removeEntry(n,l))}),c.forEach(function(l){r.push(i.Ie.Ut.addToCollectionParentIndex(n,l))}),r.push(this.Ie.updateMetadata(n,s)),M.waitFor(r)},t.prototype.getFromCache=function(n,i){var r=this;return this.Ie.ge(n,i).next(function(s){return r.Ae.set(i,s.size),s.document})},t.prototype.getAllFromCache=function(n,i){var r=this;return this.Ie.Ee(n,i).next(function(s){var c=s.documents;return s.Te.forEach(function(l,d){r.Ae.set(l,d)}),c})},t}(jA);GU=function(){function e(t){this.R=t}return e.prototype.Rt=function(t,n,i,r){var s=this;rt(i<r&&i>=0&&r<=11);var c=new RA("createOrUpgrade",n);i<1&&r>=1&&(function(d){d.createObjectStore(kn.store)}(t),function(d){d.createObjectStore(Dr.store,{keyPath:Dr.keyPath}),d.createObjectStore(Ft.store,{keyPath:Ft.keyPath,autoIncrement:!0}).createIndex(Ft.userMutationsIndex,Ft.userMutationsKeyPath,{unique:!0}),d.createObjectStore(Fe.store)}(t),v1(t),function(d){d.createObjectStore(Jt.store)}(t));var l=M.resolve();return i<3&&r>=3&&(i!==0&&(function(d){d.deleteObjectStore(De.store),d.deleteObjectStore(pn.store),d.deleteObjectStore(Dn.store)}(t),v1(t)),l=l.next(function(){return function(d){var f=d.store(Dn.store),m=new Dn(0,0,vt.min().toTimestamp(),0);return f.put(Dn.key,m)}(c)})),i<4&&r>=4&&(i!==0&&(l=l.next(function(){return function(d,f){return f.store(Ft.store).Nt().next(function(m){d.deleteObjectStore(Ft.store),d.createObjectStore(Ft.store,{keyPath:Ft.keyPath,autoIncrement:!0}).createIndex(Ft.userMutationsIndex,Ft.userMutationsKeyPath,{unique:!0});var v=f.store(Ft.store),y=m.map(function(_){return v.put(_)});return M.waitFor(y)})}(t,c)})),l=l.next(function(){(function(d){d.createObjectStore(Wi.store,{keyPath:Wi.keyPath})})(t)})),i<5&&r>=5&&(l=l.next(function(){return s.Re(c)})),i<6&&r>=6&&(l=l.next(function(){return function(d){d.createObjectStore(xi.store)}(t),s.be(c)})),i<7&&r>=7&&(l=l.next(function(){return s.ve(c)})),i<8&&r>=8&&(l=l.next(function(){return s.Pe(t,c)})),i<9&&r>=9&&(l=l.next(function(){(function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")})(t),function(d){var f=d.objectStore(Jt.store);f.createIndex(Jt.readTimeIndex,Jt.readTimeIndexPath,{unique:!1}),f.createIndex(Jt.collectionReadTimeIndex,Jt.collectionReadTimeIndexPath,{unique:!1})}(n)})),i<10&&r>=10&&(l=l.next(function(){return s.Ve(c)})),i<11&&r>=11&&(l=l.next(function(){(function(d){d.createObjectStore(ua.store,{keyPath:ua.keyPath})})(t),function(d){d.createObjectStore(la.store,{keyPath:la.keyPath})}(t)})),l},e.prototype.be=function(t){var n=0;return t.store(Jt.store).$t(function(i,r){n+=of(r)}).next(function(){var i=new xi(n);return t.store(xi.store).put(xi.key,i)})},e.prototype.Re=function(t){var n=this,i=t.store(Dr.store),r=t.store(Ft.store);return i.Nt().next(function(s){return M.forEach(s,function(c){var l=IDBKeyRange.bound([c.userId,-1],[c.userId,c.lastAcknowledgedBatchId]);return r.Nt(Ft.userMutationsIndex,l).next(function(d){return M.forEach(d,function(f){rt(f.userId===c.userId);var m=Zs(n.R,f);return NA(t,c.userId,m).next(function(){})})})})})},e.prototype.ve=function(t){var n=t.store(De.store),i=t.store(Jt.store);return t.store(Dn.store).get(Dn.key).next(function(r){var s=[];return i.$t(function(c,l){var d=new xt(c),f=function(m){return[0,ai(m)]}(d);s.push(n.get(f).next(function(m){return m?M.resolve():function(v){return n.put(new De(0,ai(v),r.highestListenSequenceNumber))}(d)}))}).next(function(){return M.waitFor(s)})})},e.prototype.Pe=function(t,n){t.createObjectStore(Ao.store,{keyPath:Ao.keyPath});var i=n.store(Ao.store),r=new Uy,s=function(c){if(r.add(c)){var l=c.lastSegment(),d=c.popLast();return i.put({collectionId:l,parent:ai(d)})}};return n.store(Jt.store).$t({Ft:!0},function(c,l){var d=new xt(c);return s(d.popLast())}).next(function(){return n.store(Fe.store).$t({Ft:!0},function(c,l){c[0];var d=c[1];c[2];var f=Hi(d);return s(f.popLast())})})},e.prototype.Ve=function(t){var n=this,i=t.store(pn.store);return i.$t(function(r,s){var c=ku(s),l=MA(n.R,c);return i.put(l)})},e}();sy="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",$U=function(){function e(t,n,i,r,s,c,l,d,f,m){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=i,this.Se=s,this.window=c,this.document=l,this.De=f,this.Ce=m,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(v){return Promise.resolve()},!e.yt())throw new P(T.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new qU(this,r),this.Le=n+"main",this.R=new OA(d),this.Be=new da(this.Le,11,new GU(this.R)),this.qe=new UU(this.referenceDelegate,this.R),this.Ut=new FU,this.Ue=function(v,y){return new HU(v,y)}(this.R,this.Ut),this.Ke=new NU,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,m===!1&&le("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new P(T.FAILED_PRECONDITION,sy);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return t.qe.getHighestSequenceNumber(n)})}).then(function(n){t.Ne=new On(n,t.De)}).then(function(){t.xe=!0}).catch(function(n){return t.Be&&t.Be.close(),Promise.reject(n)})},e.prototype.He=function(t){var n=this;return this.Me=function(i){return k(n,void 0,void 0,function(){return A(this,function(r){return this.started?[2,t(i)]:[2]})})},t(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(t){var n=this;this.Be.vt(function(i){return k(n,void 0,void 0,function(){return A(this,function(r){switch(r.label){case 0:return i.newVersion===null?[4,t()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})})},e.prototype.setNetworkEnabled=function(t){var n=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return k(n,void 0,void 0,function(){return A(this,function(i){switch(i.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})}))},e.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return Hh(n).put(new Wi(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(n).next(function(i){i||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(n)}).next(function(i){return t.isPrimary&&!i?t.Xe(n).next(function(){return!1}):!!i&&t.Ze(n).next(function(){return!0})})}).catch(function(n){if(Lo(n))return j("IndexedDbPersistence","Failed to extend owner lease: ",n),t.isPrimary;if(!t.allowTabSynchronization)throw n;return j("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){t.isPrimary!==n&&t.Se.enqueueRetryable(function(){return t.Me(n)}),t.isPrimary=n})},e.prototype.Je=function(t){var n=this;return Au(t).get(kn.key).next(function(i){return M.resolve(n.tn(i))})},e.prototype.en=function(t){return Hh(t).delete(this.clientId)},e.prototype.nn=function(){return k(this,void 0,void 0,function(){var t,n,i,r,s=this;return A(this,function(c){switch(c.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(l){var d=mn(l,Wi.store);return d.Nt().next(function(f){var m=s.rn(f,18e5),v=f.filter(function(y){return m.indexOf(y)===-1});return M.forEach(v,function(y){return d.delete(y.clientId)}).next(function(){return v})})}).catch(function(){return[]})]);case 1:if(t=c.sent(),this.Qe)for(n=0,i=t;n<i.length;n++)r=i[n],this.Qe.removeItem(this.on(r.clientId));c.label=2;case 2:return[2]}})})},e.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},e.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},e.prototype.Ye=function(t){var n=this;return this.Ce?M.resolve(!0):Au(t).get(kn.key).next(function(i){if(i!==null&&n.sn(i.leaseTimestampMs,5e3)&&!n.cn(i.ownerId)){if(n.tn(i)&&n.networkEnabled)return!0;if(!n.tn(i)){if(!i.allowTabSynchronization)throw new P(T.FAILED_PRECONDITION,sy);return!1}}return!(!n.networkEnabled||!n.inForeground)||Hh(t).Nt().next(function(r){return n.rn(r,5e3).find(function(s){if(n.clientId!==s.clientId){var c=!n.networkEnabled&&s.networkEnabled,l=!n.inForeground&&s.inForeground,d=n.networkEnabled===s.networkEnabled;if(c||l&&d)return!0}return!1})===void 0})}).next(function(i){return n.isPrimary!==i&&j("IndexedDbPersistence","Client "+(i?"is":"is not")+" eligible for a primary lease."),i})},e.prototype.shutdown=function(){return k(this,void 0,void 0,function(){var t=this;return A(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[kn.store,Wi.store],function(i){var r=new c1(i,On.o);return t.Xe(r).next(function(){return t.en(r)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},e.prototype.rn=function(t,n){var i=this;return t.filter(function(r){return i.sn(r.updateTimeMs,n)&&!i.cn(r.clientId)})},e.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(n){return Hh(n).Nt().next(function(i){return t.rn(i,18e5).map(function(r){return r.clientId})})})},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(t){return jU.Qt(t,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,i){var r=this;j("IndexedDbPersistence","Starting transaction:",t);var s,c=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(t,c,RU,function(l){return s=new c1(l,r.Ne?r.Ne.next():On.o),n==="readwrite-primary"?r.Je(s).next(function(d){return!!d||r.Ye(s)}).next(function(d){if(!d)throw le("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.Se.enqueueRetryable(function(){return r.Me(!1)}),new P(T.FAILED_PRECONDITION,kA);return i(s)}).next(function(d){return r.Ze(s).next(function(){return d})}):r.dn(s).next(function(){return i(s)})}).then(function(l){return s.raiseOnCommittedEvent(),l})},e.prototype.dn=function(t){var n=this;return Au(t).get(kn.key).next(function(i){if(i!==null&&n.sn(i.leaseTimestampMs,5e3)&&!n.cn(i.ownerId)&&!n.tn(i)&&!(n.Ce||n.allowTabSynchronization&&i.allowTabSynchronization))throw new P(T.FAILED_PRECONDITION,sy)})},e.prototype.Ze=function(t){var n=new kn(this.clientId,this.allowTabSynchronization,Date.now());return Au(t).put(kn.key,n)},e.yt=function(){return da.yt()},e.prototype.Xe=function(t){var n=this,i=Au(t);return i.get(kn.key).next(function(r){return n.tn(r)?(j("IndexedDbPersistence","Releasing primary lease."),i.delete(kn.key)):M.resolve()})},e.prototype.sn=function(t,n){var i=Date.now();return!(t<i-n||t>i&&(le("Detected an update time that is in the future: "+t+" > "+i),1))},e.prototype.We=function(){var t=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Fe=function(){t.Se.enqueueAndForget(function(){return t.inForeground=t.document.visibilityState==="visible",t.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground=this.document.visibilityState==="visible")},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var t,n=this;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.ke=function(){n.un(),aT()&&navigator.appVersion.match("Version/14")&&n.Se.enterRestrictedMode(!0),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(t){var n;try{var i=((n=this.Qe)===null||n===void 0?void 0:n.getItem(this.on(t)))!==null;return j("IndexedDbPersistence","Client '"+t+"' "+(i?"is":"is not")+" zombied in LocalStorage"),i}catch(r){return le("IndexedDbPersistence","Failed to get zombied client id.",r),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){le("Failed to set zombie client id.",t)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},e.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},e}();KU=function(e,t){this.progress=e,this.wn=t},UA=function(){function e(t,n,i){this.Ue=t,this._n=n,this.Ut=i}return e.prototype.mn=function(t,n){var i=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,n).next(function(r){return i.yn(t,n,r)})},e.prototype.yn=function(t,n,i){return this.Ue.getEntry(t,n).next(function(r){for(var s=0,c=i;s<c.length;s++)c[s].applyToLocalView(r);return r})},e.prototype.gn=function(t,n){t.forEach(function(i,r){for(var s=0,c=n;s<c.length;s++)c[s].applyToLocalView(r)})},e.prototype.pn=function(t,n){var i=this;return this.Ue.getEntries(t,n).next(function(r){return i.En(t,r).next(function(){return r})})},e.prototype.En=function(t,n){var i=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,n).next(function(r){return i.gn(n,r)})},e.prototype.getDocumentsMatchingQuery=function(t,n,i){return function(r){return J.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}(n)?this.Tn(t,n.path):Dy(n)?this.In(t,n,i):this.An(t,n,i)},e.prototype.Tn=function(t,n){return this.mn(t,new J(n)).next(function(i){var r=my();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})},e.prototype.In=function(t,n,i){var r=this,s=n.collectionGroup,c=my();return this.Ut.getCollectionParents(t,s).next(function(l){return M.forEach(l,function(d){var f=function(m,v){return new $i(v,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,d.child(s));return r.An(t,f,i).next(function(m){m.forEach(function(v,y){c=c.insert(v,y)})})}).next(function(){return c})})},e.prototype.An=function(t,n,i){var r,s,c=this;return this.Ue.getDocumentsMatchingQuery(t,n,i).next(function(l){return r=l,c._n.getAllMutationBatchesAffectingQuery(t,n)}).next(function(l){return s=l,c.Rn(t,s,r).next(function(d){r=d;for(var f=0,m=s;f<m.length;f++)for(var v=m[f],y=0,_=v.mutations;y<_.length;y++){var I=_[y],E=I.key,C=r.get(E);C==null&&(C=Re.newInvalidDocument(E),r=r.insert(E,C)),py(I,C,v.localWriteTime),C.isFoundDocument()||(r=r.remove(E))}})}).next(function(){return r.forEach(function(l,d){Wu(n,d)||(r=r.remove(l))}),r})},e.prototype.Rn=function(t,n,i){for(var r=Rt(),s=0,c=n;s<c.length;s++)for(var l=0,d=c[s].mutations;l<d.length;l++){var f=d[l];f instanceof Nr&&i.get(f.key)===null&&(r=r.add(f.key))}var m=i;return this.Ue.getEntries(t,r).next(function(v){return v.forEach(function(y,_){_.isFoundDocument()&&(m=m.insert(y,_))}),m})},e}(),YU=function(){function e(t,n,i,r){this.targetId=t,this.fromCache=n,this.bn=i,this.vn=r}return e.Pn=function(t,n){for(var i=Rt(),r=Rt(),s=0,c=n.docChanges;s<c.length;s++){var l=c[s];switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:r=r.add(l.doc.key)}}return new e(t,n.fromCache,i,r)},e}(),VA=function(){function e(){}return e.prototype.Vn=function(t){this.Sn=t},e.prototype.getDocumentsMatchingQuery=function(t,n,i,r){var s=this;return function(c){return c.filters.length===0&&c.limit===null&&c.startAt==null&&c.endAt==null&&(c.explicitOrderBy.length===0||c.explicitOrderBy.length===1&&c.explicitOrderBy[0].field.isKeyField())}(n)||i.isEqual(vt.min())?this.Dn(t,n):this.Sn.pn(t,r).next(function(c){var l=s.Cn(n,c);return(Gh(n)||nf(n))&&s.Nn(n.limitType,l,r,i)?s.Dn(t,n):(ly()<=Et.DEBUG&&j("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),fy(n)),s.Sn.getDocumentsMatchingQuery(t,n,i).next(function(d){return l.forEach(function(f){d=d.insert(f.key,f)}),d}))})},e.prototype.Cn=function(t,n){var i=new ve(oA(t));return n.forEach(function(r,s){Wu(t,s)&&(i=i.add(s))}),i},e.prototype.Nn=function(t,n,i,r){if(i.size!==n.size)return!0;var s=t==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)},e.prototype.Dn=function(t,n){return ly()<=Et.DEBUG&&j("QueryEngine","Using full collection scan to execute query:",fy(n)),this.Sn.getDocumentsMatchingQuery(t,n,vt.min())},e}(),XU=function(){function e(t,n,i,r){this.persistence=t,this.xn=n,this.R=r,this.kn=new Be(_t),this.Fn=new Ia(function(s){return qu(s)},pf),this.$n=vt.min(),this._n=t.getMutationQueue(i),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new UA(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(t){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(i){return t.collect(i,n.kn)})},e}();i4=function(){function e(t){this.R=t,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(t,n){return M.resolve(this.Qn.get(n))},e.prototype.saveBundleMetadata=function(t,n){var i;return this.Qn.set(n.id,{id:(i=n).id,version:i.version,createTime:ke(i.createTime)}),M.resolve()},e.prototype.getNamedQuery=function(t,n){return M.resolve(this.jn.get(n))},e.prototype.saveNamedQuery=function(t,n){return this.jn.set(n.name,function(i){return{name:i.name,query:jy(i.bundledQuery),readTime:ke(i.readTime)}}(n)),M.resolve()},e}(),By=function(){function e(){this.Wn=new ve(Ee.Gn),this.zn=new ve(Ee.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(t,n){var i=new Ee(t,n);this.Wn=this.Wn.add(i),this.zn=this.zn.add(i)},e.prototype.Jn=function(t,n){var i=this;t.forEach(function(r){return i.addReference(r,n)})},e.prototype.removeReference=function(t,n){this.Yn(new Ee(t,n))},e.prototype.Xn=function(t,n){var i=this;t.forEach(function(r){return i.removeReference(r,n)})},e.prototype.Zn=function(t){var n=this,i=new J(new xt([])),r=new Ee(i,t),s=new Ee(i,t+1),c=[];return this.zn.forEachInRange([r,s],function(l){n.Yn(l),c.push(l.key)}),c},e.prototype.ts=function(){var t=this;this.Wn.forEach(function(n){return t.Yn(n)})},e.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},e.prototype.es=function(t){var n=new J(new xt([])),i=new Ee(n,t),r=new Ee(n,t+1),s=Rt();return this.zn.forEachInRange([i,r],function(c){s=s.add(c.key)}),s},e.prototype.containsKey=function(t){var n=new Ee(t,0),i=this.Wn.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)},e}(),Ee=function(){function e(t,n){this.key=t,this.ns=n}return e.Gn=function(t,n){return J.comparator(t.key,n.key)||_t(t.ns,n.ns)},e.Hn=function(t,n){return _t(t.ns,n.ns)||J.comparator(t.key,n.key)},e}(),r4=function(){function e(t,n){this.Ut=t,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new ve(Ee.Gn)}return e.prototype.checkEmpty=function(t){return M.resolve(this._n.length===0)},e.prototype.addMutationBatch=function(t,n,i,r){var s=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var c=new Ly(s,n,i,r);this._n.push(c);for(var l=0,d=r;l<d.length;l++){var f=d[l];this.rs=this.rs.add(new Ee(f.key,s)),this.Ut.addToCollectionParentIndex(t,f.key.path.popLast())}return M.resolve(c)},e.prototype.lookupMutationBatch=function(t,n){return M.resolve(this.os(n))},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var i=n+1,r=this.cs(i),s=r<0?0:r;return M.resolve(this._n.length>s?this._n[s]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return M.resolve(this._n.length===0?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(t){return M.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var i=this,r=new Ee(n,0),s=new Ee(n,Number.POSITIVE_INFINITY),c=[];return this.rs.forEachInRange([r,s],function(l){var d=i.os(l.ns);c.push(d)}),M.resolve(c)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var i=this,r=new ve(_t);return n.forEach(function(s){var c=new Ee(s,0),l=new Ee(s,Number.POSITIVE_INFINITY);i.rs.forEachInRange([c,l],function(d){r=r.add(d.ns)})}),M.resolve(this.us(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var i=n.path,r=i.length+1,s=i;J.isDocumentKey(s)||(s=s.child(""));var c=new Ee(new J(s),0),l=new ve(_t);return this.rs.forEachWhile(function(d){var f=d.key.path;return!!i.isPrefixOf(f)&&(f.length===r&&(l=l.add(d.ns)),!0)},c),M.resolve(this.us(l))},e.prototype.us=function(t){var n=this,i=[];return t.forEach(function(r){var s=n.os(r);s!==null&&i.push(s)}),i},e.prototype.removeMutationBatch=function(t,n){var i=this;rt(this.hs(n.batchId,"removed")===0),this._n.shift();var r=this.rs;return M.forEach(n.mutations,function(s){var c=new Ee(s.key,n.batchId);return r=r.delete(c),i.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(function(){i.rs=r})},e.prototype.Gt=function(t){},e.prototype.containsKey=function(t,n){var i=new Ee(n,0),r=this.rs.firstAfterOrEqual(i);return M.resolve(n.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(t){return this._n.length,M.resolve()},e.prototype.hs=function(t,n){return this.cs(t)},e.prototype.cs=function(t){return this._n.length===0?0:t-this._n[0].batchId},e.prototype.os=function(t){var n=this.cs(t);return n<0||n>=this._n.length?null:this._n[n]},e}(),o4=function(){function e(t,n){this.Ut=t,this.ls=n,this.docs=new Be(J.comparator),this.size=0}return e.prototype.addEntry=function(t,n,i){var r=n.key,s=this.docs.get(r),c=s?s.size:0,l=this.ls(n);return this.docs=this.docs.insert(r,{document:n.clone(),size:l,readTime:i}),this.size+=l-c,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},e.prototype.removeEntry=function(t){var n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)},e.prototype.getEntry=function(t,n){var i=this.docs.get(n);return M.resolve(i?i.document.clone():Re.newInvalidDocument(n))},e.prototype.getEntries=function(t,n){var i=this,r=Bn();return n.forEach(function(s){var c=i.docs.get(s);r=r.insert(s,c?c.document.clone():Re.newInvalidDocument(s))}),M.resolve(r)},e.prototype.getDocumentsMatchingQuery=function(t,n,i){for(var r=Bn(),s=new J(n.path.child("")),c=this.docs.getIteratorFrom(s);c.hasNext();){var l=c.getNext(),d=l.key,f=l.value,m=f.document,v=f.readTime;if(!n.path.isPrefixOf(d.path))break;v.compareTo(i)<=0||Wu(n,m)&&(r=r.insert(m.key,m.clone()))}return M.resolve(r)},e.prototype.fs=function(t,n){return M.forEach(this.docs,function(i){return n(i)})},e.prototype.newChangeBuffer=function(t){return new s4(this)},e.prototype.getSize=function(t){return M.resolve(this.size)},e}(),s4=function(e){function t(n){var i=this;return(i=e.call(this)||this).Ie=n,i}return Z(t,e),t.prototype.applyChanges=function(n){var i=this,r=[];return this.changes.forEach(function(s,c){c.document.isValidDocument()?r.push(i.Ie.addEntry(n,c.document,i.getReadTime(s))):i.Ie.removeEntry(s)}),M.waitFor(r)},t.prototype.getFromCache=function(n,i){return this.Ie.getEntry(n,i)},t.prototype.getAllFromCache=function(n,i){return this.Ie.getEntries(n,i)},t}(jA),a4=function(){function e(t){this.persistence=t,this.ds=new Ia(function(n){return qu(n)},pf),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.ws=0,this._s=new By,this.targetCount=0,this.ys=sf.Jt()}return e.prototype.forEachTarget=function(t,n){return this.ds.forEach(function(i,r){return n(r)}),M.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(t){return M.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(t){return M.resolve(this.ws)},e.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),M.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ws&&(this.ws=n),M.resolve()},e.prototype.te=function(t){this.ds.set(t.target,t);var n=t.targetId;n>this.highestTargetId&&(this.ys=new sf(n),this.highestTargetId=n),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},e.prototype.addTargetData=function(t,n){return this.te(n),this.targetCount+=1,M.resolve()},e.prototype.updateTargetData=function(t,n){return this.te(n),M.resolve()},e.prototype.removeTargetData=function(t,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,M.resolve()},e.prototype.removeTargets=function(t,n,i){var r=this,s=0,c=[];return this.ds.forEach(function(l,d){d.sequenceNumber<=n&&i.get(d.targetId)===null&&(r.ds.delete(l),c.push(r.removeMatchingKeysForTargetId(t,d.targetId)),s++)}),M.waitFor(c).next(function(){return s})},e.prototype.getTargetCount=function(t){return M.resolve(this.targetCount)},e.prototype.getTargetData=function(t,n){var i=this.ds.get(n)||null;return M.resolve(i)},e.prototype.addMatchingKeys=function(t,n,i){return this._s.Jn(n,i),M.resolve()},e.prototype.removeMatchingKeys=function(t,n,i){this._s.Xn(n,i);var r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(function(c){s.push(r.markPotentiallyOrphaned(t,c))}),M.waitFor(s)},e.prototype.removeMatchingKeysForTargetId=function(t,n){return this._s.Zn(n),M.resolve()},e.prototype.getMatchingKeysForTargetId=function(t,n){var i=this._s.es(n);return M.resolve(i)},e.prototype.containsKey=function(t,n){return M.resolve(this._s.containsKey(n))},e}(),c4=function(){function e(t,n){var i=this;this.gs={},this.Ne=new On(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new a4(this),this.Ut=new LU,this.Ue=function(r,s){return new o4(r,function(c){return i.referenceDelegate.ps(c)})}(this.Ut),this.R=new OA(n),this.Ke=new i4(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(t){var n=this.gs[t.toKey()];return n||(n=new r4(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=n),n},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,i){var r=this;j("MemoryPersistence","Starting transaction:",t);var s=new u4(this.Ne.next());return this.referenceDelegate.Es(),i(s).next(function(c){return r.referenceDelegate.Ts(s).next(function(){return c})}).toPromise().then(function(c){return s.raiseOnCommittedEvent(),c})},e.prototype.Is=function(t,n){return M.or(Object.values(this.gs).map(function(i){return function(){return i.containsKey(t,n)}}))},e}(),u4=function(e){function t(n){var i=this;return(i=e.call(this)||this).currentSequenceNumber=n,i}return Z(t,e),t}(DA),l4=function(){function e(t){this.persistence=t,this.As=new By,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Q()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(t,n,i){return this.As.addReference(i,n),this.vs.delete(i.toString()),M.resolve()},e.prototype.removeReference=function(t,n,i){return this.As.removeReference(i,n),this.vs.add(i.toString()),M.resolve()},e.prototype.markPotentiallyOrphaned=function(t,n){return this.vs.add(n.toString()),M.resolve()},e.prototype.removeTarget=function(t,n){var i=this;this.As.Zn(n.targetId).forEach(function(s){return i.vs.add(s.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(function(s){s.forEach(function(c){return i.vs.add(c.toString())})}).next(function(){return r.removeTargetData(t,n)})},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(t){var n=this,i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.vs,function(r){var s=J.fromPath(r);return n.Ps(t,s).next(function(c){c||i.removeEntry(s)})}).next(function(){return n.Rs=null,i.apply(t)})},e.prototype.updateLimboDocument=function(t,n){var i=this;return this.Ps(t,n).next(function(r){r?i.vs.delete(n.toString()):i.vs.add(n.toString())})},e.prototype.ps=function(t){return 0},e.prototype.Ps=function(t,n){var i=this;return M.or([function(){return M.resolve(i.As.containsKey(n))},function(){return i.persistence.getTargetCache().containsKey(t,n)},function(){return i.persistence.Is(t,n)}])},e}(),Ae=function(){function e(t){this.uid=t}return e.prototype.isAuthenticated=function(){return this.uid!=null},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(t){return t.uid===this.uid},e}();Ae.UNAUTHENTICATED=new Ae(null),Ae.GOOGLE_CREDENTIALS=new Ae("google-credentials-uid"),Ae.FIRST_PARTY=new Ae("first-party-uid"),Ae.MOCK_USER=new Ae("mock-user");_1=function(){function e(t,n,i,r){this.user=t,this.batchId=n,this.state=i,this.error=r}return e.Vs=function(t,n,i){var r,s=JSON.parse(i),c=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return c&&s.error&&(c=typeof s.error.message=="string"&&typeof s.error.code=="string")&&(r=new P(s.error.code,s.error.message)),c?new e(t,n,s.state,r):(le("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+i),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),cy=function(){function e(t,n,i){this.targetId=t,this.state=n,this.error=i}return e.Vs=function(t,n){var i,r=JSON.parse(n),s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string")&&(i=new P(r.error.code,r.error.message)),s?new e(t,r.state,i):(le("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),w1=function(){function e(t,n){this.clientId=t,this.activeTargetIds=n}return e.Vs=function(t,n){for(var i=JSON.parse(n),r=typeof i=="object"&&i.activeTargetIds instanceof Array,s=vf(),c=0;r&&c<i.activeTargetIds.length;++c)r=J1(i.activeTargetIds[c]),s=s.add(i.activeTargetIds[c]);return r?new e(t,s):(le("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),d4=function(){function e(t,n){this.clientId=t,this.onlineState=n}return e.Vs=function(t){var n=JSON.parse(t);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new e(n.clientId,n.onlineState):(le("SharedClientState","Failed to parse online state: "+t),null)},e}(),by=function(){function e(){this.activeTargetIds=vf()}return e.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},e.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},e.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},e}(),uy=function(){function e(t,n,i,r,s){this.window=t,this.Se=n,this.persistenceKey=i,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new Be(_t),this.started=!1,this.$s=[];var c=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Os=b1(this.persistenceKey,this.Ns),this.Ms=function(l){return"firestore_sequence_number_"+l}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new by),this.Ls=new RegExp("^firestore_clients_"+c+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+c+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+c+"_(\\d+)$"),this.Us=function(l){return"firestore_online_state_"+l}(this.persistenceKey),this.Ks=function(l){return"firestore_bundle_loaded_"+l}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(t){return!(!t||!t.localStorage)},e.prototype.start=function(){return k(this,void 0,void 0,function(){var t,n,i,r,s,c,l,d,f,m,v,y=this;return A(this,function(_){switch(_.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=_.sent(),n=0,i=t;n<i.length;n++)(r=i[n])!==this.Ns&&(s=this.getItem(b1(this.persistenceKey,r)))&&(c=w1.Vs(r,s))&&(this.Fs=this.Fs.insert(c.clientId,c));for(this.Qs(),(l=this.storage.getItem(this.Us))&&(d=this.js(l))&&this.Ws(d),f=0,m=this.$s;f<m.length;f++)v=m[f],this.ks(v);return this.$s=[],this.window.addEventListener("pagehide",function(){return y.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(t){var n=!1;return this.Fs.forEach(function(i,r){r.activeTargetIds.has(t)&&(n=!0)}),n},e.prototype.addPendingMutation=function(t){this.zs(t,"pending")},e.prototype.updateMutationState=function(t,n,i){this.zs(t,n,i),this.Hs(t)},e.prototype.addLocalQueryTarget=function(t){var n="not-current";if(this.isActiveQueryTarget(t)){var i=this.storage.getItem(ay(this.persistenceKey,t));if(i){var r=cy.Vs(t,i);r&&(n=r.state)}}return this.Js.Ds(t),this.Qs(),n},e.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},e.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){this.removeItem(ay(this.persistenceKey,t))},e.prototype.updateQueryState=function(t,n,i){this.Ys(t,n,i)},e.prototype.handleUserChange=function(t,n,i){var r=this;n.forEach(function(s){r.Hs(s)}),this.currentUser=t,i.forEach(function(s){r.addPendingMutation(s)})},e.prototype.setOnlineState=function(t){this.Xs(t)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(t){var n=this.storage.getItem(t);return j("SharedClientState","READ",t,n),n},e.prototype.setItem=function(t,n){j("SharedClientState","SET",t,n),this.storage.setItem(t,n)},e.prototype.removeItem=function(t){j("SharedClientState","REMOVE",t),this.storage.removeItem(t)},e.prototype.ks=function(t){var n=this,i=t;if(i.storageArea===this.storage){if(j("SharedClientState","EVENT",i.key,i.newValue),i.key===this.Os)return void le("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return k(n,void 0,void 0,function(){var r,s,c,l,d,f;return A(this,function(m){if(this.started){if(i.key!==null){if(this.Ls.test(i.key)){if(i.newValue==null)return r=this.ti(i.key),[2,this.ei(r,null)];if(s=this.ni(i.key,i.newValue))return[2,this.ei(s.clientId,s)]}else if(this.Bs.test(i.key)){if(i.newValue!==null&&(c=this.si(i.key,i.newValue)))return[2,this.ii(c)]}else if(this.qs.test(i.key)){if(i.newValue!==null&&(l=this.ri(i.key,i.newValue)))return[2,this.oi(l)]}else if(i.key===this.Us){if(i.newValue!==null&&(d=this.js(i.newValue)))return[2,this.Ws(d)]}else if(i.key===this.Ms)(f=function(v){var y=On.o;if(v!=null)try{var _=JSON.parse(v);rt(typeof _=="number"),y=_}catch(I){le("SharedClientState","Failed to read sequence number from WebStorage",I)}return y}(i.newValue))!==On.o&&this.sequenceNumberHandler(f);else if(i.key===this.Ks)return[2,this.syncEngine.ci()]}}else this.$s.push(i);return[2]})})})}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(t,n,i){var r=new _1(this.currentUser,t,n,i),s=y1(this.persistenceKey,this.currentUser,t);this.setItem(s,r.Ss())},e.prototype.Hs=function(t){var n=y1(this.persistenceKey,this.currentUser,t);this.removeItem(n)},e.prototype.Xs=function(t){var n={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(n))},e.prototype.Ys=function(t,n,i){var r=ay(this.persistenceKey,t),s=new cy(t,n,i);this.setItem(r,s.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(t){var n=this.Ls.exec(t);return n?n[1]:null},e.prototype.ni=function(t,n){var i=this.ti(t);return w1.Vs(i,n)},e.prototype.si=function(t,n){var i=this.Bs.exec(t),r=Number(i[1]),s=i[2]!==void 0?i[2]:null;return _1.Vs(new Ae(s),r,n)},e.prototype.ri=function(t,n){var i=this.qs.exec(t),r=Number(i[1]);return cy.Vs(r,n)},e.prototype.js=function(t){return d4.Vs(t)},e.prototype.ii=function(t){return k(this,void 0,void 0,function(){return A(this,function(n){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(j("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},e.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},e.prototype.ei=function(t,n){var i=this,r=n?this.Fs.insert(t,n):this.Fs.remove(t),s=this.Gs(this.Fs),c=this.Gs(r),l=[],d=[];return c.forEach(function(f){s.has(f)||l.push(f)}),s.forEach(function(f){c.has(f)||d.push(f)}),this.syncEngine.hi(l,d).then(function(){i.Fs=r})},e.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},e.prototype.Gs=function(t){var n=vf();return t.forEach(function(i,r){n=n.unionWith(r.activeTargetIds)}),n},e}(),$A=function(){function e(){this.li=new by,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(t){},e.prototype.updateMutationState=function(t,n,i){},e.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},e.prototype.updateQueryState=function(t,n,i){this.fi[t]=n},e.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},e.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){delete this.fi[t]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.start=function(){return this.li=new by,Promise.resolve()},e.prototype.handleUserChange=function(t,n,i){},e.prototype.setOnlineState=function(t){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(t){},e.prototype.notifyBundleLoaded=function(){},e}(),h4=function(){function e(){}return e.prototype.di=function(t){},e.prototype.shutdown=function(){},e}(),I1=function(){function e(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return e.prototype.di=function(t){this.gi.push(t)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){j("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(0)},e.prototype.yi=function(){j("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(1)},e.yt=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},e}(),f4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},p4=function(){function e(t){this.Ei=t.Ei,this.Ti=t.Ti}return e.prototype.Ii=function(t){this.Ai=t},e.prototype.Ri=function(t){this.bi=t},e.prototype.onMessage=function(t){this.vi=t},e.prototype.close=function(){this.Ti()},e.prototype.send=function(t){this.Ei(t)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(t){this.bi(t)},e.prototype.Si=function(t){this.vi(t)},e}(),m4=function(e){function t(n){var i=this;return(i=e.call(this,n)||this).forceLongPolling=n.forceLongPolling,i.autoDetectLongPolling=n.autoDetectLongPolling,i.useFetchStreams=n.useFetchStreams,i}return Z(t,e),t.prototype.Fi=function(n,i,r,s){return new Promise(function(c,l){var d=new US;d.listenOnce(LS.COMPLETE,function(){try{switch(d.getLastErrorCode()){case Vh.NO_ERROR:var m=d.getResponseJson();j("Connection","XHR received:",JSON.stringify(m)),c(m);break;case Vh.TIMEOUT:j("Connection",'RPC "'+n+'" timed out'),l(new P(T.DEADLINE_EXCEEDED,"Request time out"));break;case Vh.HTTP_ERROR:var v=d.getStatus();if(j("Connection",'RPC "'+n+'" failed with status:',v,"response text:",d.getResponseText()),v>0){var y=d.getResponseJson().error;if(y&&y.status&&y.message){var _=function(I){var E=I.toLowerCase().replace(/_/g,"-");return Object.values(T).indexOf(E)>=0?E:T.UNKNOWN}(y.status);l(new P(_,y.message))}else l(new P(T.UNKNOWN,"Server responded with status "+d.getStatus()))}else l(new P(T.UNAVAILABLE,"Connection failed."));break;default:Q()}}finally{j("Connection",'RPC "'+n+'" completed.')}});var f=JSON.stringify(s);d.send(i,"POST",f,r,15)})},t.prototype.Oi=function(n,i){var r=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],s=MS(),c=NS(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new jS({})),this.ki(l.initMessageHeaders,i),tT()||iT()||rT()||oT()||sT()||nT()||(l.httpHeadersOverwriteParam="$httpHeaders");var d=r.join("");j("Connection","Creating WebChannel: "+d,l);var f=s.createWebChannel(d,l),m=!1,v=!1,y=new p4({Ei:function(I){v?j("Connection","Not sending because WebChannel is closed:",I):(m||(j("Connection","Opening WebChannel transport."),f.open(),m=!0),j("Connection","WebChannel sending:",I),f.send(I))},Ti:function(){return f.close()}}),_=function(I,E,C){I.listen(E,function(R){try{C(R)}catch(L){setTimeout(function(){throw L},0)}})};return _(f,Su.EventType.OPEN,function(){v||j("Connection","WebChannel transport opened.")}),_(f,Su.EventType.CLOSE,function(){v||(v=!0,j("Connection","WebChannel transport closed"),y.Vi())}),_(f,Su.EventType.ERROR,function(I){v||(v=!0,Qh("Connection","WebChannel transport errored:",I),y.Vi(new P(T.UNAVAILABLE,"The operation could not be completed")))}),_(f,Su.EventType.MESSAGE,function(I){var E;if(!v){var C=I.data[0];rt(!!C);var R=C,L=R.error||((E=R[0])===null||E===void 0?void 0:E.error);if(L){j("Connection","WebChannel received error:",L);var B=L.status,nt=function(F){var Ot=ce[F];if(Ot!==void 0)return mA(Ot)}(B),ut=L.message;nt===void 0&&(nt=T.INTERNAL,ut="Unknown error status: "+B+" with message "+L.message),v=!0,y.Vi(new P(nt,ut)),f.close()}else j("Connection","WebChannel received:",C),y.Si(C)}}),_(c,FS.STAT_EVENT,function(I){I.stat===ry.PROXY?j("Connection","Detected buffering proxy"):I.stat===ry.NOPROXY&&j("Connection","Detected no buffering proxy")}),setTimeout(function(){y.Pi()},0),y},t}(function(){function e(t){this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Di=n+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(t,n,i,r){var s=this.xi(t,n);j("RestConnection","Sending: ",s,i);var c={};return this.ki(c,r),this.Fi(t,s,c,i).then(function(l){return j("RestConnection","Received: ",l),l},function(l){throw Qh("RestConnection",t+" failed with error: ",l,"url: ",s,"request:",i),l})},e.prototype.$i=function(t,n,i,r){return this.Ni(t,n,i,r)},e.prototype.ki=function(t,n){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var i in n.authHeaders)n.authHeaders.hasOwnProperty(i)&&(t[i]=n.authHeaders[i])},e.prototype.xi=function(t,n){var i=f4[t];return this.Di+"/v1/"+n+":"+i},e}());zy=function(){function e(t,n,i,r,s){i===void 0&&(i=1e3),r===void 0&&(r=1.5),s===void 0&&(s=6e4),this.Se=t,this.timerId=n,this.Mi=i,this.Li=r,this.Bi=s,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(t){var n=this;this.cancel();var i=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),s=Math.max(0,i-r);s>0&&j("ExponentialBackoff","Backing off for "+s+" ms (base delay: "+this.qi+" ms, delay with jitter: "+i+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,s,function(){return n.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),YA=function(){function e(t,n,i,r,s,c){this.Se=t,this.zi=i,this.Hi=r,this.Ji=s,this.listener=c,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new zy(t,n)}return e.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},e.prototype.er=function(){return this.state===2},e.prototype.start=function(){this.state!==3?this.auth():this.nr()},e.prototype.stop=function(){return k(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var t=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},e.prototype.cr=function(t){this.ur(),this.stream.send(t)},e.prototype.rr=function(){return k(this,void 0,void 0,function(){return A(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(t,n){return k(this,void 0,void 0,function(){return A(this,function(i){switch(i.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,t!==3?this.Zi.reset():n&&n.code===T.RESOURCE_EXHAUSTED?(le(n.toString()),le("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):n&&n.code===T.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(n)];case 1:return i.sent(),[2]}})})},e.prototype.ar=function(){},e.prototype.auth=function(){var t=this;this.state=1;var n=this.hr(this.Yi),i=this.Yi;this.Ji.getToken().then(function(r){t.Yi===i&&t.lr(r)},function(r){n(function(){var s=new P(T.UNKNOWN,"Fetching auth token failed: "+r.message);return t.dr(s)})})},e.prototype.lr=function(t){var n=this,i=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){i(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(r){i(function(){return n.dr(r)})}),this.stream.onMessage(function(r){i(function(){return n.onMessage(r)})})},e.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return k(t,void 0,void 0,function(){return A(this,function(n){return this.state=0,this.start(),[2]})})})},e.prototype.dr=function(t){return j("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},e.prototype.hr=function(t){var n=this;return function(i){n.Se.enqueueAndForget(function(){return n.Yi===t?i():(j("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),g4=function(e){function t(n,i,r,s,c){var l=this;return(l=e.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",i,r,c)||this).R=s,l}return Z(t,e),t.prototype.wr=function(n){return this.Hi.Oi("Listen",n)},t.prototype.onMessage=function(n){this.Zi.reset();var i=function(s,c){var l;if("targetChange"in c){c.targetChange;var d=function(C){return C==="NO_CHANGE"?0:C==="ADD"?1:C==="REMOVE"?2:C==="CURRENT"?3:C==="RESET"?4:Q()}(c.targetChange.targetChangeType||"NO_CHANGE"),f=c.targetChange.targetIds||[],m=function(C,R){return C.I?(rt(R===void 0||typeof R=="string"),Qe.fromBase64String(R||"")):(rt(R===void 0||R instanceof Uint8Array),Qe.fromUint8Array(R||new Uint8Array))}(s,c.targetChange.resumeToken),v=(y=c.targetChange.cause)&&function(C){var R=C.code===void 0?T.UNKNOWN:mA(C.code);return new P(R,C.message||"")}(y);l=new bA(d,f,m,v||null)}else if("documentChange"in c){c.documentChange,(d=c.documentChange).document,d.document.name,d.document.updateTime,f=Ci(s,d.document.name),m=ke(d.document.updateTime);var y=new Rn({mapValue:{fields:d.document.fields}}),_=(v=Re.newFoundDocument(f,m,y),d.targetIds||[]),I=d.removedTargetIds||[];l=new Kh(_,I,v.key,v)}else if("documentDelete"in c)c.documentDelete,(d=c.documentDelete).document,f=Ci(s,d.document),m=d.readTime?ke(d.readTime):vt.min(),y=Re.newNoDocument(f,m),v=d.removedTargetIds||[],l=new Kh([],v,y.key,y);else if("documentRemove"in c)c.documentRemove,(d=c.documentRemove).document,f=Ci(s,d.document),m=d.removedTargetIds||[],l=new Kh([],m,f,null);else{if(!("filter"in c))return Q();c.filter;var E=c.filter;E.targetId,d=E.count||0,f=new dU(d),m=E.targetId,l=new vA(m,f)}return l}(this.R,n),r=function(s){if(!("targetChange"in s))return vt.min();var c=s.targetChange;return c.targetIds&&c.targetIds.length?vt.min():c.readTime?ke(c.readTime):vt.min()}(n);return this.listener._r(i,r)},t.prototype.mr=function(n){var i={};i.database=ju(this.R),i.addTarget=function(s,c){var l,d=c.target;return(l=tf(d)?{documents:xA(s,d)}:{query:CA(s,d)}).targetId=c.targetId,c.resumeToken.approximateByteSize()>0?l.resumeToken=yA(s,c.resumeToken):c.snapshotVersion.compareTo(vt.min())>0&&(l.readTime=Lu(s,c.snapshotVersion.toTimestamp())),l}(this.R,n);var r=function(s,c){var l=function(d,f){switch(f){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Q()}}(0,c.purpose);return l==null?null:{"goog-listen-tags":l}}(this.R,n);r&&(i.labels=r),this.cr(i)},t.prototype.yr=function(n){var i={};i.database=ju(this.R),i.removeTarget=n,this.cr(i)},t}(YA),v4=function(e){function t(n,i,r,s,c){var l=this;return(l=e.call(this,n,"write_stream_connection_backoff","write_stream_idle",i,r,c)||this).R=s,l.gr=!1,l}return Z(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(n){return this.Hi.Oi("Write",n)},t.prototype.onMessage=function(n){if(rt(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var i=function(s,c){return s&&s.length>0?(rt(c!==void 0),s.map(function(l){return function(d,f){var m=d.updateTime?ke(d.updateTime):ke(f);return m.isEqual(vt.min())&&(m=ke(f)),new cU(m,d.transformResults||[])}(l,c)})):[]}(n.writeResults,n.commitTime),r=ke(n.commitTime);return this.listener.Tr(r,i)}return rt(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var n={};n.database=ju(this.R),this.cr(n)},t.prototype.Er=function(n){var i=this,r={streamToken:this.lastStreamToken,writes:n.map(function(s){return rf(i.R,s)})};this.cr(r)},t}(YA),b4=function(e){function t(n,i,r){var s=this;return(s=e.call(this)||this).credentials=n,s.Hi=i,s.R=r,s.Rr=!1,s}return Z(t,e),t.prototype.br=function(){if(this.Rr)throw new P(T.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(n,i,r){var s=this;return this.br(),this.credentials.getToken().then(function(c){return s.Hi.Ni(n,i,r,c)}).catch(function(c){throw c.name==="FirebaseError"?(c.code===T.UNAUTHENTICATED&&s.credentials.invalidateToken(),c):new P(T.UNKNOWN,c.toString())})},t.prototype.$i=function(n,i,r){var s=this;return this.br(),this.credentials.getToken().then(function(c){return s.Hi.$i(n,i,r,c)}).catch(function(c){throw c.name==="FirebaseError"?(c.code===T.UNAUTHENTICATED&&s.credentials.invalidateToken(),c):new P(T.UNKNOWN,c.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),y4=function(){function e(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var t=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},e.prototype.Nr=function(t){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},e.prototype.set=function(t){this.kr(),this.vr=0,t==="Online"&&(this.Vr=!1),this.Dr(t)},e.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},e.prototype.Cr=function(t){var n="Could not reach Cloud Firestore backend. "+t+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(le(n),this.Vr=!1):j("OnlineStateTracker",n)},e.prototype.kr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},e}(),_4=function(e,t,n,i,r){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=r,this.Lr.di(function(c){n.enqueueAndForget(function(){return k(s,void 0,void 0,function(){return A(this,function(l){switch(l.label){case 0:return Lr(this)?(j("RemoteStore","Restarting streams for network reachability change."),[4,function(d){return k(this,void 0,void 0,function(){var f;return A(this,function(m){switch(m.label){case 0:return(f=z(d)).Or.add(4),[4,Ea(f)];case 1:return m.sent(),f.Br.set("Unknown"),f.Or.delete(4),[4,Yu(f)];case 2:return m.sent(),[2]}})})}(this)]):[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})})}),this.Br=new y4(n,i)};A4=function(){function e(t,n,i,r,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Ve,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(c){})}return e.createAndSchedule=function(t,n,i,r,s){var c=new e(t,n,Date.now()+i,r,s);return c.start(i),c},e.prototype.start=function(t){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},t)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new P(T.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},e.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return t.timerHandle!==null?(t.clearTimeout(),t.op().then(function(n){return t.deferred.resolve(n)})):Promise.resolve()})},e.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();ek=function(){function e(t){this.comparator=t?function(n,i){return t(n,i)||J.comparator(n.key,i.key)}:function(n,i){return J.comparator(n.key,i.key)},this.keyedMap=my(),this.sortedSet=new Be(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(t){return this.keyedMap.get(t)!=null},e.prototype.get=function(t){return this.keyedMap.get(t)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(t){var n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(n,i){return t(n),!1})},e.prototype.add=function(t){var n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))},e.prototype.delete=function(t){var n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();n.hasNext();){var r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0},e.prototype.toString=function(){var t=[];return this.forEach(function(n){t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`},e.prototype.copy=function(t,n){var i=new e;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i},e}(),E1=function(){function e(){this.Qr=new Be(J.comparator)}return e.prototype.track=function(t){var n=t.doc.key,i=this.Qr.get(n);i?t.type!==0&&i.type===3?this.Qr=this.Qr.insert(n,t):t.type===3&&i.type!==1?this.Qr=this.Qr.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.Qr=this.Qr.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.Qr=this.Qr.remove(n):t.type===1&&i.type===2?this.Qr=this.Qr.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):Q():this.Qr=this.Qr.insert(n,t)},e.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(n,i){t.push(i)}),t},e}(),uf=function(){function e(t,n,i,r,s,c,l,d){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=c,this.syncStateChanged=l,this.excludesMetadataChanges=d}return e.fromInitialDocuments=function(t,n,i,r){var s=[];return n.forEach(function(c){s.push({type:0,doc:c})}),new e(t,n,ek.emptySet(n),s,i,r,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Hu(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(var r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0},e}(),k4=function(){this.Wr=void 0,this.listeners=[]},D4=function(){this.queries=new Ia(function(e){return rA(e)},Hu),this.onlineState="Unknown",this.Gr=new Set};Yy=function(){function e(t,n,i){this.query=t,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=i||{}}return e.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var n=[],i=0,r=t.docChanges;i<r.length;i++){var s=r[i];s.type!==3&&n.push(s)}t=new uf(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var c=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),c=!0):this.eo(t,this.onlineState)&&(this.no(t),c=!0),this.Xr=t,c},e.prototype.onError=function(t){this.Jr.error(t)},e.prototype.zr=function(t){this.onlineState=t;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),n=!0),n},e.prototype.eo=function(t,n){if(!t.fromCache)return!0;var i=n!=="Offline";return!(this.options.so&&i||t.docs.isEmpty()&&n!=="Offline")},e.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},e.prototype.no=function(t){t=uf.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},e}(),P4=function(){function e(t,n){this.payload=t,this.byteLength=n}return e.prototype.io=function(){return"metadata"in this.payload},e}(),x1=function(){function e(t){this.R=t}return e.prototype.qn=function(t){return Ci(this.R,t)},e.prototype.Un=function(t){return t.metadata.exists?EA(this.R,t.document,!1):Re.newNoDocument(this.qn(t.metadata.name),this.Kn(t.metadata.readTime))},e.prototype.Kn=function(t){return ke(t)},e}(),X5=function(){function e(t,n,i){this.ro=t,this.localStore=n,this.R=i,this.queries=[],this.documents=[],this.progress=M4(t)}return e.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var n=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++n):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++n),n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null},e.prototype.co=function(t){for(var n=new Map,i=new x1(this.R),r=0,s=t;r<s.length;r++){var c=s[r];if(c.metadata.queries)for(var l=i.qn(c.metadata.name),d=0,f=c.metadata.queries;d<f.length;d++){var m=f[d],v=(n.get(m)||Rt()).add(l);n.set(m,v)}}return n},e.prototype.complete=function(){return k(this,void 0,void 0,function(){var t,n,i,r,s;return A(this,function(c){switch(c.label){case 0:return[4,e4(this.localStore,new x1(this.R),this.documents,this.ro.id)];case 1:t=c.sent(),n=this.co(this.documents),i=0,r=this.queries,c.label=2;case 2:return i<r.length?(s=r[i],[4,n4(this.localStore,s,n.get(s.name))]):[3,5];case 3:c.sent(),c.label=4;case 4:return i++,[3,2];case 5:return[2,(this.progress.taskState="Success",new KU(Object.assign({},this.progress),t))]}})})},e}();nk=function(e){this.key=e},ik=function(e){this.key=e},rk=function(){function e(t,n){this.query=t,this.uo=n,this.ao=null,this.current=!1,this.ho=Rt(),this.mutatedKeys=Rt(),this.lo=oA(t),this.fo=new ek(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(t,n){var i=this,r=n?n.mo:new E1,s=n?n.fo:this.fo,c=n?n.mutatedKeys:this.mutatedKeys,l=s,d=!1,f=Gh(this.query)&&s.size===this.query.limit?s.last():null,m=nf(this.query)&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal(function(y,_){var I=s.get(y),E=Wu(i.query,_)?_:null,C=!!I&&i.mutatedKeys.has(I.key),R=!!E&&(E.hasLocalMutations||i.mutatedKeys.has(E.key)&&E.hasCommittedMutations),L=!1;I&&E?I.data.isEqual(E.data)?C!==R&&(r.track({type:3,doc:E}),L=!0):i.yo(I,E)||(r.track({type:2,doc:E}),L=!0,(f&&i.lo(E,f)>0||m&&i.lo(E,m)<0)&&(d=!0)):!I&&E?(r.track({type:0,doc:E}),L=!0):I&&!E&&(r.track({type:1,doc:I}),L=!0,(f||m)&&(d=!0)),L&&(E?(l=l.add(E),c=R?c.add(y):c.delete(y)):(l=l.delete(y),c=c.delete(y)))}),Gh(this.query)||nf(this.query))for(;l.size>this.query.limit;){var v=Gh(this.query)?l.last():l.first();l=l.delete(v.key),c=c.delete(v.key),r.track({type:1,doc:v})}return{fo:l,mo:r,Nn:d,mutatedKeys:c}},e.prototype.yo=function(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},e.prototype.applyChanges=function(t,n,i){var r=this,s=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var c=t.mo.jr();c.sort(function(m,v){return function(y,_){var I=function(E){switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Q()}};return I(y)-I(_)}(m.type,v.type)||r.lo(m.doc,v.doc)}),this.po(i);var l=n?this.Eo():[],d=this.ho.size===0&&this.current?1:0,f=d!==this.ao;return this.ao=d,c.length!==0||f?{snapshot:new uf(this.query,t.fo,s,c,t.mutatedKeys,d===0,f,!1),To:l}:{To:l}},e.prototype.zr=function(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new E1,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},e.prototype.po=function(t){var n=this;t&&(t.addedDocuments.forEach(function(i){return n.uo=n.uo.add(i)}),t.modifiedDocuments.forEach(function(i){}),t.removedDocuments.forEach(function(i){return n.uo=n.uo.delete(i)}),this.current=t.current)},e.prototype.Eo=function(){var t=this;if(!this.current)return[];var n=this.ho;this.ho=Rt(),this.fo.forEach(function(r){t.Io(r.key)&&(t.ho=t.ho.add(r.key))});var i=[];return n.forEach(function(r){t.ho.has(r)||i.push(new ik(r))}),this.ho.forEach(function(r){n.has(r)||i.push(new nk(r))}),i},e.prototype.Ao=function(t){this.uo=t.Bn,this.ho=Rt();var n=this._o(t.documents);return this.applyChanges(n,!0)},e.prototype.Ro=function(){return uf.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},e}(),N4=function(e,t,n){this.query=e,this.targetId=t,this.view=n},L4=function(e){this.key=e,this.bo=!1},F4=function(){function e(t,n,i,r,s,c){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=c,this.vo={},this.Po=new Ia(function(l){return rA(l)},Hu),this.Vo=new Map,this.So=new Set,this.Do=new Be(J.comparator),this.Co=new Map,this.No=new By,this.xo={},this.ko=new Map,this.Fo=sf.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return this.$o===!0},enumerable:!1,configurable:!0}),e}();ck=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(t){return k(this,void 0,void 0,function(){return A(this,function(n){switch(n.label){case 0:return this.R=yf(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},e.prototype.Uo=function(t){return null},e.prototype.Ko=function(t){return BA(this.persistence,new VA,t.initialUser,this.R)},e.prototype.qo=function(t){return new c4(l4.bs,this.R)},e.prototype.Bo=function(t){return new $A},e.prototype.terminate=function(){return k(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},e}(),uk=function(e){function t(n,i,r){var s=this;return(s=e.call(this)||this).Qo=n,s.cacheSizeBytes=i,s.forceOwnership=r,s.synchronizeTabs=!1,s}return Z(t,e),t.prototype.initialize=function(n){return k(this,void 0,void 0,function(){var i=this;return A(this,function(r){switch(r.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return r.sent(),[4,t4(this.localStore)];case 2:return r.sent(),[4,this.Qo.initialize(this,n)];case 3:return r.sent(),[4,e0(this.Qo.syncEngine)];case 4:return r.sent(),[4,xa(this.Qo.remoteStore)];case 5:return r.sent(),[4,this.persistence.He(function(){return i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(i.localStore),Promise.resolve()})];case 6:return r.sent(),[2]}})})},t.prototype.Ko=function(n){return BA(this.persistence,new VA,n.initialUser,this.R)},t.prototype.Uo=function(n){var i=this.persistence.referenceDelegate.garbageCollector;return new BU(i,n.asyncQueue)},t.prototype.qo=function(n){var i=Vy(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Ei.withCacheSize(this.cacheSizeBytes):Ei.DEFAULT;return new $U(this.synchronizeTabs,i,n.clientId,r,n.asyncQueue,KA(),Yh(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(n){return new $A},t}(ck),eV=function(e){function t(n,i){var r=this;return(r=e.call(this,n,i,!1)||this).Qo=n,r.cacheSizeBytes=i,r.synchronizeTabs=!0,r}return Z(t,e),t.prototype.initialize=function(n){return k(this,void 0,void 0,function(){var i,r=this;return A(this,function(s){switch(s.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return s.sent(),i=this.Qo.syncEngine,this.sharedClientState instanceof uy?(this.sharedClientState.syncEngine={ui:X4.bind(null,i),ai:J4.bind(null,i),hi:tV.bind(null,i),fn:Z4.bind(null,i),ci:Y4.bind(null,i)},[4,this.sharedClientState.start()]):[3,3];case 2:s.sent(),s.label=3;case 3:return[4,this.persistence.He(function(c){return k(r,void 0,void 0,function(){return A(this,function(l){switch(l.label){case 0:return[4,Q4(this.Qo.syncEngine,c)];case 1:return l.sent(),this.gcScheduler&&(c&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):c||this.gcScheduler.stop()),[2]}})})})];case 4:return s.sent(),[2]}})})},t.prototype.Bo=function(n){var i=KA();if(!uy.yt(i))throw new P(T.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var r=Vy(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new uy(i,n.asyncQueue,r,n.clientId,n.initialUser)},t}(uk),wy=function(){function e(){}return e.prototype.initialize=function(t,n){return k(this,void 0,void 0,function(){var i=this;return A(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(s){return C1(i.syncEngine,s,1)},this.remoteStore.remoteSyncer.handleCredentialChange=G4.bind(null,this.syncEngine),[4,yy(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},e.prototype.createEventManager=function(t){return new D4},e.prototype.createDatastore=function(t){var n,i=yf(t.databaseInfo.databaseId),r=(n=t.databaseInfo,new m4(n));return function(s,c,l){return new b4(s,c,l)}(t.credentials,r,i)},e.prototype.createRemoteStore=function(t){var n,i,r,s,c,l=this;return n=this.localStore,i=this.datastore,r=t.asyncQueue,s=function(d){return C1(l.syncEngine,d,0)},c=I1.yt()?new I1:new h4,new _4(n,i,r,s,c)},e.prototype.createSyncEngine=function(t,n){return function(i,r,s,c,l,d,f){var m=new F4(i,r,s,c,l,d);return f&&(m.$o=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)},e.prototype.terminate=function(){return function(t){return k(this,void 0,void 0,function(){var n;return A(this,function(i){switch(i.label){case 0:return n=z(t),j("RemoteStore","RemoteStore shutting down."),n.Or.add(5),[4,Ea(n)];case 1:return i.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},e}();wf=function(){function e(t){this.observer=t,this.muted=!1}return e.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},e.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(t,n){var i=this;this.muted||setTimeout(function(){i.muted||t(n)},0)},e}(),Q5=function(){function e(t,n){var i=this;this.Go=t,this.R=n,this.metadata=new Ve,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(r){r&&r.io()?i.metadata.resolve(r.payload.metadata):i.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             `+JSON.stringify(r?.payload)))},function(r){return i.metadata.reject(r)})}return e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return k(this,void 0,void 0,function(){return A(this,function(t){return[2,this.metadata.promise]})})},e.prototype.Lo=function(){return k(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},e.prototype.Ho=function(){return k(this,void 0,void 0,function(){var t,n,i,r;return A(this,function(s){switch(s.label){case 0:return[4,this.Jo()];case 1:return(t=s.sent())===null?[2,null]:(n=this.zo.decode(t),i=Number(n),isNaN(i)&&this.Yo("length string ("+n+") is not valid number"),[4,this.Xo(i)]);case 2:return r=s.sent(),[2,new P4(JSON.parse(r),t.length+i)]}})})},e.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t===123})},e.prototype.Jo=function(){return k(this,void 0,void 0,function(){var t,n;return A(this,function(i){switch(i.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(i.sent())return[3,3];i.label=2;case 2:return[3,0];case 3:return this.buffer.length===0?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),n)])}})})},e.prototype.Xo=function(t){return k(this,void 0,void 0,function(){var n;return A(this,function(i){switch(i.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:i.sent()&&this.Yo("Reached the end of bundle when more is expected."),i.label=2;case 2:return[3,0];case 3:return n=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),n)]}})})},e.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},e.prototype.tc=function(){return k(this,void 0,void 0,function(){var t,n;return A(this,function(i){switch(i.label){case 0:return[4,this.Go.read()];case 1:return(t=i.sent()).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),[2,t.done]}})})},e}(),nV=function(){function e(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(t){return k(this,void 0,void 0,function(){var n,i=this;return A(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new P(T.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(s,c){return k(this,void 0,void 0,function(){var l,d,f,m,v,y;return A(this,function(_){switch(_.label){case 0:return l=z(s),d=ju(l.R)+"/documents",f={documents:c.map(function(I){return Fu(l.R,I)})},[4,l.$i("BatchGetDocuments",d,f)];case 1:return m=_.sent(),v=new Map,m.forEach(function(I){var E=function(C,R){return"found"in R?function(L,B){rt(!!B.found),B.found.name,B.found.updateTime;var nt=Ci(L,B.found.name),ut=ke(B.found.updateTime),F=new Rn({mapValue:{fields:B.found.fields}});return Re.newFoundDocument(nt,ut,F)}(C,R):"missing"in R?function(L,B){rt(!!B.missing),rt(!!B.readTime);var nt=Ci(L,B.missing),ut=ke(B.readTime);return Re.newNoDocument(nt,ut)}(C,R):Q()}(l.R,I);v.set(E.key.toString(),E)}),y=[],[2,(c.forEach(function(I){var E=v.get(I.toString());rt(!!E),y.push(E)}),y)]}})})}(this.datastore,t)];case 1:return[2,((n=r.sent()).forEach(function(s){return i.recordVersion(s)}),n)]}})})},e.prototype.set=function(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.update=function(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())},e.prototype.delete=function(t){this.write(new Ku(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.commit=function(){return k(this,void 0,void 0,function(){var t,n=this;return A(this,function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(r){t.delete(r.key.toString())}),t.forEach(function(r,s){var c=J.fromPath(s);n.mutations.push(new Ry(c,n.precondition(c)))}),[4,function(r,s){return k(this,void 0,void 0,function(){var c,l,d;return A(this,function(f){switch(f.label){case 0:return c=z(r),l=ju(c.R)+"/documents",d={writes:s.map(function(m){return rf(c.R,m)})},[4,c.Ni("Commit",l,d)];case 1:return f.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return i.sent(),this.committed=!0,[2]}})})},e.prototype.recordVersion=function(t){var n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw Q();n=vt.min()}var i=this.readVersions.get(t.key.toString());if(i){if(!n.isEqual(i))throw new P(T.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)},e.prototype.precondition=function(t){var n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?Ue.updateTime(n):Ue.none()},e.prototype.preconditionForUpdate=function(t){var n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(vt.min()))throw new P(T.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ue.updateTime(n)}return Ue.exists(!0)},e.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},e.prototype.ensureCommitNotCalled=function(){},e}(),iV=function(){function e(t,n,i,r){this.asyncQueue=t,this.datastore=n,this.updateFunction=i,this.deferred=r,this.ec=5,this.Zi=new zy(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var t=this;this.Zi.ji(function(){return k(t,void 0,void 0,function(){var n,i,r=this;return A(this,function(s){return n=new nV(this.datastore),(i=this.sc(n))&&i.then(function(c){r.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){r.deferred.resolve(c)}).catch(function(l){r.ic(l)})})}).catch(function(c){r.ic(c)}),[2]})})})},e.prototype.sc=function(t){try{var n=this.updateFunction(t);return!No(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}},e.prototype.ic=function(t){var n=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(t)},e.prototype.rc=function(t){if(t.name==="FirebaseError"){var n=t.code;return n==="aborted"||n==="failed-precondition"||!pA(n)}return!1},e}(),rV=function(){function e(t,n,i){var r=this;this.credentials=t,this.asyncQueue=n,this.databaseInfo=i,this.user=Ae.UNAUTHENTICATED,this.clientId=K1.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(n,function(s){return k(r,void 0,void 0,function(){return A(this,function(c){switch(c.label){case 0:return j("FirestoreClient","Received user=",s.uid),[4,this.credentialListener(s)];case 1:return c.sent(),this.user=s,[2]}})})})}return e.prototype.getConfiguration=function(){return k(this,void 0,void 0,function(){return A(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},e.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new P(T.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var n=new Ve;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return k(t,void 0,void 0,function(){var i,r;return A(this,function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:s.sent(),s.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:s.sent(),s.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return i=s.sent(),r=Ta(i,"Failed to shutdown persistence"),n.reject(r),[3,6];case 6:return[2]}})})}),n.promise},e}();oV=function(e,t,n,i,r,s,c,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=i,this.ssl=r,this.forceLongPolling=s,this.autoDetectLongPolling=c,this.useFetchStreams=l},lf=function(){function e(t,n){this.projectId=t,this.database=n||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),R1=new Map,pk=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},O1=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){this.changeListener=n,t.enqueueRetryable(function(){return n(Ae.UNAUTHENTICATED)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),sV=function(){function e(t){this.token=t,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){var i=this;this.changeListener=n,t.enqueueRetryable(function(){return n(i.token.user)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),aV=function(){function e(t){var n=this;this.currentUser=Ae.UNAUTHENTICATED,this.oc=new Ve,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){n.cc++,n.currentUser=n.ac(),n.oc.resolve(),n.changeListener&&n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)})};var i=function(r){j("FirebaseCredentialsProvider","Auth detected"),n.auth=r,n.auth.addAuthTokenListener(n.uc)};t.onInit(function(r){return i(r)}),setTimeout(function(){if(!n.auth){var r=t.getImmediate({optional:!0});r?i(r):(j("FirebaseCredentialsProvider","Auth not yet detected"),n.oc.resolve())}},0)}return e.prototype.getToken=function(){var t=this,n=this.cc,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(function(r){return t.cc!==n?(j("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):r?(rt(typeof r.accessToken=="string"),new pk(r.accessToken,t.currentUser)):null}):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(t,n){var i=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return k(i,void 0,void 0,function(){return A(this,function(r){switch(r.label){case 0:return[4,this.oc.promise];case 1:return r.sent(),[4,n(this.currentUser)];case 2:return r.sent(),this.changeListener=n,[2]}})})})},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return rt(t===null||typeof t=="string"),new Ae(t)},e}(),cV=function(){function e(t,n,i){this.hc=t,this.lc=n,this.fc=i,this.type="FirstParty",this.user=Ae.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},n=this.hc.auth.getAuthHeaderValueForFirstParty([]);return n&&(t.Authorization=n),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),e}(),uV=function(){function e(t,n,i){this.hc=t,this.lc=n,this.fc=i}return e.prototype.getToken=function(){return Promise.resolve(new cV(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(t,n){t.enqueueRetryable(function(){return n(Ae.FIRST_PARTY)})},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();L1=function(){function e(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new P(T.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new P(T.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,mk("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},e}(),Vu=function(){function e(t,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new L1({}),this._settingsFrozen=!1,t instanceof lf?(this._databaseId=t,this._credentials=new O1):(this._app=t,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new P(T.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lf(i.options.projectId)}(t),this._credentials=new aV(n))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new P(T.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(t){if(this._settingsFrozen)throw new P(T.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new L1(t),t.credentials!==void 0&&(this._credentials=function(n){if(!n)return new O1;switch(n.type){case"gapi":var i=n.client;return rt(!(typeof i!="object"||i===null||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new uV(i,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new P(T.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return t=this,(n=R1.get(t))&&(j("ComponentProvider","Removing Datastore"),R1.delete(t),n.terminate()),Promise.resolve();var t,n},e}(),$t=function(){function e(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Rr(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),Mn=function(){function e(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),Rr=function(e){function t(n,i,r){var s=this;return(s=e.call(this,n,i,wa(r))||this)._path=r,s.type="collection",s}return Z(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new $t(this.firestore,null,new J(n))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(n){return new t(this.firestore,n,this._path)},t}(Mn);lV=function(){function e(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new zy(this,"async_queue_retry"),this.Ic=function(){var i=Yh();i&&j("AsyncQueue","Visibility state changed to "+i.visibilityState),t.Zi.Gi()};var n=Yh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(t){this.enqueue(t)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},e.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var n=Yh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(t){var n=this;if(this.Ac(),this._c)return new Promise(function(){});var i=new Ve;return this.Rc(function(){return n._c&&n.Ec?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)}).then(function(){return i.promise})},e.prototype.enqueueRetryable=function(t){var n=this;this.enqueueAndForget(function(){return n.wc.push(t),n.bc()})},e.prototype.bc=function(){return k(this,void 0,void 0,function(){var t,n=this;return A(this,function(i){switch(i.label){case 0:if(this.wc.length===0)return[3,5];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return i.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Lo(t=i.sent()))throw t;return j("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return n.bc()}),i.label=5;case 5:return[2]}})})},e.prototype.Rc=function(t){var n=this,i=this.dc.then(function(){return n.gc=!0,t().catch(function(r){throw n.yc=r,n.gc=!1,le("INTERNAL UNHANDLED ERROR: ",function(s){var c=s.message||"";return s.stack&&(c=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),c}(r)),r}).then(function(r){return n.gc=!1,r})});return this.dc=i,i},e.prototype.enqueueAfterDelay=function(t,n,i){var r=this;this.Ac(),this.Tc.indexOf(t)>-1&&(n=0);var s=A4.createAndSchedule(this,t,n,i,function(c){return r.vc(c)});return this.mc.push(s),s},e.prototype.Ac=function(){this.yc&&Q()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return k(this,void 0,void 0,function(){var t;return A(this,function(n){switch(n.label){case 0:return[4,t=this.dc];case 1:n.sent(),n.label=2;case 2:if(t!==this.dc)return[3,0];n.label=3;case 3:return[2]}})})},e.prototype.Vc=function(t){for(var n=0,i=this.mc;n<i.length;n++)if(i[n].timerId===t)return!0;return!1},e.prototype.Sc=function(t){var n=this;return this.Pc().then(function(){n.mc.sort(function(c,l){return c.targetTimeMs-l.targetTimeMs});for(var i=0,r=n.mc;i<r.length;i++){var s=r[i];if(s.skipDelay(),t!=="all"&&s.timerId===t)break}return n.Pc()})},e.prototype.Dc=function(t){this.Tc.push(t)},e.prototype.vc=function(t){var n=this.mc.indexOf(t);this.mc.splice(n,1)},e}();Z5=function(){function e(){this._progressObserver={},this._taskCompletionResolver=new Ve,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return e.prototype.onProgress=function(t,n,i){this._progressObserver={next:t,error:n,complete:i}},e.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},e.prototype.then=function(t,n){return this._taskCompletionResolver.promise.then(t,n)},e.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},e.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},e.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)},e}(),yk=-1,de=function(e){function t(n,i){var r=this;return(r=e.call(this,n,i)||this).type="firestore",r._queue=new lV,r._persistenceKey="name"in n?n.name:"[DEFAULT]",r}return Z(t,e),t.prototype._terminate=function(){return this._firestoreClient||_k(this),this._firestoreClient.terminate()},t}(Vu);Ti=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var i=0;i<t.length;++i)if(t[i].length===0)throw new P(T.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ci(t)}return e.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},e}(),Po=function(){function e(t){this._byteString=t}return e.fromBase64String=function(t){try{return new e(Qe.fromBase64String(t))}catch(n){throw new P(T.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},e.fromUint8Array=function(t){return new e(Qe.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},e}(),jo=function(e){this._methodName=e},Xu=function(){function e(t,n){if(!isFinite(t)||t<-90||t>90)throw new P(T.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new P(T.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(t){return _t(this._lat,t._lat)||_t(this._long,t._long)},e}(),dV=/^__.*__$/,hV=function(){function e(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}return e.prototype.toMutation=function(t,n){return this.fieldMask!==null?new Nr(t,this.data,this.fieldMask,n,this.fieldTransforms):new $u(t,this.data,n,this.fieldTransforms)},e}(),wk=function(){function e(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}return e.prototype.toMutation=function(t,n){return new Nr(t,this.data,this.fieldMask,n,this.fieldTransforms)},e}();Ek=function(){function e(t,n,i,r,s,c){this.settings=t,this.databaseId=n,this.R=i,this.ignoreUndefinedProperties=r,s===void 0&&this.Cc(),this.fieldTransforms=s||[],this.fieldMask=c||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(t){var n,i=(n=this.path)===null||n===void 0?void 0:n.child(t),r=this.xc({path:i,Fc:!1});return r.$c(t),r},e.prototype.Oc=function(t){var n,i=(n=this.path)===null||n===void 0?void 0:n.child(t),r=this.xc({path:i,Fc:!1});return r.Cc(),r},e.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(t){return df(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(t){return this.fieldMask.find(function(n){return t.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return t.isPrefixOf(n.field)})!==void 0},e.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},e.prototype.$c=function(t){if(t.length===0)throw this.Lc("Document fields must not be empty");if(Ik(this.Nc)&&dV.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),fV=function(){function e(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.R=i||yf(t)}return e.prototype.Uc=function(t,n,i,r){return r===void 0&&(r=!1),new Ek({Nc:t,methodName:n,qc:i,path:ci.emptyPath(),Fc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();o0=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Z(t,e),t.prototype._toFieldTransform=function(n){if(n.Nc!==2)throw n.Nc===1?n.Lc(this._methodName+"() can only appear at the top level of your update data"):n.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},t.prototype.isEqual=function(n){return n instanceof t},t}(jo);pV=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Z(t,e),t.prototype._toFieldTransform=function(n){return new Gu(n.path,new aa)},t.prototype.isEqual=function(n){return n instanceof t},t}(jo),mV=function(e){function t(n,i){var r=this;return(r=e.call(this,n)||this).Kc=i,r}return Z(t,e),t.prototype._toFieldTransform=function(n){var i=xk(this,n,!0),r=this.Kc.map(function(c){return Vo(c,i)}),s=new Ro(r);return new Gu(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(jo),gV=function(e){function t(n,i){var r=this;return(r=e.call(this,n)||this).Kc=i,r}return Z(t,e),t.prototype._toFieldTransform=function(n){var i=xk(this,n,!0),r=this.Kc.map(function(c){return Vo(c,i)}),s=new Oo(r);return new Gu(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(jo),vV=function(e){function t(n,i){var r=this;return(r=e.call(this,n)||this).Qc=i,r}return Z(t,e),t.prototype._toFieldTransform=function(n){var i=new ca(n.R,cA(n.R,this.Qc));return new Gu(n.path,i)},t.prototype.isEqual=function(n){return this===n},t}(jo);bV=new RegExp("[~\\*/\\[\\]]");Bu=function(){function e(t,n,i,r,s){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new $t(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return this._document!==null},e.prototype.data=function(){if(this._document){if(this._converter){var t=new yV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(t){if(this._document){var n=this._document.data.field(hf("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}},e}(),yV=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Z(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(Bu);To=function(){function e(t,n){this.hasPendingWrites=t,this.fromCache=n}return e.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},e}(),Gi=function(e){function t(n,i,r,s,c,l){var d=this;return(d=e.call(this,n,i,r,s,l)||this)._firestore=n,d._firestoreImpl=n,d.metadata=c,d}return Z(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var i=new Ou(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}},t.prototype.get=function(n,i){if(i===void 0&&(i={}),this._document){var r=this._document.data.field(hf("DocumentSnapshot.get",n));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}},t}(Bu),Ou=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Z(t,e),t.prototype.data=function(n){return n===void 0&&(n={}),e.prototype.data.call(this,n)},t}(Gi),Ar=function(){function e(t,n,i,r){this._firestore=t,this._userDataWriter=n,this._snapshot=r,this.metadata=new To(r.hasPendingWrites,r.fromCache),this.query=i}return Object.defineProperty(e.prototype,"docs",{get:function(){var t=[];return this.forEach(function(n){return t.push(n)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t,n){var i=this;this._snapshot.docs.forEach(function(r){t.call(n,new Ou(i._firestore,i._userDataWriter,r.key,r,new To(i._snapshot.mutatedKeys.has(r.key),i._snapshot.fromCache),i.query.converter))})},e.prototype.docChanges=function(t){t===void 0&&(t={});var n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new P(T.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){var s=0;return i._snapshot.docChanges.map(function(l){return{type:"added",doc:new Ou(i._firestore,i._userDataWriter,l.doc.key,l.doc,new To(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}})}var c=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(function(l){return r||l.type!==3}).map(function(l){var d=new Ou(i._firestore,i._userDataWriter,l.doc.key,l.doc,new To(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter),f=-1,m=-1;return l.type!==0&&(f=c.indexOf(l.doc.key),c=c.delete(l.doc.key)),l.type!==1&&(m=(c=c.add(l.doc)).indexOf(l.doc.key)),{type:_V(l.type),doc:d,oldIndex:f,newIndex:m}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},e}();Qu=function(){};wV=function(e){function t(n,i,r){var s=this;return(s=e.call(this)||this).jc=n,s.Wc=i,s.Gc=r,s.type="where",s}return Z(t,e),t.prototype._apply=function(n){var i=Uo(n.firestore),r=function(s,c,l,d,f,m,v){var y;if(f.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new P(T.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+m+"' queries on FieldPath.documentId().");if(m==="in"||m==="not-in"){q1(v,m);for(var _=[],I=0,E=v;I<E.length;I++){var C=E[I];_.push(z1(d,s,C))}y={arrayValue:{values:_}}}else y=z1(d,s,v)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||q1(v,m),y=Ck(l,"where",v,m==="in"||m==="not-in");var R=Pn.create(f,m,y);return function(L,B){if(B.g()){var nt=ky(L);if(nt!==null&&!nt.isEqual(B.field))throw new P(T.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+nt.toString()+"' and '"+B.field.toString()+"'");var ut=Ay(L);ut!==null&&Ok(L,B.field,ut)}var F=function(Ot,$n){for(var K=0,$o=Ot.filters;K<$o.length;K++){var x=$o[K];if($n.indexOf(x.op)>=0)return x.op}return null}(L,function(Ot){switch(Ot){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(B.op));if(F!==null)throw F===B.op?new P(T.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+B.op.toString()+"' filter."):new P(T.INVALID_ARGUMENT,"Invalid query. You cannot use '"+B.op.toString()+"' filters with '"+F.toString()+"' filters.")}(s,R),R}(n._query,0,i,n.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Mn(n.firestore,n.converter,function(s,c){var l=s.filters.concat([c]);return new $i(s.path,s.collectionGroup,s.explicitOrderBy.slice(),l,s.limit,s.limitType,s.startAt,s.endAt)}(n._query,r))},t}(Qu),IV=function(e){function t(n,i){var r=this;return(r=e.call(this)||this).jc=n,r.zc=i,r.type="orderBy",r}return Z(t,e),t.prototype._apply=function(n){var i=function(r,s,c){if(r.startAt!==null)throw new P(T.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new P(T.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var l=new ea(s,c);return function(d,f){if(Ay(d)===null){var m=ky(d);m!==null&&Ok(d,m,f.field)}}(r,l),l}(n._query,this.jc,this.zc);return new Mn(n.firestore,n.converter,function(r,s){var c=r.explicitOrderBy.concat([s]);return new $i(r.path,r.collectionGroup,c,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(n._query,i))},t}(Qu),U1=function(e){function t(n,i,r){var s=this;return(s=e.call(this)||this).type=n,s.Hc=i,s.Jc=r,s}return Z(t,e),t.prototype._apply=function(n){return new Mn(n.firestore,n.converter,iA(n._query,this.Hc,this.Jc))},t}(Qu),V1=function(e){function t(n,i,r){var s=this;return(s=e.call(this)||this).type=n,s.Yc=i,s.Xc=r,s}return Z(t,e),t.prototype._apply=function(n){var i=Rk(n,this.type,this.Yc,this.Xc);return new Mn(n.firestore,n.converter,function(r,s){return new $i(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,s,r.endAt)}(n._query,i))},t}(Qu),B1=function(e){function t(n,i,r){var s=this;return(s=e.call(this)||this).type=n,s.Yc=i,s.Xc=r,s}return Z(t,e),t.prototype._apply=function(n){var i=Rk(n,this.type,this.Yc,this.Xc);return new Mn(n.firestore,n.converter,function(r,s){return new $i(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,s)}(n._query,i))},t}(Qu);l0=function(){function e(){}return e.prototype.convertValue=function(t,n){switch(n===void 0&&(n="none"),Do(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ue(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(ra(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw Q()}},e.prototype.convertObject=function(t,n){var i=this,r={};return Mo(t.fields,function(s,c){r[s]=i.convertValue(c,n)}),r},e.prototype.convertGeoPoint=function(t){return new Xu(ue(t.latitude),ue(t.longitude))},e.prototype.convertArray=function(t,n){var i=this;return(t.values||[]).map(function(r){return i.convertValue(r,n)})},e.prototype.convertServerTimestamp=function(t,n){switch(n){case"previous":var i=Z1(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Pu(t));default:return null}},e.prototype.convertTimestamp=function(t){var n=Pr(t);return new Xe(n.seconds,n.nanos)},e.prototype.convertDocumentKey=function(t,n){var i=xt.fromString(t);rt(AA(i));var r=new lf(i.get(1),i.get(3)),s=new J(i.popFirst(5));return r.isEqual(n)||le("Document "+s+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),s},e}();EV=function(e){function t(n){var i=this;return(i=e.call(this)||this).firestore=n,i}return Z(t,e),t.prototype.convertBytes=function(n){return new Po(n)},t.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return new $t(this.firestore,null,i)},t}(l0),xV=function(){function e(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Uo(t)}return e.prototype.set=function(t,n,i){this._verifyNotCommitted();var r=kr(t,this._firestore),s=Cf(r.converter,n,i),c=xf(this._dataReader,"WriteBatch.set",r._key,s,r.converter!==null,i);return this._mutations.push(c.toMutation(r._key,Ue.none())),this},e.prototype.update=function(t,n,i){for(var r=[],s=3;s<arguments.length;s++)r[s-3]=arguments[s];this._verifyNotCommitted();var c,l=kr(t,this._firestore);return c=typeof(n=At(n))=="string"||n instanceof Ti?a0(this._dataReader,"WriteBatch.update",l._key,n,i,r):s0(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(c.toMutation(l._key,Ue.exists(!0))),this},e.prototype.delete=function(t){this._verifyNotCommitted();var n=kr(t,this._firestore);return this._mutations=this._mutations.concat(new Ku(n._key,Ue.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new P(T.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();ko=function(e){function t(n){var i=this;return(i=e.call(this)||this).firestore=n,i}return Z(t,e),t.prototype.convertBytes=function(n){return new Po(n)},t.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return new $t(this.firestore,null,i)},t}(l0);CV=function(e){function t(n,i){var r=this;return(r=e.call(this,n,i)||this)._firestore=n,r}return Z(t,e),t.prototype.get=function(n){var i=this,r=kr(n,this._firestore),s=new ko(this._firestore);return e.prototype.get.call(this,n).then(function(c){return new Gi(i._firestore,s,r._key,c._document,new To(!1,!1),r.converter)})},t}(function(){function e(t,n){this._firestore=t,this._transaction=n,this._dataReader=Uo(t)}return e.prototype.get=function(t){var n=this,i=kr(t,this._firestore),r=new EV(this._firestore);return this._transaction.lookup([i._key]).then(function(s){if(!s||s.length!==1)return Q();var c=s[0];if(c.isFoundDocument())return new Bu(n._firestore,r,c.key,c,i.converter);if(c.isNoDocument())return new Bu(n._firestore,r,i._key,null,i.converter);throw Q()})},e.prototype.set=function(t,n,i){var r=kr(t,this._firestore),s=Cf(r.converter,n,i),c=xf(this._dataReader,"Transaction.set",r._key,s,r.converter!==null,i);return this._transaction.set(r._key,c),this},e.prototype.update=function(t,n,i){for(var r=[],s=3;s<arguments.length;s++)r[s-3]=arguments[s];var c,l=kr(t,this._firestore);return c=typeof(n=At(n))=="string"||n instanceof Ti?a0(this._dataReader,"Transaction.update",l._key,n,i,r):s0(this._dataReader,"Transaction.update",l._key,n),this._transaction.update(l._key,c),this},e.prototype.delete=function(t){var n=kr(t,this._firestore);return this._transaction.delete(n._key),this},e}());d0=function(){function e(t){this._delegate=t}return e.fromBase64String=function(t){return $1(),new e(Po.fromBase64String(t))},e.fromUint8Array=function(t){return G1(),new e(Po.fromUint8Array(t))},e.prototype.toBase64=function(){return $1(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return G1(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),Mk=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(t,n){return function(i,r){j1(i=kt(i,de));var s=je(i),c=i._freezeSettings(),l=new wy;return F1(s,l,new uk(l,c.cacheSizeBytes,r?.forceOwnership))}(t._delegate,{forceOwnership:n})},e.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(n){j1(n=kt(n,de));var i=je(n),r=n._freezeSettings(),s=new wy;return F1(i,s,new eV(s,r.cacheSizeBytes))}(t._delegate)},e.prototype.clearIndexedDbPersistence=function(t){return function(n){var i=this;if(n._initialized&&!n._terminated)throw new P(T.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var r=new Ve;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return k(i,void 0,void 0,function(){var s;return A(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,function(l){return k(this,void 0,void 0,function(){var d;return A(this,function(f){switch(f.label){case 0:return da.yt()?(d=l+"main",[4,da.delete(d)]):[2,Promise.resolve()];case 1:return f.sent(),[2]}})})}(Vy(n._databaseId,n._persistenceKey))];case 1:return c.sent(),r.resolve(),[3,3];case 2:return s=c.sent(),r.reject(s),[3,3];case 3:return[2]}})})}),r.promise}(t._delegate)},e}(),h0=function(){function e(t,n,i){var r=this;this._delegate=n,this.Zc=i,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof lf||(this.tu=t)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){var n=this._delegate._getSettings();t.merge||n.host===t.host||Qh("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},n),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,n,i){i===void 0&&(i={}),function(r,s,c,l){var d;l===void 0&&(l={});var f=(r=kt(r,Vu))._getSettings();if(f.host!=="firestore.googleapis.com"&&f.host!==s&&Qh("Host has been set in both settings() and useEmulator(), emulator host will be used"),r._setSettings(Object.assign(Object.assign({},f),{host:s+":"+c,ssl:!1})),l.mockUserToken){var m,v;if(typeof l.mockUserToken=="string")m=l.mockUserToken,v=Ae.MOCK_USER;else{m=oh(l.mockUserToken,(d=r._app)===null||d===void 0?void 0:d.options.projectId);var y=l.mockUserToken.sub||l.mockUserToken.user_id;if(!y)throw new P(T.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Ae(y)}r._credentials=new sV(new pk(m,v))}}(this._delegate,t,n,i)},e.prototype.enableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return k(n,void 0,void 0,function(){var i,r;return A(this,function(s){switch(s.label){case 0:return[4,S1(t)];case 1:return i=s.sent(),[4,A1(t)];case 2:return r=s.sent(),[2,(i.setNetworkEnabled(!0),function(c){var l=z(c);return l.Or.delete(0),Yu(l)}(r))]}})})})}(je(kt(this._delegate,de)))},e.prototype.disableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return k(n,void 0,void 0,function(){var i,r;return A(this,function(s){switch(s.label){case 0:return[4,S1(t)];case 1:return i=s.sent(),[4,A1(t)];case 2:return r=s.sent(),[2,(i.setNetworkEnabled(!1),function(c){return k(this,void 0,void 0,function(){var l;return A(this,function(d){switch(d.label){case 0:return(l=z(c)).Or.add(0),[4,Ea(l)];case 1:return d.sent(),l.Br.set("Offline"),[2]}})})}(r))]}})})})}(je(kt(this._delegate,de)))},e.prototype.enablePersistence=function(t){var n=!1,i=!1;return t&&mk("synchronizeTabs",n=!!t.synchronizeTabs,"experimentalForceOwningTab",i=!!t.experimentalForceOwningTab),n?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,i)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var n=this,i=new Ve;return t.asyncQueue.enqueueAndForget(function(){return k(n,void 0,void 0,function(){var r;return A(this,function(s){switch(s.label){case 0:return r=H4,[4,fk(t)];case 1:return[2,r.apply(void 0,[s.sent(),i])]}})})}),i.promise}(je(kt(this._delegate,de)))},e.prototype.onSnapshotsInSync=function(t){return function(n,i){return function(r,s){var c=this,l=new wf(s);return r.asyncQueue.enqueueAndForget(function(){return k(c,void 0,void 0,function(){var d;return A(this,function(f){switch(f.label){case 0:return d=function(m,v){z(m).Gr.add(v),v.next()},[4,va(r)];case 1:return[2,d.apply(void 0,[f.sent(),l])]}})})}),function(){l.Wo(),r.asyncQueue.enqueueAndForget(function(){return k(c,void 0,void 0,function(){var d;return A(this,function(f){switch(f.label){case 0:return d=function(m,v){z(m).Gr.delete(v)},[4,va(r)];case 1:return[2,d.apply(void 0,[f.sent(),l])]}})})})}}(je(n=kt(n,de)),ba(i)?i:{next:i})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new P(T.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new zu(this,gk(this._delegate,t))}catch(n){throw Ye(n,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new Or(this,Xh(this._delegate,t))}catch(n){throw Ye(n,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new Ju(this,function(n,i){if(n=kt(n,Vu),i0("collectionGroup","collection id",i),i.indexOf("/")>=0)throw new P(T.INVALID_ARGUMENT,"Invalid collection ID '"+i+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Mn(n,null,function(r){return new $i(xt.emptyPath(),r)}(i))}(this._delegate,t))}catch(n){throw Ye(n,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var n=this;return function(i,r){return function(s,c){var l=this,d=new Ve;return s.asyncQueue.enqueueAndForget(function(){return k(l,void 0,void 0,function(){var f;return A(this,function(m){switch(m.label){case 0:return[4,function(v){return If(v).then(function(y){return y.datastore})}(s)];case 1:return f=m.sent(),new iV(s.asyncQueue,f,c,d).run(),[2]}})})}),d.promise}(je(i),function(s){return r(new CV(i,s))})}(this._delegate,function(i){return t(new f0(n,i))})},e.prototype.batch=function(){var t=this;return je(this._delegate),new p0(new xV(this._delegate,function(n){return Zu(t._delegate,n)}))},e.prototype.loadBundle=function(t){throw new P(T.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new P(T.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),Tf=function(e){function t(n){var i=this;return(i=e.call(this)||this).firestore=n,i}return Z(t,e),t.prototype.convertBytes=function(n){return new d0(new Po(n))},t.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return Or.eu(i,this.firestore,null)},t}(l0);f0=function(){function e(t,n){this._firestore=t,this._delegate=n,this._userDataWriter=new Tf(t)}return e.prototype.get=function(t){var n=this,i=So(t);return this._delegate.get(i).then(function(r){return new ya(n._firestore,new Gi(n._firestore._delegate,n._userDataWriter,r._key,r._document,r.metadata,i.converter))})},e.prototype.set=function(t,n,i){var r=So(t);return i?(r0("Transaction.set",i),this._delegate.set(r,n,i)):this._delegate.set(r,n),this},e.prototype.update=function(t,n,i){for(var r,s=[],c=3;c<arguments.length;c++)s[c-3]=arguments[c];var l=So(t);return arguments.length===2?this._delegate.update(l,n):(r=this._delegate).update.apply(r,Nt([l,n,i],s)),this},e.prototype.delete=function(t){var n=So(t);return this._delegate.delete(n),this},e}(),p0=function(){function e(t){this._delegate=t}return e.prototype.set=function(t,n,i){var r=So(t);return i?(r0("WriteBatch.set",i),this._delegate.set(r,n,i)):this._delegate.set(r,n),this},e.prototype.update=function(t,n,i){for(var r,s=[],c=3;c<arguments.length;c++)s[c-3]=arguments[c];var l=So(t);return arguments.length===2?this._delegate.update(l,n):(r=this._delegate).update.apply(r,Nt([l,n,i],s)),this},e.prototype.delete=function(t){var n=So(t);return this._delegate.delete(n),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),Sf=function(){function e(t,n,i){this._firestore=t,this._userDataWriter=n,this._delegate=i}return e.prototype.fromFirestore=function(t,n){var i=new Ou(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new _a(this._firestore,i),n??{})},e.prototype.toFirestore=function(t,n){return n?this._delegate.toFirestore(t,n):this._delegate.toFirestore(t)},e.nu=function(t,n){var i=e.su,r=i.get(t);r||(r=new WeakMap,i.set(t,r));var s=r.get(n);return s||(s=new e(t,new Tf(t),n),r.set(n,s)),s},e}();Sf.su=new WeakMap;Or=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new Tf(t)}return e.iu=function(t,n,i){if(t.length%2!=0)throw new P(T.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new $t(n._delegate,i,new J(t)))},e.eu=function(t,n,i){return new e(n,new $t(n._delegate,i,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new zu(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new zu(this.firestore,gk(this._delegate,t))}catch(n){throw Ye(n,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return(t=At(t))instanceof $t&&vk(this._delegate,t)},e.prototype.set=function(t,n){n=r0("DocumentReference.set",n);try{return n?H1(this._delegate,t,n):H1(this._delegate,t)}catch(i){throw Ye(i,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,n){for(var i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];try{return arguments.length===1?W1(this._delegate,t):W1.apply(void 0,Nt([this._delegate,t,n],i))}catch(s){throw Ye(s,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Zu(kt((t=this._delegate).firestore,de),[new Ku(t._key,Ue.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var r=Lk(n),s=Fk(n,function(c){return new ya(t.firestore,new Gi(t.firestore._delegate,t._userDataWriter,c._key,c._document,c.metadata,t._delegate.converter))});return Pk(this._delegate,r,s)},e.prototype.get=function(t){var n=this;return(t?.source==="cache"?function(i){i=kt(i,$t);var r=kt(i.firestore,de),s=je(r),c=new ko(r);return function(l,d){var f=this,m=new Ve;return l.asyncQueue.enqueueAndForget(function(){return k(f,void 0,void 0,function(){var v;return A(this,function(y){switch(y.label){case 0:return v=function(_,I,E){return k(this,void 0,void 0,function(){var C,R;return A(this,function(L){switch(L.label){case 0:return L.trys.push([0,2,,3]),[4,function(B,nt){var ut=z(B);return ut.persistence.runTransaction("read document","readonly",function(F){return ut.Mn.mn(F,nt)})}(_,I)];case 1:return(R=L.sent()).isFoundDocument()?E.resolve(R):R.isNoDocument()?E.resolve(null):E.reject(new P(T.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return C=L.sent(),R=Ta(C,"Failed to get document '"+I+" from cache"),E.reject(R),[3,3];case 3:return[2]}})})},[4,hk(l)];case 1:return[2,v.apply(void 0,[y.sent(),d,m])]}})})}),m.promise}(s,i._key).then(function(l){return new Gi(r,c,i._key,l,new To(l!==null&&l.hasLocalMutations,!0),i.converter)})}(this._delegate):t?.source==="server"?function(i){i=kt(i,$t);var r=kt(i.firestore,de);return k1(je(r),i._key,{source:"server"}).then(function(s){return Ey(r,i,s)})}(this._delegate):function(i){i=kt(i,$t);var r=kt(i.firestore,de);return k1(je(r),i._key).then(function(s){return Ey(r,i,s)})}(this._delegate)).then(function(i){return new ya(n.firestore,new Gi(n.firestore._delegate,n._userDataWriter,i._key,i._document,i.metadata,n._delegate.converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Sf.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();ya=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"ref",{get:function(){return new Or(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,n){return this._delegate.get(t,n)},e.prototype.isEqual=function(t){return kk(this._delegate,t._delegate)},e}(),_a=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Z(t,e),t.prototype.data=function(n){return this._delegate.data(n)},t}(ya),Ju=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new Tf(t)}return e.prototype.where=function(t,n,i){try{return new e(this.firestore,xr(this._delegate,function(r,s,c){var l=s,d=hf("where",r);return new wV(d,l,c)}(t,n,i)))}catch(r){throw Ye(r,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,xr(this._delegate,function(i,r){r===void 0&&(r="asc");var s=r,c=hf("orderBy",i);return new IV(c,s)}(t,n)))}catch(i){throw Ye(i,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,xr(this._delegate,function(n){return N1("limit",n),new U1("limit",n,"F")}(t)))}catch(n){throw Ye(n,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,xr(this._delegate,function(n){return N1("limitToLast",n),new U1("limitToLast",n,"L")}(t)))}catch(n){throw Ye(n,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,xr(this._delegate,(function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];return new V1("startAt",i,!0)}).apply(void 0,t)))}catch(i){throw Ye(i,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,xr(this._delegate,(function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];return new V1("startAfter",i,!1)}).apply(void 0,t)))}catch(i){throw Ye(i,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,xr(this._delegate,(function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];return new B1("endBefore",i,!0)}).apply(void 0,t)))}catch(i){throw Ye(i,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,xr(this._delegate,(function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];return new B1("endAt",i,!1)}).apply(void 0,t)))}catch(i){throw Ye(i,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return bk(this._delegate,t._delegate)},e.prototype.get=function(t){var n=this;return(t?.source==="cache"?function(i){i=kt(i,Mn);var r=kt(i.firestore,de),s=je(r),c=new ko(r);return function(l,d){var f=this,m=new Ve;return l.asyncQueue.enqueueAndForget(function(){return k(f,void 0,void 0,function(){var v;return A(this,function(y){switch(y.label){case 0:return v=function(_,I,E){return k(this,void 0,void 0,function(){var C,R,L,B,nt;return A(this,function(ut){switch(ut.label){case 0:return ut.trys.push([0,2,,3]),[4,af(_,I,!0)];case 1:return nt=ut.sent(),C=new rk(I,nt.Bn),R=C._o(nt.documents),L=C.applyChanges(R,!1),E.resolve(L.snapshot),[3,3];case 2:return B=ut.sent(),nt=Ta(B,"Failed to execute query '"+I+" against cache"),E.reject(nt),[3,3];case 3:return[2]}})})},[4,hk(l)];case 1:return[2,v.apply(void 0,[y.sent(),d,m])]}})})}),m.promise}(s,i._query).then(function(l){return new Ar(r,c,i,l)})}(this._delegate):t?.source==="server"?function(i){i=kt(i,Mn);var r=kt(i.firestore,de),s=je(r),c=new ko(r);return D1(s,i._query,{source:"server"}).then(function(l){return new Ar(r,c,i,l)})}(this._delegate):function(i){i=kt(i,Mn);var r=kt(i.firestore,de),s=je(r),c=new ko(r);return Dk(i._query),D1(s,i._query).then(function(l){return new Ar(r,c,i,l)})}(this._delegate)).then(function(i){return new ff(n.firestore,new Ar(n.firestore._delegate,n._userDataWriter,n._delegate,i._snapshot))})},e.prototype.onSnapshot=function(){for(var t=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var r=Lk(n),s=Fk(n,function(c){return new ff(t.firestore,new Ar(t.firestore._delegate,t._userDataWriter,t._delegate,c._snapshot))});return Pk(this._delegate,r,s)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Sf.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),TV=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new _a(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),ff=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"query",{get:function(){return new Ju(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(n){return new _a(t._firestore,n)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var n=this;return this._delegate.docChanges(t).map(function(i){return new TV(n._firestore,i)})},e.prototype.forEach=function(t,n){var i=this;this._delegate.forEach(function(r){t.call(n,new _a(i._firestore,r))})},e.prototype.isEqual=function(t){return kk(this._delegate,t._delegate)},e}(),zu=function(e){function t(n,i){var r=this;return(r=e.call(this,n,i)||this).firestore=n,r._delegate=i,r}return Z(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new Or(this.firestore,n):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(n){try{return new Or(this.firestore,n===void 0?Xh(this._delegate):Xh(this._delegate,n))}catch(i){throw Ye(i,"doc()","CollectionReference.doc()")}},t.prototype.add=function(n){var i=this;return function(r,s){var c=kt(r.firestore,de),l=Xh(r),d=Cf(r.converter,s);return Zu(c,[xf(Uo(r.firestore),"addDoc",l._key,d,r.converter!==null,{}).toMutation(l._key,Ue.exists(!1))]).then(function(){return l})}(this._delegate,n).then(function(r){return new Or(i.firestore,r)})},t.prototype.isEqual=function(n){return vk(this._delegate,n._delegate)},t.prototype.withConverter=function(n){return new t(this.firestore,n?this._delegate.withConverter(Sf.nu(this.firestore,n)):this._delegate.withConverter(null))},t}(Ju);jk=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._delegate=new(Ti.bind.apply(Ti,Nt([void 0],t)))}return e.documentId=function(){return new e(ci.keyField().canonicalString())},e.prototype.isEqual=function(t){return(t=At(t))instanceof Ti&&this._delegate._internalPath.isEqual(t._internalPath)},e}(),Uk=function(){function e(t){this._delegate=t}return e.serverTimestamp=function(){var t=new pV("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new o0("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=(function(){for(var r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];return new mV("arrayUnion",r)}).apply(void 0,t);return i._methodName="FieldValue.arrayUnion",new e(i)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=(function(){for(var r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];return new gV("arrayRemove",r)}).apply(void 0,t);return i._methodName="FieldValue.arrayRemove",new e(i)},e.increment=function(t){var n=function(i){return new vV("increment",i)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}();});function AV(e){(function(t,n){t.INTERNAL.registerComponent(new yr("firestore",function(i){var r=i.getProvider("app").getImmediate();return n(r,i.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},SV)))})(e,function(t,n){return new h0(t,new de(t,n),new Mk)}),e.registerVersion("@firebase/firestore","2.4.1")}var SV,Bk=_n(()=>{"use strict";Hs();Vk();ah();Bs();uh();oy();SV={Firestore:h0,GeoPoint:Xu,Timestamp:Xe,Blob:d0,Transaction:f0,WriteBatch:p0,DocumentReference:Or,DocumentSnapshot:ya,Query:Ju,QueryDocumentSnapshot:_a,QuerySnapshot:ff,CollectionReference:zu,FieldPath:jk,FieldValue:Uk,setLogLevel:Nk,CACHE_SIZE_UNLIMITED:yk};AV(it)});var kV={};var zk=_n(()=>{"use strict";Bk()});function g0(e){return"storage/"+e}function w0(){var e="An unknown error occurred, please check the error payload for server response.";return new he("unknown",e)}function LV(e){return new he("object-not-found","Object '"+e+"' does not exist.")}function FV(e){return new he("quota-exceeded","Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function jV(){var e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new he("unauthenticated",e)}function UV(){return new he("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function VV(e){return new he("unauthorized","User does not have permission to access '"+e+"'.")}function BV(){return new he("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function oD(){return new he("canceled","User canceled the upload/download.")}function zV(e){return new he("invalid-url","Invalid URL '"+e+"'.")}function qV(e){return new he("invalid-default-bucket","Invalid default bucket '"+e+"'.")}function HV(){return new he("no-default-bucket","No default bucket found. Did you set the '"+rD+"' property when initializing the app?")}function sD(){return new he("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function WV(){return new he("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function GV(){return new he("no-download-url","The given file does not have any download URLs.")}function ka(e){return new he("invalid-argument",e)}function aD(){return new he("app-deleted","The Firebase app was deleted.")}function cD(e){return new he("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function tl(e,t){return new he("invalid-format","String does not match format '"+e+"': "+t)}function kf(e){throw new he("internal-error","Internal error: "+e)}function $V(e){return atob(e)}function uD(e,t){switch(e){case Hn.RAW:return new v0(lD(t));case Hn.BASE64:case Hn.BASE64URL:return new v0(dD(e,t));case Hn.DATA_URL:return new v0(YV(t),XV(t))}throw w0()}function lD(e){for(var t=[],n=0;n<e.length;n++){var i=e.charCodeAt(n);if(i<=127)t.push(i);else if(i<=2047)t.push(192|i>>6,128|i&63);else if((i&64512)===55296){var r=n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320;if(!r)t.push(239,191,189);else{var s=i,c=e.charCodeAt(++n);i=65536|(s&1023)<<10|c&1023,t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}}else(i&64512)===56320?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(t)}function KV(e){var t;try{t=decodeURIComponent(e)}catch{throw tl(Hn.DATA_URL,"Malformed data URL.")}return lD(t)}function dD(e,t){switch(e){case Hn.BASE64:{var n=t.indexOf("-")!==-1,i=t.indexOf("_")!==-1;if(n||i){var r=n?"-":"_";throw tl(e,"Invalid character '"+r+"' found: is it base64url encoded?")}break}case Hn.BASE64URL:{var s=t.indexOf("+")!==-1,c=t.indexOf("/")!==-1;if(s||c){var r=s?"+":"/";throw tl(e,"Invalid character '"+r+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}var l;try{l=$V(t)}catch{throw tl(e,"Invalid character found")}for(var d=new Uint8Array(l.length),f=0;f<l.length;f++)d[f]=l.charCodeAt(f);return d}function YV(e){var t=new hD(e);return t.base64?dD(Hn.BASE64,t.rest):KV(t.rest)}function XV(e){var t=new hD(e);return t.contentType}function QV(e,t){var n=e.length>=t.length;return n?e.substring(e.length-t.length)===t:!1}function b0(e){switch(e){case"running":case"pausing":case"canceling":return Je.RUNNING;case"paused":return Je.PAUSED;case"success":return Je.SUCCESS;case"canceled":return Je.CANCELED;case"error":return Je.ERROR;default:return Je.ERROR}}function tB(){return new JV}function iB(e,t,n){var i=1,r=null,s=!1,c=0;function l(){return c===2}var d=!1;function f(){for(var I=[],E=0;E<arguments.length;E++)I[E]=arguments[E];d||(d=!0,t.apply(null,I))}function m(I){r=setTimeout(function(){r=null,e(v,l())},I)}function v(I){for(var E=[],C=1;C<arguments.length;C++)E[C-1]=arguments[C];if(!d){if(I){f.call.apply(f,Nt([null,I],E));return}var R=l()||s;if(R){f.call.apply(f,Nt([null,I],E));return}i<64&&(i*=2);var L;c===1?(c=2,L=0):L=(i+Math.random())*1e3,m(L)}}var y=!1;function _(I){y||(y=!0,!d&&(r!==null?(I||(c=2),clearTimeout(r),m(0)):I||(c=1)))}return m(0),setTimeout(function(){s=!0,_(!0)},n),_}function rB(e){e(!1)}function oB(e){return e!==void 0}function sB(e){return typeof e=="function"}function aB(e){return typeof e=="object"&&!Array.isArray(e)}function Mf(e){return typeof e=="string"||e instanceof String}function Yk(e){return I0()&&e instanceof Blob}function I0(){return typeof Blob<"u"}function y0(e,t,n,i){if(i<t)throw ka("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(i>n)throw ka("Invalid value for '"+e+"'. Expected "+n+" or less.")}function jr(e,t){var n=t.match(/^(\w+):\/\/.+/),i=n?.[1],r=t;return i==null&&(r="https://"+t),r+"/v0"+e}function fD(e){var t=encodeURIComponent,n="?";for(var i in e)if(e.hasOwnProperty(i)){var r=t(i)+"="+t(e[i]);n=n+r+"&"}return n=n.slice(0,-1),n}function uB(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function lB(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function dB(e,t){t&&(e["X-Firebase-GMPID"]=t)}function hB(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function fB(e,t,n,i,r,s){var c=fD(e.urlParams),l=e.url+c,d=Object.assign({},e.headers);return dB(d,t),uB(d,n),lB(d,s),hB(d,i),new cB(l,e.method,d,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,r)}function pB(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function mB(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=pB();if(n!==void 0){for(var i=new n,r=0;r<e.length;r++)i.append(e[r]);return i.getBlob()}else{if(I0())return new Blob(e);throw new he("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function gB(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}function x0(e){var t;try{t=JSON.parse(e)}catch{return null}return aB(t)?t:null}function vB(e){if(e.length===0)return null;var t=e.lastIndexOf("/");if(t===-1)return"";var n=e.slice(0,t);return n}function bB(e,t){var n=t.split("/").filter(function(i){return i.length>0}).join("/");return e.length===0?n:e+"/"+n}function pD(e){var t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}function yB(e,t){return t}function _B(e){return!Mf(e)||e.length<2?e:pD(e)}function Nf(){if(Rf)return Rf;var e=[];e.push(new Ze("bucket")),e.push(new Ze("generation")),e.push(new Ze("metageneration")),e.push(new Ze("name","fullPath",!0));function t(s,c){return _B(c)}var n=new Ze("name");n.xform=t,e.push(n);function i(s,c){return c!==void 0?Number(c):c}var r=new Ze("size");return r.xform=i,e.push(r),e.push(new Ze("timeCreated")),e.push(new Ze("updated")),e.push(new Ze("md5Hash",null,!0)),e.push(new Ze("cacheControl",null,!0)),e.push(new Ze("contentDisposition",null,!0)),e.push(new Ze("contentEncoding",null,!0)),e.push(new Ze("contentLanguage",null,!0)),e.push(new Ze("contentType",null,!0)),e.push(new Ze("metadata","customMetadata",!0)),Rf=e,Rf}function wB(e,t){function n(){var i=e.bucket,r=e.fullPath,s=new Wn(i,r);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function IB(e,t,n){var i={};i.type="file";for(var r=n.length,s=0;s<r;s++){var c=n[s];i[c.local]=c.xform(i,t[c.server])}return wB(i,e),i}function mD(e,t,n){var i=x0(t);if(i===null)return null;var r=i;return IB(e,r,n)}function EB(e,t,n){var i=x0(t);if(i===null||!Mf(i.downloadTokens))return null;var r=i.downloadTokens;if(r.length===0)return null;var s=encodeURIComponent,c=r.split(","),l=c.map(function(d){var f=e.bucket,m=e.fullPath,v="/b/"+s(f)+"/o/"+s(m),y=jr(v,n),_=fD({alt:"media",token:d});return y+_});return l[0]}function C0(e,t){for(var n={},i=t.length,r=0;r<i;r++){var s=t[r];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}function xB(e,t,n){var i={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[Xk])for(var r=0,s=n[Xk];r<s.length;r++){var c=s[r],l=c.replace(/\/$/,""),d=e._makeStorageReference(new Wn(t,l));i.prefixes.push(d)}if(n[Qk])for(var f=0,m=n[Qk];f<m.length;f++){var v=m[f],d=e._makeStorageReference(new Wn(t,v.name));i.items.push(d)}return i}function CB(e,t,n){var i=x0(n);if(i===null)return null;var r=i;return xB(e,t,r)}function Ai(e){if(!e)throw w0()}function Lf(e,t){function n(i,r){var s=mD(e,r,t);return Ai(s!==null),s}return n}function TB(e,t){function n(i,r){var s=CB(e,t,r);return Ai(s!==null),s}return n}function SB(e,t){function n(i,r){var s=mD(e,r,t);return Ai(s!==null),EB(s,r,e.host)}return n}function Ra(e){function t(n,i){var r;return n.getStatus()===401?n.getResponseText().includes("Firebase App Check token is invalid")?r=UV():r=jV():n.getStatus()===402?r=FV(e.bucket):n.getStatus()===403?r=VV(e.path):r=i,r.serverResponse=i.serverResponse,r}return t}function Ff(e){var t=Ra(e);function n(i,r){var s=t(i,r);return i.getStatus()===404&&(s=LV(e.path)),s.serverResponse=r.serverResponse,s}return n}function gD(e,t,n){var i=t.fullServerUrl(),r=jr(i,e.host),s="GET",c=e.maxOperationRetryTime,l=new Ki(r,s,Lf(e,n),c);return l.errorHandler=Ff(t),l}function AB(e,t,n,i,r){var s={};t.isRoot?s.prefix="":s.prefix=t.path+"/",n&&n.length>0&&(s.delimiter=n),i&&(s.pageToken=i),r&&(s.maxResults=r);var c=t.bucketOnlyServerUrl(),l=jr(c,e.host),d="GET",f=e.maxOperationRetryTime,m=new Ki(l,d,TB(e,t.bucket),f);return m.urlParams=s,m.errorHandler=Ra(t),m}function kB(e,t,n){var i=t.fullServerUrl(),r=jr(i,e.host),s="GET",c=e.maxOperationRetryTime,l=new Ki(r,s,SB(e,n),c);return l.errorHandler=Ff(t),l}function DB(e,t,n,i){var r=t.fullServerUrl(),s=jr(r,e.host),c="PATCH",l=C0(n,i),d={"Content-Type":"application/json; charset=utf-8"},f=e.maxOperationRetryTime,m=new Ki(s,c,Lf(e,i),f);return m.headers=d,m.body=l,m.errorHandler=Ff(t),m}function RB(e,t){var n=t.fullServerUrl(),i=jr(n,e.host),r="DELETE",s=e.maxOperationRetryTime;function c(d,f){}var l=new Ki(i,r,c,s);return l.successCodes=[200,204],l.errorHandler=Ff(t),l}function OB(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function vD(e,t,n){var i=Object.assign({},n);return i.fullPath=e.path,i.size=t.size(),i.contentType||(i.contentType=OB(null,t)),i}function PB(e,t,n,i,r){var s=t.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function l(){for(var B="",nt=0;nt<2;nt++)B=B+Math.random().toString().slice(2);return B}var d=l();c["Content-Type"]="multipart/related; boundary="+d;var f=vD(t,i,r),m=C0(f,n),v="--"+d+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+m+`\r
--`+d+`\r
Content-Type: `+f.contentType+`\r
\r
`,y=`\r
--`+d+"--",_=E0.getBlob(v,i,y);if(_===null)throw sD();var I={name:f.fullPath},E=jr(s,e.host),C="POST",R=e.maxUploadRetryTime,L=new Ki(E,C,Lf(e,n),R);return L.urlParams=I,L.headers=c,L.body=_.uploadData(),L.errorHandler=Ra(t),L}function T0(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch{Ai(!1)}var i=t||["active"];return Ai(!!n&&i.indexOf(n)!==-1),n}function MB(e,t,n,i,r){var s=t.bucketOnlyServerUrl(),c=vD(t,i,r),l={name:c.fullPath},d=jr(s,e.host),f="POST",m={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+i.size(),"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},v=C0(c,n),y=e.maxUploadRetryTime;function _(E){T0(E);var C;try{C=E.getResponseHeader("X-Goog-Upload-URL")}catch{Ai(!1)}return Ai(Mf(C)),C}var I=new Ki(d,f,_,y);return I.urlParams=l,I.headers=m,I.body=v,I.errorHandler=Ra(t),I}function NB(e,t,n,i){var r={"X-Goog-Upload-Command":"query"};function s(f){var m=T0(f,["active","final"]),v=null;try{v=f.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Ai(!1)}v||Ai(!1);var y=Number(v);return Ai(!isNaN(y)),new Pf(y,i.size(),m==="final")}var c="POST",l=e.maxUploadRetryTime,d=new Ki(n,c,s,l);return d.headers=r,d.errorHandler=Ra(t),d}function LB(e,t,n,i,r,s,c,l){var d=new Pf(0,0);if(c?(d.current=c.current,d.total=c.total):(d.current=0,d.total=i.size()),i.size()!==d.total)throw WV();var f=d.total-d.current,m=f;r>0&&(m=Math.min(m,r));var v=d.current,y=v+m,_=m===f?"upload, finalize":"upload",I={"X-Goog-Upload-Command":_,"X-Goog-Upload-Offset":""+d.current},E=i.slice(v,y);if(E===null)throw sD();function C(nt,ut){var F=T0(nt,["active","final"]),Ot=d.current+m,$n=i.size(),K;return F==="final"?K=Lf(t,s)(nt,ut):K=null,new Pf(Ot,$n,F==="final",K)}var R="POST",L=t.maxUploadRetryTime,B=new Ki(n,R,C,L);return B.headers=I,B.body=E.uploadData(),B.progressCallback=l||null,B.errorHandler=Ra(e),B}function Aa(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then(function(){return e.apply(void 0,t)})}}function jB(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new bD(e,new E0(t),n)}function UB(e){var t={prefixes:[],items:[]};return yD(e,t).then(function(){return t})}function yD(e,t,n){return k(this,void 0,void 0,function(){var i,r,s,c;return A(this,function(l){switch(l.label){case 0:return i={pageToken:n},[4,_D(e,i)];case 1:return r=l.sent(),(s=t.prefixes).push.apply(s,r.prefixes),(c=t.items).push.apply(c,r.items),r.nextPageToken==null?[3,3]:[4,yD(e,t,r.nextPageToken)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function _D(e,t){return k(this,void 0,void 0,function(){var n,i;return A(this,function(r){switch(r.label){case 0:return t!=null&&typeof t.maxResults=="number"&&y0("options.maxResults",1,1e3,t.maxResults),n=t||{},i=AB(e.storage,e._location,"/",n.pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(i)];case 1:return[2,r.sent().getPromise()]}})})}function VB(e){return k(this,void 0,void 0,function(){var t;return A(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=gD(e.storage,e._location,Nf()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function BB(e,t){return k(this,void 0,void 0,function(){var n;return A(this,function(i){switch(i.label){case 0:return e._throwIfRoot("updateMetadata"),n=DB(e.storage,e._location,t,Nf()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,i.sent().getPromise()]}})})}function zB(e){return k(this,void 0,void 0,function(){var t;return A(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=kB(e.storage,e._location,Nf()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then(function(i){if(i===null)throw GV();return i})]}})})}function qB(e){return k(this,void 0,void 0,function(){var t;return A(this,function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=RB(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function wD(e,t){var n=bB(e._location.path,t),i=new Wn(e._location.bucket,n);return new jf(e.storage,i)}function _0(e){return/^[A-Za-z]+:\/\//.test(e)}function HB(e,t){return new jf(e,t)}function ID(e,t){if(e instanceof Uf){var n=e;if(n._bucket==null)throw HV();var i=new jf(n,n._bucket);return t!=null?ID(i,t):i}else return t!==void 0?wD(e,t):e}function WB(e,t){if(t&&_0(t)){if(e instanceof Uf)return HB(e,t);throw ka("To use ref(service, url), the first argument must be a Storage instance.")}else return ID(e,t)}function Jk(e,t){var n=t?.[rD];return n==null?null:Wn.makeFromBucketSpec(n,e)}function GB(e,t,n,i){i===void 0&&(i={}),e.host="http://"+t+":"+n;var r=i.mockUserToken;r&&(e._overrideAuthToken=typeof r=="string"?r:oh(r,e.app.options.projectId))}function $B(e,t,n){return e=At(e),jB(e,t,n)}function KB(e){return e=At(e),VB(e)}function YB(e,t){return e=At(e),BB(e,t)}function XB(e,t){return e=At(e),_D(e,t)}function QB(e){return e=At(e),UB(e)}function ZB(e){return e=At(e),zB(e)}function JB(e){return e=At(e),qB(e)}function tD(e,t){return e=At(e),WB(e,t)}function t3(e,t){return wD(e,t)}function e3(e,t,n,i){i===void 0&&(i={}),GB(e,t,n,i)}function s3(e,t){var n=t.instanceIdentifier,i=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal"),c=new n3(i,new Uf(i,r,s,new eB,n,it.SDK_VERSION));return c}function a3(e){var t={TaskState:Je,TaskEvent:ZV,StringFormat:Hn,Storage:Uf,Reference:el};e.INTERNAL.registerComponent(new yr(o3,s3,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion(i3,r3)}var iD,rD,MV,NV,he,Hn,v0,hD,ZV,Je,Da,JV,eB,Wn,nB,cB,Df,E0,Ze,Rf,Xk,Qk,Ki,Pf,Zk,FB,bD,jf,Uf,Of,eD,nD,el,n3,i3,r3,o3,ED=_n(()=>{"use strict";Hs();Ac();Bs();ah();iD="firebasestorage.googleapis.com",rD="storageBucket",MV=2*60*1e3,NV=10*60*1e3,he=function(e){Z(t,e);function t(n,i){var r=e.call(this,g0(n),"Firebase Storage: "+i+" ("+g0(n)+")")||this;return r.customData={serverResponse:null},r._baseMessage=r.message,Object.setPrototypeOf(r,t.prototype),r}return t.prototype._codeEquals=function(n){return g0(n)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(n){this.customData.serverResponse=n,this.customData.serverResponse?this.message=this._baseMessage+`
`+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(cb);Hn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},v0=function(){function e(t,n){this.data=t,this.contentType=n||null}return e}();hD=function(){function e(t){this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(n===null)throw tl(Hn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var i=n[1]||null;i!=null&&(this.base64=QV(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}return e}();ZV={STATE_CHANGED:"state_changed"},Je={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};Da=function(e){return e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT",e}(Da||{});JV=function(){function e(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Da.NO_ERROR,this.sendPromise_=new Promise(function(n){t.xhr_.addEventListener("abort",function(){t.errorCode_=Da.ABORT,n()}),t.xhr_.addEventListener("error",function(){t.errorCode_=Da.NETWORK_ERROR,n()}),t.xhr_.addEventListener("load",function(){n()})})}return e.prototype.send=function(t,n,i,r){if(this.sent_)throw kf("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),r!==void 0)for(var s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw kf("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw kf("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw kf("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},e.prototype.addUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)},e.prototype.removeUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)},e}();eB=function(){function e(){}return e.prototype.createConnection=function(){return tB()},e}();Wn=function(){function e(t,n){this.bucket=t,this.path_=n}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return this.path.length===0},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},e.prototype.bucketOnlyServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var i;try{i=e.makeFromUrl(t,n)}catch{return new e(t,"")}if(i.path==="")return i;throw qV(t)},e.makeFromUrl=function(t,n){var i=null,r="([A-Za-z0-9.\\-_]+)";function s(K){K.path.charAt(K.path.length-1)==="/"&&(K.path_=K.path_.slice(0,-1))}var c="(/(.*))?$",l=new RegExp("^gs://"+r+c,"i"),d={bucket:1,path:3};function f(K){K.path_=decodeURIComponent(K.path)}for(var m="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",_=new RegExp("^https?://"+v+"/"+m+"/b/"+r+"/o"+y,"i"),I={bucket:1,path:3},E=n===iD?"(?:storage.googleapis.com|storage.cloud.google.com)":n,C="([^?#]*)",R=new RegExp("^https?://"+E+"/"+r+"/"+C,"i"),L={bucket:1,path:2},B=[{regex:l,indices:d,postModify:s},{regex:_,indices:I,postModify:f},{regex:R,indices:L,postModify:f}],nt=0;nt<B.length;nt++){var ut=B[nt],F=ut.regex.exec(t);if(F){var Ot=F[ut.indices.bucket],$n=F[ut.indices.path];$n||($n=""),i=new e(Ot,$n),ut.postModify(i);break}}if(i==null)throw zV(t);return i},e}(),nB=function(){function e(t){this.promise_=Promise.reject(t)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){},e}();cB=function(){function e(t,n,i,r,s,c,l,d,f,m,v){var y=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=n,this.headers_=i,this.body_=r,this.successCodes_=s.slice(),this.additionalRetryCodes_=c.slice(),this.callback_=l,this.errorCallback_=d,this.progressCallback_=m,this.timeout_=f,this.pool_=v,this.promise_=new Promise(function(_,I){y.resolve_=_,y.reject_=I,y.start_()})}return e.prototype.start_=function(){var t=this;function n(r,s){if(s){r(!1,new Df(!1,null,!0));return}var c=t.pool_.createConnection();t.pendingConnection_=c;function l(d){var f=d.loaded,m=d.lengthComputable?d.total:-1;t.progressCallback_!==null&&t.progressCallback_(f,m)}t.progressCallback_!==null&&c.addUploadProgressListener(l),c.send(t.url_,t.method_,t.body_,t.headers_).then(function(){t.progressCallback_!==null&&c.removeUploadProgressListener(l),t.pendingConnection_=null;var d=c.getErrorCode()===Da.NO_ERROR,f=c.getStatus();if(!d||t.isRetryStatusCode_(f)){var m=c.getErrorCode()===Da.ABORT;r(!1,new Df(!1,null,m));return}var v=t.successCodes_.indexOf(f)!==-1;r(!0,new Df(v,c))})}function i(r,s){var c=t.resolve_,l=t.reject_,d=s.connection;if(s.wasSuccessCode)try{var f=t.callback_(d,d.getResponseText());oB(f)?c(f):c()}catch(v){l(v)}else if(d!==null){var m=w0();m.serverResponse=d.getResponseText(),t.errorCallback_?l(t.errorCallback_(d,m)):l(m)}else if(s.canceled){var m=t.appDelete_?aD():oD();l(m)}else{var m=BV();l(m)}}this.canceled_?i(!1,new Df(!1,null,!0)):this.backoffId_=iB(n,i,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&rB(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()},e.prototype.isRetryStatusCode_=function(t){var n=t>=500&&t<600,i=[408,429],r=i.indexOf(t)!==-1,s=this.additionalRetryCodes_.indexOf(t)!==-1;return n||r||s},e}(),Df=function(){function e(t,n,i){this.wasSuccessCode=t,this.connection=n,this.canceled=!!i}return e}();E0=function(){function e(t,n){var i=0,r="";Yk(t)?(this.data_=t,i=t.size,r=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=r}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(Yk(this.data_)){var i=this.data_,r=gB(i,t,n);return r===null?null:new e(r)}else{var s=new Uint8Array(this.data_.buffer,t,n-t);return new e(s,!0)}},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(I0()){var i=t.map(function(d){return d instanceof e?d.data_:d});return new e(mB.apply(null,i))}else{var r=t.map(function(d){return Mf(d)?uD(Hn.RAW,d).data:d.data_}),s=0;r.forEach(function(d){s+=d.byteLength});var c=new Uint8Array(s),l=0;return r.forEach(function(d){for(var f=0;f<d.length;f++)c[l++]=d[f]}),new e(c,!0)}},e.prototype.uploadData=function(){return this.data_},e}();Ze=function(){function e(t,n,i,r){this.server=t,this.local=n||t,this.writable=!!i,this.xform=r||yB}return e}(),Rf=null;Xk="prefixes",Qk="items";Ki=function(){function e(t,n,i,r){this.url=t,this.method=n,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return e}();Pf=function(){function e(t,n,i,r){this.current=t,this.total=n,this.finalized=!!i,this.metadata=r||null}return e}();Zk=256*1024;FB=function(){function e(t,n,i){var r=sB(t)||n!=null||i!=null;if(r)this.next=t,this.error=n,this.complete=i;else{var s=t;this.next=s.next,this.error=s.error,this.complete=s.complete}}return e}();bD=function(){function e(t,n,i){var r=this;i===void 0&&(i=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=Nf(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(s){r._request=void 0,r._chunkMultiplier=1,s._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=s,r._transition("error"))},this._metadataErrorHandler=function(s){r._request=void 0,s._codeEquals("canceled")?r.completeTransitions_():(r._error=s,r._transition("error"))},this._promise=new Promise(function(s,c){r._resolve=s,r._reject=c,r._start()}),this._promise.then(null,function(){})}return e.prototype._makeProgressCallback=function(){var t=this,n=this._transferred;return function(i){return t._updateProgress(n+i)}},e.prototype._shouldDoResumable=function(t){return t.size()>256*1024},e.prototype._start=function(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(t){var n=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(i){var r=i[0],s=i[1];switch(n._state){case"running":t(r,s);break;case"canceling":n._transition("canceled");break;case"pausing":n._transition("paused");break}})},e.prototype._createResumable=function(){var t=this;this._resolveToken(function(n,i){var r=MB(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),s=t._ref.storage._makeRequest(r,n,i);t._request=s,s.getPromise().then(function(c){t._request=void 0,t._uploadUrl=c,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},e.prototype._fetchStatus=function(){var t=this,n=this._uploadUrl;this._resolveToken(function(i,r){var s=NB(t._ref.storage,t._ref._location,n,t._blob),c=t._ref.storage._makeRequest(s,i,r);t._request=c,c.getPromise().then(function(l){l=l,t._request=void 0,t._updateProgress(l.current),t._needToFetchStatus=!1,l.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},e.prototype._continueUpload=function(){var t=this,n=Zk*this._chunkMultiplier,i=new Pf(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken(function(s,c){var l;try{l=LB(t._ref._location,t._ref.storage,r,t._blob,n,t._mappings,i,t._makeProgressCallback())}catch(f){t._error=f,t._transition("error");return}var d=t._ref.storage._makeRequest(l,s,c);t._request=d,d.getPromise().then(function(f){t._increaseMultiplier(),t._request=void 0,t._updateProgress(f.current),f.finalized?(t._metadata=f.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},e.prototype._increaseMultiplier=function(){var t=Zk*this._chunkMultiplier;t<32*1024*1024&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(n,i){var r=gD(t._ref.storage,t._ref._location,t._mappings),s=t._ref.storage._makeRequest(r,n,i);t._request=s,s.getPromise().then(function(c){t._request=void 0,t._metadata=c,t._transition("success")},t._metadataErrorHandler)})},e.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(n,i){var r=PB(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),s=t._ref.storage._makeRequest(r,n,i);t._request=s,s.getPromise().then(function(c){t._request=void 0,t._metadata=c,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},e.prototype._updateProgress=function(t){var n=this._transferred;this._transferred=t,this._transferred!==n&&this._notifyObservers()},e.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":this._state=t,this._request!==void 0&&this._request.cancel();break;case"pausing":this._state=t,this._request!==void 0&&this._request.cancel();break;case"running":var n=this._state==="paused";this._state=t,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=oD(),this._state=t,this._notifyObservers();break;case"error":this._state=t,this._notifyObservers();break;case"success":this._state=t,this._notifyObservers();break}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var t=b0(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(t,n,i,r){var s=this,c=new FB(n,i,r);return this._addObserver(c),function(){s._removeObserver(c)}},e.prototype.then=function(t,n){return this._promise.then(t,n)},e.prototype.catch=function(t){return this.then(null,t)},e.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},e.prototype._removeObserver=function(t){var n=this._observers.indexOf(t);n!==-1&&this._observers.splice(n,1)},e.prototype._notifyObservers=function(){var t=this;this._finishPromise();var n=this._observers.slice();n.forEach(function(i){t._notifyObserver(i)})},e.prototype._finishPromise=function(){if(this._resolve!==void 0){var t=!0;switch(b0(this._state)){case Je.SUCCESS:Aa(this._resolve.bind(null,this.snapshot))();break;case Je.CANCELED:case Je.ERROR:var n=this._reject;Aa(n.bind(null,this._error))();break;default:t=!1;break}t&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(t){var n=b0(this._state);switch(n){case Je.RUNNING:case Je.PAUSED:t.next&&Aa(t.next.bind(t,this.snapshot))();break;case Je.SUCCESS:t.complete&&Aa(t.complete.bind(t))();break;case Je.CANCELED:case Je.ERROR:t.error&&Aa(t.error.bind(t,this._error))();break;default:t.error&&Aa(t.error.bind(t,this._error))()}},e.prototype.resume=function(){var t=this._state==="paused"||this._state==="pausing";return t&&this._transition("running"),t},e.prototype.pause=function(){var t=this._state==="running";return t&&this._transition("pausing"),t},e.prototype.cancel=function(){var t=this._state==="running"||this._state==="pausing";return t&&this._transition("canceling"),t},e}();jf=function(){function e(t,n){this._service=t,n instanceof Wn?this._location=n:this._location=Wn.makeFromUrl(n,t.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var t=new Wn(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return pD(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=vB(this._location.path);if(t===null)return null;var n=new Wn(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(t){if(this._location.path==="")throw cD(t)},e}();Uf=function(){function e(t,n,i,r,s,c){this.app=t,this._authProvider=n,this._appCheckProvider=i,this._pool=r,this._url=s,this._firebaseVersion=c,this._bucket=null,this._host=iD,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=MV,this._maxUploadRetryTime=NV,this._requests=new Set,s!=null?this._bucket=Wn.makeFromBucketSpec(s,this._host):this._bucket=Jk(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._url!=null?this._bucket=Wn.makeFromBucketSpec(this._url,t):this._bucket=Jk(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){y0("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){y0("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return k(this,void 0,void 0,function(){var t,n;return A(this,function(i){switch(i.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(t=this._authProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2]);case 1:if(n=i.sent(),n!==null)return[2,n.accessToken];i.label=2;case 2:return[2,null]}})})},e.prototype._getAppCheckToken=function(){return k(this,void 0,void 0,function(){var t,n;return A(this,function(i){switch(i.label){case 0:return t=this._appCheckProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:return n=i.sent(),[2,n.token];case 2:return[2,null]}})})},e.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear()),Promise.resolve()},e.prototype._makeStorageReference=function(t){return new jf(this,t)},e.prototype._makeRequest=function(t,n,i){var r=this;if(this._deleted)return new nB(aD());var s=fB(t,this._appId,n,i,this._pool,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(function(){return r._requests.delete(s)},function(){return r._requests.delete(s)}),s},e.prototype.makeRequestWithTokens=function(t){return k(this,void 0,void 0,function(){var n,i,r;return A(this,function(s){switch(s.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return n=s.sent(),i=n[0],r=n[1],[2,this._makeRequest(t,i,r)]}})})},e}();Of=function(){function e(t,n,i){this._delegate=t,this.task=n,this.ref=i}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}();eD=function(){function e(t,n){this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new Of(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(t,n){var i=this;return this._delegate.then(function(r){if(t)return t(new Of(r,i,i._ref))},n)},e.prototype.on=function(t,n,i,r){var s=this,c=void 0;return n&&(typeof n=="function"?c=function(l){return n(new Of(l,s,s._ref))}:c={next:n.next?function(l){return n.next(new Of(l,s,s._ref))}:void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(t,c,i||void 0,r||void 0)},e}(),nD=function(){function e(t,n){this._delegate=t,this._service=n}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(n){return new el(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(n){return new el(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}();el=function(){function e(t,n){this._delegate=t,this.storage=n}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){var n=t3(this._delegate,t);return new e(n,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t==null?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(t,n){return this._throwIfRoot("put"),new eD($B(this._delegate,t,n),this)},e.prototype.putString=function(t,n,i){n===void 0&&(n=Hn.RAW),this._throwIfRoot("putString");var r=uD(n,t),s=co({},i);return s.contentType==null&&r.contentType!=null&&(s.contentType=r.contentType),new eD(new bD(this._delegate,new E0(r.data,!0),s),this)},e.prototype.listAll=function(){var t=this;return QB(this._delegate).then(function(n){return new nD(n,t.storage)})},e.prototype.list=function(t){var n=this;return XB(this._delegate,t||void 0).then(function(i){return new nD(i,n.storage)})},e.prototype.getMetadata=function(){return KB(this._delegate)},e.prototype.updateMetadata=function(t){return YB(this._delegate,t)},e.prototype.getDownloadURL=function(){return ZB(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),JB(this._delegate)},e.prototype._throwIfRoot=function(t){if(this._delegate._location.path==="")throw cD(t)},e}();n3=function(){function e(t,n){this.app=t,this._delegate=n}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(t){if(_0(t))throw ka("ref() expected a child path but got a URL, use refFromURL instead.");return new el(tD(this._delegate,t),this)},e.prototype.refFromURL=function(t){if(!_0(t))throw ka("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Wn.makeFromUrl(t,this._delegate.host)}catch{throw ka("refFromUrl() expected a valid full URL but got an invalid one.")}return new el(tD(this._delegate,t),this)},e.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},e.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},e.prototype.useEmulator=function(t,n,i){i===void 0&&(i={}),e3(this._delegate,t,n,i)},e}(),i3="@firebase/storage",r3="0.7.1";o3="storage";a3(it)});var c3={};var xD=_n(()=>{"use strict";ED()});var ov=class{};var ks=class e{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(n=>{let i=n.indexOf(":");if(i>0){let r=n.slice(0,i),s=r.toLowerCase(),c=n.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(c):this.headers.set(s,[c])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,i)=>{this.setHeaderEntries(i,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,i])=>{this.setHeaderEntries(n,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){let n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){let n=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(t.name,n);let r=(t.op==="a"?this.headers.get(n):void 0)||[];r.push(...i),this.headers.set(n,r);break;case"d":let s=t.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let c=this.headers.get(n);if(!c)return;c=c.filter(l=>s.indexOf(l)===-1),c.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,c)}break}}setHeaderEntries(t,n){let i=(Array.isArray(n)?n:[n]).map(s=>s.toString()),r=t.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}};var sv=class{encodeKey(t){return Wx(t)}encodeValue(t){return Wx(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function PN(e,t){let n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(r=>{let s=r.indexOf("="),[c,l]=s==-1?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],d=n.get(c)||[];d.push(l),n.set(c,d)}),n}var MN=/%(\d[a-f0-9])/gi,NN={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Wx(e){return encodeURIComponent(e).replace(MN,(t,n)=>NN[n]??t)}function Ld(e){return`${e}`}var fr=class e{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new sv,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=PN(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{let i=t.fromObject[n],r=Array.isArray(i)?i.map(Ld):[Ld(i)];this.map.set(n,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){let n=[];return Object.keys(t).forEach(i=>{let r=t[i];Array.isArray(r)?r.forEach(s=>{n.push({param:i,value:s,op:"a"})}):n.push({param:i,value:r,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let n=this.encoder.encodeKey(t);return this.map.get(t).map(i=>n+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let n=(t.op==="a"?this.map.get(t.param):void 0)||[];n.push(Ld(t.value)),this.map.set(t.param,n);break;case"d":if(t.value!==void 0){let i=this.map.get(t.param)||[],r=i.indexOf(Ld(t.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var av=class{constructor(){this.map=new Map}set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function LN(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Gx(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function $x(e){return typeof Blob<"u"&&e instanceof Blob}function Kx(e){return typeof FormData<"u"&&e instanceof FormData}function FN(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var Fc=class e{constructor(t,n,i,r){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase();let s;if(LN(this.method)||r?(this.body=i!==void 0?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new ks,this.context??=new av,!this.params)this.params=new fr,this.urlWithParams=n;else{let c=this.params.toString();if(c.length===0)this.urlWithParams=n;else{let l=n.indexOf("?"),d=l===-1?"?":l<n.length-1?"&":"";this.urlWithParams=n+d+c}}}serializeBody(){return this.body===null?null:Gx(this.body)||$x(this.body)||Kx(this.body)||FN(this.body)||typeof this.body=="string"?this.body:this.body instanceof fr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Kx(this.body)?null:$x(this.body)?this.body.type||null:Gx(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof fr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(t={}){let n=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,s=t.body!==void 0?t.body:this.body,c=t.withCredentials!==void 0?t.withCredentials:this.withCredentials,l=t.reportProgress!==void 0?t.reportProgress:this.reportProgress,d=t.headers||this.headers,f=t.params||this.params,m=t.context??this.context;return t.setHeaders!==void 0&&(d=Object.keys(t.setHeaders).reduce((v,y)=>v.set(y,t.setHeaders[y]),d)),t.setParams&&(f=Object.keys(t.setParams).reduce((v,y)=>v.set(y,t.setParams[y]),f)),new e(n,i,s,{params:f,headers:d,context:m,reportProgress:l,responseType:r,withCredentials:c})}},Yx=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Yx||{}),cv=class{constructor(t,n=Xx.Ok,i="OK"){this.headers=t.headers||new ks,this.status=t.status!==void 0?t.status:n,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}};var uv=class e extends cv{constructor(t={}){super(t),this.type=Yx.Response,this.body=t.body!==void 0?t.body:null}clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}};var Xx=function(e){return e[e.Continue=100]="Continue",e[e.SwitchingProtocols=101]="SwitchingProtocols",e[e.Processing=102]="Processing",e[e.EarlyHints=103]="EarlyHints",e[e.Ok=200]="Ok",e[e.Created=201]="Created",e[e.Accepted=202]="Accepted",e[e.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",e[e.NoContent=204]="NoContent",e[e.ResetContent=205]="ResetContent",e[e.PartialContent=206]="PartialContent",e[e.MultiStatus=207]="MultiStatus",e[e.AlreadyReported=208]="AlreadyReported",e[e.ImUsed=226]="ImUsed",e[e.MultipleChoices=300]="MultipleChoices",e[e.MovedPermanently=301]="MovedPermanently",e[e.Found=302]="Found",e[e.SeeOther=303]="SeeOther",e[e.NotModified=304]="NotModified",e[e.UseProxy=305]="UseProxy",e[e.Unused=306]="Unused",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.LengthRequired=411]="LengthRequired",e[e.PreconditionFailed=412]="PreconditionFailed",e[e.PayloadTooLarge=413]="PayloadTooLarge",e[e.UriTooLong=414]="UriTooLong",e[e.UnsupportedMediaType=415]="UnsupportedMediaType",e[e.RangeNotSatisfiable=416]="RangeNotSatisfiable",e[e.ExpectationFailed=417]="ExpectationFailed",e[e.ImATeapot=418]="ImATeapot",e[e.MisdirectedRequest=421]="MisdirectedRequest",e[e.UnprocessableEntity=422]="UnprocessableEntity",e[e.Locked=423]="Locked",e[e.FailedDependency=424]="FailedDependency",e[e.TooEarly=425]="TooEarly",e[e.UpgradeRequired=426]="UpgradeRequired",e[e.PreconditionRequired=428]="PreconditionRequired",e[e.TooManyRequests=429]="TooManyRequests",e[e.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",e[e.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout",e[e.HttpVersionNotSupported=505]="HttpVersionNotSupported",e[e.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",e[e.InsufficientStorage=507]="InsufficientStorage",e[e.LoopDetected=508]="LoopDetected",e[e.NotExtended=510]="NotExtended",e[e.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",e}(Xx||{});function rv(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}var Qx=(()=>{let t=class t{constructor(i){this.handler=i}request(i,r,s={}){let c;if(i instanceof Fc)c=i;else{let f;s.headers instanceof ks?f=s.headers:f=new ks(s.headers);let m;s.params&&(s.params instanceof fr?m=s.params:m=new fr({fromObject:s.params})),c=new Fc(i,r,s.body!==void 0?s.body:null,{headers:f,context:s.context,params:m,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let l=Y(c).pipe(ur(f=>this.handler.handle(f)));if(i instanceof Fc||s.observe==="events")return l;let d=l.pipe(me(f=>f instanceof uv));switch(s.observe||"body"){case"body":switch(c.responseType){case"arraybuffer":return d.pipe(pt(f=>{if(f.body!==null&&!(f.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return f.body}));case"blob":return d.pipe(pt(f=>{if(f.body!==null&&!(f.body instanceof Blob))throw new Error("Response is not a Blob.");return f.body}));case"text":return d.pipe(pt(f=>{if(f.body!==null&&typeof f.body!="string")throw new Error("Response is not a string.");return f.body}));case"json":default:return d.pipe(pt(f=>f.body))}case"response":return d;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(i,r={}){return this.request("DELETE",i,r)}get(i,r={}){return this.request("GET",i,r)}head(i,r={}){return this.request("HEAD",i,r)}jsonp(i,r){return this.request("JSONP",i,{params:new fr().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(i,r={}){return this.request("OPTIONS",i,r)}patch(i,r,s={}){return this.request("PATCH",i,rv(s,r))}post(i,r,s={}){return this.request("POST",i,rv(s,r))}put(i,r,s={}){return this.request("PUT",i,rv(s,r))}};t.\u0275fac=function(r){return new(r||t)(D(ov))},t.\u0275prov=W({token:t,factory:t.\u0275fac});let e=t;return e})();var hv=class extends Mx{constructor(){super(...arguments),this.supportsDOMEvents=!0}},fv=class e extends hv{static makeCurrent(){Px(new e)}onAndCancel(t,n,i){return t.addEventListener(n,i),()=>{t.removeEventListener(n,i)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=VN();return n==null?null:BN(n)}resetBaseElement(){jc=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return jx(document.cookie,t)}},jc=null;function VN(){return jc=jc||document.querySelector("base"),jc?jc.getAttribute("href"):null}function BN(e){return new URL(e,document.baseURI).pathname}var pv=class{addToWindow(t){dr.getAngularTestability=(i,r=!0)=>{let s=t.findTestabilityInTree(i,r);if(s==null)throw new Vt(5103,!1);return s},dr.getAllAngularTestabilities=()=>t.getAllTestabilities(),dr.getAllAngularRootElements=()=>t.getAllRootElements();let n=i=>{let r=dr.getAllAngularTestabilities(),s=r.length,c=function(){s--,s==0&&i()};r.forEach(l=>{l.whenStable(c)})};dr.frameworkStabilizers||(dr.frameworkStabilizers=[]),dr.frameworkStabilizers.push(n)}findTestabilityInTree(t,n,i){if(n==null)return null;let r=t.getTestability(n);return r??(i?Od().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},zN=(()=>{let t=class t{build(){return new XMLHttpRequest}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=W({token:t,factory:t.\u0275fac});let e=t;return e})(),mv=new dt(""),eC=(()=>{let t=class t{constructor(i,r){this._zone=r,this._eventNameToPlugin=new Map,i.forEach(s=>{s.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,r,s){return this._findPluginFor(r).addEventListener(i,r,s)}getZone(){return this._zone}_findPluginFor(i){let r=this._eventNameToPlugin.get(i);if(r)return r;if(r=this._plugins.find(c=>c.supports(i)),!r)throw new Vt(5101,!1);return this._eventNameToPlugin.set(i,r),r}};t.\u0275fac=function(r){return new(r||t)(D(mv),D(ht))},t.\u0275prov=W({token:t,factory:t.\u0275fac});let e=t;return e})(),Fd=class{constructor(t){this._doc=t}},lv="ng-app-id",nC=(()=>{let t=class t{constructor(i,r,s,c={}){this.doc=i,this.appId=r,this.nonce=s,this.platformId=c,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=iv(c),this.resetHostNodes()}addStyles(i){for(let r of i)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(i){for(let r of i)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let i=this.styleNodesInDOM;i&&(i.forEach(r=>r.remove()),i.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(let r of this.getAllStyles())this.addStyleToHost(i,r)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(let r of this.hostNodes)this.addStyleToHost(r,i)}onStyleRemoved(i){let r=this.styleRef;r.get(i)?.elements?.forEach(s=>s.remove()),r.delete(i)}collectServerRenderedStyles(){let i=this.doc.head?.querySelectorAll(`style[${lv}="${this.appId}"]`);if(i?.length){let r=new Map;return i.forEach(s=>{s.textContent!=null&&r.set(s.textContent,s)}),r}return null}changeUsageCount(i,r){let s=this.styleRef;if(s.has(i)){let c=s.get(i);return c.usage+=r,c.usage}return s.set(i,{usage:r,elements:[]}),r}getStyleElement(i,r){let s=this.styleNodesInDOM,c=s?.get(r);if(c?.parentNode===i)return s.delete(r),c.removeAttribute(lv),c;{let l=this.doc.createElement("style");return this.nonce&&l.setAttribute("nonce",this.nonce),l.textContent=r,this.platformIsServer&&l.setAttribute(lv,this.appId),i.appendChild(l),l}}addStyleToHost(i,r){let s=this.getStyleElement(i,r),c=this.styleRef,l=c.get(r)?.elements;l?l.push(s):c.set(r,{elements:[s],usage:1})}resetHostNodes(){let i=this.hostNodes;i.clear(),i.add(this.doc.head)}};t.\u0275fac=function(r){return new(r||t)(D(ct),D(Rc),D(Oc,8),D(po))},t.\u0275prov=W({token:t,factory:t.\u0275fac});let e=t;return e})(),dv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},vv=/%COMP%/g,iC="%COMP%",qN=`_nghost-${iC}`,HN=`_ngcontent-${iC}`,WN=!0,GN=new dt("",{providedIn:"root",factory:()=>WN});function $N(e){return HN.replace(vv,e)}function KN(e){return qN.replace(vv,e)}function rC(e,t){return t.map(n=>n.replace(vv,e))}var jd=(()=>{let t=class t{constructor(i,r,s,c,l,d,f,m=null){this.eventManager=i,this.sharedStylesHost=r,this.appId=s,this.removeStylesOnCompDestroy=c,this.doc=l,this.platformId=d,this.ngZone=f,this.nonce=m,this.rendererByCompId=new Map,this.platformIsServer=iv(d),this.defaultRenderer=new Uc(i,l,f,this.platformIsServer)}createRenderer(i,r){if(!i||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===kc.ShadowDom&&(r=se(V({},r),{encapsulation:kc.Emulated}));let s=this.getOrCreateRenderer(i,r);return s instanceof Ud?s.applyToHost(i):s instanceof Vc&&s.applyStyles(),s}getOrCreateRenderer(i,r){let s=this.rendererByCompId,c=s.get(r.id);if(!c){let l=this.doc,d=this.ngZone,f=this.eventManager,m=this.sharedStylesHost,v=this.removeStylesOnCompDestroy,y=this.platformIsServer;switch(r.encapsulation){case kc.Emulated:c=new Ud(f,m,r,this.appId,v,l,d,y);break;case kc.ShadowDom:return new gv(f,m,i,r,l,d,this.nonce,y);default:c=new Vc(f,m,r,v,l,d,y);break}s.set(r.id,c)}return c}ngOnDestroy(){this.rendererByCompId.clear()}};t.\u0275fac=function(r){return new(r||t)(D(eC),D(nC),D(Rc),D(GN),D(ct),D(po),D(ht),D(Oc))},t.\u0275prov=W({token:t,factory:t.\u0275fac});let e=t;return e})(),Uc=class{constructor(t,n,i,r){this.eventManager=t,this.doc=n,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(dv[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(Zx(t)?t.content:t).appendChild(n)}insertBefore(t,n,i){t&&(Zx(t)?t.content:t).insertBefore(n,i)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let i=typeof t=="string"?this.doc.querySelector(t):t;if(!i)throw new Vt(-5104,!1);return n||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,i,r){if(r){n=r+":"+n;let s=dv[r];s?t.setAttributeNS(s,n,i):t.setAttribute(n,i)}else t.setAttribute(n,i)}removeAttribute(t,n,i){if(i){let r=dv[i];r?t.removeAttributeNS(r,n):t.removeAttribute(`${i}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,i,r){r&(Pc.DashCase|Pc.Important)?t.style.setProperty(n,i,r&Pc.Important?"important":""):t.style[n]=i}removeStyle(t,n,i){i&Pc.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,i){t!=null&&(t[n]=i)}setValue(t,n){t.nodeValue=n}listen(t,n,i){if(typeof t=="string"&&(t=Od().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(i))}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))===!1&&n.preventDefault()}}};function Zx(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var gv=class extends Uc{constructor(t,n,i,r,s,c,l,d){super(t,s,c,d),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let f=rC(r.id,r.styles);for(let m of f){let v=document.createElement("style");l&&v.setAttribute("nonce",l),v.textContent=m,this.shadowRoot.appendChild(v)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,i){return super.insertBefore(this.nodeOrShadowRoot(t),n,i)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Vc=class extends Uc{constructor(t,n,i,r,s,c,l,d){super(t,s,c,l),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r,this.styles=d?rC(d,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Ud=class extends Vc{constructor(t,n,i,r,s,c,l,d){let f=r+"-"+i.id;super(t,n,i,s,c,l,d,f),this.contentAttr=$N(f),this.hostAttr=KN(f)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let i=super.createElement(t,n);return super.setAttribute(i,this.contentAttr,""),i}},YN=(()=>{let t=class t extends Fd{constructor(i){super(i)}supports(i){return!0}addEventListener(i,r,s){return i.addEventListener(r,s,!1),()=>this.removeEventListener(i,r,s)}removeEventListener(i,r,s){return i.removeEventListener(r,s)}};t.\u0275fac=function(r){return new(r||t)(D(ct))},t.\u0275prov=W({token:t,factory:t.\u0275fac});let e=t;return e})(),Jx=["alt","control","meta","shift"],XN={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},QN={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},ZN=(()=>{let t=class t extends Fd{constructor(i){super(i)}supports(i){return t.parseEventName(i)!=null}addEventListener(i,r,s){let c=t.parseEventName(r),l=t.eventCallback(c.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Od().onAndCancel(i,c.domEventName,l))}static parseEventName(i){let r=i.toLowerCase().split("."),s=r.shift();if(r.length===0||!(s==="keydown"||s==="keyup"))return null;let c=t._normalizeKey(r.pop()),l="",d=r.indexOf("code");if(d>-1&&(r.splice(d,1),l="code."),Jx.forEach(m=>{let v=r.indexOf(m);v>-1&&(r.splice(v,1),l+=m+".")}),l+=c,r.length!=0||c.length===0)return null;let f={};return f.domEventName=s,f.fullKey=l,f}static matchEventFullKeyCode(i,r){let s=XN[i.key]||i.key,c="";return r.indexOf("code.")>-1&&(s=i.code,c="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),Jx.forEach(l=>{if(l!==s){let d=QN[l];d(i)&&(c+=l+".")}}),c+=s,c===r)}static eventCallback(i,r,s){return c=>{t.matchEventFullKeyCode(c,i)&&s.runGuarded(()=>r(c))}}static _normalizeKey(i){return i==="esc"?"escape":i}};t.\u0275fac=function(r){return new(r||t)(D(ct))},t.\u0275prov=W({token:t,factory:t.\u0275fac});let e=t;return e})();function JN(){fv.makeCurrent()}function tL(){return new fo}function eL(){return ux(document),document}var nL=[{provide:po,useValue:Bx},{provide:lx,useValue:JN,multi:!0},{provide:ct,useFactory:eL,deps:[]}],oC=kx(Dx,"browser",nL),iL=new dt(""),rL=[{provide:kd,useClass:pv,deps:[]},{provide:Tx,useClass:Dd,deps:[ht,tv,kd]},{provide:Dd,useClass:Dd,deps:[ht,tv,kd]}],oL=[{provide:cx,useValue:"root"},{provide:fo,useFactory:tL,deps:[]},{provide:mv,useClass:YN,multi:!0,deps:[ct,ht,po]},{provide:mv,useClass:ZN,multi:!0,deps:[ct]},jd,nC,eC,{provide:Td,useExisting:jd},{provide:Hx,useClass:zN,deps:[]},[]],sC=(()=>{let t=class t{constructor(i){}static withServerTransition(i){return{ngModule:t,providers:[{provide:Rc,useValue:i.appId}]}}};t.\u0275fac=function(r){return new(r||t)(D(iL,12))},t.\u0275mod=gt({type:t}),t.\u0275inj=mt({providers:[...oL,...rL],imports:[Nd,Rx]});let e=t;return e})();var aC=(()=>{let t=class t{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}};t.\u0275fac=function(r){return new(r||t)(D(ct))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var bv=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=W({token:t,factory:function(r){let s=null;return r?s=new(r||t):s=D(sL),s},providedIn:"root"});let e=t;return e})(),sL=(()=>{let t=class t extends bv{constructor(i){super(),this._doc=i}sanitize(i,r){if(r==null)return null;switch(i){case Cn.NONE:return r;case Cn.HTML:return Es(r,"HTML")?Is(r):vx(this._doc,String(r)).toString();case Cn.STYLE:return Es(r,"Style")?Is(r):r;case Cn.SCRIPT:if(Es(r,"Script"))return Is(r);throw new Vt(5200,!1);case Cn.URL:return Es(r,"URL")?Is(r):gx(String(r));case Cn.RESOURCE_URL:if(Es(r,"ResourceURL"))return Is(r);throw new Vt(5201,!1);default:throw new Vt(5202,!1)}}bypassSecurityTrustHtml(i){return dx(i)}bypassSecurityTrustStyle(i){return hx(i)}bypassSecurityTrustScript(i){return fx(i)}bypassSecurityTrustUrl(i){return px(i)}bypassSecurityTrustResourceUrl(i){return mx(i)}};t.\u0275fac=function(r){return new(r||t)(D(ct))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var ft="primary",eu=Symbol("RouteTitle"),xv=class{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Ms(e){return new xv(e)}function cL(e,t,n){let i=n.path.split("/");if(i.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||i.length<e.length))return null;let r={};for(let s=0;s<i.length;s++){let c=i[s],l=e[s];if(c.startsWith(":"))r[c.substring(1)]=l;else if(c!==l.path)return null}return{consumed:e.slice(0,i.length),posParams:r}}function uL(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!wi(e[n],t[n]))return!1;return!0}function wi(e,t){let n=e?Cv(e):void 0,i=t?Cv(t):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let s=0;s<n.length;s++)if(r=n[s],!gC(e[r],t[r]))return!1;return!0}function Cv(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function gC(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),i=[...t].sort();return n.every((r,s)=>i[s]===r)}else return e===t}function vC(e){return e.length>0?e[e.length-1]:null}function vr(e){return Vg(e)?e:Sx(e)?an(Promise.resolve(e)):Y(e)}var lL={exact:yC,subset:_C},bC={exact:dL,subset:hL,ignored:()=>!0};function cC(e,t,n){return lL[n.paths](e.root,t.root,n.matrixParams)&&bC[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function dL(e,t){return wi(e,t)}function yC(e,t,n){if(!vo(e.segments,t.segments)||!zd(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let i in t.children)if(!e.children[i]||!yC(e.children[i],t.children[i],n))return!1;return!0}function hL(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>gC(e[n],t[n]))}function _C(e,t,n){return wC(e,t,t.segments,n)}function wC(e,t,n,i){if(e.segments.length>n.length){let r=e.segments.slice(0,n.length);return!(!vo(r,n)||t.hasChildren()||!zd(r,n,i))}else if(e.segments.length===n.length){if(!vo(e.segments,n)||!zd(e.segments,n,i))return!1;for(let r in t.children)if(!e.children[r]||!_C(e.children[r],t.children[r],i))return!1;return!0}else{let r=n.slice(0,e.segments.length),s=n.slice(e.segments.length);return!vo(e.segments,r)||!zd(e.segments,r,i)||!e.children[ft]?!1:wC(e.children[ft],t,s,i)}}function zd(e,t,n){return t.every((i,r)=>bC[n](e[r].parameters,i.parameters))}var pr=class{constructor(t=new St([],{}),n={},i=null){this.root=t,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Ms(this.queryParams),this._queryParamMap}toString(){return mL.serialize(this)}},St=class{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return qd(this)}},go=class{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=Ms(this.parameters),this._parameterMap}toString(){return EC(this)}};function fL(e,t){return vo(e,t)&&e.every((n,i)=>wi(n.parameters,t[i].parameters))}function vo(e,t){return e.length!==t.length?!1:e.every((n,i)=>n.path===t[i].path)}function pL(e,t){let n=[];return Object.entries(e.children).forEach(([i,r])=>{i===ft&&(n=n.concat(t(r,i)))}),Object.entries(e.children).forEach(([i,r])=>{i!==ft&&(n=n.concat(t(r,i)))}),n}var nu=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=W({token:t,factory:()=>new $c,providedIn:"root"});let e=t;return e})(),$c=class{parse(t){let n=new Sv(t);return new pr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${Bc(t.root,!0)}`,i=bL(t.queryParams),r=typeof t.fragment=="string"?`#${gL(t.fragment)}`:"";return`${n}${i}${r}`}},mL=new $c;function qd(e){return e.segments.map(t=>EC(t)).join("/")}function Bc(e,t){if(!e.hasChildren())return qd(e);if(t){let n=e.children[ft]?Bc(e.children[ft],!1):"",i=[];return Object.entries(e.children).forEach(([r,s])=>{r!==ft&&i.push(`${r}:${Bc(s,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}else{let n=pL(e,(i,r)=>r===ft?[Bc(e.children[ft],!1)]:[`${r}:${Bc(i,!1)}`]);return Object.keys(e.children).length===1&&e.children[ft]!=null?`${qd(e)}/${n[0]}`:`${qd(e)}/(${n.join("//")})`}}function IC(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Vd(e){return IC(e).replace(/%3B/gi,";")}function gL(e){return encodeURI(e)}function Tv(e){return IC(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Hd(e){return decodeURIComponent(e)}function uC(e){return Hd(e.replace(/\+/g,"%20"))}function EC(e){return`${Tv(e.path)}${vL(e.parameters)}`}function vL(e){return Object.entries(e).map(([t,n])=>`;${Tv(t)}=${Tv(n)}`).join("")}function bL(e){let t=Object.entries(e).map(([n,i])=>Array.isArray(i)?i.map(r=>`${Vd(n)}=${Vd(r)}`).join("&"):`${Vd(n)}=${Vd(i)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var yL=/^[^\/()?;#]+/;function _v(e){let t=e.match(yL);return t?t[0]:""}var _L=/^[^\/()?;=#]+/;function wL(e){let t=e.match(_L);return t?t[0]:""}var IL=/^[^=?&#]+/;function EL(e){let t=e.match(IL);return t?t[0]:""}var xL=/^[^&#]+/;function CL(e){let t=e.match(xL);return t?t[0]:""}var Sv=class{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new St([],{}):new St([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(i[ft]=new St(t,n)),i}parseSegment(){let t=_v(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new Vt(4009,!1);return this.capture(t),new go(Hd(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=wL(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let r=_v(this.remaining);r&&(i=r,this.capture(i))}t[Hd(n)]=Hd(i)}parseQueryParam(t){let n=EL(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let c=CL(this.remaining);c&&(i=c,this.capture(i))}let r=uC(n),s=uC(i);if(t.hasOwnProperty(r)){let c=t[r];Array.isArray(c)||(c=[c],t[r]=c),c.push(s)}else t[r]=s}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=_v(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new Vt(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=ft);let c=this.parseChildren();n[s]=Object.keys(c).length===1?c[ft]:new St([],c),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new Vt(4011,!1)}};function xC(e){return e.segments.length>0?new St([],{[ft]:e}):e}function CC(e){let t={};for(let[i,r]of Object.entries(e.children)){let s=CC(r);if(i===ft&&s.segments.length===0&&s.hasChildren())for(let[c,l]of Object.entries(s.children))t[c]=l;else(s.segments.length>0||s.hasChildren())&&(t[i]=s)}let n=new St(e.segments,t);return TL(n)}function TL(e){if(e.numberOfChildren===1&&e.children[ft]){let t=e.children[ft];return new St(e.segments.concat(t.segments),t.children)}return e}function Ns(e){return e instanceof pr}function SL(e,t,n=null,i=null){let r=TC(e);return SC(r,t,n,i)}function TC(e){let t;function n(s){let c={};for(let d of s.children){let f=n(d);c[d.outlet]=f}let l=new St(s.url,c);return s===e&&(t=l),l}let i=n(e.root),r=xC(i);return t??r}function SC(e,t,n,i){let r=e;for(;r.parent;)r=r.parent;if(t.length===0)return wv(r,r,r,n,i);let s=AL(t);if(s.toRoot())return wv(r,r,new St([],{}),n,i);let c=kL(s,r,e),l=c.processChildren?Hc(c.segmentGroup,c.index,s.commands):kC(c.segmentGroup,c.index,s.commands);return wv(r,c.segmentGroup,l,n,i)}function Wd(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function Kc(e){return typeof e=="object"&&e!=null&&e.outlets}function wv(e,t,n,i,r){let s={};i&&Object.entries(i).forEach(([d,f])=>{s[d]=Array.isArray(f)?f.map(m=>`${m}`):`${f}`});let c;e===t?c=n:c=AC(e,t,n);let l=xC(CC(c));return new pr(l,s,r)}function AC(e,t,n){let i={};return Object.entries(e.children).forEach(([r,s])=>{s===t?i[r]=n:i[r]=AC(s,t,n)}),new St(e.segments,i)}var Gd=class{constructor(t,n,i){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=i,t&&i.length>0&&Wd(i[0]))throw new Vt(4003,!1);let r=i.find(Kc);if(r&&r!==vC(i))throw new Vt(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function AL(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new Gd(!0,0,e);let t=0,n=!1,i=e.reduce((r,s,c)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let l={};return Object.entries(s.outlets).forEach(([d,f])=>{l[d]=typeof f=="string"?f.split("/"):f}),[...r,{outlets:l}]}if(s.segmentPath)return[...r,s.segmentPath]}return typeof s!="string"?[...r,s]:c===0?(s.split("/").forEach((l,d)=>{d==0&&l==="."||(d==0&&l===""?n=!0:l===".."?t++:l!=""&&r.push(l))}),r):[...r,s]},[]);return new Gd(n,t,i)}var Os=class{constructor(t,n,i){this.segmentGroup=t,this.processChildren=n,this.index=i}};function kL(e,t,n){if(e.isAbsolute)return new Os(t,!0,0);if(!n)return new Os(t,!1,NaN);if(n.parent===null)return new Os(n,!0,0);let i=Wd(e.commands[0])?0:1,r=n.segments.length-1+i;return DL(n,r,e.numberOfDoubleDots)}function DL(e,t,n){let i=e,r=t,s=n;for(;s>r;){if(s-=r,i=i.parent,!i)throw new Vt(4005,!1);r=i.segments.length}return new Os(i,!1,r-s)}function RL(e){return Kc(e[0])?e[0].outlets:{[ft]:e}}function kC(e,t,n){if(e??=new St([],{}),e.segments.length===0&&e.hasChildren())return Hc(e,t,n);let i=OL(e,t,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){let s=new St(e.segments.slice(0,i.pathIndex),{});return s.children[ft]=new St(e.segments.slice(i.pathIndex),e.children),Hc(s,0,r)}else return i.match&&r.length===0?new St(e.segments,{}):i.match&&!e.hasChildren()?Av(e,t,n):i.match?Hc(e,0,r):Av(e,t,n)}function Hc(e,t,n){if(n.length===0)return new St(e.segments,{});{let i=RL(n),r={};if(Object.keys(i).some(s=>s!==ft)&&e.children[ft]&&e.numberOfChildren===1&&e.children[ft].segments.length===0){let s=Hc(e.children[ft],t,n);return new St(e.segments,s.children)}return Object.entries(i).forEach(([s,c])=>{typeof c=="string"&&(c=[c]),c!==null&&(r[s]=kC(e.children[s],t,c))}),Object.entries(e.children).forEach(([s,c])=>{i[s]===void 0&&(r[s]=c)}),new St(e.segments,r)}}function OL(e,t,n){let i=0,r=t,s={match:!1,pathIndex:0,commandIndex:0};for(;r<e.segments.length;){if(i>=n.length)return s;let c=e.segments[r],l=n[i];if(Kc(l))break;let d=`${l}`,f=i<n.length-1?n[i+1]:null;if(r>0&&d===void 0)break;if(d&&f&&typeof f=="object"&&f.outlets===void 0){if(!dC(d,f,c))return s;i+=2}else{if(!dC(d,{},c))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function Av(e,t,n){let i=e.segments.slice(0,t),r=0;for(;r<n.length;){let s=n[r];if(Kc(s)){let d=PL(s.outlets);return new St(i,d)}if(r===0&&Wd(n[0])){let d=e.segments[t];i.push(new go(d.path,lC(n[0]))),r++;continue}let c=Kc(s)?s.outlets[ft]:`${s}`,l=r<n.length-1?n[r+1]:null;c&&l&&Wd(l)?(i.push(new go(c,lC(l))),r+=2):(i.push(new go(c,{})),r++)}return new St(i,{})}function PL(e){let t={};return Object.entries(e).forEach(([n,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(t[n]=Av(new St([],{}),0,i))}),t}function lC(e){let t={};return Object.entries(e).forEach(([n,i])=>t[n]=`${i}`),t}function dC(e,t,n){return e==n.path&&wi(t,n.parameters)}var Wc="imperative",_e=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(_e||{}),Vn=class{constructor(t,n){this.id=t,this.url=n}},Ls=class extends Vn{constructor(t,n,i="imperative",r=null){super(t,n),this.type=_e.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Bi=class extends Vn{constructor(t,n,i){super(t,n),this.urlAfterRedirects=i,this.type=_e.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Sn=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(Sn||{}),$d=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}($d||{}),mr=class extends Vn{constructor(t,n,i,r){super(t,n),this.reason=i,this.code=r,this.type=_e.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},gr=class extends Vn{constructor(t,n,i,r){super(t,n),this.reason=i,this.code=r,this.type=_e.NavigationSkipped}},Yc=class extends Vn{constructor(t,n,i,r){super(t,n),this.error=i,this.target=r,this.type=_e.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Kd=class extends Vn{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=_e.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},kv=class extends Vn{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=_e.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Dv=class extends Vn{constructor(t,n,i,r,s){super(t,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=_e.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Rv=class extends Vn{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=_e.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ov=class extends Vn{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=_e.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Pv=class{constructor(t){this.route=t,this.type=_e.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Mv=class{constructor(t){this.route=t,this.type=_e.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Nv=class{constructor(t){this.snapshot=t,this.type=_e.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Lv=class{constructor(t){this.snapshot=t,this.type=_e.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Fv=class{constructor(t){this.snapshot=t,this.type=_e.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},jv=class{constructor(t){this.snapshot=t,this.type=_e.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Yd=class{constructor(t,n,i){this.routerEvent=t,this.position=n,this.anchor=i,this.type=_e.Scroll}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},Xc=class{},Qc=class{constructor(t){this.url=t}};var Uv=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new iu,this.attachRef=null}},iu=(()=>{let t=class t{constructor(){this.contexts=new Map}onChildOutletCreated(i,r){let s=this.getOrCreateContext(i);s.outlet=r,this.contexts.set(i,s)}onChildOutletDestroyed(i){let r=this.getContext(i);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let r=this.getContext(i);return r||(r=new Uv,this.contexts.set(i,r)),r}getContext(i){return this.contexts.get(i)||null}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Xd=class{constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=Vv(t,this._root);return n?n.children.map(i=>i.value):[]}firstChild(t){let n=Vv(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=Bv(t,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return Bv(t,this._root).map(n=>n.value)}};function Vv(e,t){if(e===t.value)return t;for(let n of t.children){let i=Vv(e,n);if(i)return i}return null}function Bv(e,t){if(e===t.value)return[t];for(let n of t.children){let i=Bv(e,n);if(i.length)return i.unshift(t),i}return[]}var Tn=class{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function Rs(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var Qd=class extends Xd{constructor(t,n){super(t),this.snapshot=n,Qv(this,t)}toString(){return this.snapshot.toString()}};function DC(e){let t=ML(e),n=new sn([new go("",{})]),i=new sn({}),r=new sn({}),s=new sn({}),c=new sn(""),l=new Fs(n,i,s,c,r,ft,e,t.root);return l.snapshot=t.root,new Qd(new Tn(l,[]),t)}function ML(e){let t={},n={},i={},r="",s=new Zc([],t,i,r,n,ft,e,null,{});return new Zd("",new Tn(s,[]))}var Fs=class{constructor(t,n,i,r,s,c,l,d){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=c,this.component=l,this._futureSnapshot=d,this.title=this.dataSubject?.pipe(pt(f=>f[eu]))??Y(void 0),this.url=t,this.params=n,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(pt(t=>Ms(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(pt(t=>Ms(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Xv(e,t,n="emptyOnly"){let i,{routeConfig:r}=e;return t!==null&&(n==="always"||r?.path===""||!t.component&&!t.routeConfig?.loadComponent)?i={params:V(V({},t.params),e.params),data:V(V({},t.data),e.data),resolve:V(V(V(V({},e.data),t.data),r?.data),e._resolvedData)}:i={params:V({},e.params),data:V({},e.data),resolve:V(V({},e.data),e._resolvedData??{})},r&&OC(r)&&(i.resolve[eu]=r.title),i}var Zc=class{get title(){return this.data?.[eu]}constructor(t,n,i,r,s,c,l,d,f){this.url=t,this.params=n,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=c,this.component=l,this.routeConfig=d,this._resolve=f}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ms(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ms(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(i=>i.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},Zd=class extends Xd{constructor(t,n){super(n),this.url=t,Qv(this,n)}toString(){return RC(this._root)}};function Qv(e,t){t.value._routerState=e,t.children.forEach(n=>Qv(e,n))}function RC(e){let t=e.children.length>0?` { ${e.children.map(RC).join(", ")} } `:"";return`${e.value}${t}`}function Iv(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,wi(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),wi(t.params,n.params)||e.paramsSubject.next(n.params),uL(t.url,n.url)||e.urlSubject.next(n.url),wi(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function zv(e,t){let n=wi(e.params,t.params)&&fL(e.url,t.url),i=!e.parent!=!t.parent;return n&&!i&&(!e.parent||zv(e.parent,t.parent))}function OC(e){return typeof e.title=="string"||e.title===null}var Zv=(()=>{let t=class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=ft,this.activateEvents=new un,this.deactivateEvents=new un,this.attachEvents=new un,this.detachEvents=new un,this.parentContexts=q(iu),this.location=q(Cs),this.changeDetector=q(mo),this.environmentInjector=q(_s),this.inputBinder=q(ih,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(i){if(i.name){let{firstChange:r,previousValue:s}=i.name;if(r)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Vt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Vt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Vt(4012,!1);this.location.detach();let i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,r){this.activated=i,this._activatedRoute=r,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){let i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,r){if(this.isActivated)throw new Vt(4013,!1);this._activatedRoute=i;let s=this.location,l=i.snapshot.component,d=this.parentContexts.getOrCreateContext(this.name).children,f=new qv(i,d,s.injector);this.activated=s.createComponent(l,{index:s.length,injector:f,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=ge({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ws]});let e=t;return e})(),qv=class{constructor(t,n,i){this.route=t,this.childContexts=n,this.parent=i}get(t,n){return t===Fs?this.route:t===iu?this.childContexts:this.parent.get(t,n)}},ih=new dt(""),hC=(()=>{let t=class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(i){this.unsubscribeFromRouteData(i),this.subscribeToRouteData(i)}unsubscribeFromRouteData(i){this.outletDataSubscriptions.get(i)?.unsubscribe(),this.outletDataSubscriptions.delete(i)}subscribeToRouteData(i){let{activatedRoute:r}=i,s=ys([r.queryParams,r.params,r.data]).pipe(In(([c,l,d],f)=>(d=V(V(V({},c),l),d),f===0?Y(d):Promise.resolve(d)))).subscribe(c=>{if(!i.isActivated||!i.activatedComponentRef||i.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(i);return}let l=Ox(r.component);if(!l){this.unsubscribeFromRouteData(i);return}for(let{templateName:d}of l.inputs)i.activatedComponentRef.setInput(d,c[d])});this.outletDataSubscriptions.set(i,s)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=W({token:t,factory:t.\u0275fac});let e=t;return e})();function NL(e,t,n){let i=Jc(e,t._root,n?n._root:void 0);return new Qd(i,t)}function Jc(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let i=n.value;i._futureSnapshot=t.value;let r=LL(e,t,n);return new Tn(i,r)}else{if(e.shouldAttach(t.value)){let s=e.retrieve(t.value);if(s!==null){let c=s.route;return c.value._futureSnapshot=t.value,c.children=t.children.map(l=>Jc(e,l)),c}}let i=FL(t.value),r=t.children.map(s=>Jc(e,s));return new Tn(i,r)}}function LL(e,t,n){return t.children.map(i=>{for(let r of n.children)if(e.shouldReuseRoute(i.value,r.value.snapshot))return Jc(e,i,r);return Jc(e,i)})}function FL(e){return new Fs(new sn(e.url),new sn(e.params),new sn(e.queryParams),new sn(e.fragment),new sn(e.data),e.outlet,e.component,e)}var PC="ngNavigationCancelingError";function MC(e,t){let{redirectTo:n,navigationBehaviorOptions:i}=Ns(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=NC(!1,Sn.Redirect);return r.url=n,r.navigationBehaviorOptions=i,r}function NC(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[PC]=!0,n.cancellationCode=t,n}function jL(e){return LC(e)&&Ns(e.url)}function LC(e){return!!e&&e[PC]}var UL=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Tt({type:t,selectors:[["ng-component"]],standalone:!0,features:[We],decls:1,vars:0,template:function(r,s){r&1&&at(0,"router-outlet")},dependencies:[Zv],encapsulation:2});let e=t;return e})();function VL(e,t){return e.providers&&!e._injector&&(e._injector=Xg(e.providers,t,`Route: ${e.path}`)),e._injector??t}function Jv(e){let t=e.children&&e.children.map(Jv),n=t?se(V({},e),{children:t}):V({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==ft&&(n.component=UL),n}function Ii(e){return e.outlet||ft}function BL(e,t){let n=e.filter(i=>Ii(i)===t);return n.push(...e.filter(i=>Ii(i)!==t)),n}function ru(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var zL=(e,t,n,i)=>pt(r=>(new Hv(t,r.targetRouterState,r.currentRouterState,n,i).activate(e),r)),Hv=class{constructor(t,n,i,r,s){this.routeReuseStrategy=t,this.futureState=n,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(t){let n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,t),Iv(this.futureState.root),this.activateChildRoutes(n,i,t)}deactivateChildRoutes(t,n,i){let r=Rs(n);t.children.forEach(s=>{let c=s.value.outlet;this.deactivateRoutes(s,r[c],i),delete r[c]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,n,i){let r=t.value,s=n?n.value:null;if(r===s)if(r.component){let c=i.getContext(r.outlet);c&&this.deactivateChildRoutes(t,n,c.children)}else this.deactivateChildRoutes(t,n,i);else s&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let i=n.getContext(t.value.outlet),r=i&&t.value.component?i.children:n,s=Rs(t);for(let c of Object.values(s))this.deactivateRouteAndItsChildren(c,r);if(i&&i.outlet){let c=i.outlet.detach(),l=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:c,route:t,contexts:l})}}deactivateRouteAndOutlet(t,n){let i=n.getContext(t.value.outlet),r=i&&t.value.component?i.children:n,s=Rs(t);for(let c of Object.values(s))this.deactivateRouteAndItsChildren(c,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,n,i){let r=Rs(n);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new jv(s.value.snapshot))}),t.children.length&&this.forwardEvent(new Lv(t.value.snapshot))}activateRoutes(t,n,i){let r=t.value,s=n?n.value:null;if(Iv(r),r===s)if(r.component){let c=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,n,c.children)}else this.activateChildRoutes(t,n,i);else if(r.component){let c=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let l=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),c.children.onOutletReAttached(l.contexts),c.attachRef=l.componentRef,c.route=l.route.value,c.outlet&&c.outlet.attach(l.componentRef,l.route.value),Iv(l.route.value),this.activateChildRoutes(t,null,c.children)}else{let l=ru(r.snapshot);c.attachRef=null,c.route=r,c.injector=l,c.outlet&&c.outlet.activateWith(r,c.injector),this.activateChildRoutes(t,null,c.children)}}else this.activateChildRoutes(t,null,i)}},Jd=class{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Ps=class{constructor(t,n){this.component=t,this.route=n}};function qL(e,t,n){let i=e._root,r=t?t._root:null;return zc(i,r,n,[i.value])}function HL(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function Us(e,t){let n=Symbol(),i=t.get(e,n);return i===n?typeof e=="function"&&!ax(e)?e:t.get(e):i}function zc(e,t,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=Rs(t);return e.children.forEach(c=>{WL(c,s[c.value.outlet],n,i.concat([c.value]),r),delete s[c.value.outlet]}),Object.entries(s).forEach(([c,l])=>Gc(l,n.getContext(c),r)),r}function WL(e,t,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=e.value,c=t?t.value:null,l=n?n.getContext(e.value.outlet):null;if(c&&s.routeConfig===c.routeConfig){let d=GL(c,s,s.routeConfig.runGuardsAndResolvers);d?r.canActivateChecks.push(new Jd(i)):(s.data=c.data,s._resolvedData=c._resolvedData),s.component?zc(e,t,l?l.children:null,i,r):zc(e,t,n,i,r),d&&l&&l.outlet&&l.outlet.isActivated&&r.canDeactivateChecks.push(new Ps(l.outlet.component,c))}else c&&Gc(t,l,r),r.canActivateChecks.push(new Jd(i)),s.component?zc(e,null,l?l.children:null,i,r):zc(e,null,n,i,r);return r}function GL(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!vo(e.url,t.url);case"pathParamsOrQueryParamsChange":return!vo(e.url,t.url)||!wi(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!zv(e,t)||!wi(e.queryParams,t.queryParams);case"paramsChange":default:return!zv(e,t)}}function Gc(e,t,n){let i=Rs(e),r=e.value;Object.entries(i).forEach(([s,c])=>{r.component?t?Gc(c,t.children.getContext(s),n):Gc(c,null,n):Gc(c,t,n)}),r.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new Ps(t.outlet.component,r)):n.canDeactivateChecks.push(new Ps(null,r)):n.canDeactivateChecks.push(new Ps(null,r))}function ou(e){return typeof e=="function"}function $L(e){return typeof e=="boolean"}function KL(e){return e&&ou(e.canLoad)}function YL(e){return e&&ou(e.canActivate)}function XL(e){return e&&ou(e.canActivateChild)}function QL(e){return e&&ou(e.canDeactivate)}function ZL(e){return e&&ou(e.canMatch)}function FC(e){return e instanceof tx||e?.name==="EmptyError"}var Bd=Symbol("INITIAL_VALUE");function js(){return In(e=>ys(e.map(t=>t.pipe(ye(1),Li(Bd)))).pipe(pt(t=>{for(let n of t)if(n!==!0){if(n===Bd)return Bd;if(n===!1||n instanceof pr)return n}return!0}),me(t=>t!==Bd),ye(1)))}function JL(e,t){return wn(n=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:c}}=n;return c.length===0&&s.length===0?Y(se(V({},n),{guardsResult:!0})):tF(c,i,r,e).pipe(wn(l=>l&&$L(l)?eF(i,s,e,t):Y(l)),pt(l=>se(V({},n),{guardsResult:l})))})}function tF(e,t,n,i){return an(e).pipe(wn(r=>sF(r.component,r.route,n,t,i)),lr(r=>r!==!0,!0))}function eF(e,t,n,i){return an(t).pipe(ur(r=>_d(iF(r.route.parent,i),nF(r.route,i),oF(e,r.path,n),rF(e,r.route,n))),lr(r=>r!==!0,!0))}function nF(e,t){return e!==null&&t&&t(new Fv(e)),Y(!0)}function iF(e,t){return e!==null&&t&&t(new Nv(e)),Y(!0)}function rF(e,t,n){let i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||i.length===0)return Y(!0);let r=i.map(s=>lo(()=>{let c=ru(t)??n,l=Us(s,c),d=YL(l)?l.canActivate(t,e):hr(c,()=>l(t,e));return vr(d).pipe(lr())}));return Y(r).pipe(js())}function oF(e,t,n){let i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(c=>HL(c)).filter(c=>c!==null).map(c=>lo(()=>{let l=c.guards.map(d=>{let f=ru(c.node)??n,m=Us(d,f),v=XL(m)?m.canActivateChild(i,e):hr(f,()=>m(i,e));return vr(v).pipe(lr())});return Y(l).pipe(js())}));return Y(s).pipe(js())}function sF(e,t,n,i,r){let s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!s||s.length===0)return Y(!0);let c=s.map(l=>{let d=ru(t)??r,f=Us(l,d),m=QL(f)?f.canDeactivate(e,t,n,i):hr(d,()=>f(e,t,n,i));return vr(m).pipe(lr())});return Y(c).pipe(js())}function aF(e,t,n,i){let r=t.canLoad;if(r===void 0||r.length===0)return Y(!0);let s=r.map(c=>{let l=Us(c,e),d=KL(l)?l.canLoad(t,n):hr(e,()=>l(t,n));return vr(d)});return Y(s).pipe(js(),jC(i))}function jC(e){return JE(Xt(t=>{if(Ns(t))throw MC(e,t)}),pt(t=>t===!0))}function cF(e,t,n,i){let r=t.canMatch;if(!r||r.length===0)return Y(!0);let s=r.map(c=>{let l=Us(c,e),d=ZL(l)?l.canMatch(t,n):hr(e,()=>l(t,n));return vr(d)});return Y(s).pipe(js(),jC(i))}var tu=class{constructor(t){this.segmentGroup=t||null}},th=class extends Error{constructor(t){super(),this.urlTree=t}};function Ds(e){return uo(new tu(e))}function uF(e){return uo(new Vt(4e3,!1))}function lF(e){return uo(NC(!1,Sn.GuardRejected))}var Wv=class{constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return Y(i);if(r.numberOfChildren>1||!r.children[ft])return uF(t.redirectTo);r=r.children[ft]}}applyRedirectCommands(t,n,i){let r=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,i);if(n.startsWith("/"))throw new th(r);return r}applyRedirectCreateUrlTree(t,n,i,r){let s=this.createSegmentGroup(t,n.root,i,r);return new pr(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let i={};return Object.entries(t).forEach(([r,s])=>{if(typeof s=="string"&&s.startsWith(":")){let l=s.substring(1);i[r]=n[l]}else i[r]=s}),i}createSegmentGroup(t,n,i,r){let s=this.createSegments(t,n.segments,i,r),c={};return Object.entries(n.children).forEach(([l,d])=>{c[l]=this.createSegmentGroup(t,d,i,r)}),new St(s,c)}createSegments(t,n,i,r){return n.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,i))}findPosParam(t,n,i){let r=i[n.path.substring(1)];if(!r)throw new Vt(4001,!1);return r}findOrReturn(t,n){let i=0;for(let r of n){if(r.path===t.path)return n.splice(i),r;i++}return t}},Gv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function dF(e,t,n,i,r){let s=tb(e,t,n);return s.matched?(i=VL(t,i),cF(i,t,n,r).pipe(pt(c=>c===!0?s:V({},Gv)))):Y(s)}function tb(e,t,n){if(t.path==="**")return hF(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?V({},Gv):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let r=(t.matcher||cL)(n,e,t);if(!r)return V({},Gv);let s={};Object.entries(r.posParams??{}).forEach(([l,d])=>{s[l]=d.path});let c=r.consumed.length>0?V(V({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:c,positionalParamSegments:r.posParams??{}}}function hF(e){return{matched:!0,parameters:e.length>0?vC(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function fC(e,t,n,i){return n.length>0&&mF(e,n,i)?{segmentGroup:new St(t,pF(i,new St(n,e.children))),slicedSegments:[]}:n.length===0&&gF(e,n,i)?{segmentGroup:new St(e.segments,fF(e,n,i,e.children)),slicedSegments:n}:{segmentGroup:new St(e.segments,e.children),slicedSegments:n}}function fF(e,t,n,i){let r={};for(let s of n)if(rh(e,t,s)&&!i[Ii(s)]){let c=new St([],{});r[Ii(s)]=c}return V(V({},i),r)}function pF(e,t){let n={};n[ft]=t;for(let i of e)if(i.path===""&&Ii(i)!==ft){let r=new St([],{});n[Ii(i)]=r}return n}function mF(e,t,n){return n.some(i=>rh(e,t,i)&&Ii(i)!==ft)}function gF(e,t,n){return n.some(i=>rh(e,t,i))}function rh(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function vF(e,t,n,i){return Ii(e)!==i&&(i===ft||!rh(t,n,e))?!1:tb(t,e,n).matched}function bF(e,t,n){return t.length===0&&!e.children[n]}var $v=class{};function yF(e,t,n,i,r,s,c="emptyOnly"){return new Kv(e,t,n,i,r,c,s).recognize()}var _F=31,Kv=class{constructor(t,n,i,r,s,c,l){this.injector=t,this.configLoader=n,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=c,this.urlSerializer=l,this.applyRedirects=new Wv(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new Vt(4002,`'${t.segmentGroup}'`)}recognize(){let t=fC(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(pt(n=>{let i=new Zc([],Object.freeze({}),Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,{},ft,this.rootComponentType,null,{}),r=new Tn(i,n),s=new Zd("",r),c=SL(i,[],this.urlTree.queryParams,this.urlTree.fragment);return c.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(c),this.inheritParamsAndData(s._root,null),{state:s,tree:c}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t,ft).pipe(cr(i=>{if(i instanceof th)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof tu?this.noMatchError(i):i}))}inheritParamsAndData(t,n){let i=t.value,r=Xv(i,n,this.paramsInheritanceStrategy);i.params=Object.freeze(r.params),i.data=Object.freeze(r.data),t.children.forEach(s=>this.inheritParamsAndData(s,i))}processSegmentGroup(t,n,i,r){return i.segments.length===0&&i.hasChildren()?this.processChildren(t,n,i):this.processSegment(t,n,i,i.segments,r,!0).pipe(pt(s=>s instanceof Tn?[s]:[]))}processChildren(t,n,i){let r=[];for(let s of Object.keys(i.children))s==="primary"?r.unshift(s):r.push(s);return an(r).pipe(ur(s=>{let c=i.children[s],l=BL(n,s);return this.processSegmentGroup(t,l,c,s)}),ox((s,c)=>(s.push(...c),s)),Hg(null),rx(),wn(s=>{if(s===null)return Ds(i);let c=UC(s);return wF(c),Y(c)}))}processSegment(t,n,i,r,s,c){return an(n).pipe(ur(l=>this.processSegmentAgainstRoute(l._injector??t,n,l,i,r,s,c).pipe(cr(d=>{if(d instanceof tu)return Y(null);throw d}))),lr(l=>!!l),cr(l=>{if(FC(l))return bF(i,r,s)?Y(new $v):Ds(i);throw l}))}processSegmentAgainstRoute(t,n,i,r,s,c,l){return vF(i,r,s,c)?i.redirectTo===void 0?this.matchSegmentAgainstRoute(t,r,i,s,c):this.allowRedirects&&l?this.expandSegmentAgainstRouteUsingRedirect(t,r,n,i,s,c):Ds(r):Ds(r)}expandSegmentAgainstRouteUsingRedirect(t,n,i,r,s,c){let{matched:l,consumedSegments:d,positionalParamSegments:f,remainingSegments:m}=tb(n,r,s);if(!l)return Ds(n);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>_F&&(this.allowRedirects=!1));let v=this.applyRedirects.applyRedirectCommands(d,r.redirectTo,f);return this.applyRedirects.lineralizeSegments(r,v).pipe(wn(y=>this.processSegment(t,i,n,y.concat(m),c,!1)))}matchSegmentAgainstRoute(t,n,i,r,s){let c=dF(n,i,r,t,this.urlSerializer);return i.path==="**"&&(n.children={}),c.pipe(In(l=>l.matched?(t=i._injector??t,this.getChildConfig(t,i,r).pipe(In(({routes:d})=>{let f=i._loadedInjector??t,{consumedSegments:m,remainingSegments:v,parameters:y}=l,_=new Zc(m,y,Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,EF(i),Ii(i),i.component??i._loadedComponent??null,i,xF(i)),{segmentGroup:I,slicedSegments:E}=fC(n,m,v,d);if(E.length===0&&I.hasChildren())return this.processChildren(f,d,I).pipe(pt(R=>R===null?null:new Tn(_,R)));if(d.length===0&&E.length===0)return Y(new Tn(_,[]));let C=Ii(i)===s;return this.processSegment(f,d,I,E,C?ft:s,!0).pipe(pt(R=>new Tn(_,R instanceof Tn?[R]:[])))}))):Ds(n)))}getChildConfig(t,n,i){return n.children?Y({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?Y({routes:n._loadedRoutes,injector:n._loadedInjector}):aF(t,n,i,this.urlSerializer).pipe(wn(r=>r?this.configLoader.loadChildren(t,n).pipe(Xt(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):lF(n))):Y({routes:[],injector:t})}};function wF(e){e.sort((t,n)=>t.value.outlet===ft?-1:n.value.outlet===ft?1:t.value.outlet.localeCompare(n.value.outlet))}function IF(e){let t=e.value.routeConfig;return t&&t.path===""}function UC(e){let t=[],n=new Set;for(let i of e){if(!IF(i)){t.push(i);continue}let r=t.find(s=>i.value.routeConfig===s.value.routeConfig);r!==void 0?(r.children.push(...i.children),n.add(r)):t.push(i)}for(let i of n){let r=UC(i.children);t.push(new Tn(i.value,r))}return t.filter(i=>!n.has(i))}function EF(e){return e.data||{}}function xF(e){return e.resolve||{}}function CF(e,t,n,i,r,s){return wn(c=>yF(e,t,n,i,c.extractedUrl,r,s).pipe(pt(({state:l,tree:d})=>se(V({},c),{targetSnapshot:l,urlAfterRedirects:d}))))}function TF(e,t){return wn(n=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return Y(n);let s=new Set(r.map(d=>d.route)),c=new Set;for(let d of s)if(!c.has(d))for(let f of VC(d))c.add(f);let l=0;return an(c).pipe(ur(d=>s.has(d)?SF(d,i,e,t):(d.data=Xv(d,d.parent,e).resolve,Y(void 0))),Xt(()=>l++),Gg(1),wn(d=>l===c.size?Y(n):ar))})}function VC(e){let t=e.children.map(n=>VC(n)).flat();return[e,...t]}function SF(e,t,n,i){let r=e.routeConfig,s=e._resolve;return r?.title!==void 0&&!OC(r)&&(s[eu]=r.title),AF(s,e,t,i).pipe(pt(c=>(e._resolvedData=c,e.data=Xv(e,e.parent,n).resolve,null)))}function AF(e,t,n,i){let r=Cv(e);if(r.length===0)return Y({});let s={};return an(r).pipe(wn(c=>kF(e[c],t,n,i).pipe(lr(),Xt(l=>{s[c]=l}))),Gg(1),ix(s),cr(c=>FC(c)?ar:uo(c)))}function kF(e,t,n,i){let r=ru(t)??i,s=Us(e,r),c=s.resolve?s.resolve(t,n):hr(r,()=>s(t,n));return vr(c)}function Ev(e){return In(t=>{let n=e(t);return n?an(n).pipe(pt(()=>t)):Y(t)})}var BC=(()=>{let t=class t{buildTitle(i){let r,s=i.root;for(;s!==void 0;)r=this.getResolvedTitleForRoute(s)??r,s=s.children.find(c=>c.outlet===ft);return r}getResolvedTitleForRoute(i){return i.data[eu]}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=W({token:t,factory:()=>q(DF),providedIn:"root"});let e=t;return e})(),DF=(()=>{let t=class t extends BC{constructor(i){super(),this.title=i}updateTitle(i){let r=this.buildTitle(i);r!==void 0&&this.title.setTitle(r)}};t.\u0275fac=function(r){return new(r||t)(D(aC))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),su=new dt("",{providedIn:"root",factory:()=>({})}),eh=new dt(""),eb=(()=>{let t=class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=q(Rd)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return Y(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let r=vr(i.loadComponent()).pipe(pt(zC),Xt(c=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=c}),ho(()=>{this.componentLoaders.delete(i)})),s=new Ug(r,()=>new Ct).pipe(jg());return this.componentLoaders.set(i,s),s}loadChildren(i,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Y({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let c=RF(r,this.compiler,i,this.onLoadEndListener).pipe(ho(()=>{this.childrenLoaders.delete(r)})),l=new Ug(c,()=>new Ct).pipe(jg());return this.childrenLoaders.set(r,l),l}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function RF(e,t,n,i){return vr(e.loadChildren()).pipe(pt(zC),wn(r=>r instanceof Ix||Array.isArray(r)?Y(r):an(t.compileModuleAsync(r))),pt(r=>{i&&i(e);let s,c,l=!1;return Array.isArray(r)?(c=r,l=!0):(s=r.create(n).injector,c=s.get(eh,[],{optional:!0,self:!0}).flat()),{routes:c.map(Jv),injector:s}}))}function OF(e){return e&&typeof e=="object"&&"default"in e}function zC(e){return OF(e)?e.default:e}var nb=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=W({token:t,factory:()=>q(PF),providedIn:"root"});let e=t;return e})(),PF=(()=>{let t=class t{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,r){return i}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),qC=new dt(""),HC=new dt("");function MF(e,t,n){let i=e.get(HC),r=e.get(ct);return e.get(ht).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,Promise.resolve();let s,c=new Promise(f=>{s=f}),l=r.startViewTransition(()=>(s(),NF(e))),{onViewTransitionCreated:d}=i;return d&&hr(e,()=>d({transition:l,from:t,to:n})),c})}function NF(e){return new Promise(t=>{wx(t,{injector:e})})}var ib=(()=>{let t=class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ct,this.transitionAbortSubject=new Ct,this.configLoader=q(eb),this.environmentInjector=q(_s),this.urlSerializer=q(nu),this.rootContexts=q(iu),this.location=q(Vi),this.inputBindingEnabled=q(ih,{optional:!0})!==null,this.titleStrategy=q(BC),this.options=q(su,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=q(nb),this.createViewTransition=q(qC,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Y(void 0),this.rootComponentType=null;let i=s=>this.events.next(new Pv(s)),r=s=>this.events.next(new Mv(s));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=i}complete(){this.transitions?.complete()}handleNavigationRequest(i){let r=++this.navigationId;this.transitions?.next(se(V(V({},this.transitions.value),i),{id:r}))}setupNavigations(i,r,s){return this.transitions=new sn({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Wc,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(me(c=>c.id!==0),pt(c=>se(V({},c),{extractedUrl:this.urlHandlingStrategy.extract(c.rawUrl)})),In(c=>{let l=!1,d=!1;return Y(c).pipe(In(f=>{if(this.navigationId>c.id)return this.cancelNavigationTransition(c,"",Sn.SupersededByNewNavigation),ar;this.currentTransition=c,this.currentNavigation={id:f.id,initialUrl:f.rawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?se(V({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let m=!i.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),v=f.extras.onSameUrlNavigation??i.onSameUrlNavigation;if(!m&&v!=="reload"){let y="";return this.events.next(new gr(f.id,this.urlSerializer.serialize(f.rawUrl),y,$d.IgnoredSameUrlNavigation)),f.resolve(null),ar}if(this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return Y(f).pipe(In(y=>{let _=this.transitions?.getValue();return this.events.next(new Ls(y.id,this.urlSerializer.serialize(y.extractedUrl),y.source,y.restoredState)),_!==this.transitions?.getValue()?ar:Promise.resolve(y)}),CF(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,this.paramsInheritanceStrategy),Xt(y=>{c.targetSnapshot=y.targetSnapshot,c.urlAfterRedirects=y.urlAfterRedirects,this.currentNavigation=se(V({},this.currentNavigation),{finalUrl:y.urlAfterRedirects});let _=new Kd(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(_)}));if(m&&this.urlHandlingStrategy.shouldProcessUrl(f.currentRawUrl)){let{id:y,extractedUrl:_,source:I,restoredState:E,extras:C}=f,R=new Ls(y,this.urlSerializer.serialize(_),I,E);this.events.next(R);let L=DC(this.rootComponentType).snapshot;return this.currentTransition=c=se(V({},f),{targetSnapshot:L,urlAfterRedirects:_,extras:se(V({},C),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=_,Y(c)}else{let y="";return this.events.next(new gr(f.id,this.urlSerializer.serialize(f.extractedUrl),y,$d.IgnoredByUrlHandlingStrategy)),f.resolve(null),ar}}),Xt(f=>{let m=new kv(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(m)}),pt(f=>(this.currentTransition=c=se(V({},f),{guards:qL(f.targetSnapshot,f.currentSnapshot,this.rootContexts)}),c)),JL(this.environmentInjector,f=>this.events.next(f)),Xt(f=>{if(c.guardsResult=f.guardsResult,Ns(f.guardsResult))throw MC(this.urlSerializer,f.guardsResult);let m=new Dv(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.events.next(m)}),me(f=>f.guardsResult?!0:(this.cancelNavigationTransition(f,"",Sn.GuardRejected),!1)),Ev(f=>{if(f.guards.canActivateChecks.length)return Y(f).pipe(Xt(m=>{let v=new Rv(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(v)}),In(m=>{let v=!1;return Y(m).pipe(TF(this.paramsInheritanceStrategy,this.environmentInjector),Xt({next:()=>v=!0,complete:()=>{v||this.cancelNavigationTransition(m,"",Sn.NoDataFromResolver)}}))}),Xt(m=>{let v=new Ov(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(v)}))}),Ev(f=>{let m=v=>{let y=[];v.routeConfig?.loadComponent&&!v.routeConfig._loadedComponent&&y.push(this.configLoader.loadComponent(v.routeConfig).pipe(Xt(_=>{v.component=_}),pt(()=>{})));for(let _ of v.children)y.push(...m(_));return y};return ys(m(f.targetSnapshot.root)).pipe(Hg(null),ye(1))}),Ev(()=>this.afterPreactivation()),In(()=>{let{currentSnapshot:f,targetSnapshot:m}=c,v=this.createViewTransition?.(this.environmentInjector,f.root,m.root);return v?an(v).pipe(pt(()=>c)):Y(c)}),pt(f=>{let m=NL(i.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return this.currentTransition=c=se(V({},f),{targetRouterState:m}),this.currentNavigation.targetRouterState=m,c}),Xt(()=>{this.events.next(new Xc)}),zL(this.rootContexts,i.routeReuseStrategy,f=>this.events.next(f),this.inputBindingEnabled),ye(1),Xt({next:f=>{l=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Bi(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects))),this.titleStrategy?.updateTitle(f.targetRouterState.snapshot),f.resolve(!0)},complete:()=>{l=!0}}),Fi(this.transitionAbortSubject.pipe(Xt(f=>{throw f}))),ho(()=>{!l&&!d&&this.cancelNavigationTransition(c,"",Sn.SupersededByNewNavigation),this.currentTransition?.id===c.id&&(this.currentNavigation=null,this.currentTransition=null)}),cr(f=>{if(d=!0,LC(f))this.events.next(new mr(c.id,this.urlSerializer.serialize(c.extractedUrl),f.message,f.cancellationCode)),jL(f)?this.events.next(new Qc(f.url)):c.resolve(!1);else{this.events.next(new Yc(c.id,this.urlSerializer.serialize(c.extractedUrl),f,c.targetSnapshot??void 0));try{c.resolve(i.errorHandler(f))}catch(m){this.options.resolveNavigationPromiseOnError?c.resolve(!1):c.reject(m)}}return ar}))}))}cancelNavigationTransition(i,r,s){let c=new mr(i.id,this.urlSerializer.serialize(i.extractedUrl),r,s);this.events.next(c),i.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function LF(e){return e!==Wc}var FF=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=W({token:t,factory:()=>q(jF),providedIn:"root"});let e=t;return e})(),Yv=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},jF=(()=>{let t=class t extends Yv{};t.\u0275fac=(()=>{let i;return function(s){return(i||(i=Dc(t)))(s||t)}})(),t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),WC=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=W({token:t,factory:()=>q(UF),providedIn:"root"});let e=t;return e})(),UF=(()=>{let t=class t extends WC{constructor(){super(...arguments),this.location=q(Vi),this.urlSerializer=q(nu),this.options=q(su,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=q(nb),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new pr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=DC(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(i){return this.location.subscribe(r=>{r.type==="popstate"&&i(r.url,r.state)})}handleRouterEvent(i,r){if(i instanceof Ls)this.stateMemento=this.createStateMemento();else if(i instanceof gr)this.rawUrlTree=r.initialUrl;else if(i instanceof Kd){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(s,r)}}else i instanceof Xc?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):i instanceof mr&&(i.code===Sn.GuardRejected||i.code===Sn.NoDataFromResolver)?this.restoreHistory(r):i instanceof Yc?this.restoreHistory(r,!0):i instanceof Bi&&(this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId)}setBrowserUrl(i,r){let s=this.urlSerializer.serialize(i);if(this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl){let c=this.browserPageId,l=V(V({},r.extras.state),this.generateNgRouterState(r.id,c));this.location.replaceState(s,"",l)}else{let c=V(V({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(s,"",c)}}restoreHistory(i,r=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,c=this.currentPageId-s;c!==0?this.location.historyGo(c):this.currentUrlTree===i.finalUrl&&c===0&&(this.resetState(i),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,r){return this.canceledNavigationResolution==="computed"?{navigationId:i,\u0275routerPageId:r}:{navigationId:i}}};t.\u0275fac=(()=>{let i;return function(s){return(i||(i=Dc(t)))(s||t)}})(),t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),qc=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(qc||{});function GC(e,t){e.events.pipe(me(n=>n instanceof Bi||n instanceof mr||n instanceof Yc||n instanceof gr),pt(n=>n instanceof Bi||n instanceof gr?qc.COMPLETE:(n instanceof mr?n.code===Sn.Redirect||n.code===Sn.SupersededByNewNavigation:!1)?qc.REDIRECTING:qc.FAILED),me(n=>n!==qc.REDIRECTING),ye(1)).subscribe(()=>{t()})}function VF(e){throw e}var BF={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},zF={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ie=(()=>{let t=class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=q(Ad),this.stateManager=q(WC),this.options=q(su,{optional:!0})||{},this.pendingTasks=q(Ex),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=q(ib),this.urlSerializer=q(nu),this.location=q(Vi),this.urlHandlingStrategy=q(nb),this._events=new Ct,this.errorHandler=this.options.errorHandler||VF,this.navigated=!1,this.routeReuseStrategy=q(FF),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=q(eh,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!q(ih,{optional:!0}),this.eventsSubscription=new Ni,this.isNgZoneEnabled=q(ht)instanceof ht&&ht.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:i=>{this.console.warn(i)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let i=this.navigationTransitions.events.subscribe(r=>{try{let s=this.navigationTransitions.currentTransition,c=this.navigationTransitions.currentNavigation;if(s!==null&&c!==null){if(this.stateManager.handleRouterEvent(r,c),r instanceof mr&&r.code!==Sn.Redirect&&r.code!==Sn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Bi)this.navigated=!0;else if(r instanceof Qc){let l=this.urlHandlingStrategy.merge(r.url,s.currentRawUrl),d={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||LF(s.source)};this.scheduleNavigation(l,Wc,null,d,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}HF(r)&&this._events.next(r)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(i)}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Wc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((i,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(i,"popstate",r)},0)})}navigateToSyncWithBrowser(i,r,s){let c={replaceUrl:!0},l=s?.navigationId?s:null;if(s){let f=V({},s);delete f.navigationId,delete f.\u0275routerPageId,Object.keys(f).length!==0&&(c.state=f)}let d=this.parseUrl(i);this.scheduleNavigation(d,r,l,c)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(Jv),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(i,r={}){let{relativeTo:s,queryParams:c,fragment:l,queryParamsHandling:d,preserveFragment:f}=r,m=f?this.currentUrlTree.fragment:l,v=null;switch(d){case"merge":v=V(V({},this.currentUrlTree.queryParams),c);break;case"preserve":v=this.currentUrlTree.queryParams;break;default:v=c||null}v!==null&&(v=this.removeEmptyProps(v));let y;try{let _=s?s.snapshot:this.routerState.snapshot.root;y=TC(_)}catch{(typeof i[0]!="string"||!i[0].startsWith("/"))&&(i=[]),y=this.currentUrlTree.root}return SC(y,i,v,m??null)}navigateByUrl(i,r={skipLocationChange:!1}){let s=Ns(i)?i:this.parseUrl(i),c=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(c,Wc,null,r)}navigate(i,r={skipLocationChange:!1}){return qF(i),this.navigateByUrl(this.createUrlTree(i,r),r)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){try{return this.urlSerializer.parse(i)}catch{return this.urlSerializer.parse("/")}}isActive(i,r){let s;if(r===!0?s=V({},BF):r===!1?s=V({},zF):s=r,Ns(i))return cC(this.currentUrlTree,i,s);let c=this.parseUrl(i);return cC(this.currentUrlTree,c,s)}removeEmptyProps(i){return Object.entries(i).reduce((r,[s,c])=>(c!=null&&(r[s]=c),r),{})}scheduleNavigation(i,r,s,c,l){if(this.disposed)return Promise.resolve(!1);let d,f,m;l?(d=l.resolve,f=l.reject,m=l.promise):m=new Promise((y,_)=>{d=y,f=_});let v=this.pendingTasks.add();return GC(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(v))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:i,extras:c,resolve:d,reject:f,promise:m,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),m.catch(y=>Promise.reject(y))}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function qF(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new Vt(4008,!1)}function HF(e){return!(e instanceof Xc)&&!(e instanceof Qc)}var nh=class{};var WF=(()=>{let t=class t{constructor(i,r,s,c,l){this.router=i,this.injector=s,this.preloadingStrategy=c,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(me(i=>i instanceof Bi),ur(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,r){let s=[];for(let c of r){c.providers&&!c._injector&&(c._injector=Xg(c.providers,i,`Route: ${c.path}`));let l=c._injector??i,d=c._loadedInjector??l;(c.loadChildren&&!c._loadedRoutes&&c.canLoad===void 0||c.loadComponent&&!c._loadedComponent)&&s.push(this.preloadConfig(l,c)),(c.children||c._loadedRoutes)&&s.push(this.processRoutes(d,c.children??c._loadedRoutes))}return an(s).pipe(Bg())}preloadConfig(i,r){return this.preloadingStrategy.preload(r,()=>{let s;r.loadChildren&&r.canLoad===void 0?s=this.loader.loadChildren(i,r):s=Y(null);let c=s.pipe(wn(l=>l===null?Y(void 0):(r._loadedRoutes=l.routes,r._loadedInjector=l.injector,this.processRoutes(l.injector??i,l.routes))));if(r.loadComponent&&!r._loadedComponent){let l=this.loader.loadComponent(r);return an([c,l]).pipe(Bg())}else return c})}};t.\u0275fac=function(r){return new(r||t)(D(ie),D(Rd),D(_s),D(nh),D(eb))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),$C=new dt(""),GF=(()=>{let t=class t{constructor(i,r,s,c,l={}){this.urlSerializer=i,this.transitions=r,this.viewportScroller=s,this.zone=c,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration||="disabled",l.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof Ls?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof Bi?(this.lastId=i.id,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.urlAfterRedirects).fragment)):i instanceof gr&&i.code===$d.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof Yd&&(i.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(i.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Yd(i,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};t.\u0275fac=function(r){xs()},t.\u0275prov=W({token:t,factory:t.\u0275fac});let e=t;return e})();function $F(e){return e.routerState.root}function au(e,t){return{\u0275kind:e,\u0275providers:t}}function KF(){let e=q(cn);return t=>{let n=e.get(Lc);if(t!==n.components[0])return;let i=e.get(ie),r=e.get(KC);e.get(rb)===1&&i.initialNavigation(),e.get(YC,null,$g.Optional)?.setUpPreloading(),e.get($C,null,$g.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var KC=new dt("",{factory:()=>new Ct}),rb=new dt("",{providedIn:"root",factory:()=>1});function YF(){return au(2,[{provide:rb,useValue:0},{provide:ev,multi:!0,deps:[cn],useFactory:t=>{let n=t.get(Nx,Promise.resolve());return()=>n.then(()=>new Promise(i=>{let r=t.get(ie),s=t.get(KC);GC(r,()=>{i(!0)}),t.get(ib).afterPreactivation=()=>(i(!0),s.closed?Y(void 0):s),r.initialNavigation()}))}}])}function XF(){return au(3,[{provide:ev,multi:!0,useFactory:()=>{let t=q(ie);return()=>{t.setUpLocationChangeListener()}}},{provide:rb,useValue:2}])}var YC=new dt("");function QF(e){return au(0,[{provide:YC,useExisting:WF},{provide:nh,useExisting:e}])}function ZF(){return au(8,[hC,{provide:ih,useExisting:hC}])}function JF(e){let t=[{provide:qC,useValue:MF},{provide:HC,useValue:V({skipNextTransition:!!e?.skipInitialTransition},e)}];return au(9,t)}var pC=new dt("ROUTER_FORROOT_GUARD"),t2=[Vi,{provide:nu,useClass:$c},ie,iu,{provide:Fs,useFactory:$F,deps:[ie]},eb,[]],ob=(()=>{let t=class t{constructor(i){}static forRoot(i,r){return{ngModule:t,providers:[t2,[],{provide:eh,multi:!0,useValue:i},{provide:pC,useFactory:r2,deps:[[ie,new Ed,new Kg]]},{provide:su,useValue:r||{}},r?.useHash?n2():i2(),e2(),r?.preloadingStrategy?QF(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?o2(r):[],r?.bindToComponentInputs?ZF().\u0275providers:[],r?.enableViewTransitions?JF().\u0275providers:[],s2()]}}static forChild(i){return{ngModule:t,providers:[{provide:eh,multi:!0,useValue:i}]}}};t.\u0275fac=function(r){return new(r||t)(D(pC,8))},t.\u0275mod=gt({type:t}),t.\u0275inj=mt({});let e=t;return e})();function e2(){return{provide:$C,useFactory:()=>{let e=q(qx),t=q(ht),n=q(su),i=q(ib),r=q(nu);return n.scrollOffset&&e.setOffset(n.scrollOffset),new GF(r,i,e,t,n)}}}function n2(){return{provide:nv,useClass:Fx}}function i2(){return{provide:nv,useClass:Lx}}function r2(e){return"guarded"}function o2(e){return[e.initialNavigation==="disabled"?XF().\u0275providers:[],e.initialNavigation==="enabledBlocking"?YF().\u0275providers:[]]}var mC=new dt("");function s2(){return[{provide:mC,useFactory:KF},{provide:Ax,multi:!0,useExisting:mC}]}var fn=(bT(),bd(vT)),Zt=class{static init(t){return fn.default.initializeApp(t),[]}static getFirestore(){return fn.default.firestore()}static _getFirestore(){return fn.default.firestore}static getAuth(){return fn.default.auth()}static getStorage(){return fn.default.storage()}static getFirestoreTimestamp(){return fn.default.firestore.Timestamp.now()}};_T();var we=class{constructor(){this.auth=Zt.getAuth()}createAccountWith(t){return new Promise((n,i)=>{this.auth.createUserWithEmailAndPassword(t.email,t.password).then(r=>{try{t.onComplete(r)}catch{}n(r)}).catch(r=>{try{t.onFail(r)}catch{}i(r)})})}signInAnonymously(t){return new Promise((n,i)=>{this.auth.signInAnonymously().then(r=>{try{t.onComplete(r)}catch{}n(r)}).catch(r=>{try{t.onFail(r)}catch{}i(r)})})}signInWith(t){return new Promise((n,i)=>{t.provider?this.auth.signInWithPopup(this.getProvider(t.provider)).then(r=>{try{t.onComplete(r)}catch{}n(r)}).catch(r=>{try{t.onFail(r)}catch{}i(r)}):this.auth.signInWithEmailAndPassword(t.email,t.password).then(r=>{try{t.onComplete(r)}catch{}n(r)}).catch(r=>{try{t.onFail(r)}catch{}i(r)})})}getProvider(t){switch(t.toLowerCase()){case"google":return new fn.default.auth.GoogleAuthProvider;case"apple":return new fn.default.auth.OAuthProvider("apple.com");case"facebook":return new fn.default.auth.FacebookAuthProvider;case"yahoo":return new fn.default.auth.OAuthProvider("yahoo.com");case"github":return new fn.default.auth.GithubAuthProvider;case"twitter":return new fn.default.auth.TwitterAuthProvider;case"microsoft":return new fn.default.auth.OAuthProvider("microsoft.com")}}signOut(t){return new Promise((n,i)=>{t?this.auth.signOut().then(()=>{try{t.onComplete()}catch{}n()}).catch(()=>{try{t.onFail()}catch{}i(new Error("Failed to signout."))}):this.auth.signOut()})}listenToSignInStateChanges(t){this.auth.onAuthStateChanged(n=>{t(n)})}sendVerificationEmail(){try{this.validateIsSignedIn(),this.auth.currentUser.sendEmailVerification()}catch(t){console.error(`${t} User must be signed in to use the sendVerificaitonEmail() function.`)}}sendPasswordResetEmail(t){t.onComplete?this.auth.sendPasswordResetEmail(t.email).then(()=>t.onComplete(`Instructions to reset password was sent to ${t.email}.`)).catch(()=>t.onComplete("Failed to send password reset email.")):this.auth.sendPasswordResetEmail(t.email)}isEmailVerified(){try{return this.validateIsSignedIn(),this.auth.currentUser.emailVerified}catch(t){console.error(`User must be signed in to use the isEmailVerified() function. 
${t}`)}return!1}isSignedIn(){return this.auth.currentUser!=null||this.auth.currentUser!=null}validateIsSignedIn(){if(!this.isSignedIn())throw new Error("No user was signed in.")}getAuth(){return this.auth}checkSignInState(t){let n=this.getAuth().currentUser;try{t.whenChanged(n)}catch{}if(this.isSignedIn()){try{t.whenSignedIn(n)}catch{}if(this.isEmailVerified())try{t.whenSignedInAndEmailVerified(n)}catch{}else try{t.whenSignedInAndEmailNotVerified(n)}catch{}}else try{t.whenSignedOut(n)}catch{}}};var wT=(()=>{let t=class t{constructor(i){this.router=i,this.firebasetsAuth=new we}ngOnInit(){this.firebasetsAuth.getAuth().onAuthStateChanged(i=>{i?this.router.navigate(["feed"]):this.router.navigate([""])})}toLoginSubmit(i,r){let s=i.value,c=r.value;this.firebasetsAuth.signInWith({email:s,password:c,onComplete:l=>{this.router.navigate(["feed"])},onFail:l=>{alert("Email and password not match!")}})}toSignup(){this.router.navigate(["signup"])}toReset(){this.router.navigate(["reset"])}};t.\u0275fac=function(r){return new(r||t)(X(ie))},t.\u0275cmp=Tt({type:t,selectors:[["app-login"]],decls:45,vars:0,consts:[["loginEmail",""],["loginPassword",""],[1,"session"],[1,"left"],["enable-background","new 0 0 300 302.5","version","1.1","viewBox","0 0 300 302.5",0,"xml","space","preserve","xmlns","http://www.w3.org/2000/svg"],["type","text/css"],["d","m126 302.2c-2.3 0.7-5.7 0.2-7.7-1.2l-105-71.6c-2-1.3-3.7-4.4-3.9-6.7l-9.4-126.7c-0.2-2.4 1.1-5.6 2.8-7.2l93.2-86.4c1.7-1.6 5.1-2.6 7.4-2.3l125.6 18.9c2.3 0.4 5.2 2.3 6.4 4.4l63.5 110.1c1.2 2 1.4 5.5 0.6 7.7l-46.4 118.3c-0.9 2.2-3.4 4.6-5.7 5.3l-121.4 37.4zm63.4-102.7c2.3-0.7 4.8-3.1 5.7-5.3l19.9-50.8c0.9-2.2 0.6-5.7-0.6-7.7l-27.3-47.3c-1.2-2-4.1-4-6.4-4.4l-53.9-8c-2.3-0.4-5.7 0.7-7.4 2.3l-40 37.1c-1.7 1.6-3 4.9-2.8 7.2l4.1 54.4c0.2 2.4 1.9 5.4 3.9 6.7l45.1 30.8c2 1.3 5.4 1.9 7.7 1.2l52-16.2z",1,"st01"],["action","","autocomplete","off",1,"log-in"],[1,"floating-label"],["placeholder","Email","type","email","name","email","id","email","autocomplete","off","required",""],["for","email"],[1,"icon"],["enable-background","new 0 0 100 100","version","1.1","viewBox","0 0 100 100",0,"xml","space","preserve","xmlns","http://www.w3.org/2000/svg"],["transform","translate(0 -952.36)"],["d","m17.5 977c-1.3 0-2.4 1.1-2.4 2.4v45.9c0 1.3 1.1 2.4 2.4 2.4h64.9c1.3 0 2.4-1.1 2.4-2.4v-45.9c0-1.3-1.1-2.4-2.4-2.4h-64.9zm2.4 4.8h60.2v1.2l-30.1 22-30.1-22v-1.2zm0 7l28.7 21c0.8 0.6 2 0.6 2.8 0l28.7-21v34.1h-60.2v-34.1z"],["width","100","height","100",1,"st0"],["placeholder","Password","type","password","name","password","id","password","autocomplete","off","required",""],["for","password"],["enable-background","new 0 0 24 24","version","1.1","viewBox","0 0 24 24",0,"xml","space","preserve","xmlns","http://www.w3.org/2000/svg"],["width","24","height","24",1,"st0"],["d","M19,21H5V9h14V21z M6,20h12V10H6V20z",1,"st1"],["d","M16.5,10h-1V7c0-1.9-1.6-3.5-3.5-3.5S8.5,5.1,8.5,7v3h-1V7c0-2.5,2-4.5,4.5-4.5s4.5,2,4.5,4.5V10z",1,"st1"],["d","m12 16.5c-0.8 0-1.5-0.7-1.5-1.5s0.7-1.5 1.5-1.5 1.5 0.7 1.5 1.5-0.7 1.5-1.5 1.5zm0-2c-0.3 0-0.5 0.2-0.5 0.5s0.2 0.5 0.5 0.5 0.5-0.2 0.5-0.5-0.2-0.5-0.5-0.5z",1,"st1"],["type","submit","onClick","return false;",3,"click"],["target","_blank",1,"discrete",2,"margin-bottom","-35px",3,"click"],["target","_blank",1,"discrete",3,"click"]],template:function(r,s){if(r&1){let c=ni();N(0,"body")(1,"div",2)(2,"div",3),En(),N(3,"svg",4)(4,"style",5),et(5," .st01 { fill: #fff; } "),U(),at(6,"path",6),U()(),xn(),N(7,"form",7)(8,"h4"),et(9,"Login to "),N(10,"span"),et(11,"1Thing."),U()(),N(12,"p"),et(13,"Welcome back! Log in to your account to view feed today."),U(),N(14,"div",8),at(15,"input",9,0),N(17,"label",10),et(18,"Email:"),U(),N(19,"div",11),En(),N(20,"svg",12)(21,"style",5),et(22," .st0 { fill: none; } "),U(),N(23,"g",13),at(24,"path",14),U(),at(25,"rect",15),U()()(),xn(),N(26,"div",8),at(27,"input",16,1),N(29,"label",17),et(30,"Password:"),U(),N(31,"div",11),En(),N(32,"svg",18)(33,"style",5),et(34," .st0 { fill: none; } .st1 { fill: #010101; } "),U(),at(35,"rect",19)(36,"path",20)(37,"path",21)(38,"path",22),U()()(),xn(),N(39,"button",23),zt("click",function(){Pe(c);let d=He(16),f=He(28);return Me(s.toLoginSubmit(d,f))}),et(40,"Log in"),U(),N(41,"a",24),zt("click",function(){return Pe(c),Me(s.toSignup())}),et(42,"Create an account"),U(),N(43,"a",25),zt("click",function(){return Pe(c),Me(s.toReset())}),et(44,"Reset Password"),U()()()()}},styles:[".all[_ngcontent-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,San Francisco,Helvetica,Arial,sans-serif;font-weight:300;margin:0}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100vh;width:100vw;margin:0;display:flex;align-items:flex-start;justify-content:flex-start;background-image:url(https://cdn.discordapp.com/attachments/763777898204364820/1223602442281811998/seamless-pattern-of-funny-colorful-doodle-lines-a-creative-artistic-background-in-a-minimalist-style-for-children-or-a-fashionable-design-with-basic-shapes-memphis-style-vector.png?ex=661a7393&is=6607fe93&hm=8528f2569f0a5a521ffae828745167099f9f3e8cb6c5d3e1697d839013540bb5&)}h4[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:#000;opacity:.85}label[_ngcontent-%COMP%]{font-size:12.5px;color:#000;opacity:.8;font-weight:400}form[_ngcontent-%COMP%]{padding:40px 30px 20px;background:#fefefe;display:flex;flex-direction:column;align-items:flex-start;width:300px}form[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:20px;color:#00000080}form[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#000;font-weight:700}form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:155%;font-size:14px;color:#000;opacity:.65;font-weight:400;max-width:200px;margin-bottom:40px}a.discrete[_ngcontent-%COMP%]{color:#0006;font-size:14px;border-bottom:solid 1px rgba(0,0,0,0);padding-bottom:4px;margin-left:auto;font-weight:300;transition:all .3s ease;margin-top:40px;cursor:pointer}a.discrete[_ngcontent-%COMP%]:hover{border-bottom:solid 1px rgba(0,0,0,.2)}button[_ngcontent-%COMP%]{-webkit-appearance:none;width:auto;min-width:100px;border-radius:24px;text-align:center;padding:15px 40px;margin-top:5px;background-color:#b08bf8;color:#fff;font-size:14px;margin-left:auto;font-weight:500;box-shadow:0 2px 6px -1px #00000021;border:none;transition:all .3s ease;outline:0}button[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 2px 6px -1px #b69de6a6}button[_ngcontent-%COMP%]:hover:active{transform:scale(.99)}input[_ngcontent-%COMP%]{font-size:16px;padding:20px 0;height:56px;border:none;border-bottom:solid 1px rgba(0,0,0,.1);background:#fff;width:280px;box-sizing:border-box;transition:all .3s linear;color:#000;font-weight:400;-webkit-appearance:none}input[_ngcontent-%COMP%]:focus{border-bottom:solid 1px #b69de6;outline:0;box-shadow:0 2px 6px -8px #b69de673}.floating-label[_ngcontent-%COMP%]{position:relative;margin-bottom:10px;width:100%}.floating-label[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;top:calc(50% - 7px);left:0;opacity:0;transition:all .3s ease;padding-left:44px}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:calc(100% - 44px);margin-left:auto;display:flex}.floating-label[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{position:absolute;top:0;left:-13px;height:56px;width:44px;display:flex}.floating-label[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:30px;width:30px;margin:auto;opacity:.15;transition:all .3s ease}.floating-label[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{transition:all .3s ease}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:-moz-placeholder-shown){padding:28px 0 12px}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:-ms-input-placeholder){padding:28px 0 12px}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:placeholder-shown){padding:28px 0 12px}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:-moz-placeholder-shown) + label[_ngcontent-%COMP%]{transform:translateY(-10px);opacity:.7}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:-ms-input-placeholder) + label[_ngcontent-%COMP%]{transform:translateY(-10px);opacity:.7}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:placeholder-shown) + label[_ngcontent-%COMP%]{transform:translateY(-10px);opacity:.7}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid:not(:-moz-placeholder-shown) + label[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{opacity:1}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid:not(:-ms-input-placeholder) + label[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{opacity:1}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid:not(:placeholder-shown) + label[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{opacity:1}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid:not(:-moz-placeholder-shown) + label[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#b69de6}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid:not(:-ms-input-placeholder) + label[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#b69de6}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid:not(:placeholder-shown) + label[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#b69de6}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:valid):not(:focus) + label[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%]{-webkit-animation-name:_ngcontent-%COMP%_shake-shake;animation-name:_ngcontent-%COMP%_shake-shake;-webkit-animation-duration:.3s;animation-duration:.3s}@-webkit-keyframes _ngcontent-%COMP%_shake-shake{0%{transform:translate(-3px)}20%{transform:translate(3px)}40%{transform:translate(-3px)}60%{transform:translate(3px)}80%{transform:translate(-3px)}to{transform:translate(0)}}.session[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:auto;height:auto;margin:auto;background:#fff;border-radius:4px;box-shadow:0 2px 6px -1px #0000001f}.left[_ngcontent-%COMP%]{width:220px;height:auto;min-height:100%;position:relative;background-image:url(https://images.pexels.com/photos/114979/pexels-photo-114979.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940);background-size:cover;border-top-left-radius:4px;border-bottom-left-radius:4px}.left[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:40px;width:auto;margin:20px}"]});let e=t;return e})();zk();var qn=class{constructor(){this.listeners=new Map}appendArray(t){return Zt._getFirestore().FieldValue.arrayUnion(t)}increment(t){return Zt._getFirestore().FieldValue.increment(t)}genDocId(){return Zt.getFirestore().collection("TEMP").doc().id}all(t){let n=Zt.getFirestore().batch();for(let i of t.operations)i.getOperation(n);return new Promise((i,r)=>{n.commit().then(()=>{try{t.onComplete()}catch{}i()}).catch(s=>{try{t.onFail(s)}catch{}r(s)})})}create(t){return new Promise((n,i)=>{if(t.data==null||t.data==null)throw new Error("Error creating data. Data is null or undefined.");if(this.isCollectionPath(t.path)){let r=this.genCollectionReference(t.path).doc();r.set(t.data).then(()=>{try{t.onComplete(r.id)}catch{}n(r.id)}).catch(s=>{try{t.onFail(s)}catch{}i(s)})}else if(this.isDocumentPath(t.path)){let r=this.genDocumentReference(t.path);r.set(t.data).then(()=>{try{t.onComplete(r.id)}catch{}n(r.id)}).catch(s=>{try{t.onFail(s)}catch{}i(s)})}})}delete(t){return new Promise((n,i)=>{this.checkDocumentPathValidity(t.path),this.genDocumentReference(t.path).delete().then(()=>{try{t.onComplete()}catch{}n()}).catch(r=>{try{t.onFail(r)}catch{}i(r)})})}update(t){return new Promise((n,i)=>{this.checkDocumentPathValidity(t.path);let r=this.genDocumentReference(t.path);r.update(t.data).then(()=>{try{t.onComplete(r)}catch{}n(r)}).catch(s=>{try{t.onFail(s)}catch{}i(s)})})}getCollection(t){let n=this.genCollectionReference(t.path);return(t.where!=null||t.where!=null)&&t.where.length>0?new Promise((i,r)=>{let s,c=Array(t.where)[0];for(let l=0;l<c.length;l++)s==null?s=c[l].getQuery(n):s=c[l].concatQuery(s);s.get().then(l=>{try{t.onComplete(l)}catch{}i(l)}).catch(l=>{try{t.onFail(l)}catch{}r(l)})}):new Promise((i,r)=>{n.get().then(s=>{try{t.onComplete(s)}catch{}i(s)}).catch(s=>{try{t.onFail(s)}catch{}r(s)})})}getDocument(t){return new Promise((n,i)=>{this.genDocumentReference(t.path).get().then(r=>{try{t.onComplete(r)}catch{}n(r)}).catch(r=>{try{t.onFail(r)}catch{}i(r)})})}listenToDocument(t){this.validateListenerName(t.name),this.addListener(t.name,this.genDocumentReference(t.path).onSnapshot(n=>{try{t.onUpdate(n)}catch{}}))}listenToCollection(t){this.validateListenerName(t.name);let n=this.genCollectionReference(t.path);if((t.where!=null||t.where!=null)&&t.where.length>0){let i,r=Array(t.where)[0];for(let s=0;s<r.length;s++)i==null?i=r[s].getQuery(n):i=r[s].concatQuery(i);this.addListener(t.name,i.onSnapshot(s=>{try{t.onUpdate(s)}catch{}}))}else this.addListener(t.name,n.onSnapshot(i=>{try{t.onUpdate(i)}catch{}}))}genCollectionReference(t){this.checkCollectionPathValidity(t);let n=Array(t)[0],i,r;for(let s=0;s<n.length;s++)s%2==0?i==null?i=Zt.getFirestore().collection(n[s]):i=r.collection(n[s]):r=i.doc(n[s]);return i}genDocumentReference(t){this.checkDocumentPathValidity(t);let n=Array(t)[0],i,r;for(let s=0;s<n.length;s++)s%2==0?i==null?i=Zt.getFirestore().collection(n[s]):i=r.collection(n[s]):r=i.doc(n[s]);return r}addListener(t,n){return this.listeners.set(t,n),n}stopListeningTo(t){try{this.listeners.get(t)(),this.listeners.delete(t)}catch{}}stopListeningToAll(){this.listeners.forEach((t,n,i)=>{this.stopListeningTo(n)})}validateListenerName(t){if(t==null||t==null||typeof t!="string"||t.trim().length<=0)throw"Listener name cannot be empty.";if(this.listeners.get(t)!=null)throw`Listener name: ${t} is already taken.`}checkCollectionPathValidity(t){if(t==null||t==null||t.length<=0||!this.isCollectionPath(t))throw"Not a valid path to a collection."}isCollectionPath(t){return Array(t)[0].length%2==1}checkDocumentPathValidity(t){if(t==null||t==null||t.length<=0||!this.isDocumentPath(t))throw"Not a valid path to a document."}isDocumentPath(t){return Array(t)[0].length%2==0}};var Sa=class{constructor(t,n){this.field=t,this.direction=n}getQuery(t){return t.orderBy(this.field,this.direction)}concatQuery(t){return t.orderBy(this.field,this.direction)}};var qk=(()=>{let t=class t{constructor(i){this.users=[],this.firestore=new qn,this.firebasetsAuth=new we,this.router=i}ngOnInit(){this.getUserlists()}getUserlists(){this.firestore.getCollection({path:["Users"],where:[],onComplete:i=>{i.docs.forEach(r=>{let s=r.data();s.uid=r.id,this.users.push(s),console.log(s.username)})}})}ToSubmitSignup(i,r,s,c){let l=i.value,d=r.value,f=s.value,m=c.value;this.users.some(v=>v.username===l)?alert("Username is already in use."):this.isAMatch(f,m)?this.firebasetsAuth.createAccountWith({email:d,password:f,onComplete:v=>{let y=v.user;y?this.firestore.create({path:["Users",y.uid],data:{username:l},onComplete:_=>{alert("Registered Successfully"),i.value="",this.router.navigate([""])},onFail:_=>{alert(_)}}):alert("User object is null.")},onFail:v=>{alert(v)}}):alert("Passwords do not match.")}isAMatch(i,r){return i===r}toLogin(){this.router.navigate([""])}};t.\u0275fac=function(r){return new(r||t)(X(ie))},t.\u0275cmp=Tt({type:t,selectors:[["app-signup"]],decls:68,vars:0,consts:[["signupUsername",""],["signupEmail",""],["signupPassword",""],["signupConfirmPassword",""],[1,"session"],[1,"left"],["enable-background","new 0 0 300 302.5","version","1.1","viewBox","0 0 300 302.5",0,"xml","space","preserve","xmlns","http://www.w3.org/2000/svg"],["type","text/css"],["d","m126 302.2c-2.3 0.7-5.7 0.2-7.7-1.2l-105-71.6c-2-1.3-3.7-4.4-3.9-6.7l-9.4-126.7c-0.2-2.4 1.1-5.6 2.8-7.2l93.2-86.4c1.7-1.6 5.1-2.6 7.4-2.3l125.6 18.9c2.3 0.4 5.2 2.3 6.4 4.4l63.5 110.1c1.2 2 1.4 5.5 0.6 7.7l-46.4 118.3c-0.9 2.2-3.4 4.6-5.7 5.3l-121.4 37.4zm63.4-102.7c2.3-0.7 4.8-3.1 5.7-5.3l19.9-50.8c0.9-2.2 0.6-5.7-0.6-7.7l-27.3-47.3c-1.2-2-4.1-4-6.4-4.4l-53.9-8c-2.3-0.4-5.7 0.7-7.4 2.3l-40 37.1c-1.7 1.6-3 4.9-2.8 7.2l4.1 54.4c0.2 2.4 1.9 5.4 3.9 6.7l45.1 30.8c2 1.3 5.4 1.9 7.7 1.2l52-16.2z",1,"st01"],["action","","autocomplete","off",1,"log-in"],[1,"floating-label"],["placeholder","Username","type","text","name","text","id","username","autocomplete","off","required",""],["for","username"],[1,"icon"],["enable-background","new 0 0 100 100","version","1.1","viewBox","0 0 100 100",0,"xml","space","preserve","xmlns","http://www.w3.org/2000/svg"],["transform","translate(0 -952.36)"],["d","m17.5 977c-1.3 0-2.4 1.1-2.4 2.4v45.9c0 1.3 1.1 2.4 2.4 2.4h64.9c1.3 0 2.4-1.1 2.4-2.4v-45.9c0-1.3-1.1-2.4-2.4-2.4h-64.9zm2.4 4.8h60.2v1.2l-30.1 22-30.1-22v-1.2zm0 7l28.7 21c0.8 0.6 2 0.6 2.8 0l28.7-21v34.1h-60.2v-34.1z"],["width","100","height","100",1,"st0"],["placeholder","Email","type","email","name","email","id","email","autocomplete","off","required",""],["for","email"],["placeholder","Password","type","password","name","password","id","password","autocomplete","off","required",""],["for","password"],["enable-background","new 0 0 24 24","version","1.1","viewBox","0 0 24 24",0,"xml","space","preserve","xmlns","http://www.w3.org/2000/svg"],["width","24","height","24",1,"st0"],["d","M19,21H5V9h14V21z M6,20h12V10H6V20z",1,"st1"],["d","M16.5,10h-1V7c0-1.9-1.6-3.5-3.5-3.5S8.5,5.1,8.5,7v3h-1V7c0-2.5,2-4.5,4.5-4.5s4.5,2,4.5,4.5V10z",1,"st1"],["d","m12 16.5c-0.8 0-1.5-0.7-1.5-1.5s0.7-1.5 1.5-1.5 1.5 0.7 1.5 1.5-0.7 1.5-1.5 1.5zm0-2c-0.3 0-0.5 0.2-0.5 0.5s0.2 0.5 0.5 0.5 0.5-0.2 0.5-0.5-0.2-0.5-0.5-0.5z",1,"st1"],["placeholder","Comfirm Password","type","password","name","password_2","id","password_2","autocomplete","off","required",""],["for","password_2"],["type","submit","onClick","return false;",3,"click"],["target","_blank",1,"discrete",3,"click"]],template:function(r,s){if(r&1){let c=ni();N(0,"body")(1,"div",4)(2,"div",5),En(),N(3,"svg",6)(4,"style",7),et(5," .st01 { fill: #fff; } "),U(),at(6,"path",8),U()(),xn(),N(7,"form",9)(8,"h4"),et(9,"Sign up, "),N(10,"span"),et(11,"1Thing."),U()(),N(12,"p"),et(13,"Join now for view feed today."),U(),N(14,"div",10),at(15,"input",11,0),N(17,"label",12),et(18,"Username"),U(),N(19,"div",13),En(),N(20,"svg",14)(21,"style",7),et(22," .st0 { fill: none; } "),U(),N(23,"g",15),at(24,"path",16),U(),at(25,"rect",17),U()()(),xn(),N(26,"div",10),at(27,"input",18,1),N(29,"label",19),et(30,"Email"),U(),N(31,"div",13),En(),N(32,"svg",14)(33,"style",7),et(34," .st0 { fill: none; } "),U(),N(35,"g",15),at(36,"path",16),U(),at(37,"rect",17),U()()(),xn(),N(38,"div",10),at(39,"input",20,2),N(41,"label",21),et(42,"Password (At least 6 characters)"),U(),N(43,"div",13),En(),N(44,"svg",22)(45,"style",7),et(46," .st0 { fill: none; } .st1 { fill: #010101; } "),U(),at(47,"rect",23)(48,"path",24)(49,"path",25)(50,"path",26),U()()(),xn(),N(51,"div",10),at(52,"input",27,3),N(54,"label",28),et(55,"Confirm Password (at least 6 characters)"),U(),N(56,"div",13),En(),N(57,"svg",22)(58,"style",7),et(59," .st0 { fill: none; } .st1 { fill: #010101; } "),U(),at(60,"rect",23)(61,"path",24)(62,"path",25)(63,"path",26),U()()(),xn(),N(64,"button",29),zt("click",function(){Pe(c);let d=He(16),f=He(28),m=He(40),v=He(53);return Me(s.ToSubmitSignup(d,f,m,v))}),et(65,"Sign Up"),U(),N(66,"a",30),zt("click",function(){return Pe(c),Me(s.toLogin())}),et(67,"Back to Signin"),U()()()()}},styles:[".all[_ngcontent-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,San Francisco,Helvetica,Arial,sans-serif;font-weight:300;margin:0}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100vh;width:100vw;margin:0;display:flex;align-items:flex-start;justify-content:flex-start;background-image:url(https://cdn.discordapp.com/attachments/763777898204364820/1223602442281811998/seamless-pattern-of-funny-colorful-doodle-lines-a-creative-artistic-background-in-a-minimalist-style-for-children-or-a-fashionable-design-with-basic-shapes-memphis-style-vector.png?ex=661a7393&is=6607fe93&hm=8528f2569f0a5a521ffae828745167099f9f3e8cb6c5d3e1697d839013540bb5&)}h4[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:#000;opacity:.85}label[_ngcontent-%COMP%]{font-size:12.5px;color:#000;opacity:.8;font-weight:400}form[_ngcontent-%COMP%]{padding:40px 30px 20px;background:#fefefe;display:flex;flex-direction:column;align-items:flex-start;width:300px}form[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:20px;color:#00000080}form[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#000;font-weight:700}form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:155%;font-size:14px;color:#000;opacity:.65;font-weight:400;max-width:200px;margin-bottom:40px}a.discrete[_ngcontent-%COMP%]{color:#0006;font-size:14px;border-bottom:solid 1px rgba(0,0,0,0);padding-bottom:4px;margin-left:auto;font-weight:300;transition:all .3s ease;margin-top:40px;cursor:pointer}a.discrete[_ngcontent-%COMP%]:hover{border-bottom:solid 1px rgba(0,0,0,.2)}button[_ngcontent-%COMP%]{-webkit-appearance:none;width:auto;min-width:100px;border-radius:24px;text-align:center;padding:15px 40px;margin-top:5px;background-color:#b08bf8;color:#fff;font-size:14px;margin-left:auto;font-weight:500;box-shadow:0 2px 6px -1px #00000021;border:none;transition:all .3s ease;outline:0}button[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 2px 6px -1px #b69de6a6}button[_ngcontent-%COMP%]:hover:active{transform:scale(.99)}input[_ngcontent-%COMP%]{font-size:16px;padding:20px 0;height:56px;border:none;border-bottom:solid 1px rgba(0,0,0,.1);background:#fff;width:280px;box-sizing:border-box;transition:all .3s linear;color:#000;font-weight:400;-webkit-appearance:none}input[_ngcontent-%COMP%]:focus{border-bottom:solid 1px #b69de6;outline:0;box-shadow:0 2px 6px -8px #b69de673}.floating-label[_ngcontent-%COMP%]{position:relative;margin-bottom:10px;width:100%}.floating-label[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;top:calc(50% - 7px);left:0;opacity:0;transition:all .3s ease;padding-left:44px}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:calc(100% - 44px);margin-left:auto;display:flex}.floating-label[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{position:absolute;top:0;left:-13px;height:56px;width:44px;display:flex}.floating-label[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:30px;width:30px;margin:auto;opacity:.15;transition:all .3s ease}.floating-label[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{transition:all .3s ease}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:-moz-placeholder-shown){padding:28px 0 12px}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:-ms-input-placeholder){padding:28px 0 12px}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:placeholder-shown){padding:28px 0 12px}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:-moz-placeholder-shown) + label[_ngcontent-%COMP%]{transform:translateY(-10px);opacity:.7}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:-ms-input-placeholder) + label[_ngcontent-%COMP%]{transform:translateY(-10px);opacity:.7}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:placeholder-shown) + label[_ngcontent-%COMP%]{transform:translateY(-10px);opacity:.7}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid:not(:-moz-placeholder-shown) + label[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{opacity:1}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid:not(:-ms-input-placeholder) + label[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{opacity:1}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid:not(:placeholder-shown) + label[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{opacity:1}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid:not(:-moz-placeholder-shown) + label[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#b69de6}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid:not(:-ms-input-placeholder) + label[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#b69de6}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid:not(:placeholder-shown) + label[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#b69de6}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:valid):not(:focus) + label[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%]{-webkit-animation-name:_ngcontent-%COMP%_shake-shake;animation-name:_ngcontent-%COMP%_shake-shake;-webkit-animation-duration:.3s;animation-duration:.3s}@-webkit-keyframes _ngcontent-%COMP%_shake-shake{0%{transform:translate(-3px)}20%{transform:translate(3px)}40%{transform:translate(-3px)}60%{transform:translate(3px)}80%{transform:translate(-3px)}to{transform:translate(0)}}.session[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:auto;height:auto;margin:auto;background:#fff;border-radius:4px;box-shadow:0 2px 6px -1px #0000001f}.left[_ngcontent-%COMP%]{width:220px;height:auto;min-height:100%;position:relative;background-image:url(https://images.pexels.com/photos/114979/pexels-photo-114979.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940);background-size:cover;border-top-left-radius:4px;border-bottom-left-radius:4px}.left[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:40px;width:auto;margin:20px}"]});let e=t;return e})();var Hk=(()=>{let t=class t{constructor(){this.firebasetsAuth=new we,this.router=new ie}toLogin(){this.router.navigate([""])}toResetSubmit(i){let r=i.value;this.firebasetsAuth.sendPasswordResetEmail({email:r,onComplete:s=>{alert(`Reset Email sent to ${r}`),this.router.navigate([""])}})}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Tt({type:t,selectors:[["app-resetemail"]],decls:29,vars:0,consts:[["resetEmail",""],[1,"session"],[1,"left"],["enable-background","new 0 0 300 302.5","version","1.1","viewBox","0 0 300 302.5",0,"xml","space","preserve","xmlns","http://www.w3.org/2000/svg"],["type","text/css"],["d","m126 302.2c-2.3 0.7-5.7 0.2-7.7-1.2l-105-71.6c-2-1.3-3.7-4.4-3.9-6.7l-9.4-126.7c-0.2-2.4 1.1-5.6 2.8-7.2l93.2-86.4c1.7-1.6 5.1-2.6 7.4-2.3l125.6 18.9c2.3 0.4 5.2 2.3 6.4 4.4l63.5 110.1c1.2 2 1.4 5.5 0.6 7.7l-46.4 118.3c-0.9 2.2-3.4 4.6-5.7 5.3l-121.4 37.4zm63.4-102.7c2.3-0.7 4.8-3.1 5.7-5.3l19.9-50.8c0.9-2.2 0.6-5.7-0.6-7.7l-27.3-47.3c-1.2-2-4.1-4-6.4-4.4l-53.9-8c-2.3-0.4-5.7 0.7-7.4 2.3l-40 37.1c-1.7 1.6-3 4.9-2.8 7.2l4.1 54.4c0.2 2.4 1.9 5.4 3.9 6.7l45.1 30.8c2 1.3 5.4 1.9 7.7 1.2l52-16.2z",1,"st01"],["action","","autocomplete","off",1,"log-in"],[1,"floating-label"],["placeholder","Email","type","email","name","email","id","email","autocomplete","off","required",""],["for","email"],[1,"icon"],["enable-background","new 0 0 100 100","version","1.1","viewBox","0 0 100 100",0,"xml","space","preserve","xmlns","http://www.w3.org/2000/svg"],["transform","translate(0 -952.36)"],["d","m17.5 977c-1.3 0-2.4 1.1-2.4 2.4v45.9c0 1.3 1.1 2.4 2.4 2.4h64.9c1.3 0 2.4-1.1 2.4-2.4v-45.9c0-1.3-1.1-2.4-2.4-2.4h-64.9zm2.4 4.8h60.2v1.2l-30.1 22-30.1-22v-1.2zm0 7l28.7 21c0.8 0.6 2 0.6 2.8 0l28.7-21v34.1h-60.2v-34.1z"],["width","100","height","100",1,"st0"],["type","submit","onClick","return false;",3,"click"],["target","_blank",1,"discrete",3,"click"]],template:function(r,s){if(r&1){let c=ni();N(0,"body")(1,"div",1)(2,"div",2),En(),N(3,"svg",3)(4,"style",4),et(5," .st01 { fill: #fff; } "),U(),at(6,"path",5),U()(),xn(),N(7,"form",6)(8,"h4")(9,"span"),et(10,"Reset Password."),U()(),N(11,"p"),et(12,"Put your E-mail and get reset password in your email. "),U(),N(13,"div",7),at(14,"input",8,0),N(16,"label",9),et(17,"Email:"),U(),N(18,"div",10),En(),N(19,"svg",11)(20,"style",4),et(21," .st0 { fill: none; } "),U(),N(22,"g",12),at(23,"path",13),U(),at(24,"rect",14),U()()(),xn(),N(25,"button",15),zt("click",function(){Pe(c);let d=He(15);return Me(s.toResetSubmit(d))}),et(26,"Reset"),U(),N(27,"a",16),zt("click",function(){return Pe(c),Me(s.toLogin())}),et(28,"Back to Login"),U()()()()}},styles:[".all[_ngcontent-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,San Francisco,Helvetica,Arial,sans-serif;font-weight:300;margin:0}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100vh;width:100vw;margin:0;display:flex;align-items:flex-start;justify-content:flex-start;background-image:url(https://cdn.discordapp.com/attachments/763777898204364820/1223602442281811998/seamless-pattern-of-funny-colorful-doodle-lines-a-creative-artistic-background-in-a-minimalist-style-for-children-or-a-fashionable-design-with-basic-shapes-memphis-style-vector.png?ex=661a7393&is=6607fe93&hm=8528f2569f0a5a521ffae828745167099f9f3e8cb6c5d3e1697d839013540bb5&)}h4[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:#000;opacity:.85}label[_ngcontent-%COMP%]{font-size:12.5px;color:#000;opacity:.8;font-weight:400}form[_ngcontent-%COMP%]{padding:40px 30px 20px;background:#fefefe;display:flex;flex-direction:column;align-items:flex-start;width:300px}form[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:20px;color:#00000080}form[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#000;font-weight:700}form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:155%;font-size:14px;color:#000;opacity:.65;font-weight:400;max-width:200px;margin-bottom:40px}a.discrete[_ngcontent-%COMP%]{color:#0006;font-size:14px;border-bottom:solid 1px rgba(0,0,0,0);padding-bottom:4px;margin-left:auto;font-weight:300;transition:all .3s ease;margin-top:40px;cursor:pointer}a.discrete[_ngcontent-%COMP%]:hover{border-bottom:solid 1px rgba(0,0,0,.2)}button[_ngcontent-%COMP%]{-webkit-appearance:none;width:auto;min-width:100px;border-radius:24px;text-align:center;padding:15px 40px;margin-top:5px;background-color:#b08bf8;color:#fff;font-size:14px;margin-left:auto;font-weight:500;box-shadow:0 2px 6px -1px #00000021;border:none;transition:all .3s ease;outline:0}button[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 2px 6px -1px #b69de6a6}button[_ngcontent-%COMP%]:hover:active{transform:scale(.99)}input[_ngcontent-%COMP%]{font-size:16px;padding:20px 0;height:56px;border:none;border-bottom:solid 1px rgba(0,0,0,.1);background:#fff;width:280px;box-sizing:border-box;transition:all .3s linear;color:#000;font-weight:400;-webkit-appearance:none}input[_ngcontent-%COMP%]:focus{border-bottom:solid 1px #b69de6;outline:0;box-shadow:0 2px 6px -8px #b69de673}.floating-label[_ngcontent-%COMP%]{position:relative;margin-bottom:10px;width:100%}.floating-label[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;top:calc(50% - 7px);left:0;opacity:0;transition:all .3s ease;padding-left:44px}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:calc(100% - 44px);margin-left:auto;display:flex}.floating-label[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{position:absolute;top:0;left:-13px;height:56px;width:44px;display:flex}.floating-label[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:30px;width:30px;margin:auto;opacity:.15;transition:all .3s ease}.floating-label[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{transition:all .3s ease}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:-moz-placeholder-shown){padding:28px 0 12px}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:-ms-input-placeholder){padding:28px 0 12px}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:placeholder-shown){padding:28px 0 12px}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:-moz-placeholder-shown) + label[_ngcontent-%COMP%]{transform:translateY(-10px);opacity:.7}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:-ms-input-placeholder) + label[_ngcontent-%COMP%]{transform:translateY(-10px);opacity:.7}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:placeholder-shown) + label[_ngcontent-%COMP%]{transform:translateY(-10px);opacity:.7}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid:not(:-moz-placeholder-shown) + label[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{opacity:1}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid:not(:-ms-input-placeholder) + label[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{opacity:1}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid:not(:placeholder-shown) + label[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{opacity:1}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid:not(:-moz-placeholder-shown) + label[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#b69de6}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid:not(:-ms-input-placeholder) + label[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#b69de6}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid:not(:placeholder-shown) + label[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#b69de6}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:valid):not(:focus) + label[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%]{-webkit-animation-name:_ngcontent-%COMP%_shake-shake;animation-name:_ngcontent-%COMP%_shake-shake;-webkit-animation-duration:.3s;animation-duration:.3s}@-webkit-keyframes _ngcontent-%COMP%_shake-shake{0%{transform:translate(-3px)}20%{transform:translate(3px)}40%{transform:translate(-3px)}60%{transform:translate(3px)}80%{transform:translate(-3px)}to{transform:translate(0)}}.session[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:auto;height:auto;margin:auto;background:#fff;border-radius:4px;box-shadow:0 2px 6px -1px #0000001f}.left[_ngcontent-%COMP%]{width:220px;height:auto;min-height:100%;position:relative;background-image:url(https://images.pexels.com/photos/114979/pexels-photo-114979.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940);background-size:cover;border-top-left-radius:4px;border-bottom-left-radius:4px}.left[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:40px;width:auto;margin:20px}"]});let e=t;return e})();function DV(e,t){if(e&1&&at(0,"app-post",4),e&2){let n=t.$implicit;dn("postData",n)}}var Af=(()=>{let t=class t{constructor(i){this.router=i,this.firestore=new qn,this.posts=[],this.firebasetsAuth=new we}ngOnInit(){this.firebasetsAuth.getAuth().onAuthStateChanged(i=>{i||this.router.navigate([""])}),this.getPosts()}getPosts(){this.firestore.getCollection({path:["Posts"],where:[new Sa("timestamp","desc")],onComplete:i=>{i.docs.forEach(r=>{let s=r.data();s.postId=r.id,this.posts.push(s)})},onFail:i=>{}})}};t.\u0275fac=function(r){return new(r||t)(X(ie))},t.\u0275cmp=Tt({type:t,selectors:[["app-feed"]],decls:8,vars:1,consts:[[1,"navbar"],[1,"posts-container"],[3,"postData",4,"ngFor","ngForOf"],[1,"footer"],[3,"postData"]],template:function(r,s){r&1&&(N(0,"body")(1,"div",0),at(2,"app-topbar"),U(),N(3,"div",1),at(4,"app-postfeed"),U(),N(5,"div"),ln(6,DV,1,1,"app-post",2),U(),at(7,"div",3),U()),r&2&&(Qt(6),dn("ngForOf",s.posts))},styles:["body[_ngcontent-%COMP%]{background-attachment:scroll;padding:0;margin:0;min-width:490px;background-image:url(https://cdn.discordapp.com/attachments/763777898204364820/1223602442281811998/seamless-pattern-of-funny-colorful-doodle-lines-a-creative-artistic-background-in-a-minimalist-style-for-children-or-a-fashionable-design-with-basic-shapes-memphis-style-vector.png?ex=661a7393&is=6607fe93&hm=8528f2569f0a5a521ffae828745167099f9f3e8cb6c5d3e1697d839013540bb5&)}.navbar[_ngcontent-%COMP%]{position:fixed;width:80%;margin:1.5em auto;z-index:1000;left:50%;transform:translate(-50%)}.feed-container[_ngcontent-%COMP%], .posts-container[_ngcontent-%COMP%]{padding-top:70px;margin:0 auto}.footer[_ngcontent-%COMP%]{padding-bottom:40px}"]});let e=t;return e})();var RV=[{path:"",component:wT},{path:"signup",component:qk},{path:"reset",component:Hk},{path:"feed",component:Af}],Wk=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=gt({type:t}),t.\u0275inj=mt({imports:[ob.forRoot(RV),ob]});let e=t;return e})();var Gk=(()=>{let t=class t{constructor(){this.auth=new we,this.router=new ie}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Tt({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(r,s){r&1&&at(0,"router-outlet")},dependencies:[Zv]});let e=t;return e})();var OV="@",PV=(()=>{let t=class t{constructor(i,r,s,c,l){this.doc=i,this.delegate=r,this.zone=s,this.animationType=c,this.moduleImpl=l,this._rendererFactoryPromise=null,this.scheduler=q(yx,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-TLXJTWTK.js")).catch(r=>{throw new Vt(5300,!1)}).then(({\u0275createEngine:r,\u0275AnimationRendererFactory:s})=>{this._engine=r(this.animationType,this.doc,this.scheduler);let c=new s(this.delegate,this._engine,this.zone);return this.delegate=c,c})}createRenderer(i,r){let s=this.delegate.createRenderer(i,r);if(s.\u0275type===0)return s;typeof s.throwOnSyntheticProps=="boolean"&&(s.throwOnSyntheticProps=!1);let c=new m0(s);return r?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(l=>{let d=l.createRenderer(i,r);c.use(d)}).catch(l=>{c.use(s)}),c}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};t.\u0275fac=function(r){xs()},t.\u0275prov=W({token:t,factory:t.\u0275fac});let e=t;return e})(),m0=class{constructor(t){this.delegate=t,this.replay=[],this.\u0275type=1}use(t){if(this.delegate=t,this.replay!==null){for(let n of this.replay)n(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,n){return this.delegate.createElement(t,n)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,n){this.delegate.appendChild(t,n)}insertBefore(t,n,i,r){this.delegate.insertBefore(t,n,i,r)}removeChild(t,n,i){this.delegate.removeChild(t,n,i)}selectRootElement(t,n){return this.delegate.selectRootElement(t,n)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,n,i,r){this.delegate.setAttribute(t,n,i,r)}removeAttribute(t,n,i){this.delegate.removeAttribute(t,n,i)}addClass(t,n){this.delegate.addClass(t,n)}removeClass(t,n){this.delegate.removeClass(t,n)}setStyle(t,n,i,r){this.delegate.setStyle(t,n,i,r)}removeStyle(t,n,i){this.delegate.removeStyle(t,n,i)}setProperty(t,n,i){this.shouldReplay(n)&&this.replay.push(r=>r.setProperty(t,n,i)),this.delegate.setProperty(t,n,i)}setValue(t,n){this.delegate.setValue(t,n)}listen(t,n,i){return this.shouldReplay(n)&&this.replay.push(r=>r.listen(t,n,i)),this.delegate.listen(t,n,i)}shouldReplay(t){return this.replay!==null&&t.startsWith(OV)}};function $k(e="animations"){return _x("NgAsyncAnimations"),xd([{provide:Td,useFactory:(t,n,i)=>new PV(t,n,i,e),deps:[ct,jd,ht]},{provide:Un,useValue:e==="noop"?"NoopAnimations":"BrowserAnimations"}])}var Kk={production:!0,firebaseConfig:{apiKey:"AIzaSyDQSvJxcPBsFa6sttkCEwookpEp9Ghxsio",authDomain:"thing-702bc.firebaseapp.com",projectId:"thing-702bc",storageBucket:"thing-702bc.appspot.com",messagingSenderId:"855219867760",appId:"1:855219867760:web:6c89ba7257b02a332ca4b5",measurementId:"G-VZ7L6RQT3V"}};xD();var Vf=class{constructor(){this.listeners=new Map}downloadToLocalStorage(t){return new Promise((n,i)=>{if(t instanceof Array)this.getDownloadUrl({path:t,onComplete:r=>{n(r),window.open(r,"Download")},onFail:r=>{i(r)}});else try{window.open(t,"Download"),n()}catch(r){i(r)}})}upload(t){return new Promise((n,i)=>{let r=null,s=this.genStorageRef(t.path);r=t.data.metadata==null||t.data.metadata==null?s.put(t.data.data):s.put(t.data.data,t.data.metadata),r.on("state_changed",c=>{try{t.onUpload(c)}catch{}},c=>{i(c);try{t.onFail(c)}catch{}},()=>{s.getDownloadURL().then(c=>{n(c);try{t.onComplete(c)}catch{}})}),this.listeners.set(t.uploadName,r)})}deleteWithUrl(t){return new Promise((n,i)=>{Zt.getStorage().refFromURL(t.url).delete().then(()=>{n();try{t.onComplete()}catch{}}).catch(s=>{i(s);try{t.onFail(s)}catch{}})})}delete(t){return new Promise((n,i)=>{this.genStorageRef(t.path).delete().then(()=>{n();try{t.onComplete()}catch{}}).catch(s=>{i(s);try{t.onFail(s)}catch{}})})}getDownloadUrl(t){return new Promise((n,i)=>{let r=this.genStorageRef(t.path);try{r.getDownloadURL().then(s=>{n(s);try{t.onComplete(s)}catch{}})}catch(s){i(s);try{t.onFail(s)}catch{}}})}genStorageRef(t){let n=Zt.getStorage().ref();for(let i=0;i<t.length;i++)n=n.child(t[i]);return n}};var A0;try{A0=typeof Intl<"u"&&Intl.v8BreakIterator}catch{A0=!1}var Kt=(()=>{let t=class t{constructor(i){this._platformId=i,this.isBrowser=this._platformId?zx(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||A0)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};t.\u0275fac=function(r){return new(r||t)(D(po))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var nl;function u3(){if(nl==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>nl=!0}))}finally{nl=nl||!1}return nl}function Oa(e){return u3()?e:!!e.capture}var Bo;function CD(){if(Bo==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return Bo=!1,Bo;if("scrollBehavior"in document.documentElement.style)Bo=!0;else{let e=Element.prototype.scrollTo;e?Bo=!/\{\s*\[native code\]\s*\}/.test(e.toString()):Bo=!1}}return Bo}var S0;function l3(){if(S0==null){let e=typeof document<"u"?document.head:null;S0=!!(e&&(e.createShadowRoot||e.attachShadow))}return S0}function TD(e){if(l3()){let t=e.getRootNode?e.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function il(){let e=typeof document<"u"&&document?document.activeElement:null;for(;e&&e.shadowRoot;){let t=e.shadowRoot.activeElement;if(t===e)break;e=t}return e}function ui(e){return e.composedPath?e.composedPath()[0]:e.target}function rl(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Bf(e,...t){return t.length?t.some(n=>e[n]):e.altKey||e.shiftKey||e.ctrlKey||e.metaKey}function ol(e,t=0){return d3(e)?Number(e):t}function d3(e){return!isNaN(parseFloat(e))&&!isNaN(Number(e))}function Ma(e){return Array.isArray(e)?e:[e]}function re(e){return e==null?"":typeof e=="string"?e:`${e}px`}function Yi(e){return e instanceof Bt?e.nativeElement:e}var h3=(()=>{let t=class t{create(i){return typeof MutationObserver>"u"?null:new MutationObserver(i)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var SD=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=gt({type:t}),t.\u0275inj=mt({providers:[h3]});let e=t;return e})();var AD=new Set,zo,f3=(()=>{let t=class t{constructor(i,r){this._platform=i,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):m3}matchMedia(i){return(this._platform.WEBKIT||this._platform.BLINK)&&p3(i,this._nonce),this._matchMedia(i)}};t.\u0275fac=function(r){return new(r||t)(D(Kt),D(Oc,8))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function p3(e,t){if(!AD.has(e))try{zo||(zo=document.createElement("style"),t&&(zo.nonce=t),zo.setAttribute("type","text/css"),document.head.appendChild(zo)),zo.sheet&&(zo.sheet.insertRule(`@media ${e} {body{ }}`,0),AD.add(e))}catch(n){console.error(n)}}function m3(e){return{matches:e==="all"||e==="",media:e,addListener:()=>{},removeListener:()=>{}}}var DD=(()=>{let t=class t{constructor(i,r){this._mediaMatcher=i,this._zone=r,this._queries=new Map,this._destroySubject=new Ct}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(i){return kD(Ma(i)).some(s=>this._registerQuery(s).mql.matches)}observe(i){let s=kD(Ma(i)).map(l=>this._registerQuery(l).observable),c=ys(s);return c=_d(c.pipe(ye(1)),c.pipe(Id(1),qg(0))),c.pipe(pt(l=>{let d={matches:!1,breakpoints:{}};return l.forEach(({matches:f,query:m})=>{d.matches=d.matches||f,d.breakpoints[m]=f}),d}))}_registerQuery(i){if(this._queries.has(i))return this._queries.get(i);let r=this._mediaMatcher.matchMedia(i),c={observable:new Tc(l=>{let d=f=>this._zone.run(()=>l.next(f));return r.addListener(d),()=>{r.removeListener(d)}}).pipe(Li(r),pt(({matches:l})=>({query:i,matches:l})),Fi(this._destroySubject)),mql:r};return this._queries.set(i,c),c}};t.\u0275fac=function(r){return new(r||t)(D(f3),D(ht))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function kD(e){return e.map(t=>t.split(",")).reduce((t,n)=>t.concat(n)).map(t=>t.trim())}var sl=(()=>{let t=class t{constructor(i){this._platform=i}isDisabled(i){return i.hasAttribute("disabled")}isVisible(i){return v3(i)&&getComputedStyle(i).visibility==="visible"}isTabbable(i){if(!this._platform.isBrowser)return!1;let r=g3(C3(i));if(r&&(RD(r)===-1||!this.isVisible(r)))return!1;let s=i.nodeName.toLowerCase(),c=RD(i);return i.hasAttribute("contenteditable")?c!==-1:s==="iframe"||s==="object"||this._platform.WEBKIT&&this._platform.IOS&&!E3(i)?!1:s==="audio"?i.hasAttribute("controls")?c!==-1:!1:s==="video"?c===-1?!1:c!==null?!0:this._platform.FIREFOX||i.hasAttribute("controls"):i.tabIndex>=0}isFocusable(i,r){return x3(i)&&!this.isDisabled(i)&&(r?.ignoreVisibility||this.isVisible(i))}};t.\u0275fac=function(r){return new(r||t)(D(Kt))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function g3(e){try{return e.frameElement}catch{return null}}function v3(e){return!!(e.offsetWidth||e.offsetHeight||typeof e.getClientRects=="function"&&e.getClientRects().length)}function b3(e){let t=e.nodeName.toLowerCase();return t==="input"||t==="select"||t==="button"||t==="textarea"}function y3(e){return w3(e)&&e.type=="hidden"}function _3(e){return I3(e)&&e.hasAttribute("href")}function w3(e){return e.nodeName.toLowerCase()=="input"}function I3(e){return e.nodeName.toLowerCase()=="a"}function MD(e){if(!e.hasAttribute("tabindex")||e.tabIndex===void 0)return!1;let t=e.getAttribute("tabindex");return!!(t&&!isNaN(parseInt(t,10)))}function RD(e){if(!MD(e))return null;let t=parseInt(e.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}function E3(e){let t=e.nodeName.toLowerCase(),n=t==="input"&&e.type;return n==="text"||n==="password"||t==="select"||t==="textarea"}function x3(e){return y3(e)?!1:b3(e)||_3(e)||e.hasAttribute("contenteditable")||MD(e)}function C3(e){return e.ownerDocument&&e.ownerDocument.defaultView||window}var D0=class{get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}constructor(t,n,i,r,s=!1){this._element=t,this._checker=n,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}destroy(){let t=this._startAnchor,n=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),n&&(n.removeEventListener("focus",this.endAnchorListener),n.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(n=>{this._executeOnStable(()=>n(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(n=>{this._executeOnStable(()=>n(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(n=>{this._executeOnStable(()=>n(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){let n=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return t=="start"?n.length?n[0]:this._getFirstTabbableElement(this._element):n.length?n[n.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){let n=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(n){if(!this._checker.isFocusable(n)){let i=this._getFirstTabbableElement(n);return i?.focus(t),!!i}return n.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){let n=this._getRegionBoundary("start");return n&&n.focus(t),!!n}focusLastTabbableElement(t){let n=this._getRegionBoundary("end");return n&&n.focus(t),!!n}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let n=t.children;for(let i=0;i<n.length;i++){let r=n[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(n[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let n=t.children;for(let i=n.length-1;i>=0;i--){let r=n[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(n[i]):null;if(r)return r}return null}_createAnchor(){let t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,n){t?n.setAttribute("tabindex","0"):n.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(ye(1)).subscribe(t)}},Hf=(()=>{let t=class t{constructor(i,r,s){this._checker=i,this._ngZone=r,this._document=s}create(i,r=!1){return new D0(i,this._checker,this._ngZone,this._document,r)}};t.\u0275fac=function(r){return new(r||t)(D(sl),D(ht),D(ct))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function R0(e){return e.buttons===0||e.detail===0}function O0(e){let t=e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0];return!!t&&t.identifier===-1&&(t.radiusX==null||t.radiusX===1)&&(t.radiusY==null||t.radiusY===1)}var T3=new dt("cdk-input-modality-detector-options"),S3={ignoreKeys:[18,17,224,91,16]},ND=650,Na=Oa({passive:!0,capture:!0}),A3=(()=>{let t=class t{get mostRecentModality(){return this._modality.value}constructor(i,r,s,c){this._platform=i,this._mostRecentTarget=null,this._modality=new sn(null),this._lastTouchMs=0,this._onKeydown=l=>{this._options?.ignoreKeys?.some(d=>d===l.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=ui(l))},this._onMousedown=l=>{Date.now()-this._lastTouchMs<ND||(this._modality.next(R0(l)?"keyboard":"mouse"),this._mostRecentTarget=ui(l))},this._onTouchstart=l=>{if(O0(l)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=ui(l)},this._options=V(V({},S3),c),this.modalityDetected=this._modality.pipe(Id(1)),this.modalityChanged=this.modalityDetected.pipe(Wg()),i.isBrowser&&r.runOutsideAngular(()=>{s.addEventListener("keydown",this._onKeydown,Na),s.addEventListener("mousedown",this._onMousedown,Na),s.addEventListener("touchstart",this._onTouchstart,Na)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Na),document.removeEventListener("mousedown",this._onMousedown,Na),document.removeEventListener("touchstart",this._onTouchstart,Na))}};t.\u0275fac=function(r){return new(r||t)(D(Kt),D(ht),D(ct),D(T3,8))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var qf=function(e){return e[e.IMMEDIATE=0]="IMMEDIATE",e[e.EVENTUAL=1]="EVENTUAL",e}(qf||{}),k3=new dt("cdk-focus-monitor-default-options"),zf=Oa({passive:!0,capture:!0}),La=(()=>{let t=class t{constructor(i,r,s,c,l){this._ngZone=i,this._platform=r,this._inputModalityDetector=s,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Ct,this._rootNodeFocusAndBlurListener=d=>{let f=ui(d);for(let m=f;m;m=m.parentElement)d.type==="focus"?this._onFocus(d,m):this._onBlur(d,m)},this._document=c,this._detectionMode=l?.detectionMode||qf.IMMEDIATE}monitor(i,r=!1){let s=Yi(i);if(!this._platform.isBrowser||s.nodeType!==1)return Y();let c=TD(s)||this._getDocument(),l=this._elementInfo.get(s);if(l)return r&&(l.checkChildren=!0),l.subject;let d={checkChildren:r,subject:new Ct,rootNode:c};return this._elementInfo.set(s,d),this._registerGlobalListeners(d),d.subject}stopMonitoring(i){let r=Yi(i),s=this._elementInfo.get(r);s&&(s.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(s))}focusVia(i,r,s){let c=Yi(i),l=this._getDocument().activeElement;c===l?this._getClosestElementsInfo(c).forEach(([d,f])=>this._originChanged(d,r,f)):(this._setOrigin(r),typeof c.focus=="function"&&c.focus(s))}ngOnDestroy(){this._elementInfo.forEach((i,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(i){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(i)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:i&&this._isLastInteractionFromInputLabel(i)?"mouse":"program"}_shouldBeAttributedToTouch(i){return this._detectionMode===qf.EVENTUAL||!!i?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(i,r){i.classList.toggle("cdk-focused",!!r),i.classList.toggle("cdk-touch-focused",r==="touch"),i.classList.toggle("cdk-keyboard-focused",r==="keyboard"),i.classList.toggle("cdk-mouse-focused",r==="mouse"),i.classList.toggle("cdk-program-focused",r==="program")}_setOrigin(i,r=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=i,this._originFromTouchInteraction=i==="touch"&&r,this._detectionMode===qf.IMMEDIATE){clearTimeout(this._originTimeoutId);let s=this._originFromTouchInteraction?ND:1;this._originTimeoutId=setTimeout(()=>this._origin=null,s)}})}_onFocus(i,r){let s=this._elementInfo.get(r),c=ui(i);!s||!s.checkChildren&&r!==c||this._originChanged(r,this._getFocusOrigin(c),s)}_onBlur(i,r){let s=this._elementInfo.get(r);!s||s.checkChildren&&i.relatedTarget instanceof Node&&r.contains(i.relatedTarget)||(this._setClasses(r),this._emitOrigin(s,null))}_emitOrigin(i,r){i.subject.observers.length&&this._ngZone.run(()=>i.subject.next(r))}_registerGlobalListeners(i){if(!this._platform.isBrowser)return;let r=i.rootNode,s=this._rootNodeFocusListenerCount.get(r)||0;s||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,zf),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,zf)}),this._rootNodeFocusListenerCount.set(r,s+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Fi(this._stopInputModalityDetector)).subscribe(c=>{this._setOrigin(c,!0)}))}_removeGlobalListeners(i){let r=i.rootNode;if(this._rootNodeFocusListenerCount.has(r)){let s=this._rootNodeFocusListenerCount.get(r);s>1?this._rootNodeFocusListenerCount.set(r,s-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,zf),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,zf),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(i,r,s){this._setClasses(i,r),this._emitOrigin(s,r),this._lastFocusOrigin=r}_getClosestElementsInfo(i){let r=[];return this._elementInfo.forEach((s,c)=>{(c===i||s.checkChildren&&c.contains(i))&&r.push([c,s])}),r}_isLastInteractionFromInputLabel(i){let{_mostRecentTarget:r,mostRecentModality:s}=this._inputModalityDetector;if(s!=="mouse"||!r||r===i||i.nodeName!=="INPUT"&&i.nodeName!=="TEXTAREA"||i.disabled)return!1;let c=i.labels;if(c){for(let l=0;l<c.length;l++)if(c[l].contains(r))return!0}return!1}};t.\u0275fac=function(r){return new(r||t)(D(ht),D(Kt),D(A3),D(ct,8),D(k3,8))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var qo=function(e){return e[e.NONE=0]="NONE",e[e.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",e[e.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",e}(qo||{}),OD="cdk-high-contrast-black-on-white",PD="cdk-high-contrast-white-on-black",k0="cdk-high-contrast-active",P0=(()=>{let t=class t{constructor(i,r){this._platform=i,this._document=r,this._breakpointSubscription=q(DD).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return qo.NONE;let i=this._document.createElement("div");i.style.backgroundColor="rgb(1,2,3)",i.style.position="absolute",this._document.body.appendChild(i);let r=this._document.defaultView||window,s=r&&r.getComputedStyle?r.getComputedStyle(i):null,c=(s&&s.backgroundColor||"").replace(/ /g,"");switch(i.remove(),c){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return qo.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return qo.BLACK_ON_WHITE}return qo.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let i=this._document.body.classList;i.remove(k0,OD,PD),this._hasCheckedHighContrastMode=!0;let r=this.getHighContrastMode();r===qo.BLACK_ON_WHITE?i.add(k0,OD):r===qo.WHITE_ON_BLACK&&i.add(k0,PD)}}};t.\u0275fac=function(r){return new(r||t)(D(Kt),D(ct))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),LD=(()=>{let t=class t{constructor(i){i._applyBodyHighContrastModeCssClasses()}};t.\u0275fac=function(r){return new(r||t)(D(P0))},t.\u0275mod=gt({type:t}),t.\u0275inj=mt({imports:[SD]});let e=t;return e})();var D3=new dt("cdk-dir-doc",{providedIn:"root",factory:R3});function R3(){return q(ct)}var O3=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function P3(e){let t=e?.toLowerCase()||"";return t==="auto"&&typeof navigator<"u"&&navigator?.language?O3.test(navigator.language)?"rtl":"ltr":t==="rtl"?"rtl":"ltr"}var al=(()=>{let t=class t{constructor(i){if(this.value="ltr",this.change=new un,i){let r=i.body?i.body.dir:null,s=i.documentElement?i.documentElement.dir:null;this.value=P3(r||s||"ltr")}}ngOnDestroy(){this.change.complete()}};t.\u0275fac=function(r){return new(r||t)(D(D3,8))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Ur=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=gt({type:t}),t.\u0275inj=mt({});let e=t;return e})();function N3(){return!0}var L3=new dt("mat-sanity-checks",{providedIn:"root",factory:N3}),Oe=(()=>{let t=class t{constructor(i,r,s){this._sanityChecks=r,this._document=s,this._hasDoneGlobalChecks=!1,i._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(i){return rl()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[i]}};t.\u0275fac=function(r){return new(r||t)(D(P0),D(L3,8),D(ct))},t.\u0275mod=gt({type:t}),t.\u0275inj=mt({imports:[Ur,Ur]});let e=t;return e})();var Gn=function(e){return e[e.FADING_IN=0]="FADING_IN",e[e.VISIBLE=1]="VISIBLE",e[e.FADING_OUT=2]="FADING_OUT",e[e.HIDDEN=3]="HIDDEN",e}(Gn||{}),j0=class{constructor(t,n,i,r=!1){this._renderer=t,this.element=n,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=Gn.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},FD=Oa({passive:!0,capture:!0}),U0=class{constructor(){this._events=new Map,this._delegateEventHandler=t=>{let n=ui(t);n&&this._events.get(t.type)?.forEach((i,r)=>{(r===n||r.contains(n))&&i.forEach(s=>s.handleEvent(t))})}}addHandler(t,n,i,r){let s=this._events.get(n);if(s){let c=s.get(i);c?c.add(r):s.set(i,new Set([r]))}else this._events.set(n,new Map([[i,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(n,this._delegateEventHandler,FD)})}removeHandler(t,n,i){let r=this._events.get(t);if(!r)return;let s=r.get(n);s&&(s.delete(i),s.size===0&&r.delete(n),r.size===0&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,FD)))}},jD={enterDuration:225,exitDuration:150},F3=800,UD=Oa({passive:!0,capture:!0}),VD=["mousedown","touchstart"],BD=["mouseup","mouseleave","touchend","touchcancel"],cl=class cl{constructor(t,n,i,r){this._target=t,this._ngZone=n,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Yi(i))}fadeInRipple(t,n,i={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=V(V({},jD),i.animation);i.centered&&(t=r.left+r.width/2,n=r.top+r.height/2);let c=i.radius||j3(t,n,r),l=t-r.left,d=n-r.top,f=s.enterDuration,m=document.createElement("div");m.classList.add("mat-ripple-element"),m.style.left=`${l-c}px`,m.style.top=`${d-c}px`,m.style.height=`${c*2}px`,m.style.width=`${c*2}px`,i.color!=null&&(m.style.backgroundColor=i.color),m.style.transitionDuration=`${f}ms`,this._containerElement.appendChild(m);let v=window.getComputedStyle(m),y=v.transitionProperty,_=v.transitionDuration,I=y==="none"||_==="0s"||_==="0s, 0s"||r.width===0&&r.height===0,E=new j0(this,m,i,I);m.style.transform="scale3d(1, 1, 1)",E.state=Gn.FADING_IN,i.persistent||(this._mostRecentTransientRipple=E);let C=null;return!I&&(f||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let R=()=>this._finishRippleTransition(E),L=()=>this._destroyRipple(E);m.addEventListener("transitionend",R),m.addEventListener("transitioncancel",L),C={onTransitionEnd:R,onTransitionCancel:L}}),this._activeRipples.set(E,C),(I||!f)&&this._finishRippleTransition(E),E}fadeOutRipple(t){if(t.state===Gn.FADING_OUT||t.state===Gn.HIDDEN)return;let n=t.element,i=V(V({},jD),t.config.animation);n.style.transitionDuration=`${i.exitDuration}ms`,n.style.opacity="0",t.state=Gn.FADING_OUT,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){let n=Yi(t);!this._platform.isBrowser||!n||n===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=n,VD.forEach(i=>{cl._eventManager.addHandler(this._ngZone,i,n,this)}))}handleEvent(t){t.type==="mousedown"?this._onMousedown(t):t.type==="touchstart"?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{BD.forEach(n=>{this._triggerElement.addEventListener(n,this,UD)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){t.state===Gn.FADING_IN?this._startFadeOutTransition(t):t.state===Gn.FADING_OUT&&this._destroyRipple(t)}_startFadeOutTransition(t){let n=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=Gn.VISIBLE,!i&&(!n||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){let n=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=Gn.HIDDEN,n!==null&&(t.element.removeEventListener("transitionend",n.onTransitionEnd),t.element.removeEventListener("transitioncancel",n.onTransitionCancel)),t.element.remove()}_onMousedown(t){let n=R0(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+F3;!this._target.rippleDisabled&&!n&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!O0(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let n=t.changedTouches;if(n)for(let i=0;i<n.length;i++)this.fadeInRipple(n[i].clientX,n[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{let n=t.state===Gn.VISIBLE||t.config.terminateOnPointerUp&&t.state===Gn.FADING_IN;!t.config.persistent&&n&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let t=this._triggerElement;t&&(VD.forEach(n=>cl._eventManager.removeHandler(n,t,this)),this._pointerUpEventsRegistered&&BD.forEach(n=>t.removeEventListener(n,this,UD)))}};cl._eventManager=new U0;var V0=cl;function j3(e,t,n){let i=Math.max(Math.abs(e-n.left),Math.abs(e-n.right)),r=Math.max(Math.abs(t-n.top),Math.abs(t-n.bottom));return Math.sqrt(i*i+r*r)}var WD=new dt("mat-ripple-global-options"),U3=(()=>{let t=class t{get disabled(){return this._disabled}set disabled(i){i&&this.fadeOutAllNonPersistent(),this._disabled=i,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(i){this._trigger=i,this._setupTriggerEventsIfEnabled()}constructor(i,r,s,c,l){this._elementRef=i,this._animationMode=l,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=c||{},this._rippleRenderer=new V0(this,r,i,s)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:V(V(V({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(i,r=0,s){return typeof i=="number"?this._rippleRenderer.fadeInRipple(i,r,V(V({},this.rippleConfig),s)):this._rippleRenderer.fadeInRipple(0,0,V(V({},this.rippleConfig),i))}};t.\u0275fac=function(r){return new(r||t)(X(Bt),X(ht),X(Kt),X(WD,8),X(Un,8))},t.\u0275dir=ge({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(r,s){r&2&&hn("mat-ripple-unbounded",s.unbounded)},inputs:{color:[Gt.None,"matRippleColor","color"],unbounded:[Gt.None,"matRippleUnbounded","unbounded"],centered:[Gt.None,"matRippleCentered","centered"],radius:[Gt.None,"matRippleRadius","radius"],animation:[Gt.None,"matRippleAnimation","animation"],disabled:[Gt.None,"matRippleDisabled","disabled"],trigger:[Gt.None,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0});let e=t;return e})(),GD=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=gt({type:t}),t.\u0275inj=mt({imports:[Oe,Oe]});let e=t;return e})();var zD={capture:!0},qD=["focus","click","mouseenter","touchstart"],L0="mat-ripple-loader-uninitialized",F0="mat-ripple-loader-class-name",HD="mat-ripple-loader-centered",Wf="mat-ripple-loader-disabled",$D=(()=>{let t=class t{constructor(){this._document=q(ct,{optional:!0}),this._animationMode=q(Un,{optional:!0}),this._globalRippleOptions=q(WD,{optional:!0}),this._platform=q(Kt),this._ngZone=q(ht),this._hosts=new Map,this._onInteraction=i=>{if(!(i.target instanceof HTMLElement))return;let s=i.target.closest(`[${L0}]`);s&&this._createRipple(s)},this._ngZone.runOutsideAngular(()=>{for(let i of qD)this._document?.addEventListener(i,this._onInteraction,zD)})}ngOnDestroy(){let i=this._hosts.keys();for(let r of i)this.destroyRipple(r);for(let r of qD)this._document?.removeEventListener(r,this._onInteraction,zD)}configureRipple(i,r){i.setAttribute(L0,""),(r.className||!i.hasAttribute(F0))&&i.setAttribute(F0,r.className||""),r.centered&&i.setAttribute(HD,""),r.disabled&&i.setAttribute(Wf,"")}getRipple(i){return this._hosts.get(i)||this._createRipple(i)}setDisabled(i,r){let s=this._hosts.get(i);if(s){s.disabled=r;return}r?i.setAttribute(Wf,""):i.removeAttribute(Wf)}_createRipple(i){if(!this._document)return;let r=this._hosts.get(i);if(r)return r;i.querySelector(".mat-ripple")?.remove();let s=this._document.createElement("span");s.classList.add("mat-ripple",i.getAttribute(F0)),i.append(s);let c=new U3(new Bt(s),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return c._isInitialized=!0,c.trigger=i,c.centered=i.hasAttribute(HD),c.disabled=i.hasAttribute(Wf),this.attachRipple(i,c),c}attachRipple(i,r){i.removeAttribute(L0),this._hosts.set(i,r)}destroyRipple(i){let r=this._hosts.get(i);r&&(r.ngOnDestroy(),this._hosts.delete(i))}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var V3=["mat-button",""],B3=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],z3=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var q3=new dt("MAT_BUTTON_CONFIG");var H3=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],W3=(()=>{let t=class t{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(i){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,i)}get disableRipple(){return this._disableRipple}set disableRipple(i){this._disableRipple=i,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(i){this._disabled=i,this._updateRippleDisabled()}constructor(i,r,s,c){this._elementRef=i,this._platform=r,this._ngZone=s,this._animationMode=c,this._focusMonitor=q(La),this._rippleLoader=q($D),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;let l=q(q3,{optional:!0}),d=i.nativeElement,f=d.classList;this.disabledInteractive=l?.disabledInteractive??!1,this._rippleLoader?.configureRipple(d,{className:"mat-mdc-button-ripple"});for(let{attribute:m,mdcClasses:v}of H3)d.hasAttribute(m)&&f.add(...v)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(i="program",r){i?this._focusMonitor.focusVia(this._elementRef.nativeElement,i,r):this._elementRef.nativeElement.focus(r)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}};t.\u0275fac=function(r){xs()},t.\u0275dir=ge({type:t,inputs:{color:"color",disableRipple:[Gt.HasDecoratorInputTransform,"disableRipple","disableRipple",ri],disabled:[Gt.HasDecoratorInputTransform,"disabled","disabled",ri],ariaDisabled:[Gt.HasDecoratorInputTransform,"aria-disabled","ariaDisabled",ri],disabledInteractive:[Gt.HasDecoratorInputTransform,"disabledInteractive","disabledInteractive",ri]},features:[yi]});let e=t;return e})();var Gf=(()=>{let t=class t extends W3{constructor(i,r,s,c){super(i,r,s,c)}};t.\u0275fac=function(r){return new(r||t)(X(Bt),X(Kt),X(ht),X(Un,8))},t.\u0275cmp=Tt({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(r,s){r&2&&(ei("disabled",s._getDisabledAttribute())("aria-disabled",s._getAriaDisabled()),Nc(s.color?"mat-"+s.color:""),hn("mat-mdc-button-disabled",s.disabled)("mat-mdc-button-disabled-interactive",s.disabledInteractive)("_mat-animation-noopable",s._animationMode==="NoopAnimations")("mat-unthemed",!s.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[ji,We],attrs:V3,ngContentSelectors:z3,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,s){r&1&&(Ui(B3),at(0,"span",0),ii(1),N(2,"span",1),ii(3,1),U(),ii(4,2),at(5,"span",2)(6,"span",3)),r&2&&hn("mdc-button__ripple",!s._isFab)("mdc-fab__ripple",s._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px);display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);font-weight:var(--mdc-text-button-label-text-weight);text-transform:var(--mdc-text-button-label-text-transform);height:var(--mdc-text-button-container-height);border-radius:var(--mdc-text-button-container-shape);padding:0 var(--mat-text-button-horizontal-padding, 8px)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);font-weight:var(--mdc-filled-button-label-text-weight);text-transform:var(--mdc-filled-button-label-text-transform);height:var(--mdc-filled-button-container-height);border-radius:var(--mdc-filled-button-container-shape);padding:0 var(--mat-filled-button-horizontal-padding, 16px)}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color)}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);font-weight:var(--mdc-protected-button-label-text-weight);text-transform:var(--mdc-protected-button-label-text-transform);height:var(--mdc-protected-button-container-height);border-radius:var(--mdc-protected-button-container-shape);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow)}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color)}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);font-weight:var(--mdc-outlined-button-label-text-weight);text-transform:var(--mdc-outlined-button-label-text-transform);height:var(--mdc-outlined-button-container-height);border-radius:var(--mdc-outlined-button-container-shape);padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width);padding:0 var(--mat-outlined-button-horizontal-padding, 15px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color)}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape)}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width))}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button-base{text-decoration:none}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0});let e=t;return e})();var KD=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=gt({type:t}),t.\u0275inj=mt({imports:[Oe,GD,Oe]});let e=t;return e})();var G3=["*"],$f;function $3(){if($f===void 0&&($f=null,typeof window<"u")){let e=window;e.trustedTypes!==void 0&&($f=e.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return $f}function ul(e){return $3()?.createHTML(e)||e}function XD(e){return Error(`Unable to find icon with the name "${e}"`)}function K3(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}function QD(e){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${e}".`)}function ZD(e){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${e}".`)}var Xi=class{constructor(t,n,i){this.url=t,this.svgText=n,this.options=i}},Y3=(()=>{let t=class t{constructor(i,r,s,c){this._httpClient=i,this._sanitizer=r,this._errorHandler=c,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=s}addSvgIcon(i,r,s){return this.addSvgIconInNamespace("",i,r,s)}addSvgIconLiteral(i,r,s){return this.addSvgIconLiteralInNamespace("",i,r,s)}addSvgIconInNamespace(i,r,s,c){return this._addSvgIconConfig(i,r,new Xi(s,null,c))}addSvgIconResolver(i){return this._resolvers.push(i),this}addSvgIconLiteralInNamespace(i,r,s,c){let l=this._sanitizer.sanitize(Cn.HTML,s);if(!l)throw ZD(s);let d=ul(l);return this._addSvgIconConfig(i,r,new Xi("",d,c))}addSvgIconSet(i,r){return this.addSvgIconSetInNamespace("",i,r)}addSvgIconSetLiteral(i,r){return this.addSvgIconSetLiteralInNamespace("",i,r)}addSvgIconSetInNamespace(i,r,s){return this._addSvgIconSetConfig(i,new Xi(r,null,s))}addSvgIconSetLiteralInNamespace(i,r,s){let c=this._sanitizer.sanitize(Cn.HTML,r);if(!c)throw ZD(r);let l=ul(c);return this._addSvgIconSetConfig(i,new Xi("",l,s))}registerFontClassAlias(i,r=i){return this._fontCssClassesByAlias.set(i,r),this}classNameForFontAlias(i){return this._fontCssClassesByAlias.get(i)||i}setDefaultFontSetClass(...i){return this._defaultFontSetClass=i,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(i){let r=this._sanitizer.sanitize(Cn.RESOURCE_URL,i);if(!r)throw QD(i);let s=this._cachedIconsByUrl.get(r);return s?Y(Kf(s)):this._loadSvgIconFromConfig(new Xi(i,null)).pipe(Xt(c=>this._cachedIconsByUrl.set(r,c)),pt(c=>Kf(c)))}getNamedSvgIcon(i,r=""){let s=JD(r,i),c=this._svgIconConfigs.get(s);if(c)return this._getSvgFromConfig(c);if(c=this._getIconConfigFromResolvers(r,i),c)return this._svgIconConfigs.set(s,c),this._getSvgFromConfig(c);let l=this._iconSetConfigs.get(r);return l?this._getSvgFromIconSetConfigs(i,l):uo(XD(s))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(i){return i.svgText?Y(Kf(this._svgElementFromConfig(i))):this._loadSvgIconFromConfig(i).pipe(pt(r=>Kf(r)))}_getSvgFromIconSetConfigs(i,r){let s=this._extractIconWithNameFromAnySet(i,r);if(s)return Y(s);let c=r.filter(l=>!l.svgText).map(l=>this._loadSvgIconSetFromConfig(l).pipe(cr(d=>{let m=`Loading icon set URL: ${this._sanitizer.sanitize(Cn.RESOURCE_URL,l.url)} failed: ${d.message}`;return this._errorHandler.handleError(new Error(m)),Y(null)})));return ex(c).pipe(pt(()=>{let l=this._extractIconWithNameFromAnySet(i,r);if(!l)throw XD(i);return l}))}_extractIconWithNameFromAnySet(i,r){for(let s=r.length-1;s>=0;s--){let c=r[s];if(c.svgText&&c.svgText.toString().indexOf(i)>-1){let l=this._svgElementFromConfig(c),d=this._extractSvgIconFromSet(l,i,c.options);if(d)return d}}return null}_loadSvgIconFromConfig(i){return this._fetchIcon(i).pipe(Xt(r=>i.svgText=r),pt(()=>this._svgElementFromConfig(i)))}_loadSvgIconSetFromConfig(i){return i.svgText?Y(null):this._fetchIcon(i).pipe(Xt(r=>i.svgText=r))}_extractSvgIconFromSet(i,r,s){let c=i.querySelector(`[id="${r}"]`);if(!c)return null;let l=c.cloneNode(!0);if(l.removeAttribute("id"),l.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(l,s);if(l.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(l),s);let d=this._svgElementFromString(ul("<svg></svg>"));return d.appendChild(l),this._setSvgAttributes(d,s)}_svgElementFromString(i){let r=this._document.createElement("DIV");r.innerHTML=i;let s=r.querySelector("svg");if(!s)throw Error("<svg> tag not found");return s}_toSvgElement(i){let r=this._svgElementFromString(ul("<svg></svg>")),s=i.attributes;for(let c=0;c<s.length;c++){let{name:l,value:d}=s[c];l!=="id"&&r.setAttribute(l,d)}for(let c=0;c<i.childNodes.length;c++)i.childNodes[c].nodeType===this._document.ELEMENT_NODE&&r.appendChild(i.childNodes[c].cloneNode(!0));return r}_setSvgAttributes(i,r){return i.setAttribute("fit",""),i.setAttribute("height","100%"),i.setAttribute("width","100%"),i.setAttribute("preserveAspectRatio","xMidYMid meet"),i.setAttribute("focusable","false"),r&&r.viewBox&&i.setAttribute("viewBox",r.viewBox),i}_fetchIcon(i){let{url:r,options:s}=i,c=s?.withCredentials??!1;if(!this._httpClient)throw K3();if(r==null)throw Error(`Cannot fetch icon from URL "${r}".`);let l=this._sanitizer.sanitize(Cn.RESOURCE_URL,r);if(!l)throw QD(r);let d=this._inProgressUrlFetches.get(l);if(d)return d;let f=this._httpClient.get(l,{responseType:"text",withCredentials:c}).pipe(pt(m=>ul(m)),ho(()=>this._inProgressUrlFetches.delete(l)),sx());return this._inProgressUrlFetches.set(l,f),f}_addSvgIconConfig(i,r,s){return this._svgIconConfigs.set(JD(i,r),s),this}_addSvgIconSetConfig(i,r){let s=this._iconSetConfigs.get(i);return s?s.push(r):this._iconSetConfigs.set(i,[r]),this}_svgElementFromConfig(i){if(!i.svgElement){let r=this._svgElementFromString(i.svgText);this._setSvgAttributes(r,i.options),i.svgElement=r}return i.svgElement}_getIconConfigFromResolvers(i,r){for(let s=0;s<this._resolvers.length;s++){let c=this._resolvers[s](r,i);if(c)return X3(c)?new Xi(c.url,null,c.options):new Xi(c,null)}}};t.\u0275fac=function(r){return new(r||t)(D(Qx,8),D(bv),D(ct,8),D(fo))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Kf(e){return e.cloneNode(!0)}function JD(e,t){return e+":"+t}function X3(e){return!!(e.url&&e.options)}var Q3=new dt("MAT_ICON_DEFAULT_OPTIONS"),Z3=new dt("mat-icon-location",{providedIn:"root",factory:J3});function J3(){let e=q(ct),t=e?e.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}var tR=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],tz=tR.map(e=>`[${e}]`).join(", "),ez=/^url\(['"]?#(.*?)['"]?\)$/,Yf=(()=>{let t=class t{get color(){return this._color||this._defaultColor}set color(i){this._color=i}get svgIcon(){return this._svgIcon}set svgIcon(i){i!==this._svgIcon&&(i?this._updateSvgIcon(i):this._svgIcon&&this._clearSvgElement(),this._svgIcon=i)}get fontSet(){return this._fontSet}set fontSet(i){let r=this._cleanupFontValue(i);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(i){let r=this._cleanupFontValue(i);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}constructor(i,r,s,c,l,d){this._elementRef=i,this._iconRegistry=r,this._location=c,this._errorHandler=l,this.inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Ni.EMPTY,d&&(d.color&&(this.color=this._defaultColor=d.color),d.fontSet&&(this.fontSet=d.fontSet)),s||i.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(i){if(!i)return["",""];let r=i.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${i}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let i=this._elementsWithExternalReferences;if(i&&i.size){let r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(i){this._clearSvgElement();let r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(i),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(i)}_clearSvgElement(){let i=this._elementRef.nativeElement,r=i.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){let s=i.childNodes[r];(s.nodeType!==1||s.nodeName.toLowerCase()==="svg")&&s.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let i=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(s=>s.length>0);this._previousFontSetClass.forEach(s=>i.classList.remove(s)),r.forEach(s=>i.classList.add(s)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&i.classList.remove(this._previousFontIconClass),this.fontIcon&&i.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(i){return typeof i=="string"?i.trim().split(" ")[0]:i}_prependPathToReferences(i){let r=this._elementsWithExternalReferences;r&&r.forEach((s,c)=>{s.forEach(l=>{c.setAttribute(l.name,`url('${i}#${l.value}')`)})})}_cacheChildrenWithExternalReferences(i){let r=i.querySelectorAll(tz),s=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let c=0;c<r.length;c++)tR.forEach(l=>{let d=r[c],f=d.getAttribute(l),m=f?f.match(ez):null;if(m){let v=s.get(d);v||(v=[],s.set(d,v)),v.push({name:l,value:m[1]})}})}_updateSvgIcon(i){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),i){let[r,s]=this._splitIconName(i);r&&(this._svgNamespace=r),s&&(this._svgName=s),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(s,r).pipe(ye(1)).subscribe(c=>this._setSvgElement(c),c=>{let l=`Error retrieving icon ${r}:${s}! ${c.message}`;this._errorHandler.handleError(new Error(l))})}}};t.\u0275fac=function(r){return new(r||t)(X(Bt),X(Y3),Yg("aria-hidden"),X(Z3),X(fo),X(Q3,8))},t.\u0275cmp=Tt({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(r,s){r&2&&(ei("data-mat-icon-type",s._usingFontIcon()?"font":"svg")("data-mat-icon-name",s._svgName||s.fontIcon)("data-mat-icon-namespace",s._svgNamespace||s.fontSet)("fontIcon",s._usingFontIcon()?s.fontIcon:null),Nc(s.color?"mat-"+s.color:""),hn("mat-icon-inline",s.inline)("mat-icon-no-color",s.color!=="primary"&&s.color!=="accent"&&s.color!=="warn"))},inputs:{color:"color",inline:[Gt.HasDecoratorInputTransform,"inline","inline",ri],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],standalone:!0,features:[yi,We],ngContentSelectors:G3,decls:1,vars:0,template:function(r,s){r&1&&(Ui(),ii(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0});let e=t;return e})(),eR=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=gt({type:t}),t.\u0275inj=mt({imports:[Oe,Oe]});let e=t;return e})();var nz=["*"];var iz=new dt("MAT_CARD_CONFIG"),Xf=(()=>{let t=class t{constructor(i){this.appearance=i?.appearance||"raised"}};t.\u0275fac=function(r){return new(r||t)(X(iz,8))},t.\u0275cmp=Tt({type:t,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(r,s){r&2&&hn("mat-mdc-card-outlined",s.appearance==="outlined")("mdc-card--outlined",s.appearance==="outlined")},inputs:{appearance:"appearance"},exportAs:["matCard"],standalone:!0,features:[We],ngContentSelectors:nz,decls:1,vars:0,template:function(r,s){r&1&&(Ui(),ii(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation)}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0});let e=t;return e})();var iR=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=ge({type:t,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"],standalone:!0});let e=t;return e})();var Qf=(()=>{let t=class t{constructor(){this.align="start"}};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=ge({type:t,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-mdc-card-actions","mdc-card__actions"],hostVars:2,hostBindings:function(r,s){r&2&&hn("mat-mdc-card-actions-align-end",s.align==="end")},inputs:{align:"align"},exportAs:["matCardActions"],standalone:!0});let e=t;return e})();var rR=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=ge({type:t,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-mdc-card-image","mdc-card__media"],standalone:!0});let e=t;return e})();var oR=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=gt({type:t}),t.\u0275inj=mt({imports:[Oe,Nd,Oe]});let e=t;return e})();function rz(e,t){e&1&&(N(0,"div",10),at(1,"img",11),U())}var aR=(()=>{let t=class t{constructor(){this.selectedImageFile=null,this.auth=new we,this.firestore=new qn,this.storage=new Vf,this.router=new ie}ngOnInit(){}onPostClick(i){let r=i.value;r.length<=0||(this.selectedImageFile?this.uploadImagePost(r):this.uploadPost(r))}uploadImagePost(i){let r=this.firestore.genDocId();this.storage.upload({uploadName:"upload Image Post",path:["Posts",r,"image"],data:{data:this.selectedImageFile},onComplete:s=>{let c=this.auth?.getAuth().currentUser;c&&this.firestore.create({path:["Posts",r],data:{comment:i,creatorId:c.uid,imageUrl:s,timestamp:Zt.getFirestoreTimestamp()},onComplete:l=>{alert("upload text/photo success!"),window.location.reload()},onFail:l=>{alert(l)}})},onFail:s=>{alert(s)}})}uploadPost(i){let r=this.auth?.getAuth().currentUser;r&&this.firestore.create({path:["Posts"],data:{comment:i,creatorId:r.uid,timestamp:Zt.getFirestoreTimestamp()},onComplete:s=>{alert("upload text success!"),window.location.reload()},onFail:s=>{alert(s)}})}onPhotoSelected(i){if(this.selectedImageFile=i.files[0],!this.selectedImageFile)return;let r=new FileReader;r.readAsDataURL(this.selectedImageFile),r.addEventListener("loadend",s=>{let c=r.result.toString(),l=document.getElementById("post-preview-image");c&&(l.src=c)})}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Tt({type:t,selectors:[["app-postfeed"]],decls:15,vars:1,consts:[["commentInput",""],["photoSelector",""],[1,"w3-container"],["placeholder","Type Message..."],["id","post-preview",4,"ngIf"],["align","end"],["id","img","mat-button","","color","warn"],["for","photo-upload"],["id","photo-upload","type","file","accept","image/*",3,"change"],["id","submit","mat-Stroked-button","","color","warn",3,"click"],["id","post-preview"],["id","post-preview-image"]],template:function(r,s){if(r&1){let c=ni();N(0,"div",2)(1,"mat-card")(2,"div"),at(3,"textarea",3,0),U(),ln(5,rz,2,0,"div",4),N(6,"mat-card-actions",5)(7,"button",6)(8,"label",7)(9,"input",8,1),zt("change",function(){Pe(c);let d=He(10);return Me(s.onPhotoSelected(d))}),U(),N(11,"mat-icon"),et(12,"insert_photo"),U()()(),N(13,"button",9),zt("click",function(){Pe(c);let d=He(4);return Me(s.onPostClick(d))}),et(14,"Post"),U()()()()}r&2&&(Qt(5),dn("ngIf",s.selectedImageFile))},dependencies:[Md,Gf,Yf,Xf,Qf],styles:["#photo-upload[_ngcontent-%COMP%]{display:none}#post-preview[_ngcontent-%COMP%]{text-align:left;margin-top:1em;margin-left:1.5em}#post-preview-image[_ngcontent-%COMP%]{object-fit:cover;object-position:center;width:150px;height:100px;max-width:100%;max-height:300px;border-radius:1em;border:1px dashed gray}mat-card[_ngcontent-%COMP%]{display:flex;margin-top:50px;margin-right:30%;margin-left:30%;background:#fff;border-radius:20px;box-shadow:0 2px 6px -1px #00000067}textarea[_ngcontent-%COMP%]{font-size:15px;padding:1em;min-height:200px;min-width:85%;margin-top:10px;margin-left:10px;width:auto;height:130px;border:none;outline:none;resize:none}@media screen and (max-width: 768px){mat-card[_ngcontent-%COMP%]{width:80%;margin-right:10%;margin-left:10%}textarea[_ngcontent-%COMP%]{width:80%}}button#submit[_ngcontent-%COMP%]{-webkit-appearance:none;width:auto;min-width:20px;border-radius:24px;text-align:center;padding:10px 20px;margin:10px;background-color:#b08bf8;color:#fff;font-size:14px;font-weight:500;box-shadow:0 2px 6px -1px #00000021;border:none;transition:all .3s ease;outline:0}button#img[_ngcontent-%COMP%]{margin-top:5px;margin-right:-10px}"]});let e=t;return e})();var Vr=(()=>{let t=class t{constructor(i){this.router=i,this.auth=new we,this.firestore=new qn,this.auth?.listenToSignInStateChanges(r=>{this.auth.checkSignInState({whenSignedIn:s=>{this.getUserProfile()},whenSignedOut:s=>{t.userDocument=null},whenSignedInAndEmailNotVerified:s=>{},whenSignedInAndEmailVerified:s=>{},whenChanged:s=>{}})})}toTop(){this.router.navigate(["feed"]),window.scrollTo({top:0,behavior:"smooth"})}static getUserDocument(){return t.userDocument}getUsername(){return t.userDocument?.username}getUserProfile(){this.firestore.listenToDocument({name:"Getting Document",path:["Users",this.auth?.getAuth()?.currentUser?.uid||"{}"],onUpdate:i=>{t.userDocument=i.data(),t.userDocument.userId=this.auth?.getAuth()?.currentUser?.uid||"{}"}})}toLogout(){this.auth.signOut(),this.router.navigate([""])}getProfile(){return t.userDocument?.username}};t.userDocument=null,t.\u0275fac=function(r){return new(r||t)(X(ie))},t.\u0275cmp=Tt({type:t,selectors:[["app-topbar"]],decls:11,vars:1,consts:[[1,"navbar"],[1,"logo"],["src","https://static-00.iconduck.com/assets.00/oneplus-icon-2048x2048-4hadrx88.png",2,"height","30px",3,"click"],[1,"nav-links"],["id","logout",3,"click"]],template:function(r,s){r&1&&(N(0,"body")(1,"nav",0)(2,"div",1)(3,"img",2),zt("click",function(){return s.toTop()}),U()(),N(4,"ul",3)(5,"li")(6,"a"),et(7),U()(),N(8,"li")(9,"a",4),zt("click",function(){return s.toLogout()}),et(10,"logout"),U()()()()()),r&2&&(Qt(7),_i("Hello, ",s.getUsername(),""))},styles:["@keyframes _ngcontent-%COMP%_smoothSlideDown{0%{opacity:0;transform:translateY(-100%)}to{opacity:1;transform:translateY(0)}}.navbar[_ngcontent-%COMP%]{background:linear-gradient(to right,#9796f0,#fbc7d4);padding:20px;border-radius:20px;box-shadow:0 2px 6px -1px #00000067;animation:_ngcontent-%COMP%_smoothSlideDown 1s ease forwards;opacity:0}.navbar.show[_ngcontent-%COMP%]{opacity:1}.navbar[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{margin-top:-8px;text-align:left;justify-content:center;position:absolute}.nav-links[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;justify-content:right;text-align:right}.nav-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline;margin-right:20px}.nav-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{margin-right:0}.nav-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#202020;font-weight:700;cursor:default}.nav-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a#logout[_ngcontent-%COMP%]:hover{color:#ff3f3f;cursor:pointer}"]});let e=t;return e})();var oz=20,uR=(()=>{let t=class t{constructor(i,r,s){this._ngZone=i,this._platform=r,this._scrolled=new Ct,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=s}register(i){this.scrollContainers.has(i)||this.scrollContainers.set(i,i.elementScrolled().subscribe(()=>this._scrolled.next(i)))}deregister(i){let r=this.scrollContainers.get(i);r&&(r.unsubscribe(),this.scrollContainers.delete(i))}scrolled(i=oz){return this._platform.isBrowser?new Tc(r=>{this._globalSubscription||this._addGlobalListener();let s=i>0?this._scrolled.pipe(zg(i)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{s.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Y()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((i,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(i,r){let s=this.getAncestorScrollContainers(i);return this.scrolled(r).pipe(me(c=>!c||s.indexOf(c)>-1))}getAncestorScrollContainers(i){let r=[];return this.scrollContainers.forEach((s,c)=>{this._scrollableContainsElement(c,i)&&r.push(c)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(i,r){let s=Yi(r),c=i.getElementRef().nativeElement;do if(s==c)return!0;while(s=s.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let i=this._getWindow();return nx(i.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}};t.\u0275fac=function(r){return new(r||t)(D(ht),D(Kt),D(ct,8))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var sz=20,B0=(()=>{let t=class t{constructor(i,r,s){this._platform=i,this._change=new Ct,this._changeListener=c=>{this._change.next(c)},this._document=s,r.runOutsideAngular(()=>{if(i.isBrowser){let c=this._getWindow();c.addEventListener("resize",this._changeListener),c.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let i=this._getWindow();i.removeEventListener("resize",this._changeListener),i.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let i={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),i}getViewportRect(){let i=this.getViewportScrollPosition(),{width:r,height:s}=this.getViewportSize();return{top:i.top,left:i.left,bottom:i.top+s,right:i.left+r,height:s,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let i=this._document,r=this._getWindow(),s=i.documentElement,c=s.getBoundingClientRect(),l=-c.top||i.body.scrollTop||r.scrollY||s.scrollTop||0,d=-c.left||i.body.scrollLeft||r.scrollX||s.scrollLeft||0;return{top:l,left:d}}change(i=sz){return i>0?this._change.pipe(zg(i)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let i=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:i.innerWidth,height:i.innerHeight}:{width:0,height:0}}};t.\u0275fac=function(r){return new(r||t)(D(Kt),D(ht),D(ct,8))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var cR=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=gt({type:t}),t.\u0275inj=mt({});let e=t;return e})(),z0=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=gt({type:t}),t.\u0275inj=mt({imports:[Ur,cR,Ur,cR]});let e=t;return e})();var ll=class{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;t!=null&&(this._attachedHost=null,t.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},Fa=class extends ll{constructor(t,n,i,r,s){super(),this.component=t,this.viewContainerRef=n,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=s}},ja=class extends ll{constructor(t,n,i,r){super(),this.templateRef=t,this.viewContainerRef=n,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,n=this.context){return this.context=n,super.attach(t)}detach(){return this.context=void 0,super.detach()}},q0=class extends ll{constructor(t){super(),this.element=t instanceof Bt?t.nativeElement:t}},Ua=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){if(t instanceof Fa)return this._attachedPortal=t,this.attachComponentPortal(t);if(t instanceof ja)return this._attachedPortal=t,this.attachTemplatePortal(t);if(this.attachDomPortal&&t instanceof q0)return this._attachedPortal=t,this.attachDomPortal(t)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var Jf=class extends Ua{constructor(t,n,i,r,s){super(),this.outletElement=t,this._componentFactoryResolver=n,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=c=>{this._document;let l=c.element;l.parentNode;let d=this._document.createComment("dom-portal");l.parentNode.insertBefore(d,l),this.outletElement.appendChild(l),this._attachedPortal=c,super.setDisposeFn(()=>{d.parentNode&&d.parentNode.replaceChild(l,d)})},this._document=s}attachComponentPortal(t){let i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||cn.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let n=t.viewContainerRef,i=n.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=n.indexOf(i);r!==-1&&n.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}};var dl=(()=>{let t=class t extends Ua{constructor(i,r,s){super(),this._componentFactoryResolver=i,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new un,this.attachDomPortal=c=>{this._document;let l=c.element;l.parentNode;let d=this._document.createComment("dom-portal");c.setAttachedHost(this),l.parentNode.insertBefore(d,l),this._getRootNode().appendChild(l),this._attachedPortal=c,super.setDisposeFn(()=>{d.parentNode&&d.parentNode.replaceChild(l,d)})},this._document=s}get portal(){return this._attachedPortal}set portal(i){this.hasAttached()&&!i&&!this._isInitialized||(this.hasAttached()&&super.detach(),i&&super.attach(i),this._attachedPortal=i||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(i){i.setAttachedHost(this);let r=i.viewContainerRef!=null?i.viewContainerRef:this._viewContainerRef,c=(i.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(i.component),l=r.createComponent(c,r.length,i.injector||r.injector,i.projectableNodes||void 0);return r!==this._viewContainerRef&&this._getRootNode().appendChild(l.hostView.rootNodes[0]),super.setDisposeFn(()=>l.destroy()),this._attachedPortal=i,this._attachedRef=l,this.attached.emit(l),l}attachTemplatePortal(i){i.setAttachedHost(this);let r=this._viewContainerRef.createEmbeddedView(i.templateRef,i.context,{injector:i.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=i,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){let i=this._viewContainerRef.element.nativeElement;return i.nodeType===i.ELEMENT_NODE?i:i.parentNode}};t.\u0275fac=function(r){return new(r||t)(X(Cd),X(Cs),X(ct))},t.\u0275dir=ge({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[Gt.None,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[ji]});let e=t;return e})();var Ho=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=gt({type:t}),t.\u0275inj=mt({});let e=t;return e})();var lR=CD(),H0=class{constructor(t,n){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=n}attach(){}enable(){if(this._canBeEnabled()){let t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=re(-this._previousScrollPosition.left),t.style.top=re(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let t=this._document.documentElement,n=this._document.body,i=t.style,r=n.style,s=i.scrollBehavior||"",c=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),lR&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),lR&&(i.scrollBehavior=s,r.scrollBehavior=c)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let n=this._document.body,i=this._viewportRuler.getViewportSize();return n.scrollHeight>i.height||n.scrollWidth>i.width}};var W0=class{constructor(t,n,i,r){this._scrollDispatcher=t,this._ngZone=n,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(this._scrollSubscription)return;let t=this._scrollDispatcher.scrolled(0).pipe(me(n=>!n||!this._overlayRef.overlayElement.contains(n.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{let n=this._viewportRuler.getViewportScrollPosition().top;Math.abs(n-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},tp=class{enable(){}disable(){}attach(){}};function G0(e,t){return t.some(n=>{let i=e.bottom<n.top,r=e.top>n.bottom,s=e.right<n.left,c=e.left>n.right;return i||r||s||c})}function dR(e,t){return t.some(n=>{let i=e.top<n.top,r=e.bottom>n.bottom,s=e.left<n.left,c=e.right>n.right;return i||r||s||c})}var $0=class{constructor(t,n,i,r){this._scrollDispatcher=t,this._viewportRuler=n,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(!this._scrollSubscription){let t=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(t).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let n=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();G0(n,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},cz=(()=>{let t=class t{constructor(i,r,s,c){this._scrollDispatcher=i,this._viewportRuler=r,this._ngZone=s,this.noop=()=>new tp,this.close=l=>new W0(this._scrollDispatcher,this._ngZone,this._viewportRuler,l),this.block=()=>new H0(this._viewportRuler,this._document),this.reposition=l=>new $0(this._scrollDispatcher,this._viewportRuler,this._ngZone,l),this._document=c}};t.\u0275fac=function(r){return new(r||t)(D(uR),D(B0),D(ht),D(ct))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),hl=class{constructor(t){if(this.scrollStrategy=new tp,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){let n=Object.keys(t);for(let i of n)t[i]!==void 0&&(this[i]=t[i])}}};var K0=class{constructor(t,n){this.connectionPair=t,this.scrollableViewProperties=n}};var gR=(()=>{let t=class t{constructor(i){this._attachedOverlays=[],this._document=i}ngOnDestroy(){this.detach()}add(i){this.remove(i),this._attachedOverlays.push(i)}remove(i){let r=this._attachedOverlays.indexOf(i);r>-1&&this._attachedOverlays.splice(r,1),this._attachedOverlays.length===0&&this.detach()}};t.\u0275fac=function(r){return new(r||t)(D(ct))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),uz=(()=>{let t=class t extends gR{constructor(i,r){super(i),this._ngZone=r,this._keydownListener=s=>{let c=this._attachedOverlays;for(let l=c.length-1;l>-1;l--)if(c[l]._keydownEvents.observers.length>0){let d=c[l]._keydownEvents;this._ngZone?this._ngZone.run(()=>d.next(s)):d.next(s);break}}}add(i){super.add(i),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}};t.\u0275fac=function(r){return new(r||t)(D(ct),D(ht,8))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),lz=(()=>{let t=class t extends gR{constructor(i,r,s){super(i),this._platform=r,this._ngZone=s,this._cursorStyleIsSet=!1,this._pointerDownListener=c=>{this._pointerDownEventTarget=ui(c)},this._clickListener=c=>{let l=ui(c),d=c.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:l;this._pointerDownEventTarget=null;let f=this._attachedOverlays.slice();for(let m=f.length-1;m>-1;m--){let v=f[m];if(v._outsidePointerEvents.observers.length<1||!v.hasAttached())continue;if(v.overlayElement.contains(l)||v.overlayElement.contains(d))break;let y=v._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>y.next(c)):y.next(c)}}}add(i){if(super.add(i),!this._isAttached){let r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let i=this._document.body;i.removeEventListener("pointerdown",this._pointerDownListener,!0),i.removeEventListener("click",this._clickListener,!0),i.removeEventListener("auxclick",this._clickListener,!0),i.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(i.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(i){i.addEventListener("pointerdown",this._pointerDownListener,!0),i.addEventListener("click",this._clickListener,!0),i.addEventListener("auxclick",this._clickListener,!0),i.addEventListener("contextmenu",this._clickListener,!0)}};t.\u0275fac=function(r){return new(r||t)(D(ct),D(Kt),D(ht,8))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Va=(()=>{let t=class t{constructor(i,r){this._platform=r,this._document=i}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let i="cdk-overlay-container";if(this._platform.isBrowser||rl()){let s=this._document.querySelectorAll(`.${i}[platform="server"], .${i}[platform="test"]`);for(let c=0;c<s.length;c++)s[c].remove()}let r=this._document.createElement("div");r.classList.add(i),rl()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}};t.\u0275fac=function(r){return new(r||t)(D(ct),D(Kt))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Qi=class{constructor(t,n,i,r,s,c,l,d,f,m=!1){this._portalOutlet=t,this._host=n,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=c,this._document=l,this._location=d,this._outsideClickDispatcher=f,this._animationsDisabled=m,this._backdropElement=null,this._backdropClick=new Ct,this._attachments=new Ct,this._detachments=new Ct,this._locationChanges=Ni.EMPTY,this._backdropClickHandler=v=>this._backdropClick.next(v),this._backdropTransitionendHandler=v=>{this._disposeBackdrop(v.target)},this._keydownEvents=new Ct,this._outsidePointerEvents=new Ct,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let n=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(ye(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof n?.onDestroy=="function"&&n.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),n}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){let t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=V(V({},this._config),t),this._updateElementSize()}setDirection(t){this._config=se(V({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){let t=this._config.direction;return t?typeof t=="string"?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let t=this._pane.style;t.width=re(this._config.width),t.height=re(this._config.height),t.minWidth=re(this._config.minWidth),t.minHeight=re(this._config.minHeight),t.maxWidth=re(this._config.maxWidth),t.maxHeight=re(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){let t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t=this._backdropElement;if(t){if(this._animationsDisabled){this._disposeBackdrop(t);return}t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,n,i){let r=Ma(n||[]).filter(s=>!!s);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{let t=this._ngZone.onStable.pipe(Fi(wd(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){let t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},hR="cdk-overlay-connected-position-bounding-box",dz=/([A-Za-z%]+)$/,Y0=class{get positions(){return this._preferredPositions}constructor(t,n,i,r,s){this._viewportRuler=n,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Ct,this._resizeSubscription=Ni.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._overlayRef&&this._overlayRef,this._validatePositions(),t.hostElement.classList.add(hR),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._originRect,n=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[],c;for(let l of this._preferredPositions){let d=this._getOriginPoint(t,r,l),f=this._getOverlayPoint(d,n,l),m=this._getOverlayFit(f,n,i,l);if(m.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(l,d);return}if(this._canFitWithFlexibleDimensions(m,f,i)){s.push({position:l,origin:d,overlayRect:n,boundingBoxRect:this._calculateBoundingBoxRect(d,l)});continue}(!c||c.overlayFit.visibleArea<m.visibleArea)&&(c={overlayFit:m,overlayPoint:f,originPoint:d,position:l,overlayRect:n})}if(s.length){let l=null,d=-1;for(let f of s){let m=f.boundingBoxRect.width*f.boundingBoxRect.height*(f.position.weight||1);m>d&&(d=m,l=f)}this._isPushed=!1,this._applyPosition(l.position,l.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(c.position,c.originPoint);return}this._applyPosition(c.position,c.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Wo(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(hR),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let n=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,n)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,t.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,n,i){let r;if(i.originX=="center")r=t.left+t.width/2;else{let c=this._isRtl()?t.right:t.left,l=this._isRtl()?t.left:t.right;r=i.originX=="start"?c:l}n.left<0&&(r-=n.left);let s;return i.originY=="center"?s=t.top+t.height/2:s=i.originY=="top"?t.top:t.bottom,n.top<0&&(s-=n.top),{x:r,y:s}}_getOverlayPoint(t,n,i){let r;i.overlayX=="center"?r=-n.width/2:i.overlayX==="start"?r=this._isRtl()?-n.width:0:r=this._isRtl()?0:-n.width;let s;return i.overlayY=="center"?s=-n.height/2:s=i.overlayY=="top"?0:-n.height,{x:t.x+r,y:t.y+s}}_getOverlayFit(t,n,i,r){let s=pR(n),{x:c,y:l}=t,d=this._getOffset(r,"x"),f=this._getOffset(r,"y");d&&(c+=d),f&&(l+=f);let m=0-c,v=c+s.width-i.width,y=0-l,_=l+s.height-i.height,I=this._subtractOverflows(s.width,m,v),E=this._subtractOverflows(s.height,y,_),C=I*E;return{visibleArea:C,isCompletelyWithinViewport:s.width*s.height===C,fitsInViewportVertically:E===s.height,fitsInViewportHorizontally:I==s.width}}_canFitWithFlexibleDimensions(t,n,i){if(this._hasFlexibleDimensions){let r=i.bottom-n.y,s=i.right-n.x,c=fR(this._overlayRef.getConfig().minHeight),l=fR(this._overlayRef.getConfig().minWidth),d=t.fitsInViewportVertically||c!=null&&c<=r,f=t.fitsInViewportHorizontally||l!=null&&l<=s;return d&&f}return!1}_pushOverlayOnScreen(t,n,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};let r=pR(n),s=this._viewportRect,c=Math.max(t.x+r.width-s.width,0),l=Math.max(t.y+r.height-s.height,0),d=Math.max(s.top-i.top-t.y,0),f=Math.max(s.left-i.left-t.x,0),m=0,v=0;return r.width<=s.width?m=f||-c:m=t.x<this._viewportMargin?s.left-i.left-t.x:0,r.height<=s.height?v=d||-l:v=t.y<this._viewportMargin?s.top-i.top-t.y:0,this._previousPushAmount={x:m,y:v},{x:t.x+m,y:t.y+v}}_applyPosition(t,n){if(this._setTransformOrigin(t),this._setOverlayElementStyles(n,t),this._setBoundingBoxStyles(n,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._positionChanges.observers.length){let i=this._getScrollVisibility();if(t!==this._lastPosition||!this._lastScrollVisibility||!hz(this._lastScrollVisibility,i)){let r=new K0(t,i);this._positionChanges.next(r)}this._lastScrollVisibility=i}this._lastPosition=t,this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;let n=this._boundingBox.querySelectorAll(this._transformOriginSelector),i,r=t.overlayY;t.overlayX==="center"?i="center":this._isRtl()?i=t.overlayX==="start"?"right":"left":i=t.overlayX==="start"?"left":"right";for(let s=0;s<n.length;s++)n[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,n){let i=this._viewportRect,r=this._isRtl(),s,c,l;if(n.overlayY==="top")c=t.y,s=i.height-c+this._viewportMargin;else if(n.overlayY==="bottom")l=i.height-t.y+this._viewportMargin*2,s=i.height-l+this._viewportMargin;else{let _=Math.min(i.bottom-t.y+i.top,t.y),I=this._lastBoundingBoxSize.height;s=_*2,c=t.y-_,s>I&&!this._isInitialRender&&!this._growAfterOpen&&(c=t.y-I/2)}let d=n.overlayX==="start"&&!r||n.overlayX==="end"&&r,f=n.overlayX==="end"&&!r||n.overlayX==="start"&&r,m,v,y;if(f)y=i.width-t.x+this._viewportMargin*2,m=t.x-this._viewportMargin;else if(d)v=t.x,m=i.right-t.x;else{let _=Math.min(i.right-t.x+i.left,t.x),I=this._lastBoundingBoxSize.width;m=_*2,v=t.x-_,m>I&&!this._isInitialRender&&!this._growAfterOpen&&(v=t.x-I/2)}return{top:c,left:v,bottom:l,right:y,width:m,height:s}}_setBoundingBoxStyles(t,n){let i=this._calculateBoundingBoxRect(t,n);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));let r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{let s=this._overlayRef.getConfig().maxHeight,c=this._overlayRef.getConfig().maxWidth;r.height=re(i.height),r.top=re(i.top),r.bottom=re(i.bottom),r.width=re(i.width),r.left=re(i.left),r.right=re(i.right),n.overlayX==="center"?r.alignItems="center":r.alignItems=n.overlayX==="end"?"flex-end":"flex-start",n.overlayY==="center"?r.justifyContent="center":r.justifyContent=n.overlayY==="bottom"?"flex-end":"flex-start",s&&(r.maxHeight=re(s)),c&&(r.maxWidth=re(c))}this._lastBoundingBoxSize=i,Wo(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Wo(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Wo(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,n){let i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,c=this._overlayRef.getConfig();if(r){let m=this._viewportRuler.getViewportScrollPosition();Wo(i,this._getExactOverlayY(n,t,m)),Wo(i,this._getExactOverlayX(n,t,m))}else i.position="static";let l="",d=this._getOffset(n,"x"),f=this._getOffset(n,"y");d&&(l+=`translateX(${d}px) `),f&&(l+=`translateY(${f}px)`),i.transform=l.trim(),c.maxHeight&&(r?i.maxHeight=re(c.maxHeight):s&&(i.maxHeight="")),c.maxWidth&&(r?i.maxWidth=re(c.maxWidth):s&&(i.maxWidth="")),Wo(this._pane.style,i)}_getExactOverlayY(t,n,i){let r={top:"",bottom:""},s=this._getOverlayPoint(n,this._overlayRect,t);if(this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),t.overlayY==="bottom"){let c=this._document.documentElement.clientHeight;r.bottom=`${c-(s.y+this._overlayRect.height)}px`}else r.top=re(s.y);return r}_getExactOverlayX(t,n,i){let r={left:"",right:""},s=this._getOverlayPoint(n,this._overlayRect,t);this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i));let c;if(this._isRtl()?c=t.overlayX==="end"?"left":"right":c=t.overlayX==="end"?"right":"left",c==="right"){let l=this._document.documentElement.clientWidth;r.right=`${l-(s.x+this._overlayRect.width)}px`}else r.left=re(s.x);return r}_getScrollVisibility(){let t=this._getOriginRect(),n=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:dR(t,i),isOriginOutsideView:G0(t,i),isOverlayClipped:dR(n,i),isOverlayOutsideView:G0(n,i)}}_subtractOverflows(t,...n){return n.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){let t=this._document.documentElement.clientWidth,n=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+n-this._viewportMargin,width:t-2*this._viewportMargin,height:n-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,n){return n==="x"?t.offsetX==null?this._offsetX:t.offsetX:t.offsetY==null?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Ma(t).forEach(n=>{n!==""&&this._appliedPanelClasses.indexOf(n)===-1&&(this._appliedPanelClasses.push(n),this._pane.classList.add(n))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){let t=this._origin;if(t instanceof Bt)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();let n=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+n,height:i,width:n}}};function Wo(e,t){for(let n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function fR(e){if(typeof e!="number"&&e!=null){let[t,n]=e.split(dz);return!n||n==="px"?parseFloat(t):null}return e||null}function pR(e){return{top:Math.floor(e.top),right:Math.floor(e.right),bottom:Math.floor(e.bottom),left:Math.floor(e.left),width:Math.floor(e.width),height:Math.floor(e.height)}}function hz(e,t){return e===t?!0:e.isOriginClipped===t.isOriginClipped&&e.isOriginOutsideView===t.isOriginOutsideView&&e.isOverlayClipped===t.isOverlayClipped&&e.isOverlayOutsideView===t.isOverlayOutsideView}var mR="cdk-global-overlay-wrapper",X0=class{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){let n=t.getConfig();this._overlayRef=t,this._width&&!n.width&&t.updateSize({width:this._width}),this._height&&!n.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(mR),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let t=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:c,maxHeight:l}=i,d=(r==="100%"||r==="100vw")&&(!c||c==="100%"||c==="100vw"),f=(s==="100%"||s==="100vh")&&(!l||l==="100%"||l==="100vh"),m=this._xPosition,v=this._xOffset,y=this._overlayRef.getConfig().direction==="rtl",_="",I="",E="";d?E="flex-start":m==="center"?(E="center",y?I=v:_=v):y?m==="left"||m==="end"?(E="flex-end",_=v):(m==="right"||m==="start")&&(E="flex-start",I=v):m==="left"||m==="start"?(E="flex-start",_=v):(m==="right"||m==="end")&&(E="flex-end",I=v),t.position=this._cssPosition,t.marginLeft=d?"0":_,t.marginTop=f?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=d?"0":I,n.justifyContent=E,n.alignItems=f?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let t=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement,i=n.style;n.classList.remove(mR),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}},fz=(()=>{let t=class t{constructor(i,r,s,c){this._viewportRuler=i,this._document=r,this._platform=s,this._overlayContainer=c}global(){return new X0}flexibleConnectedTo(i){return new Y0(i,this._viewportRuler,this._document,this._platform,this._overlayContainer)}};t.\u0275fac=function(r){return new(r||t)(D(B0),D(ct),D(Kt),D(Va))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),pz=0,li=(()=>{let t=class t{constructor(i,r,s,c,l,d,f,m,v,y,_,I){this.scrollStrategies=i,this._overlayContainer=r,this._componentFactoryResolver=s,this._positionBuilder=c,this._keyboardDispatcher=l,this._injector=d,this._ngZone=f,this._document=m,this._directionality=v,this._location=y,this._outsideClickDispatcher=_,this._animationsModuleType=I}create(i){let r=this._createHostElement(),s=this._createPaneElement(r),c=this._createPortalOutlet(s),l=new hl(i);return l.direction=l.direction||this._directionality.value,new Qi(c,r,s,l,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations")}position(){return this._positionBuilder}_createPaneElement(i){let r=this._document.createElement("div");return r.id=`cdk-overlay-${pz++}`,r.classList.add("cdk-overlay-pane"),i.appendChild(r),r}_createHostElement(){let i=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalOutlet(i){return this._appRef||(this._appRef=this._injector.get(Lc)),new Jf(i,this._componentFactoryResolver,this._appRef,this._injector,this._document)}};t.\u0275fac=function(r){return new(r||t)(D(cz),D(Va),D(Cd),D(fz),D(uz),D(cn),D(ht),D(ct),D(al),D(Vi),D(lz),D(Un,8))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var mz=new dt("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let e=q(li);return()=>e.scrollStrategies.reposition()}});function gz(e){return()=>e.scrollStrategies.reposition()}var vz={provide:mz,deps:[li],useFactory:gz},ep=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=gt({type:t}),t.\u0275inj=mt({providers:[li,vz],imports:[Ur,Ho,z0,z0]});let e=t;return e})();function bz(e,t){}var Go=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}};var J0=(()=>{let t=class t extends Ua{constructor(i,r,s,c,l,d,f,m){super(),this._elementRef=i,this._focusTrapFactory=r,this._config=c,this._interactivityChecker=l,this._ngZone=d,this._overlayRef=f,this._focusMonitor=m,this._platform=q(Kt),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=q(mo),this.attachDomPortal=v=>{this._portalOutlet.hasAttached();let y=this._portalOutlet.attachDomPortal(v);return this._contentAttached(),y},this._document=s,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(i){this._ariaLabelledByQueue.push(i),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(i){let r=this._ariaLabelledByQueue.indexOf(i);r>-1&&(this._ariaLabelledByQueue.splice(r,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(i){this._portalOutlet.hasAttached();let r=this._portalOutlet.attachComponentPortal(i);return this._contentAttached(),r}attachTemplatePortal(i){this._portalOutlet.hasAttached();let r=this._portalOutlet.attachTemplatePortal(i);return this._contentAttached(),r}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(i,r){this._interactivityChecker.isFocusable(i)||(i.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let s=()=>{i.removeEventListener("blur",s),i.removeEventListener("mousedown",s),i.removeAttribute("tabindex")};i.addEventListener("blur",s),i.addEventListener("mousedown",s)})),i.focus(r)}_focusByCssSelector(i,r){let s=this._elementRef.nativeElement.querySelector(i);s&&this._forceFocus(s,r)}_trapFocus(){let i=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||i.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElementWhenReady().then(r=>{r||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus);break}}_restoreFocus(){let i=this._config.restoreFocus,r=null;if(typeof i=="string"?r=this._document.querySelector(i):typeof i=="boolean"?r=i?this._elementFocusedBeforeDialogWasOpened:null:i&&(r=i),this._config.restoreFocus&&r&&typeof r.focus=="function"){let s=il(),c=this._elementRef.nativeElement;(!s||s===this._document.body||s===c||c.contains(s))&&(this._focusMonitor?(this._focusMonitor.focusVia(r,this._closeInteractionType),this._closeInteractionType=null):r.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){let i=this._elementRef.nativeElement,r=il();return i===r||i.contains(r)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=il()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}};t.\u0275fac=function(r){return new(r||t)(X(Bt),X(Hf),X(ct,8),X(Go),X(sl),X(ht),X(Qi),X(La))},t.\u0275cmp=Tt({type:t,selectors:[["cdk-dialog-container"]],viewQuery:function(r,s){if(r&1&&Sd(dl,7),r&2){let c;Ss(c=As())&&(s._portalOutlet=c.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(r,s){r&2&&ei("id",s._config.id||null)("role",s._config.role)("aria-modal",s._config.ariaModal)("aria-labelledby",s._config.ariaLabel?null:s._ariaLabelledByQueue[0])("aria-label",s._config.ariaLabel)("aria-describedby",s._config.ariaDescribedBy||null)},standalone:!0,features:[ji,We],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(r,s){r&1&&ln(0,bz,0,0,"ng-template",0)},dependencies:[dl],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2});let e=t;return e})(),fl=class{constructor(t,n){this.overlayRef=t,this.config=n,this.closed=new Ct,this.disableClose=n.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=n.id,this.keydownEvents.subscribe(i=>{i.keyCode===27&&!this.disableClose&&!Bf(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=t.detachments().subscribe(()=>{n.closeOnOverlayDetachments!==!1&&this.close()})}close(t,n){if(this.containerInstance){let i=this.closed;this.containerInstance._closeInteractionType=n?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(t),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",n=""){return this.overlayRef.updateSize({width:t,height:n}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}},yz=new dt("DialogScrollStrategy",{providedIn:"root",factory:()=>{let e=q(li);return()=>e.scrollStrategies.block()}}),_z=new dt("DialogData"),wz=new dt("DefaultDialogConfig");var Iz=0,t_=(()=>{let t=class t{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(i,r,s,c,l,d){this._overlay=i,this._injector=r,this._defaultOptions=s,this._parentDialog=c,this._overlayContainer=l,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Ct,this._afterOpenedAtThisLevel=new Ct,this._ariaHiddenElements=new Map,this.afterAllClosed=lo(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Li(void 0))),this._scrollStrategy=d}open(i,r){let s=this._defaultOptions||new Go;r=V(V({},s),r),r.id=r.id||`cdk-dialog-${Iz++}`,r.id&&this.getDialogById(r.id);let c=this._getOverlayConfig(r),l=this._overlay.create(c),d=new fl(l,r),f=this._attachContainer(l,d,r);return d.containerInstance=f,this._attachDialogContent(i,d,f,r),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(d),d.closed.subscribe(()=>this._removeOpenDialog(d,!0)),this.afterOpened.next(d),d}closeAll(){Q0(this.openDialogs,i=>i.close())}getDialogById(i){return this.openDialogs.find(r=>r.id===i)}ngOnDestroy(){Q0(this._openDialogsAtThisLevel,i=>{i.config.closeOnDestroy===!1&&this._removeOpenDialog(i,!1)}),Q0(this._openDialogsAtThisLevel,i=>i.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(i){let r=new hl({positionStrategy:i.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:i.scrollStrategy||this._scrollStrategy(),panelClass:i.panelClass,hasBackdrop:i.hasBackdrop,direction:i.direction,minWidth:i.minWidth,minHeight:i.minHeight,maxWidth:i.maxWidth,maxHeight:i.maxHeight,width:i.width,height:i.height,disposeOnNavigation:i.closeOnNavigation});return i.backdropClass&&(r.backdropClass=i.backdropClass),r}_attachContainer(i,r,s){let c=s.injector||s.viewContainerRef?.injector,l=[{provide:Go,useValue:s},{provide:fl,useValue:r},{provide:Qi,useValue:i}],d;s.container?typeof s.container=="function"?d=s.container:(d=s.container.type,l.push(...s.container.providers(s))):d=J0;let f=new Fa(d,s.viewContainerRef,cn.create({parent:c||this._injector,providers:l}),s.componentFactoryResolver);return i.attach(f).instance}_attachDialogContent(i,r,s,c){if(i instanceof Mc){let l=this._createInjector(c,r,s,void 0),d={$implicit:c.data,dialogRef:r};c.templateContext&&(d=V(V({},d),typeof c.templateContext=="function"?c.templateContext():c.templateContext)),s.attachTemplatePortal(new ja(i,null,d,l))}else{let l=this._createInjector(c,r,s,this._injector),d=s.attachComponentPortal(new Fa(i,c.viewContainerRef,l,c.componentFactoryResolver));r.componentRef=d,r.componentInstance=d.instance}}_createInjector(i,r,s,c){let l=i.injector||i.viewContainerRef?.injector,d=[{provide:_z,useValue:i.data},{provide:fl,useValue:r}];return i.providers&&(typeof i.providers=="function"?d.push(...i.providers(r,i,s)):d.push(...i.providers)),i.direction&&(!l||!l.get(al,null,{optional:!0}))&&d.push({provide:al,useValue:{value:i.direction,change:Y()}}),cn.create({parent:l||c,providers:d})}_removeOpenDialog(i,r){let s=this.openDialogs.indexOf(i);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((c,l)=>{c?l.setAttribute("aria-hidden",c):l.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),r&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){let i=this._overlayContainer.getContainerElement();if(i.parentElement){let r=i.parentElement.children;for(let s=r.length-1;s>-1;s--){let c=r[s];c!==i&&c.nodeName!=="SCRIPT"&&c.nodeName!=="STYLE"&&!c.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(c,c.getAttribute("aria-hidden")),c.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let i=this._parentDialog;return i?i._getAfterAllClosed():this._afterAllClosedAtThisLevel}};t.\u0275fac=function(r){return new(r||t)(D(li),D(cn),D(wz,8),D(t,12),D(Va),D(yz))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Q0(e,t){let n=e.length;for(;n--;)t(e[n])}var bR=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=gt({type:t}),t.\u0275inj=mt({providers:[t_],imports:[ep,Ho,LD,Ho]});let e=t;return e})();function Ez(e,t){}var pl=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}},e_="mdc-dialog--open",yR="mdc-dialog--opening",_R="mdc-dialog--closing",xz=150,Cz=75,Tz=(()=>{let t=class t extends J0{constructor(i,r,s,c,l,d,f,m,v){super(i,r,s,c,l,d,f,v),this._animationMode=m,this._animationStateChanged=new un,this._animationsEnabled=this._animationMode!=="NoopAnimations",this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?IR(this._config.enterAnimationDuration)??xz:0,this._exitAnimationDuration=this._animationsEnabled?IR(this._config.exitAnimationDuration)??Cz:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(wR,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(yR,e_)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(e_),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(e_),this._animationsEnabled?(this._hostElement.style.setProperty(wR,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(_R)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(i){this._actionSectionCount+=i,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(yR,_R)}_waitForAnimationToComplete(i,r){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(r,i)}_requestAnimationFrame(i){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(i):i()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(i){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:i})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(i){let r=super.attachComponentPortal(i);return r.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),r}};t.\u0275fac=function(r){return new(r||t)(X(Bt),X(Hf),X(ct,8),X(pl),X(sl),X(ht),X(Qi),X(Un,8),X(La))},t.\u0275cmp=Tt({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(r,s){r&2&&(Qg("id",s._config.id),ei("aria-modal",s._config.ariaModal)("role",s._config.role)("aria-labelledby",s._config.ariaLabel?null:s._ariaLabelledByQueue[0])("aria-label",s._config.ariaLabel)("aria-describedby",s._config.ariaDescribedBy||null),hn("_mat-animation-noopable",!s._animationsEnabled)("mat-mdc-dialog-container-with-actions",s._actionSectionCount>0))},standalone:!0,features:[ji,We],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(r,s){r&1&&(N(0,"div",0)(1,"div",1),ln(2,Ez,0,0,"ng-template",2),U()())},dependencies:[dl],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0;transform:scale(0.8)}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--closing .mdc-dialog__surface{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{opacity:1}.mdc-dialog--open .mdc-dialog__surface{transform:none}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{width:100%;height:100%}.mat-mdc-dialog-component-host{display:contents}.mat-mdc-dialog-container{--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition:opacity linear var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container .mdc-dialog__surface{transition:transform var(--mat-dialog-transition-duration, 0ms) 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container,.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__surface{transition:none}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-title{padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2});let e=t;return e})(),wR="--mat-dialog-transition-duration";function IR(e){return e==null?null:typeof e=="number"?e:e.endsWith("ms")?ol(e.substring(0,e.length-2)):e.endsWith("s")?ol(e.substring(0,e.length-1))*1e3:e==="0"?0:null}var np=function(e){return e[e.OPEN=0]="OPEN",e[e.CLOSING=1]="CLOSING",e[e.CLOSED=2]="CLOSED",e}(np||{}),n_=class{constructor(t,n,i){this._ref=t,this._containerInstance=i,this._afterOpened=new Ct,this._beforeClosed=new Ct,this._state=np.OPEN,this.disableClose=n.disableClose,this.id=t.id,t.addPanelClass("mat-mdc-dialog-panel"),i._animationStateChanged.pipe(me(r=>r.state==="opened"),ye(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(me(r=>r.state==="closed"),ye(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),wd(this.backdropClick(),this.keydownEvents().pipe(me(r=>r.keyCode===27&&!this.disableClose&&!Bf(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),Sz(this,r.type==="keydown"?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(me(n=>n.state==="closing"),ye(1)).subscribe(n=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),n.totalTime+100)}),this._state=np.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let n=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?n.left(t.left):n.right(t.right):n.centerHorizontally(),t&&(t.top||t.bottom)?t.top?n.top(t.top):n.bottom(t.bottom):n.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",n=""){return this._ref.updateSize(t,n),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=np.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function Sz(e,t,n){return e._closeInteractionType=t,e.close(n)}var i_=new dt("MatMdcDialogData"),Az=new dt("mat-mdc-dialog-default-options"),kz=new dt("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let e=q(li);return()=>e.scrollStrategies.block()}});var Dz=0,r_=(()=>{let t=class t{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let i=this._parentDialog;return i?i._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(i,r,s,c,l,d,f,m){this._overlay=i,this._defaultOptions=c,this._scrollStrategy=l,this._parentDialog=d,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Ct,this._afterOpenedAtThisLevel=new Ct,this.dialogConfigClass=pl,this.afterAllClosed=lo(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Li(void 0))),this._dialog=r.get(t_),this._dialogRefConstructor=n_,this._dialogContainerType=Tz,this._dialogDataToken=i_}open(i,r){let s;r=V(V({},this._defaultOptions||new pl),r),r.id=r.id||`mat-mdc-dialog-${Dz++}`,r.scrollStrategy=r.scrollStrategy||this._scrollStrategy();let c=this._dialog.open(i,se(V({},r),{positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:r},{provide:Go,useValue:r}]},templateContext:()=>({dialogRef:s}),providers:(l,d,f)=>(s=new this._dialogRefConstructor(l,r,f),s.updatePosition(r?.position),[{provide:this._dialogContainerType,useValue:f},{provide:this._dialogDataToken,useValue:d.data},{provide:this._dialogRefConstructor,useValue:s}])}));return s.componentRef=c.componentRef,s.componentInstance=c.componentInstance,this.openDialogs.push(s),this.afterOpened.next(s),s.afterClosed().subscribe(()=>{let l=this.openDialogs.indexOf(s);l>-1&&(this.openDialogs.splice(l,1),this.openDialogs.length||this._getAfterAllClosed().next())}),s}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(i){return this.openDialogs.find(r=>r.id===i)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(i){let r=i.length;for(;r--;)i[r].close()}};t.\u0275fac=function(r){return new(r||t)(D(li),D(cn),D(Vi,8),D(Az,8),D(kz),D(t,12),D(Va),D(Un,8))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var ER=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=gt({type:t}),t.\u0275inj=mt({providers:[r_],imports:[bR,ep,Ho,Oe,Oe]});let e=t;return e})();var Oz=()=>({color:"red"}),Pz=()=>({"comment-container":!0});function Mz(e,t){if(e&1&&at(0,"img",6),e&2){let n=Ts();xx("src",n.postData==null?null:n.postData.imageUrl,bx)}}function Nz(e,t){if(e&1){let n=ni();N(0,"mat-icon",7),zt("click",function(){Pe(n);let r=Ts();return Me(r.ondeletePost())}),et(1,"delete_outline"),U()}e&2&&dn("ngStyle",Jg(1,Oz))}function Lz(e,t){if(e&1&&(N(0,"div",13)(1,"b"),et(2),U(),et(3),U()),e&2){let n=t.$implicit;dn("ngClass",Jg(3,Pz)),Qt(2),Zg(n==null?null:n.creatorUsername),Qt(),_i("\xA0\xA0",n==null?null:n.comment," ")}}function Fz(e,t){if(e&1){let n=ni();N(0,"mat-card-content")(1,"div",8),ln(2,Lz,4,4,"div",9),U(),N(3,"div",10)(4,"button",11),zt("click",function(){Pe(n);let r=He(8),s=Ts();return Me(s.onSendClick(r))}),N(5,"mat-icon"),et(6,"send"),U()(),at(7,"input",12,0),U()()}if(e&2){let n=Ts();Qt(2),dn("ngForOf",n.comments)}}var xR=(()=>{let t=class t{constructor(i){this.dialog=i,this.firestore=new qn,this.showReply=!1,this.comments=[],this.commentCount=0,this.likes=[],this.likeCount=0,this.likeClicked=!1,this.showDeleteButton=!1,this.isFirestoreOperationInProgress=!1,this.auth=new we}ngOnInit(){this.getCreatorInfo(),this.getComments(),this.getLike(),this.getLikeList(),this.getDeleteButton()}getCreatorInfo(){this.firestore.getDocument({path:["Users",this.postData.creatorId],onComplete:i=>{let r=i.data();this.creatorName=r.publicName,this.creatorUsername=r.username}})}toggleReply(){this.showReply=!this.showReply}onSendClick(i){i.value.length>0&&this.firestore.create({path:["Posts",this.postData.postId,"PostComments"],data:{comment:i.value,creatorId:Vr.getUserDocument()?.userId,creatorUsername:Vr.getUserDocument()?.username,timestamp:Zt.getFirestoreTimestamp()},onComplete:r=>{i.value=""},onFail:r=>{}})}getComments(){this.firestore.listenToCollection({name:"Post Comments",path:["Posts",this.postData.postId,"PostComments"],where:[new Sa("timestamp","asc")],onUpdate:i=>{i.docChanges().forEach(r=>{r.type=="added"&&(this.comments.unshift(r.doc.data()),this.commentCount++)})}})}getLikeList(){this.likes=[],this.firestore.getCollection({path:["Posts",this.postData.postId,"Likes"],where:[],onComplete:i=>{i.docs.forEach(r=>{let s=r.data();s.likeId=r.id,this.likes.push(s),this.likes.find(c=>c.creatorUserId===Vr.getUserDocument()?.userId)?this.likeClicked=!0:this.likeClicked=!1})}})}onClickLike(){if(this.isFirestoreOperationInProgress)return;this.isFirestoreOperationInProgress=!0;let i=this.likes.find(r=>r.creatorUserId===Vr.getUserDocument()?.userId);i?this.firestore.delete({path:["Posts",this.postData.postId,"Likes",i.likeId]}).then(()=>{this.isFirestoreOperationInProgress=!1,this.likeClicked=!1,this.getLikeList()}):this.firestore.create({path:["Posts",this.postData.postId,"Likes"],data:{creatorUserId:Vr.getUserDocument()?.userId,timestamp:Zt.getFirestoreTimestamp()}}).then(()=>{this.isFirestoreOperationInProgress=!1,this.likeClicked=!0,this.getLikeList()})}getLike(){this.firestore.listenToCollection({name:"Post Likes",path:["Posts",this.postData.postId,"Likes"],where:[],onUpdate:i=>{this.likeCount=i.size}})}getDeleteButton(){this.postData.creatorId===this.auth?.getAuth()?.currentUser?.uid===!0?this.showDeleteButton=!0:this.showDeleteButton=!1}ondeletePost(){window.confirm("Do you want to delete post ?")==!0&&this.firestore.delete({path:["Posts",this.postData.postId]}).then(()=>{window.location.reload()})}};t.\u0275fac=function(r){return new(r||t)(X(r_))},t.\u0275cmp=Tt({type:t,selectors:[["app-post"]],inputs:{postData:"postData"},decls:15,vars:10,consts:[["commentInput",""],["style","padding-bottom: 5px;","mat-card-image","",3,"src",4,"ngIf"],[1,"action-item",3,"click","color"],["color","warn",1,"action-item",3,"click"],["class","action-item",3,"ngStyle","click",4,"ngIf"],[4,"ngIf"],["mat-card-image","",2,"padding-bottom","5px",3,"src"],[1,"action-item",3,"click","ngStyle"],["id","reply-box"],[3,"ngClass",4,"ngFor","ngForOf"],["id","reply-action-bar"],["mat-flat-button","","color","warn",3,"click"],["placeholder","Comment..."],[3,"ngClass"]],template:function(r,s){r&1&&(N(0,"mat-card"),ln(1,Mz,1,1,"img",1),N(2,"mat-card-content")(3,"b"),et(4),U(),et(5),U(),N(6,"mat-card-actions")(7,"mat-icon",2),zt("click",function(){return s.onClickLike()}),et(8),U(),et(9),N(10,"mat-icon",3),zt("click",function(){return s.toggleReply()}),et(11),U(),et(12),ln(13,Nz,2,2,"mat-icon",4),U(),ln(14,Fz,9,1,"mat-card-content",5),U()),r&2&&(Qt(),dn("ngIf",s.postData==null?null:s.postData.imageUrl),Qt(3),Zg(s.creatorUsername),Qt(),_i(" ",s.postData==null?null:s.postData.comment," "),Qt(2),dn("color",s.likeClicked?"red":"primary"),Qt(),_i(" ",s.likeClicked?"favorite":"favorite_outline"," "),Qt(),_i("\xA0",s.likeCount," "),Qt(2),_i(" ",s.showReply?"chat_bubble":"chat_bubble_outline"," "),Qt(),_i("\xA0",s.commentCount," "),Qt(),dn("ngIf",s.showDeleteButton===!0),Qt(),dn("ngIf",s.showReply))},dependencies:[Ux,Pd,Md,Vx,Gf,Yf,Xf,Qf,iR,rR],styles:[".action-item[_ngcontent-%COMP%]{margin-left:.5em;cursor:pointer}mat-card[_ngcontent-%COMP%]{display:flex;margin-top:40px;margin-right:30%;margin-left:30%;background:#fff;border-radius:20px;box-shadow:0 2px 6px -1px #00000067}.comment-container[_ngcontent-%COMP%]{border-radius:1em;background-color:#dcdcdc;padding:1em;margin-left:-15px;margin-bottom:10px;overflow:hidden;font-size:15px;width:400px}@media screen and (max-width: 768px){mat-card[_ngcontent-%COMP%]{width:80%;margin-right:10%;margin-left:10%}.comment-container[_ngcontent-%COMP%]{width:80%;flex-direction:column;margin-left:0}}mat-card-actions[_ngcontent-%COMP%]{margin-bottom:5px;font-size:15px}mat-card-content[_ngcontent-%COMP%]{padding-left:1.25em;margin-top:5px}img[_ngcontent-%COMP%]{border-radius:5px;margin:20px 20px 10px}#reply-box[_ngcontent-%COMP%]{width:100%;height:150px;overflow:auto;min-width:400px;max-width:600px;padding:0 1em;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box}#reply-action-bar[_ngcontent-%COMP%]{width:100%;display:grid;grid-template-columns:3em 1fr;direction:rtl}input[_ngcontent-%COMP%]{padding:1.75em 1.5em 1em 1em;border:1px solid gray;outline:none;width:100%;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;direction:ltr;border:none;font-size:15px}#reply-box[_ngcontent-%COMP%]{-ms-overflow-style:none;scrollbar-width:none;overflow-y:scroll}mat-icon.mat-icon.notranslate.action-item.material-icons.mat-ligature-font.mat-red.mat-icon-no-color[_ngcontent-%COMP%]{color:#ff009d}"]});let e=t;return e})();var CR=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=gt({type:t}),t.\u0275inj=mt({imports:[Oe,Oe]});let e=t;return e})();var TR=(()=>{let t=class t{constructor(){Zt.init(Kk.firebaseConfig)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=gt({type:t,bootstrap:[Gk]}),t.\u0275inj=mt({providers:[$k(),{provide:i_,useValue:{}}],imports:[sC,Wk,CR,KD,ER,eR,oR]});let e=t;return e})();Cx(Af,[Pd,aR,xR,Vr],[]);oC().bootstrapModule(TR).catch(e=>console.error(e));
