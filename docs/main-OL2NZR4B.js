import{$ as _n,$a as Is,$b as Dd,A as KE,Aa as on,Ab as un,B as pt,Ba as Tc,Bb as bx,C as vs,Ca as Gg,Cb as xd,D as yn,Da as sn,Db as xs,E as jg,Ea as lo,Eb as Cs,F as vd,Fa as Bt,Fb as ln,G as co,Ga as an,Gb as nt,H as YE,Ha as ix,Hb as yx,I as XE,Ia as Sc,Ib as Oc,J as bd,Ja as rx,Jb as ke,K as fe,Ka as ho,Kb as _x,L as Ug,La as Fn,Lb as Cd,M as or,Ma as Ac,Mb as wx,N as sr,Na as _s,Nb as Td,O as Vg,Oa as ws,Ob as Sd,P as Bg,Pa as ox,Pb as Xg,Q as ve,Qa as sx,Qb as Ix,R as QE,Ra as ax,Rb as Qg,S as zg,Sa as cx,Sb as Ex,T as uo,Ta as ux,Tb as Pc,U as ar,Ua as lx,Ub as Ad,V as qg,Va as dx,Vb as xx,W as ZE,Wa as En,Wb as fo,X as JE,Xa as hx,Xb as Cx,Y as tx,Ya as Dc,Yb as Tx,Z as yd,Za as jn,Zb as ni,_ as Mi,_a as Z,_b as Sx,a as U,aa as Ni,ab as Rc,ac as Ax,b as ie,ba as Yt,bb as fx,bc as Dx,ca as Vt,cb as Id,cc as ct,d as bn,da as cr,db as Ed,dc as Rx,e as DN,ea as W,eb as px,ec as Zg,f as md,fa as mt,fb as ht,fc as kx,g as Pi,ga as ex,gb as mx,gc as Ox,h as $E,ha as dt,hb as Es,hc as Fi,i as Ic,ia as Hg,ib as Li,ic as Px,j as Ng,ja as R,jb as vi,jc as Mx,k as Lg,ka as q,kb as gx,kc as Rd,l as Tt,la as _d,lb as $g,lc as kd,m as en,ma as Wg,mb as vx,mc as Nx,n as rr,na as Cc,nb as ti,nc as Lx,o as Q,oa as Wt,ob as ei,oc as Jg,p as so,pa as Et,pb as lr,pc as Fx,q as D,qa as gt,qb as cn,qc as jx,r as A,ra as re,rb as kc,s as gd,sa as wd,sb as N,t as Ec,ta as nx,tb as V,u as Nt,ua as bs,ub as rt,v as xc,va as ur,vb as dr,w as nn,wa as ys,wb as Kg,x as Y,xa as wn,xb as be,y as ao,ya as In,yb as Yg,z as Fg,za as rn,zb as bi}from"./chunk-RKLC3NLE.js";function GC(e){return Fs(void 0,e)}function Fs(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(var i in t)!t.hasOwnProperty(i)||!a2(i)||(e[i]=Fs(e[i],t[i]));return e}function a2(e){return e!=="__proto__"}function eh(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},i=t||"demo-project",r=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var c=so({iss:"https://securetoken.google.com/"+i,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),l="";return[HC(JSON.stringify(n)),HC(JSON.stringify(c)),l].join(".")}function vr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function KC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vr())}function ib(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function YC(){return typeof self=="object"&&self.self===self}function XC(){var e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function QC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ZC(){return vr().indexOf("Electron/")>=0}function JC(){var e=vr();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function tT(){return vr().indexOf("MSAppHost/")>=0}function eT(){return!ib()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function u2(e,t){return e.replace(l2,function(n,i){var r=t[i];return r!=null?String(r):"<"+i+"?>"})}function ob(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function nT(e,t){var n=new d2(e,t);return n.subscribe.bind(n)}function h2(e,t){if(typeof e!="object"||e===null)return!1;for(var n=0,i=t;n<i.length;n++){var r=i[n];if(r in e&&typeof e[r]=="function")return!0}return!1}function nb(){}function At(e){return e&&e._delegate?e._delegate:e}var WC,r2,o2,s2,HC,$C,c2,rb,nh,l2,_5,d2,w5,js=bn(()=>{"use strict";xc();WC=function(e){for(var t=[],n=0,i=0;i<e.length;i++){var r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=r&63|128):(r&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=r&63|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=r&63|128)}return t},r2=function(e){for(var t=[],n=0,i=0;n<e.length;){var r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){var s=e[n++];t[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){var s=e[n++],c=e[n++],l=e[n++],d=((r&7)<<18|(s&63)<<12|(c&63)<<6|l&63)-65536;t[i++]=String.fromCharCode(55296+(d>>10)),t[i++]=String.fromCharCode(56320+(d&1023))}else{var s=e[n++],c=e[n++];t[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|c&63)}}return t.join("")},o2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[],r=0;r<e.length;r+=3){var s=e[r],c=r+1<e.length,l=c?e[r+1]:0,d=r+2<e.length,f=d?e[r+2]:0,m=s>>2,v=(s&3)<<4|l>>4,y=(l&15)<<2|f>>6,_=f&63;d||(_=64,c||(y=64)),i.push(n[m],n[v],n[y],n[_])}return i.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(WC(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):r2(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[],r=0;r<e.length;){var s=n[e.charAt(r++)],c=r<e.length,l=c?n[e.charAt(r)]:0;++r;var d=r<e.length,f=d?n[e.charAt(r)]:64;++r;var m=r<e.length,v=m?n[e.charAt(r)]:64;if(++r,s==null||l==null||f==null||v==null)throw Error();var y=s<<2|l>>4;if(i.push(y),f!==64){var _=l<<4&240|f>>2;if(i.push(_),v!==64){var I=f<<6&192|v;i.push(I)}}}return i},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},s2=function(e){var t=WC(e);return o2.encodeByteArray(t,!0)},HC=function(e){return s2(e).replace(/\./g,"")};$C=function(){function e(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,i){t.resolve=n,t.reject=i})}return e.prototype.wrapCallback=function(t){var n=this;return function(i,r){i?n.reject(i):n.resolve(r),typeof t=="function"&&(n.promise.catch(function(){}),t.length===1?t(i):t(i,r))}},e}();c2="FirebaseError",rb=function(e){Q(t,e);function t(n,i,r){var s=e.call(this,i)||this;return s.code=n,s.customData=r,s.name=c2,Object.setPrototypeOf(s,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,nh.prototype.create),s}return t}(Error),nh=function(){function e(t,n,i){this.service=t,this.serviceName=n,this.errors=i}return e.prototype.create=function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var r=n[0]||{},s=this.service+"/"+t,c=this.errors[t],l=c?u2(c,r):"Error",d=this.serviceName+": "+l+" ("+s+").",f=new rb(s,d,r);return f},e}();l2=/\{\$([^}]+)}/g;_5=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(t,n){n||(n=0);var i=this.W_;if(typeof t=="string")for(var r=0;r<16;r++)i[r]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(var r=0;r<16;r++)i[r]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(var r=16;r<80;r++){var s=i[r-3]^i[r-8]^i[r-14]^i[r-16];i[r]=(s<<1|s>>>31)&4294967295}for(var c=this.chain_[0],l=this.chain_[1],d=this.chain_[2],f=this.chain_[3],m=this.chain_[4],v,y,r=0;r<80;r++){r<40?r<20?(v=f^l&(d^f),y=1518500249):(v=l^d^f,y=1859775393):r<60?(v=l&d|f&(l|d),y=2400959708):(v=l^d^f,y=3395469782);var s=(c<<5|c>>>27)+v+m+y+i[r]&4294967295;m=f,f=d,d=(l<<30|l>>>2)&4294967295,l=c,c=s}this.chain_[0]=this.chain_[0]+c&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+d&4294967295,this.chain_[3]=this.chain_[3]+f&4294967295,this.chain_[4]=this.chain_[4]+m&4294967295},e.prototype.update=function(t,n){if(t!=null){n===void 0&&(n=t.length);for(var i=n-this.blockSize,r=0,s=this.buf_,c=this.inbuf_;r<n;){if(c===0)for(;r<=i;)this.compress_(t,r),r+=this.blockSize;if(typeof t=="string"){for(;r<n;)if(s[c]=t.charCodeAt(r),++c,++r,c===this.blockSize){this.compress_(s),c=0;break}}else for(;r<n;)if(s[c]=t[r],++c,++r,c===this.blockSize){this.compress_(s),c=0;break}}this.inbuf_=c,this.total_+=n}},e.prototype.digest=function(){var t=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);for(var r=0,i=0;i<5;i++)for(var s=24;s>=0;s-=8)t[r]=this.chain_[i]>>s&255,++r;return t},e}();d2=function(){function e(t,n){var i=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(i)}).catch(function(r){i.error(r)})}return e.prototype.next=function(t){this.forEachObserver(function(n){n.next(t)})},e.prototype.error=function(t){this.forEachObserver(function(n){n.error(t)}),this.close(t)},e.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},e.prototype.subscribe=function(t,n,i){var r=this,s;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");h2(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:i},s.next===void 0&&(s.next=nb),s.error===void 0&&(s.error=nb),s.complete===void 0&&(s.complete=nb);var c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{r.finalError?s.error(r.finalError):s.complete()}catch{}}),this.observers.push(s),c},e.prototype.unsubscribeOne=function(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},e.prototype.forEachObserver=function(t){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,t)},e.prototype.sendOne=function(t,n){var i=this;this.task.then(function(){if(i.observers!==void 0&&i.observers[t]!==void 0)try{n(i.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})},e.prototype.close=function(t){var n=this;this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},e}();w5=4*60*60*1e3;});function p2(e){return e===go?void 0:e}function m2(e){return e.instantiationMode==="EAGER"}var br,go,f2,iT,ih=bn(()=>{"use strict";xc();js();br=function(){function e(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},e.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},e.prototype.setServiceProps=function(t){return this.serviceProps=t,this},e.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},e}();go="[DEFAULT]";f2=function(){function e(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(t){var n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){var i=new $C;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise},e.prototype.getImmediate=function(t){var n,i=this.normalizeInstanceIdentifier(t?.identifier),r=(n=t?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error("Service "+this.name+" is not available")}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(t){var n,i;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,!!this.shouldAutoInitialize()){if(m2(t))try{this.getOrInitializeService({instanceIdentifier:go})}catch{}try{for(var r=gd(this.instancesDeferred.entries()),s=r.next();!s.done;s=r.next()){var c=Ec(s.value,2),l=c[0],d=c[1],f=this.normalizeInstanceIdentifier(l);try{var m=this.getOrInitializeService({instanceIdentifier:f});d.resolve(m)}catch{}}}catch(v){n={error:v}}finally{try{s&&!s.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}}},e.prototype.clearInstance=function(t){t===void 0&&(t=go),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},e.prototype.delete=function(){return D(this,void 0,void 0,function(){var t;return A(this,function(n){switch(n.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Nt(Nt([],Ec(t.filter(function(i){return"INTERNAL"in i}).map(function(i){return i.INTERNAL.delete()}))),Ec(t.filter(function(i){return"_delete"in i}).map(function(i){return i._delete()}))))];case 1:return n.sent(),[2]}})})},e.prototype.isComponentSet=function(){return this.component!=null},e.prototype.isInitialized=function(t){return t===void 0&&(t=go),this.instances.has(t)},e.prototype.getOptions=function(t){return t===void 0&&(t=go),this.instancesOptions.get(t)||{}},e.prototype.initialize=function(t){var n,i;t===void 0&&(t={});var r=t.options,s=r===void 0?{}:r,c=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(c))throw Error(this.name+"("+c+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var l=this.getOrInitializeService({instanceIdentifier:c,options:s});try{for(var d=gd(this.instancesDeferred.entries()),f=d.next();!f.done;f=d.next()){var m=Ec(f.value,2),v=m[0],y=m[1],_=this.normalizeInstanceIdentifier(v);c===_&&y.resolve(l)}}catch(I){n={error:I}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}return l},e.prototype.onInit=function(t,n){var i,r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(t),this.onInitCallbacks.set(r,s);var c=this.instances.get(r);return c&&t(c,r),function(){s.delete(t)}},e.prototype.invokeOnInitCallbacks=function(t,n){var i,r,s=this.onInitCallbacks.get(n);if(s)try{for(var c=gd(s),l=c.next();!l.done;l=c.next()){var d=l.value;try{d(t,n)}catch{}}}catch(f){i={error:f}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(i)throw i.error}}},e.prototype.getOrInitializeService=function(t){var n=t.instanceIdentifier,i=t.options,r=i===void 0?{}:i,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:p2(n),options:r}),this.instances.set(n,s),this.instancesOptions.set(n,r),this.invokeOnInitCallbacks(s,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch{}return s||null},e.prototype.normalizeInstanceIdentifier=function(t){return t===void 0&&(t=go),this.component?this.component.multipleInstances?t:go:t},e.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},e}();iT=function(){function e(t){this.name=t,this.providers=new Map}return e.prototype.addComponent=function(t){var n=this.getProvider(t.name);if(n.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);n.setComponent(t)},e.prototype.addOrOverwriteComponent=function(t){var n=this.getProvider(t.name);n.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},e.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var n=new f2(t,this);return this.providers.set(t,n),n},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}()});function ii(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var i=Array(e),r=0,t=0;t<n;t++)for(var s=arguments[t],c=0,l=s.length;c<l;c++,r++)i[r]=s[c];return i}function oT(e){sb.forEach(function(t){t.setLogLevel(e)})}function sT(e,t){for(var n=function(c){var l=null;t&&t.level&&(l=rT[t.level]),e===null?c.userLogHandler=null:c.userLogHandler=function(d,f){for(var m=[],v=2;v<arguments.length;v++)m[v-2]=arguments[v];var y=m.map(function(_){if(_==null)return null;if(typeof _=="string")return _;if(typeof _=="number"||typeof _=="boolean")return _.toString();if(_ instanceof Error)return _.message;try{return JSON.stringify(_)}catch{return null}}).filter(function(_){return _}).join(" ");f>=(l??d.logLevel)&&e({level:xt[f].toLowerCase(),message:y,args:m,type:d.name})}},i=0,r=sb;i<r.length;i++){var s=r[i];n(s)}}var vo,sb,xt,rT,g2,v2,b2,rh,oh=bn(()=>{"use strict";sb=[],xt=function(e){return e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",e}(xt||{}),rT={debug:xt.DEBUG,verbose:xt.VERBOSE,info:xt.INFO,warn:xt.WARN,error:xt.ERROR,silent:xt.SILENT},g2=xt.INFO,v2=(vo={},vo[xt.DEBUG]="log",vo[xt.VERBOSE]="log",vo[xt.INFO]="info",vo[xt.WARN]="warn",vo[xt.ERROR]="error",vo),b2=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var r=new Date().toISOString(),s=v2[t];if(s)console[s].apply(console,ii(["["+r+"]  "+e.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}},rh=function(){function e(t){this.name=t,this._logLevel=g2,this._logHandler=b2,this._userLogHandler=null,sb.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in xt))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(t){this._logLevel=typeof t=="string"?rT[t]:t},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,ii([this,xt.DEBUG],t)),this._logHandler.apply(this,ii([this,xt.DEBUG],t))},e.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,ii([this,xt.VERBOSE],t)),this._logHandler.apply(this,ii([this,xt.VERBOSE],t))},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,ii([this,xt.INFO],t)),this._logHandler.apply(this,ii([this,xt.INFO],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,ii([this,xt.WARN],t)),this._logHandler.apply(this,ii([this,xt.WARN],t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,ii([this,xt.ERROR],t)),this._logHandler.apply(this,ii([this,xt.ERROR],t))},e}()});function N2(e){var t={},n=new Map,i={__esModule:!0,initializeApp:c,app:s,registerVersion:f,setLogLevel:oT,onLog:m,apps:null,SDK_VERSION:M2,INTERNAL:{registerComponent:d,removeApp:r,components:n,useAsService:v}};i.default=i,Object.defineProperty(i,"apps",{get:l});function r(y){delete t[y]}function s(y){if(y=y||ah,!ob(t,y))throw Us.create("no-app",{appName:y});return t[y]}s.App=e;function c(y,_){if(_===void 0&&(_={}),typeof _!="object"||_===null){var I=_;_={name:I}}var E=_;E.name===void 0&&(E.name=ah);var C=E.name;if(typeof C!="string"||!C)throw Us.create("bad-app-name",{appName:String(C)});if(ob(t,C))throw Us.create("duplicate-app",{appName:C});var k=new e(y,E,i);return t[C]=k,k}function l(){return Object.keys(t).map(function(y){return t[y]})}function d(y){var _=y.name;if(n.has(_))return Vs.debug("There were multiple attempts to register component "+_+"."),y.type==="PUBLIC"?i[_]:null;if(n.set(_,y),y.type==="PUBLIC"){var I=function(L){if(L===void 0&&(L=s()),typeof L[_]!="function")throw Us.create("invalid-app-argument",{appName:_});return L[_]()};y.serviceProps!==void 0&&Fs(I,y.serviceProps),i[_]=I,e.prototype[_]=function(){for(var L=[],B=0;B<arguments.length;B++)L[B]=arguments[B];var et=this._getService.bind(this,_);return et.apply(this,y.multipleInstances?L:[])}}for(var E=0,C=Object.keys(t);E<C.length;E++){var k=C[E];t[k]._addComponent(y)}return y.type==="PUBLIC"?i[_]:null}function f(y,_,I){var E,C=(E=P2[y])!==null&&E!==void 0?E:y;I&&(C+="-"+I);var k=C.match(/\s|\//),L=_.match(/\s|\//);if(k||L){var B=['Unable to register library "'+C+'" with version "'+_+'":'];k&&B.push('library name "'+C+'" contains illegal characters (whitespace or "/")'),k&&L&&B.push("and"),L&&B.push('version name "'+_+'" contains illegal characters (whitespace or "/")'),Vs.warn(B.join(" "));return}d(new br(C+"-version",function(){return{library:C,version:_}},"VERSION"))}function m(y,_){if(y!==null&&typeof y!="function")throw Us.create("invalid-log-argument");sT(y,_)}function v(y,_){if(_==="serverAuth")return null;var I=_;return I}return i}function cT(){var e=N2(sh);e.INTERNAL=so(so({},e.INTERNAL),{createFirebaseNamespace:cT,extendNamespace:t,createSubscribe:nT,ErrorFactory:nh,deepExtend:Fs});function t(n){Fs(e,n)}return e}function F2(e){var t=e.getComponent();return t?.type==="VERSION"}function j2(e,t){e.INTERNAL.registerComponent(new br("platform-logger",function(n){return new L2(n)},"PRIVATE")),e.registerVersion(aT,_2,t),e.registerVersion("fire-js","")}var yr,y2,Us,aT,_2,w2,I2,E2,x2,C2,T2,S2,A2,D2,R2,k2,O2,Oe,ah,P2,Vs,sh,M2,cb,L2,ab,U2,uT,it,Bs=bn(()=>{"use strict";xc();js();ih();oh();y2=(yr={},yr["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",yr["bad-app-name"]="Illegal App name: '{$appName}",yr["duplicate-app"]="Firebase App named '{$appName}' already exists",yr["app-deleted"]="Firebase App named '{$appName}' already deleted",yr["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",yr["invalid-log-argument"]="First argument to `onLog` must be null or a function.",yr),Us=new nh("app","Firebase",y2),aT="@firebase/app",_2="0.6.30",w2="@firebase/analytics",I2="@firebase/app-check",E2="@firebase/auth",x2="@firebase/database",C2="@firebase/functions",T2="@firebase/installations",S2="@firebase/messaging",A2="@firebase/performance",D2="@firebase/remote-config",R2="@firebase/storage",k2="@firebase/firestore",O2="firebase-wrapper";ah="[DEFAULT]",P2=(Oe={},Oe[aT]="fire-core",Oe[w2]="fire-analytics",Oe[I2]="fire-app-check",Oe[E2]="fire-auth",Oe[x2]="fire-rtdb",Oe[C2]="fire-fn",Oe[T2]="fire-iid",Oe[S2]="fire-fcm",Oe[A2]="fire-perf",Oe[D2]="fire-rc",Oe[R2]="fire-gcs",Oe[k2]="fire-fst",Oe["fire-js"]="fire-js",Oe[O2]="fire-js-all",Oe);Vs=new rh("@firebase/app");sh=function(){function e(t,n,i){var r=this;this.firebase_=i,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=GC(t),this.container=new iT(n.name),this._addComponent(new br("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(s){return r._addComponent(s)})}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var t=this;return new Promise(function(n){t.checkDestroyed_(),n()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(n){return n.delete()}))}).then(function(){t.isDeleted_=!0})},e.prototype._getService=function(t,n){var i;n===void 0&&(n=ah),this.checkDestroyed_();var r=this.container.getProvider(t);return!r.isInitialized()&&((i=r.getComponent())===null||i===void 0?void 0:i.instantiationMode)==="EXPLICIT"&&r.initialize(),r.getImmediate({identifier:n})},e.prototype._removeServiceInstance=function(t,n){n===void 0&&(n=ah),this.container.getProvider(t).clearInstance(n)},e.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(n){Vs.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,n)}},e.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Us.create("app-deleted",{appName:this.name_})},e}();sh.prototype.name&&sh.prototype.options||sh.prototype.delete||console.log("dc");M2="8.10.0";cb=cT();L2=function(){function e(t){this.container=t}return e.prototype.getPlatformInfoString=function(){var t=this.container.getProviders();return t.map(function(n){if(F2(n)){var i=n.getImmediate();return i.library+"/"+i.version}else return null}).filter(function(n){return n}).join(" ")},e}();YC()&&self.firebase!==void 0&&(Vs.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `),ab=self.firebase.SDK_VERSION,ab&&ab.indexOf("LITE")>=0&&Vs.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `));U2=cb.initializeApp;cb.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ib()&&Vs.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),U2.apply(void 0,e)};uT=cb;j2(uT);it=uT});var dT={};DN(dT,{default:()=>it});var V2,lT,hT=bn(()=>{"use strict";Bs();Bs();V2="firebase",lT="8.10.1";it.registerVersion(V2,lT,"app");it.SDK_VERSION=lT});var fT=bn(()=>{"use strict";Bs();(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,a,u){o!=Array.prototype&&o!=Object.prototype&&(o[a]=u.value)};function n(o){o=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,o];for(var a=0;a<o.length;++a){var u=o[a];if(u&&u.Math==Math)return u}return globalThis}var i=n(this);function r(o,a){if(a){var u=i;o=o.split(".");for(var h=0;h<o.length-1;h++){var p=o[h];p in u||(u[p]={}),u=u[p]}o=o[o.length-1],h=u[o],a=a(h),a!=h&&a!=null&&t(u,o,{configurable:!0,writable:!0,value:a})}}function s(o){var a=0;return function(){return a<o.length?{done:!1,value:o[a++]}:{done:!0}}}function c(o){var a=typeof Symbol<"u"&&Symbol.iterator&&o[Symbol.iterator];return a?a.call(o):{next:s(o)}}r("Promise",function(o){function a(b){this.b=0,this.c=void 0,this.a=[];var w=this.f();try{b(w.resolve,w.reject)}catch(S){w.reject(S)}}function u(){this.a=null}function h(b){return b instanceof a?b:new a(function(w){w(b)})}if(o)return o;u.prototype.b=function(b){if(this.a==null){this.a=[];var w=this;this.c(function(){w.g()})}this.a.push(b)};var p=i.setTimeout;u.prototype.c=function(b){p(b,0)},u.prototype.g=function(){for(;this.a&&this.a.length;){var b=this.a;this.a=[];for(var w=0;w<b.length;++w){var S=b[w];b[w]=null;try{S()}catch(O){this.f(O)}}}this.a=null},u.prototype.f=function(b){this.c(function(){throw b})},a.prototype.f=function(){function b(O){return function(st){S||(S=!0,O.call(w,st))}}var w=this,S=!1;return{resolve:b(this.m),reject:b(this.g)}},a.prototype.m=function(b){if(b===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(b instanceof a)this.s(b);else{t:switch(typeof b){case"object":var w=b!=null;break t;case"function":w=!0;break t;default:w=!1}w?this.v(b):this.h(b)}},a.prototype.v=function(b){var w=void 0;try{w=b.then}catch(S){this.g(S);return}typeof w=="function"?this.u(w,b):this.h(b)},a.prototype.g=function(b){this.i(2,b)},a.prototype.h=function(b){this.i(1,b)},a.prototype.i=function(b,w){if(this.b!=0)throw Error("Cannot settle("+b+", "+w+"): Promise already settled in state"+this.b);this.b=b,this.c=w,this.l()},a.prototype.l=function(){if(this.a!=null){for(var b=0;b<this.a.length;++b)g.b(this.a[b]);this.a=null}};var g=new u;return a.prototype.s=function(b){var w=this.f();b.Ra(w.resolve,w.reject)},a.prototype.u=function(b,w){var S=this.f();try{b.call(w,S.resolve,S.reject)}catch(O){S.reject(O)}},a.prototype.then=function(b,w){function S(It,ge){return typeof It=="function"?function(Oi){try{O(It(Oi))}catch(Mg){st(Mg)}}:ge}var O,st,Rt=new a(function(It,ge){O=It,st=ge});return this.Ra(S(b,O),S(w,st)),Rt},a.prototype.catch=function(b){return this.then(void 0,b)},a.prototype.Ra=function(b,w){function S(){switch(O.b){case 1:b(O.c);break;case 2:w(O.c);break;default:throw Error("Unexpected state: "+O.b)}}var O=this;this.a==null?g.b(S):this.a.push(S)},a.resolve=h,a.reject=function(b){return new a(function(w,S){S(b)})},a.race=function(b){return new a(function(w,S){for(var O=c(b),st=O.next();!st.done;st=O.next())h(st.value).Ra(w,S)})},a.all=function(b){var w=c(b),S=w.next();return S.done?h([]):new a(function(O,st){function Rt(Oi){return function(Mg){It[Oi]=Mg,ge--,ge==0&&O(It)}}var It=[],ge=0;do It.push(void 0),ge++,h(S.value).Ra(Rt(It.length-1),st),S=w.next();while(!S.done)})},a});var l=l||{},d=this||self,f=/^[\w+/_-]+[=]{0,2}$/,m=null;function v(o){return(o=o.querySelector&&o.querySelector("script[nonce]"))&&(o=o.nonce||o.getAttribute("nonce"))&&f.test(o)?o:""}function y(){}function _(o){var a=typeof o;return a!="object"?a:o?Array.isArray(o)?"array":a:"null"}function I(o){var a=_(o);return a=="array"||a=="object"&&typeof o.length=="number"}function E(o){return _(o)=="function"}function C(o){var a=typeof o;return a=="object"&&o!=null||a=="function"}function k(o){return Object.prototype.hasOwnProperty.call(o,L)&&o[L]||(o[L]=++B)}var L="closure_uid_"+(1e9*Math.random()>>>0),B=0;function et(o,a,u){return o.call.apply(o.bind,arguments)}function ut(o,a,u){if(!o)throw Error();if(2<arguments.length){var h=Array.prototype.slice.call(arguments,2);return function(){var p=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(p,h),o.apply(a,p)}}return function(){return o.apply(a,arguments)}}function F(o,a,u){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?F=et:F=ut,F.apply(null,arguments)}function Ot(o,a){var u=Array.prototype.slice.call(arguments,1);return function(){var h=u.slice();return h.push.apply(h,arguments),o.apply(this,h)}}var Gn=Date.now;function K(o,a){function u(){}u.prototype=a.prototype,o.bb=a.prototype,o.prototype=new u,o.prototype.constructor=o}function Wo(o){return o}function x(o,a,u){this.code=Fa+o,this.message=a||xk[o]||"",this.a=u||null}K(x,Error),x.prototype.w=function(){var o={code:this.code,message:this.message};return this.a&&(o.serverResponse=this.a),o},x.prototype.toJSON=function(){return this.w()};function J0(o){var a=o&&o.code;return a?new x(a.substring(Fa.length),o.message,o.serverResponse):null}var Fa="auth/",xk={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},tp={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function ja(o){for(var a in tp)if(tp[a].id===o)return o=tp[a],{firebaseEndpoint:o.Ua,secureTokenEndpoint:o.$a,identityPlatformEndpoint:o.Xa};return null}var Ua;Ua=ja("__EID__")?"__EID__":void 0;function t_(o){if(!o)return!1;try{return!!o.$goog_Thenable}catch{return!1}}function pn(o){if(Error.captureStackTrace)Error.captureStackTrace(this,pn);else{var a=Error().stack;a&&(this.stack=a)}o&&(this.message=String(o))}K(pn,Error),pn.prototype.name="CustomError";function ep(o,a){o=o.split("%s");for(var u="",h=o.length-1,p=0;p<h;p++)u+=o[p]+(p<a.length?a[p]:"%s");pn.call(this,u+o[h])}K(ep,pn),ep.prototype.name="AssertionError";function Go(o,a){throw new ep("Failure"+(o?": "+o:""),Array.prototype.slice.call(arguments,1))}function np(o,a){this.c=o,this.f=a,this.b=0,this.a=null}np.prototype.get=function(){if(0<this.b){this.b--;var o=this.a;this.a=o.next,o.next=null}else o=this.c();return o};function e_(o,a){o.f(a),100>o.b&&(o.b++,a.next=o.a,o.a=a)}function n_(){this.b=this.a=null}var i_=new np(function(){return new ip},function(o){o.reset()});n_.prototype.add=function(o,a){var u=i_.get();u.set(o,a),this.b?this.b.next=u:this.a=u,this.b=u};function Ck(){var o=R_,a=null;return o.a&&(a=o.a,o.a=o.a.next,o.a||(o.b=null),a.next=null),a}function ip(){this.next=this.b=this.a=null}ip.prototype.set=function(o,a){this.a=o,this.b=a,this.next=null},ip.prototype.reset=function(){this.next=this.b=this.a=null};var r_=Array.prototype.indexOf?function(o,a){return Array.prototype.indexOf.call(o,a,void 0)}:function(o,a){if(typeof o=="string")return typeof a!="string"||a.length!=1?-1:o.indexOf(a,0);for(var u=0;u<o.length;u++)if(u in o&&o[u]===a)return u;return-1},qt=Array.prototype.forEach?function(o,a,u){Array.prototype.forEach.call(o,a,u)}:function(o,a,u){for(var h=o.length,p=typeof o=="string"?o.split(""):o,g=0;g<h;g++)g in p&&a.call(u,p[g],g,o)};function Tk(o,a){for(var u=typeof o=="string"?o.split(""):o,h=o.length-1;0<=h;--h)h in u&&a.call(void 0,u[h],h,o)}var Sk=Array.prototype.filter?function(o,a){return Array.prototype.filter.call(o,a,void 0)}:function(o,a){for(var u=o.length,h=[],p=0,g=typeof o=="string"?o.split(""):o,b=0;b<u;b++)if(b in g){var w=g[b];a.call(void 0,w,b,o)&&(h[p++]=w)}return h},hl=Array.prototype.map?function(o,a){return Array.prototype.map.call(o,a,void 0)}:function(o,a){for(var u=o.length,h=Array(u),p=typeof o=="string"?o.split(""):o,g=0;g<u;g++)g in p&&(h[g]=a.call(void 0,p[g],g,o));return h},Ak=Array.prototype.some?function(o,a){return Array.prototype.some.call(o,a,void 0)}:function(o,a){for(var u=o.length,h=typeof o=="string"?o.split(""):o,p=0;p<u;p++)if(p in h&&a.call(void 0,h[p],p,o))return!0;return!1};function Dk(o){t:{for(var a=cP,u=o.length,h=typeof o=="string"?o.split(""):o,p=0;p<u;p++)if(p in h&&a.call(void 0,h[p],p,o)){a=p;break t}a=-1}return 0>a?null:typeof o=="string"?o.charAt(a):o[a]}function Si(o,a){return 0<=r_(o,a)}function fl(o,a){a=r_(o,a);var u;return(u=0<=a)&&Array.prototype.splice.call(o,a,1),u}function $n(o,a){var u=0;Tk(o,function(h,p){a.call(void 0,h,p,o)&&Array.prototype.splice.call(o,p,1).length==1&&u++})}function rp(o){return Array.prototype.concat.apply([],arguments)}function Ur(o){var a=o.length;if(0<a){for(var u=Array(a),h=0;h<a;h++)u[h]=o[h];return u}return[]}var o_=String.prototype.trim?function(o){return o.trim()}:function(o){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(o)[1]},Rk=/&/g,kk=/</g,Ok=/>/g,Pk=/"/g,Mk=/'/g,Nk=/\x00/g,Lk=/[\x00&<>"']/;function Lt(o,a){return o.indexOf(a)!=-1}function op(o,a){return o<a?-1:o>a?1:0}var $o;t:{var s_=d.navigator;if(s_){var a_=s_.userAgent;if(a_){$o=a_;break t}}$o=""}function de(o){return Lt($o,o)}function c_(o,a){for(var u in o)a.call(void 0,o[u],u,o)}function Vr(o){for(var a in o)return!1;return!0}function Yi(o){var a={},u;for(u in o)a[u]=o[u];return a}var u_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Xe(o,a){for(var u,h,p=1;p<arguments.length;p++){h=arguments[p];for(u in h)o[u]=h[u];for(var g=0;g<u_.length;g++)u=u_[g],Object.prototype.hasOwnProperty.call(h,u)&&(o[u]=h[u])}}function l_(o,a){t:{try{var u=o&&o.ownerDocument,h=u&&(u.defaultView||u.parentWindow);if(h=h||d,h.Element&&h.Location){var p=h;break t}}catch{}p=null}if(p&&typeof p[a]<"u"&&(!o||!(o instanceof p[a])&&(o instanceof p.Location||o instanceof p.Element))){if(C(o))try{var g=o.constructor.displayName||o.constructor.name||Object.prototype.toString.call(o)}catch{g="<object could not be stringified>"}else g=o===void 0?"undefined":o===null?"null":typeof o;Go("Argument is not a %s (or a non-Element, non-Location mock); got: %s",a,g)}}function ui(o,a){this.a=o===pl&&a||"",this.b=d_}ui.prototype.ta=!0,ui.prototype.sa=function(){return this.a},ui.prototype.toString=function(){return"Const{"+this.a+"}"};function sp(o){return o instanceof ui&&o.constructor===ui&&o.b===d_?o.a:(Go("expected object of type Const, got '"+o+"'"),"type_error:Const")}var d_={},pl={},ml;function h_(){if(ml===void 0){var o=null,a=d.trustedTypes;if(a&&a.createPolicy){try{o=a.createPolicy("goog#html",{createHTML:Wo,createScript:Wo,createScriptURL:Wo})}catch(u){d.console&&d.console.error(u.message)}ml=o}else ml=o}return ml}function Ko(o,a){this.a=a===p_?o:""}Ko.prototype.ta=!0,Ko.prototype.sa=function(){return this.a.toString()},Ko.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function f_(o){return o instanceof Ko&&o.constructor===Ko?o.a:(Go("expected object of type TrustedResourceUrl, got '"+o+"' of type "+_(o)),"type_error:TrustedResourceUrl")}function ap(o,a){var u=sp(o);if(!jk.test(u))throw Error("Invalid TrustedResourceUrl format: "+u);return o=u.replace(Fk,function(h,p){if(!Object.prototype.hasOwnProperty.call(a,p))throw Error('Found marker, "'+p+'", in format string, "'+u+'", but no valid label mapping found in args: '+JSON.stringify(a));return h=a[p],h instanceof ui?sp(h):encodeURIComponent(String(h))}),Uk(o)}var Fk=/%{(\w+)}/g,jk=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,p_={};function Uk(o){var a=h_();return o=a?a.createScriptURL(o):o,new Ko(o,p_)}function Qe(o,a){this.a=a===Va?o:""}Qe.prototype.ta=!0,Qe.prototype.sa=function(){return this.a.toString()},Qe.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function gl(o){return o instanceof Qe&&o.constructor===Qe?o.a:(Go("expected object of type SafeUrl, got '"+o+"' of type "+_(o)),"type_error:SafeUrl")}var Vk=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Bk=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,m_=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function g_(o){if(o instanceof Qe)return o;if(o=typeof o=="object"&&o.ta?o.sa():String(o),m_.test(o))o=new Qe(o,Va);else{o=String(o),o=o.replace(/(%0A|%0D)/g,"");var a=o.match(Bk);o=a&&Vk.test(a[1])?new Qe(o,Va):null}return o}function v_(o){return o instanceof Qe?o:(o=typeof o=="object"&&o.ta?o.sa():String(o),m_.test(o)||(o="about:invalid#zClosurez"),new Qe(o,Va))}var Va={},b_=new Qe("about:invalid#zClosurez",Va);function Yo(o,a,u){this.a=u===y_?o:""}Yo.prototype.ta=!0,Yo.prototype.sa=function(){return this.a.toString()},Yo.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function zk(o){return o instanceof Yo&&o.constructor===Yo?o.a:(Go("expected object of type SafeHtml, got '"+o+"' of type "+_(o)),"type_error:SafeHtml")}var y_={};function qk(o,a){l_(o,"HTMLScriptElement"),o.src=f_(a),(a=o.ownerDocument&&o.ownerDocument.defaultView)&&a!=d?a=v(a.document):(m===null&&(m=v(d.document)),a=m),a&&o.setAttribute("nonce",a)}function __(o,a,u,h){return o=o instanceof Qe?o:v_(o),a=a||d,u=u instanceof ui?sp(u):u||"",a.open(gl(o),u,h,void 0)}function w_(o,a){for(var u=o.split("%s"),h="",p=Array.prototype.slice.call(arguments,1);p.length&&1<u.length;)h+=u.shift()+p.shift();return h+u.join("%s")}function cp(o){return Lk.test(o)&&(o.indexOf("&")!=-1&&(o=o.replace(Rk,"&amp;")),o.indexOf("<")!=-1&&(o=o.replace(kk,"&lt;")),o.indexOf(">")!=-1&&(o=o.replace(Ok,"&gt;")),o.indexOf('"')!=-1&&(o=o.replace(Pk,"&quot;")),o.indexOf("'")!=-1&&(o=o.replace(Mk,"&#39;")),o.indexOf("\0")!=-1&&(o=o.replace(Nk,"&#0;"))),o}function up(o){return up[" "](o),o}up[" "]=y;function Hk(o,a){var u=Kk;return Object.prototype.hasOwnProperty.call(u,o)?u[o]:u[o]=a(o)}var Wk=de("Opera"),Kn=de("Trident")||de("MSIE"),I_=de("Edge"),Gk=I_||Kn,E_=de("Gecko")&&!(Lt($o.toLowerCase(),"webkit")&&!de("Edge"))&&!(de("Trident")||de("MSIE"))&&!de("Edge"),$k=Lt($o.toLowerCase(),"webkit")&&!de("Edge");function x_(){var o=d.document;return o?o.documentMode:void 0}var vl;t:{var lp="",dp=function(){var o=$o;if(E_)return/rv:([^\);]+)(\)|;)/.exec(o);if(I_)return/Edge\/([\d\.]+)/.exec(o);if(Kn)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(o);if($k)return/WebKit\/(\S+)/.exec(o);if(Wk)return/(?:Version)[ \/]?(\S+)/.exec(o)}();if(dp&&(lp=dp?dp[1]:""),Kn){var hp=x_();if(hp!=null&&hp>parseFloat(lp)){vl=String(hp);break t}}vl=lp}var Kk={};function C_(o){return Hk(o,function(){for(var a=0,u=o_(String(vl)).split("."),h=o_(String(o)).split("."),p=Math.max(u.length,h.length),g=0;a==0&&g<p;g++){var b=u[g]||"",w=h[g]||"";do{if(b=/(\d*)(\D*)(.*)/.exec(b)||["","","",""],w=/(\d*)(\D*)(.*)/.exec(w)||["","","",""],b[0].length==0&&w[0].length==0)break;a=op(b[1].length==0?0:parseInt(b[1],10),w[1].length==0?0:parseInt(w[1],10))||op(b[2].length==0,w[2].length==0)||op(b[2],w[2]),b=b[3],w=w[3]}while(a==0)}return 0<=a})}var fp;if(d.document&&Kn){var T_=x_();fp=T_||parseInt(vl,10)||void 0}else fp=void 0;var Xi=fp;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var Yk=!Kn||9<=Number(Xi);function Ba(o){var a=document;return typeof o=="string"?a.getElementById(o):o}function S_(o,a){c_(a,function(u,h){u&&typeof u=="object"&&u.ta&&(u=u.sa()),h=="style"?o.style.cssText=u:h=="class"?o.className=u:h=="for"?o.htmlFor=u:A_.hasOwnProperty(h)?o.setAttribute(A_[h],u):h.lastIndexOf("aria-",0)==0||h.lastIndexOf("data-",0)==0?o.setAttribute(h,u):o[h]=u})}var A_={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Xk(o,a,u){var h=arguments,p=document,g=String(h[0]),b=h[1];if(!Yk&&b&&(b.name||b.type)){if(g=["<",g],b.name&&g.push(' name="',cp(b.name),'"'),b.type){g.push(' type="',cp(b.type),'"');var w={};Xe(w,b),delete w.type,b=w}g.push(">"),g=g.join("")}return g=bl(p,g),b&&(typeof b=="string"?g.className=b:Array.isArray(b)?g.className=b.join(" "):S_(g,b)),2<h.length&&Qk(p,g,h),g}function Qk(o,a,u){function h(w){w&&a.appendChild(typeof w=="string"?o.createTextNode(w):w)}for(var p=2;p<u.length;p++){var g=u[p];if(!I(g)||C(g)&&0<g.nodeType)h(g);else{t:{if(g&&typeof g.length=="number"){if(C(g)){var b=typeof g.item=="function"||typeof g.item=="string";break t}if(E(g)){b=typeof g.item=="function";break t}}b=!1}qt(b?Ur(g):g,h)}}}function bl(o,a){return a=String(a),o.contentType==="application/xhtml+xml"&&(a=a.toLowerCase()),o.createElement(a)}function D_(o){d.setTimeout(function(){throw o},0)}var pp;function Zk(){var o=d.MessageChannel;if(typeof o>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!de("Presto")&&(o=function(){var p=bl(document,"IFRAME");p.style.display="none",document.documentElement.appendChild(p);var g=p.contentWindow;p=g.document,p.open(),p.close();var b="callImmediate"+Math.random(),w=g.location.protocol=="file:"?"*":g.location.protocol+"//"+g.location.host;p=F(function(S){(w=="*"||S.origin==w)&&S.data==b&&this.port1.onmessage()},this),g.addEventListener("message",p,!1),this.port1={},this.port2={postMessage:function(){g.postMessage(b,w)}}}),typeof o<"u"&&!de("Trident")&&!de("MSIE")){var a=new o,u={},h=u;return a.port1.onmessage=function(){if(u.next!==void 0){u=u.next;var p=u.Hb;u.Hb=null,p()}},function(p){h.next={Hb:p},h=h.next,a.port2.postMessage(0)}}return function(p){d.setTimeout(p,0)}}function yl(o,a){_l||Jk(),mp||(_l(),mp=!0),R_.add(o,a)}var _l;function Jk(){if(d.Promise&&d.Promise.resolve){var o=d.Promise.resolve(void 0);_l=function(){o.then(k_)}}else _l=function(){var a=k_;!E(d.setImmediate)||d.Window&&d.Window.prototype&&!de("Edge")&&d.Window.prototype.setImmediate==d.setImmediate?(pp||(pp=Zk()),pp(a)):d.setImmediate(a)}}var mp=!1,R_=new n_;function k_(){for(var o;o=Ck();){try{o.a.call(o.b)}catch(a){D_(a)}e_(i_,o)}mp=!1}function bt(o,a){if(this.a=Br,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,o!=y)try{var u=this;o.call(a,function(h){zr(u,za,h)},function(h){if(!(h instanceof Xo))try{throw h instanceof Error?h:Error("Promise rejected.")}catch{}zr(u,Ai,h)})}catch(h){zr(this,Ai,h)}}var Br=0,za=2,Ai=3;function O_(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}O_.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var P_=new np(function(){return new O_},function(o){o.reset()});function gp(o,a,u){var h=P_.get();return h.g=o,h.b=a,h.f=u,h}function tt(o){if(o instanceof bt)return o;var a=new bt(y);return zr(a,za,o),a}function jt(o){return new bt(function(a,u){u(o)})}function M_(o,a,u){j_(o,a,u,null)||yl(Ot(a,o))}function tO(o){return new bt(function(a,u){var h=o.length,p=[];if(h)for(var g=function(O,st){h--,p[O]=st,h==0&&a(p)},b=function(O){u(O)},w=0,S;w<o.length;w++)S=o[w],M_(S,Ot(g,w),b);else a(p)})}function N_(o){return new bt(function(a){var u=o.length,h=[];if(u)for(var p=function(w,S,O){u--,h[w]=S?{Qb:!0,value:O}:{Qb:!1,reason:O},u==0&&a(h)},g=0,b;g<o.length;g++)b=o[g],M_(b,Ot(p,g,!0),Ot(p,g,!1));else a(h)})}bt.prototype.then=function(o,a,u){return F_(this,E(o)?o:null,E(a)?a:null,u)},bt.prototype.$goog_Thenable=!0,e=bt.prototype,e.oa=function(o,a){return o=gp(o,o,a),o.c=!0,vp(this,o),this},e.o=function(o,a){return F_(this,null,o,a)},e.cancel=function(o){if(this.a==Br){var a=new Xo(o);yl(function(){L_(this,a)},this)}};function L_(o,a){if(o.a==Br)if(o.c){var u=o.c;if(u.b){for(var h=0,p=null,g=null,b=u.b;b&&(b.c||(h++,b.a==o&&(p=b),!(p&&1<h)));b=b.next)p||(g=b);p&&(u.a==Br&&h==1?L_(u,a):(g?(h=g,h.next==u.f&&(u.f=h),h.next=h.next.next):V_(u),B_(u,p,Ai,a)))}o.c=null}else zr(o,Ai,a)}function vp(o,a){o.b||o.a!=za&&o.a!=Ai||U_(o),o.f?o.f.next=a:o.b=a,o.f=a}function F_(o,a,u,h){var p=gp(null,null,null);return p.a=new bt(function(g,b){p.g=a?function(w){try{var S=a.call(h,w);g(S)}catch(O){b(O)}}:g,p.b=u?function(w){try{var S=u.call(h,w);S===void 0&&w instanceof Xo?b(w):g(S)}catch(O){b(O)}}:b}),p.a.c=o,vp(o,p),p.a}e.$c=function(o){this.a=Br,zr(this,za,o)},e.ad=function(o){this.a=Br,zr(this,Ai,o)};function zr(o,a,u){o.a==Br&&(o===u&&(a=Ai,u=new TypeError("Promise cannot resolve to itself")),o.a=1,j_(u,o.$c,o.ad,o)||(o.i=u,o.a=a,o.c=null,U_(o),a!=Ai||u instanceof Xo||nO(o,u)))}function j_(o,a,u,h){if(o instanceof bt)return vp(o,gp(a||y,u||null,h)),!0;if(t_(o))return o.then(a,u,h),!0;if(C(o))try{var p=o.then;if(E(p))return eO(o,p,a,u,h),!0}catch(g){return u.call(h,g),!0}return!1}function eO(o,a,u,h,p){function g(S){w||(w=!0,h.call(p,S))}function b(S){w||(w=!0,u.call(p,S))}var w=!1;try{a.call(o,b,g)}catch(S){g(S)}}function U_(o){o.h||(o.h=!0,yl(o.gc,o))}function V_(o){var a=null;return o.b&&(a=o.b,o.b=a.next,a.next=null),o.b||(o.f=null),a}e.gc=function(){for(var o;o=V_(this);)B_(this,o,this.a,this.i);this.h=!1};function B_(o,a,u,h){if(u==Ai&&a.b&&!a.c)for(;o&&o.g;o=o.c)o.g=!1;if(a.a)a.a.c=null,z_(a,u,h);else try{a.c?a.g.call(a.f):z_(a,u,h)}catch(p){q_.call(null,p)}e_(P_,a)}function z_(o,a,u){a==za?o.g.call(o.f,u):o.b&&o.b.call(o.f,u)}function nO(o,a){o.g=!0,yl(function(){o.g&&q_.call(null,a)})}var q_=D_;function Xo(o){pn.call(this,o)}K(Xo,pn),Xo.prototype.name="cancel";function wl(){bp!=0&&(H_[k(this)]=this),this.ya=this.ya,this.pa=this.pa}var bp=0,H_={};wl.prototype.ya=!1;function W_(o){if(!o.ya&&(o.ya=!0,o.Da(),bp!=0)){var a=k(o);if(bp!=0&&o.pa&&0<o.pa.length)throw Error(o+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete H_[a]}}wl.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var iO=Object.freeze||function(o){return o},G_=!Kn||9<=Number(Xi),rO=Kn&&!C_("9"),oO=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var o=!1,a=Object.defineProperty({},"passive",{get:function(){o=!0}});try{d.addEventListener("test",y,a),d.removeEventListener("test",y,a)}catch{}return o}();function Ze(o,a){this.type=o,this.b=this.target=a,this.defaultPrevented=!1}Ze.prototype.preventDefault=function(){this.defaultPrevented=!0};function qr(o,a){if(Ze.call(this,o?o.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,o){var u=this.type=o.type,h=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.b=a,a=o.relatedTarget){if(E_){t:{try{up(a.nodeName);var p=!0;break t}catch{}p=!1}p||(a=null)}}else u=="mouseover"?a=o.fromElement:u=="mouseout"&&(a=o.toElement);this.relatedTarget=a,h?(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:sO[o.pointerType]||"",this.a=o,o.defaultPrevented&&this.preventDefault()}}K(qr,Ze);var sO=iO({2:"touch",3:"pen",4:"mouse"});qr.prototype.preventDefault=function(){qr.bb.preventDefault.call(this);var o=this.a;if(o.preventDefault)o.preventDefault();else if(o.returnValue=!1,rO)try{(o.ctrlKey||112<=o.keyCode&&123>=o.keyCode)&&(o.keyCode=-1)}catch{}},qr.prototype.g=function(){return this.a};var qa="closure_listenable_"+(1e6*Math.random()|0),aO=0;function cO(o,a,u,h,p){this.listener=o,this.proxy=null,this.src=a,this.type=u,this.capture=!!h,this.Wa=p,this.key=++aO,this.wa=this.Qa=!1}function Il(o){o.wa=!0,o.listener=null,o.proxy=null,o.src=null,o.Wa=null}function El(o){this.src=o,this.a={},this.b=0}El.prototype.add=function(o,a,u,h,p){var g=o.toString();o=this.a[g],o||(o=this.a[g]=[],this.b++);var b=_p(o,a,h,p);return-1<b?(a=o[b],u||(a.Qa=!1)):(a=new cO(a,this.src,g,!!h,p),a.Qa=u,o.push(a)),a};function yp(o,a){var u=a.type;u in o.a&&fl(o.a[u],a)&&(Il(a),o.a[u].length==0&&(delete o.a[u],o.b--))}function _p(o,a,u,h){for(var p=0;p<o.length;++p){var g=o[p];if(!g.wa&&g.listener==a&&g.capture==!!u&&g.Wa==h)return p}return-1}var wp="closure_lm_"+(1e6*Math.random()|0),Ip={},$_=0;function Pn(o,a,u,h,p){if(h&&h.once)Ep(o,a,u,h,p);else if(Array.isArray(a))for(var g=0;g<a.length;g++)Pn(o,a[g],u,h,p);else u=Cp(u),o&&o[qa]?J_(o,a,u,C(h)?!!h.capture:!!h,p):K_(o,a,u,!1,h,p)}function K_(o,a,u,h,p,g){if(!a)throw Error("Invalid event type");var b=C(p)?!!p.capture:!!p,w=xl(o);if(w||(o[wp]=w=new El(o)),u=w.add(a,u,h,b,g),!u.proxy){if(h=uO(),u.proxy=h,h.src=o,h.listener=u,o.addEventListener)oO||(p=b),p===void 0&&(p=!1),o.addEventListener(a.toString(),h,p);else if(o.attachEvent)o.attachEvent(X_(a.toString()),h);else if(o.addListener&&o.removeListener)o.addListener(h);else throw Error("addEventListener and attachEvent are unavailable.");$_++}}function uO(){var o=lO,a=G_?function(u){return o.call(a.src,a.listener,u)}:function(u){if(u=o.call(a.src,a.listener,u),!u)return u};return a}function Ep(o,a,u,h,p){if(Array.isArray(a))for(var g=0;g<a.length;g++)Ep(o,a[g],u,h,p);else u=Cp(u),o&&o[qa]?Tp(o,a,u,C(h)?!!h.capture:!!h,p):K_(o,a,u,!0,h,p)}function mn(o,a,u,h,p){if(Array.isArray(a))for(var g=0;g<a.length;g++)mn(o,a[g],u,h,p);else h=C(h)?!!h.capture:!!h,u=Cp(u),o&&o[qa]?(o=o.v,a=String(a).toString(),a in o.a&&(g=o.a[a],u=_p(g,u,h,p),-1<u&&(Il(g[u]),Array.prototype.splice.call(g,u,1),g.length==0&&(delete o.a[a],o.b--)))):o&&(o=xl(o))&&(a=o.a[a.toString()],o=-1,a&&(o=_p(a,u,h,p)),(u=-1<o?a[o]:null)&&Y_(u))}function Y_(o){if(typeof o!="number"&&o&&!o.wa){var a=o.src;if(a&&a[qa])yp(a.v,o);else{var u=o.type,h=o.proxy;a.removeEventListener?a.removeEventListener(u,h,o.capture):a.detachEvent?a.detachEvent(X_(u),h):a.addListener&&a.removeListener&&a.removeListener(h),$_--,(u=xl(a))?(yp(u,o),u.b==0&&(u.src=null,a[wp]=null)):Il(o)}}}function X_(o){return o in Ip?Ip[o]:Ip[o]="on"+o}function Q_(o,a,u,h){var p=!0;if((o=xl(o))&&(a=o.a[a.toString()]))for(a=a.concat(),o=0;o<a.length;o++){var g=a[o];g&&g.capture==u&&!g.wa&&(g=Z_(g,h),p=p&&g!==!1)}return p}function Z_(o,a){var u=o.listener,h=o.Wa||o.src;return o.Qa&&Y_(o),u.call(h,a)}function lO(o,a){if(o.wa)return!0;if(!G_){if(!a)t:{a=["window","event"];for(var u=d,h=0;h<a.length;h++)if(u=u[a[h]],u==null){a=null;break t}a=u}if(h=a,a=new qr(h,this),u=!0,!(0>h.keyCode||h.returnValue!=null)){t:{var p=!1;if(h.keyCode==0)try{h.keyCode=-1;break t}catch{p=!0}(p||h.returnValue==null)&&(h.returnValue=!0)}for(h=[],p=a.b;p;p=p.parentNode)h.push(p);for(o=o.type,p=h.length-1;0<=p;p--){a.b=h[p];var g=Q_(h[p],o,!0,a);u=u&&g}for(p=0;p<h.length;p++)a.b=h[p],g=Q_(h[p],o,!1,a),u=u&&g}return u}return Z_(o,new qr(a,this))}function xl(o){return o=o[wp],o instanceof El?o:null}var xp="__closure_events_fn_"+(1e9*Math.random()>>>0);function Cp(o){return E(o)?o:(o[xp]||(o[xp]=function(a){return o.handleEvent(a)}),o[xp])}function Ve(){wl.call(this),this.v=new El(this),this.bc=this,this.hb=null}K(Ve,wl),Ve.prototype[qa]=!0,Ve.prototype.addEventListener=function(o,a,u,h){Pn(this,o,a,u,h)},Ve.prototype.removeEventListener=function(o,a,u,h){mn(this,o,a,u,h)},Ve.prototype.dispatchEvent=function(o){var a,u=this.hb;if(u)for(a=[];u;u=u.hb)a.push(u);u=this.bc;var h=o.type||o;if(typeof o=="string")o=new Ze(o,u);else if(o instanceof Ze)o.target=o.target||u;else{var p=o;o=new Ze(h,u),Xe(o,p)}if(p=!0,a)for(var g=a.length-1;0<=g;g--){var b=o.b=a[g];p=Cl(b,h,!0,o)&&p}if(b=o.b=u,p=Cl(b,h,!0,o)&&p,p=Cl(b,h,!1,o)&&p,a)for(g=0;g<a.length;g++)b=o.b=a[g],p=Cl(b,h,!1,o)&&p;return p},Ve.prototype.Da=function(){if(Ve.bb.Da.call(this),this.v){var o=this.v,a=0,u;for(u in o.a){for(var h=o.a[u],p=0;p<h.length;p++)++a,Il(h[p]);delete o.a[u],o.b--}}this.hb=null};function J_(o,a,u,h,p){o.v.add(String(a),u,!1,h,p)}function Tp(o,a,u,h,p){o.v.add(String(a),u,!0,h,p)}function Cl(o,a,u,h){if(a=o.v.a[String(a)],!a)return!0;a=a.concat();for(var p=!0,g=0;g<a.length;++g){var b=a[g];if(b&&!b.wa&&b.capture==u){var w=b.listener,S=b.Wa||b.src;b.Qa&&yp(o.v,b),p=w.call(S,h)!==!1&&p}}return p&&!h.defaultPrevented}function Sp(o,a,u){if(E(o))u&&(o=F(o,u));else if(o&&typeof o.handleEvent=="function")o=F(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(a)?-1:d.setTimeout(o,a||0)}function Qo(o){var a=null;return new bt(function(u,h){a=Sp(function(){u(void 0)},o),a==-1&&h(Error("Failed to schedule timer."))}).o(function(u){throw d.clearTimeout(a),u})}function tw(o){if(o.X&&typeof o.X=="function")return o.X();if(typeof o=="string")return o.split("");if(I(o)){for(var a=[],u=o.length,h=0;h<u;h++)a.push(o[h]);return a}a=[],u=0;for(h in o)a[u++]=o[h];return a}function ew(o){if(o.Y&&typeof o.Y=="function")return o.Y();if(!o.X||typeof o.X!="function"){if(I(o)||typeof o=="string"){var a=[];o=o.length;for(var u=0;u<o;u++)a.push(u);return a}a=[],u=0;for(var h in o)a[u++]=h;return a}}function dO(o,a){if(o.forEach&&typeof o.forEach=="function")o.forEach(a,void 0);else if(I(o)||typeof o=="string")qt(o,a,void 0);else for(var u=ew(o),h=tw(o),p=h.length,g=0;g<p;g++)a.call(void 0,h[g],u&&u[g],o)}function Zo(o,a){this.b={},this.a=[],this.c=0;var u=arguments.length;if(1<u){if(u%2)throw Error("Uneven number of arguments");for(var h=0;h<u;h+=2)this.set(arguments[h],arguments[h+1])}else if(o)if(o instanceof Zo)for(u=o.Y(),h=0;h<u.length;h++)this.set(u[h],o.get(u[h]));else for(h in o)this.set(h,o[h])}e=Zo.prototype,e.X=function(){Ap(this);for(var o=[],a=0;a<this.a.length;a++)o.push(this.b[this.a[a]]);return o},e.Y=function(){return Ap(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0};function Ap(o){if(o.c!=o.a.length){for(var a=0,u=0;a<o.a.length;){var h=o.a[a];Hr(o.b,h)&&(o.a[u++]=h),a++}o.a.length=u}if(o.c!=o.a.length){var p={};for(u=a=0;a<o.a.length;)h=o.a[a],Hr(p,h)||(o.a[u++]=h,p[h]=1),a++;o.a.length=u}}e.get=function(o,a){return Hr(this.b,o)?this.b[o]:a},e.set=function(o,a){Hr(this.b,o)||(this.c++,this.a.push(o)),this.b[o]=a},e.forEach=function(o,a){for(var u=this.Y(),h=0;h<u.length;h++){var p=u[h],g=this.get(p);o.call(a,g,p,this)}};function Hr(o,a){return Object.prototype.hasOwnProperty.call(o,a)}var nw=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function hO(o,a){if(o){o=o.split("&");for(var u=0;u<o.length;u++){var h=o[u].indexOf("="),p=null;if(0<=h){var g=o[u].substring(0,h);p=o[u].substring(h+1)}else g=o[u];a(g,p?decodeURIComponent(p.replace(/\+/g," ")):"")}}}function Qi(o,a){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var u;o instanceof Qi?(this.i=a!==void 0?a:o.i,Ha(this,o.c),this.l=o.l,this.a=o.a,Wa(this,o.g),this.f=o.f,Dp(this,sw(o.b)),this.h=o.h):o&&(u=String(o).match(nw))?(this.i=!!a,Ha(this,u[1]||"",!0),this.l=Ga(u[2]||""),this.a=Ga(u[3]||"",!0),Wa(this,u[4]),this.f=Ga(u[5]||"",!0),Dp(this,u[6]||"",!0),this.h=Ga(u[7]||"")):(this.i=!!a,this.b=new Wr(null,this.i))}Qi.prototype.toString=function(){var o=[],a=this.c;a&&o.push($a(a,iw,!0),":");var u=this.a;return(u||a=="file")&&(o.push("//"),(a=this.l)&&o.push($a(a,iw,!0),"@"),o.push(encodeURIComponent(String(u)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u=this.g,u!=null&&o.push(":",String(u))),(u=this.f)&&(this.a&&u.charAt(0)!="/"&&o.push("/"),o.push($a(u,u.charAt(0)=="/"?mO:pO,!0))),(u=this.b.toString())&&o.push("?",u),(u=this.h)&&o.push("#",$a(u,vO)),o.join("")},Qi.prototype.resolve=function(o){var a=new Qi(this),u=!!o.c;u?Ha(a,o.c):u=!!o.l,u?a.l=o.l:u=!!o.a,u?a.a=o.a:u=o.g!=null;var h=o.f;if(u)Wa(a,o.g);else if(u=!!o.f){if(h.charAt(0)!="/")if(this.a&&!this.f)h="/"+h;else{var p=a.f.lastIndexOf("/");p!=-1&&(h=a.f.substr(0,p+1)+h)}if(p=h,p==".."||p==".")h="";else if(Lt(p,"./")||Lt(p,"/.")){h=p.lastIndexOf("/",0)==0,p=p.split("/");for(var g=[],b=0;b<p.length;){var w=p[b++];w=="."?h&&b==p.length&&g.push(""):w==".."?((1<g.length||g.length==1&&g[0]!="")&&g.pop(),h&&b==p.length&&g.push("")):(g.push(w),h=!0)}h=g.join("/")}else h=p}return u?a.f=h:u=o.b.toString()!=="",u?Dp(a,sw(o.b)):u=!!o.h,u&&(a.h=o.h),a};function Ha(o,a,u){o.c=u?Ga(a,!0):a,o.c&&(o.c=o.c.replace(/:$/,""))}function Wa(o,a){if(a){if(a=Number(a),isNaN(a)||0>a)throw Error("Bad port number "+a);o.g=a}else o.g=null}function Dp(o,a,u){a instanceof Wr?(o.b=a,bO(o.b,o.i)):(u||(a=$a(a,gO)),o.b=new Wr(a,o.i))}function Qt(o,a,u){o.b.set(a,u)}function Mn(o,a){return o.b.get(a)}function Je(o){return o instanceof Qi?new Qi(o):new Qi(o,void 0)}function Tl(o,a,u,h){var p=new Qi(null,void 0);return o&&Ha(p,o),a&&(p.a=a),u&&Wa(p,u),h&&(p.f=h),p}function Ga(o,a){return o?a?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function $a(o,a,u){return typeof o=="string"?(o=encodeURI(o).replace(a,fO),u&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function fO(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var iw=/[#\/\?@]/g,pO=/[#\?:]/g,mO=/[#\?]/g,gO=/[#\?@]/g,vO=/#/g;function Wr(o,a){this.b=this.a=null,this.c=o||null,this.f=!!a}function Zi(o){o.a||(o.a=new Zo,o.b=0,o.c&&hO(o.c,function(a,u){o.add(decodeURIComponent(a.replace(/\+/g," ")),u)}))}function rw(o){var a=ew(o);if(typeof a>"u")throw Error("Keys are undefined");var u=new Wr(null,void 0);o=tw(o);for(var h=0;h<a.length;h++){var p=a[h],g=o[h];Array.isArray(g)?ow(u,p,g):u.add(p,g)}return u}e=Wr.prototype,e.add=function(o,a){Zi(this),this.c=null,o=Jo(this,o);var u=this.a.get(o);return u||this.a.set(o,u=[]),u.push(a),this.b+=1,this};function li(o,a){Zi(o),a=Jo(o,a),Hr(o.a.b,a)&&(o.c=null,o.b-=o.a.get(a).length,o=o.a,Hr(o.b,a)&&(delete o.b[a],o.c--,o.a.length>2*o.c&&Ap(o)))}e.clear=function(){this.a=this.c=null,this.b=0};function Rp(o,a){return Zi(o),a=Jo(o,a),Hr(o.a.b,a)}e.forEach=function(o,a){Zi(this),this.a.forEach(function(u,h){qt(u,function(p){o.call(a,p,h,this)},this)},this)},e.Y=function(){Zi(this);for(var o=this.a.X(),a=this.a.Y(),u=[],h=0;h<a.length;h++)for(var p=o[h],g=0;g<p.length;g++)u.push(a[h]);return u},e.X=function(o){Zi(this);var a=[];if(typeof o=="string")Rp(this,o)&&(a=rp(a,this.a.get(Jo(this,o))));else{o=this.a.X();for(var u=0;u<o.length;u++)a=rp(a,o[u])}return a},e.set=function(o,a){return Zi(this),this.c=null,o=Jo(this,o),Rp(this,o)&&(this.b-=this.a.get(o).length),this.a.set(o,[a]),this.b+=1,this},e.get=function(o,a){return o?(o=this.X(o),0<o.length?String(o[0]):a):a};function ow(o,a,u){li(o,a),0<u.length&&(o.c=null,o.a.set(Jo(o,a),Ur(u)),o.b+=u.length)}e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var o=[],a=this.a.Y(),u=0;u<a.length;u++){var h=a[u],p=encodeURIComponent(String(h));h=this.X(h);for(var g=0;g<h.length;g++){var b=p;h[g]!==""&&(b+="="+encodeURIComponent(String(h[g]))),o.push(b)}}return this.c=o.join("&")};function sw(o){var a=new Wr;return a.c=o.c,o.a&&(a.a=new Zo(o.a),a.b=o.b),a}function Jo(o,a){return a=String(a),o.f&&(a=a.toLowerCase()),a}function bO(o,a){a&&!o.f&&(Zi(o),o.c=null,o.a.forEach(function(u,h){var p=h.toLowerCase();h!=p&&(li(this,h),ow(this,p,u))},o)),o.f=a}function aw(o){var a=[];return kp(new yO,o,a),a.join("")}function yO(){}function kp(o,a,u){if(a==null)u.push("null");else{if(typeof a=="object"){if(Array.isArray(a)){var h=a;a=h.length,u.push("[");for(var p="",g=0;g<a;g++)u.push(p),kp(o,h[g],u),p=",";u.push("]");return}if(a instanceof String||a instanceof Number||a instanceof Boolean)a=a.valueOf();else{u.push("{"),p="";for(h in a)Object.prototype.hasOwnProperty.call(a,h)&&(g=a[h],typeof g!="function"&&(u.push(p),uw(h,u),u.push(":"),kp(o,g,u),p=","));u.push("}");return}}switch(typeof a){case"string":uw(a,u);break;case"number":u.push(isFinite(a)&&!isNaN(a)?String(a):"null");break;case"boolean":u.push(String(a));break;case"function":u.push("null");break;default:throw Error("Unknown type: "+typeof a)}}}var cw={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},_O=/\uffff/.test("\uFFFF")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function uw(o,a){a.push('"',o.replace(_O,function(u){var h=cw[u];return h||(h="\\u"+(u.charCodeAt(0)|65536).toString(16).substr(1),cw[u]=h),h}),'"')}function Op(){var o=Ie();return Kn&&!!Xi&&Xi==11||/Edge\/\d+/.test(o)}function Ka(){return d.window&&d.window.location.href||self&&self.location&&self.location.href||""}function lw(o,a){a=a||d.window;var u="about:blank";o&&(u=gl(g_(o)||b_)),a.location.href=u}function dw(o,a){var u=[],h;for(h in o)h in a?typeof o[h]!=typeof a[h]?u.push(h):typeof o[h]=="object"&&o[h]!=null&&a[h]!=null?0<dw(o[h],a[h]).length&&u.push(h):o[h]!==a[h]&&u.push(h):u.push(h);for(h in a)h in o||u.push(h);return u}function wO(){var o=Ie();return o=ts(o)!=mw?null:(o=o.match(/\sChrome\/(\d+)/i))&&o.length==2?parseInt(o[1],10):null,o&&30>o?!1:!Kn||!Xi||9<Xi}function hw(o){return o=(o||Ie()).toLowerCase(),!!(o.match(/android/)||o.match(/webos/)||o.match(/iphone|ipad|ipod/)||o.match(/blackberry/)||o.match(/windows phone/)||o.match(/iemobile/))}function Gr(o){o=o||d.window;try{o.close()}catch{}}function fw(o,a,u){var h=Math.floor(1e9*Math.random()).toString();a=a||500,u=u||600;var p=(window.screen.availHeight-u)/2,g=(window.screen.availWidth-a)/2;a={width:a,height:u,top:0<p?p:0,left:0<g?g:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},u=Ie().toLowerCase(),h&&(a.target=h,Lt(u,"crios/")&&(a.target="_blank")),ts(Ie())==Np&&(o=o||"http://localhost",a.scrollbars=!0),u=o||"",(o=a)||(o={}),h=window,a=u instanceof Qe?u:g_(typeof u.href<"u"?u.href:String(u))||b_,u=o.target||u.target,p=[];for(b in o)switch(b){case"width":case"height":case"top":case"left":p.push(b+"="+o[b]);break;case"target":case"noopener":case"noreferrer":break;default:p.push(b+"="+(o[b]?1:0))}var b=p.join(",");if((de("iPhone")&&!de("iPod")&&!de("iPad")||de("iPad")||de("iPod"))&&h.navigator&&h.navigator.standalone&&u&&u!="_self"?(b=bl(document,"A"),l_(b,"HTMLAnchorElement"),a=a instanceof Qe?a:v_(a),b.href=gl(a),b.setAttribute("target",u),o.noreferrer&&b.setAttribute("rel","noreferrer"),o=document.createEvent("MouseEvent"),o.initMouseEvent("click",!0,!0,h,1),b.dispatchEvent(o),b={}):o.noreferrer?(b=__("",h,u,b),o=gl(a),b&&(Gk&&Lt(o,";")&&(o="'"+o.replace(/'/g,"%27")+"'"),b.opener=null,o='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+cp(o)+'">',o=(h=h_())?h.createHTML(o):o,o=new Yo(o,null,y_),h=b.document)&&(h.write(zk(o)),h.close())):(b=__(a,h,u,b))&&o.noopener&&(b.opener=null),b)try{b.focus()}catch{}return b}function IO(o){return new bt(function(a){function u(){Qo(2e3).then(function(){if(!o||o.closed)a();else return u()})}return u()})}var EO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xO=/^[^@]+@[^@]+$/;function Sl(){var o=null;return new bt(function(a){d.document.readyState=="complete"?a():(o=function(){a()},Ep(window,"load",o))}).o(function(a){throw mn(window,"load",o),a})}function CO(){return Pp(void 0)?Sl().then(function(){return new bt(function(o,a){var u=d.document,h=setTimeout(function(){a(Error("Cordova framework is not ready."))},1e3);u.addEventListener("deviceready",function(){clearTimeout(h),o()},!1)})}):jt(Error("Cordova must run in an Android or iOS file scheme."))}function Pp(o){return o=o||Ie(),!(ns()!=="file:"&&ns()!=="ionic:"||!o.toLowerCase().match(/iphone|ipad|ipod|android/))}function Mp(){var o=d.window;try{return!(!o||o==o.top)}catch{return!1}}function Yn(){return typeof d.WorkerGlobalScope<"u"&&typeof d.importScripts=="function"}function di(){return it.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":it.INTERNAL.hasOwnProperty("node")?"Node":Yn()?"Worker":"Browser"}function pw(){var o=di();return o==="ReactNative"||o==="Node"}function TO(){for(var o=50,a=[];0<o;)a.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),o--;return a.join("")}var Np="Firefox",mw="Chrome";function ts(o){var a=o.toLowerCase();if(Lt(a,"opera/")||Lt(a,"opr/")||Lt(a,"opios/"))return"Opera";if(Lt(a,"iemobile"))return"IEMobile";if(Lt(a,"msie")||Lt(a,"trident/"))return"IE";if(Lt(a,"edge/"))return"Edge";if(Lt(a,"firefox/"))return Np;if(Lt(a,"silk/"))return"Silk";if(Lt(a,"blackberry"))return"Blackberry";if(Lt(a,"webos"))return"Webos";if(!Lt(a,"safari/")||Lt(a,"chrome/")||Lt(a,"crios/")||Lt(a,"android"))if(!Lt(a,"chrome/")&&!Lt(a,"crios/")||Lt(a,"edge/")){if(Lt(a,"android"))return"Android";if((o=o.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&o.length==2)return o[1]}else return mw;else return"Safari";return"Other"}var gw={md:"FirebaseCore-web",od:"FirebaseUI-web"};function es(o,a){a=a||[];var u=[],h={},p;for(p in gw)h[gw[p]]=!0;for(p=0;p<a.length;p++)typeof h[a[p]]<"u"&&(delete h[a[p]],u.push(a[p]));return u.sort(),a=u,a.length||(a=["FirebaseCore-web"]),u=di(),u==="Browser"?(h=Ie(),u=ts(h)):u==="Worker"&&(h=Ie(),u=ts(h)+"-"+u),u+"/JsCore/"+o+"/"+a.join(",")}function Ie(){return d.navigator&&d.navigator.userAgent||""}function Ut(o,a){o=o.split("."),a=a||d;for(var u=0;u<o.length&&typeof a=="object"&&a!=null;u++)a=a[o[u]];return u!=o.length&&(a=void 0),a}function Lp(){try{var o=d.localStorage,a=Kr();if(o)return o.setItem(a,"1"),o.removeItem(a),Op()?!!d.indexedDB:!0}catch{return Yn()&&!!d.indexedDB}return!1}function $r(){return(Al()||ns()==="chrome-extension:"||Pp())&&!pw()&&Lp()&&!Yn()}function Al(){return ns()==="http:"||ns()==="https:"}function ns(){return d.location&&d.location.protocol||null}function Ya(o){return o=o||Ie(),!(hw(o)||ts(o)==Np)}function Xa(o){return typeof o>"u"?null:aw(o)}function vw(o){var a={},u;for(u in o)o.hasOwnProperty(u)&&o[u]!==null&&o[u]!==void 0&&(a[u]=o[u]);return a}function is(o){if(o!==null)return JSON.parse(o)}function Kr(o){return o||Math.floor(1e9*Math.random()).toString()}function bw(o){return o=o||Ie(),!(ts(o)=="Safari"||o.toLowerCase().match(/iphone|ipad|ipod/))}function yw(){var o=d.___jsl;if(o&&o.H){for(var a in o.H)if(o.H[a].r=o.H[a].r||[],o.H[a].L=o.H[a].L||[],o.H[a].r=o.H[a].L.concat(),o.CP)for(var u=0;u<o.CP.length;u++)o.CP[u]=null}}function Ji(o,a){if(o>a)throw Error("Short delay should be less than long delay!");this.a=o,this.c=a,o=Ie(),a=di(),this.b=hw(o)||a==="ReactNative"}Ji.prototype.get=function(){var o=d.navigator;return!(o&&typeof o.onLine=="boolean"&&(Al()||ns()==="chrome-extension:"||typeof o.connection<"u"))||o.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function Fp(){var o=d.document;return o&&typeof o.visibilityState<"u"?o.visibilityState=="visible":!0}function SO(){var o=d.document,a=null;return Fp()||!o?tt():new bt(function(u){a=function(){Fp()&&(o.removeEventListener("visibilitychange",a,!1),u())},o.addEventListener("visibilitychange",a,!1)}).o(function(u){throw o.removeEventListener("visibilitychange",a,!1),u})}function Qa(o){try{var a=new Date(parseInt(o,10));if(!isNaN(a.getTime())&&!/[^0-9]/.test(o))return a.toUTCString()}catch{}return null}function _w(){return!(!Ut("fireauth.oauthhelper",d)&&!Ut("fireauth.iframe",d))}function AO(){var o=d.navigator;return o&&o.serviceWorker&&o.serviceWorker.controller||null}function DO(){var o=d.navigator;return o&&o.serviceWorker?tt().then(function(){return o.serviceWorker.ready}).then(function(a){return a.active||null}).o(function(){return null}):tt(null)}var ww={};function jp(o){ww[o]||(ww[o]=!0,typeof console<"u"&&typeof console.warn=="function"&&console.warn(o))}var Up;try{var Vp={};Object.defineProperty(Vp,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Vp,"abcd",{configurable:!0,enumerable:!0,value:2}),Up=Vp.abcd==2}catch{Up=!1}function $(o,a,u){Up?Object.defineProperty(o,a,{configurable:!0,enumerable:!0,value:u}):o[a]=u}function Be(o,a){if(a)for(var u in a)a.hasOwnProperty(u)&&$(o,u,a[u])}function hi(o){var a={};return Be(a,o),a}function RO(o){var a={},u;for(u in o)o.hasOwnProperty(u)&&(a[u]=o[u]);return a}function kO(o,a){if(!a||!a.length)return!0;if(!o)return!1;for(var u=0;u<a.length;u++){var h=o[a[u]];if(h==null||h==="")return!1}return!0}function Bp(o){var a=o;if(typeof o=="object"&&o!=null){a="length"in o?[]:{};for(var u in o)$(a,u,Bp(o[u]))}return a}function zp(o){var a=o&&(o[Gp]?"phone":null);if(a&&o&&o[Wp]){$(this,"uid",o[Wp]),$(this,"displayName",o[Iw]||null);var u=null;o[Hp]&&(u=new Date(o[Hp]).toUTCString()),$(this,"enrollmentTime",u),$(this,"factorId",a)}else throw new x("internal-error","Internal assert: invalid MultiFactorInfo object")}zp.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function qp(o){try{var a=new Za(o)}catch{a=null}return a}var Iw="displayName",Hp="enrolledAt",Wp="mfaEnrollmentId",Gp="phoneInfo";function Za(o){zp.call(this,o),$(this,"phoneNumber",o[Gp])}K(Za,zp),Za.prototype.w=function(){var o=Za.bb.w.call(this);return o.phoneNumber=this.phoneNumber,o};function OO(o){var a={},u=o[PO],h=o[NO],p=o[LO];if(o=qp(o[MO]),!p||p!=Dl&&p!=Ja&&!u||p==Ja&&!h||p==$p&&!o)throw Error("Invalid checkActionCode response!");p==Ja?(a[xw]=u||null,a[Cw]=u||null,a[Ew]=h):(a[xw]=h||null,a[Cw]=h||null,a[Ew]=u||null),a[FO]=o||null,$(this,UO,p),$(this,jO,Bp(a))}var $p="REVERT_SECOND_FACTOR_ADDITION",Dl="EMAIL_SIGNIN",Ja="VERIFY_AND_CHANGE_EMAIL",PO="email",MO="mfaInfo",NO="newEmail",LO="requestType",Ew="email",xw="fromEmail",FO="multiFactorInfo",Cw="previousEmail",jO="data",UO="operation";function Kp(o){o=Je(o);var a=Mn(o,Tw)||null,u=Mn(o,Sw)||null,h=Mn(o,Aw)||null;if(h=h&&qO[h]||null,!a||!u||!h)throw new x("argument-error",Tw+", "+Sw+"and "+Aw+" are required in a valid action code URL.");Be(this,{apiKey:a,operation:h,code:u,continueUrl:Mn(o,VO)||null,languageCode:Mn(o,BO)||null,tenantId:Mn(o,zO)||null})}var Tw="apiKey",Sw="oobCode",VO="continueUrl",BO="languageCode",Aw="mode",zO="tenantId",qO={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:$p,signIn:Dl,verifyAndChangeEmail:Ja,verifyEmail:"VERIFY_EMAIL"};function Dw(o){try{return new Kp(o)}catch{return null}}function Rl(o){var a=o[HO];if(typeof a>"u")throw new x("missing-continue-uri");if(typeof a!="string"||typeof a=="string"&&!a.length)throw new x("invalid-continue-uri");this.h=a,this.b=this.a=null,this.g=!1;var u=o[Rw];if(u&&typeof u=="object"){a=u[Nw];var h=u[Pw];if(u=u[Mw],typeof a=="string"&&a.length){if(this.a=a,typeof h<"u"&&typeof h!="boolean")throw new x("argument-error",Pw+" property must be a boolean when specified.");if(this.g=!!h,typeof u<"u"&&(typeof u!="string"||typeof u=="string"&&!u.length))throw new x("argument-error",Mw+" property must be a non empty string when specified.");this.b=u||null}else{if(typeof a<"u")throw new x("argument-error",Nw+" property must be a non empty string when specified.");if(typeof h<"u"||typeof u<"u")throw new x("missing-android-pkg-name")}}else if(typeof u<"u")throw new x("argument-error",Rw+" property must be a non null object when specified.");if(this.f=null,(a=o[Ow])&&typeof a=="object"){if(a=a[Lw],typeof a=="string"&&a.length)this.f=a;else if(typeof a<"u")throw new x("argument-error",Lw+" property must be a non empty string when specified.")}else if(typeof a<"u")throw new x("argument-error",Ow+" property must be a non null object when specified.");if(a=o[Yp],typeof a<"u"&&typeof a!="boolean")throw new x("argument-error",Yp+" property must be a boolean when specified.");if(this.c=!!a,o=o[kw],typeof o<"u"&&(typeof o!="string"||typeof o=="string"&&!o.length))throw new x("argument-error",kw+" property must be a non empty string when specified.");this.i=o||null}var Rw="android",kw="dynamicLinkDomain",Yp="handleCodeInApp",Ow="iOS",HO="url",Pw="installApp",Mw="minimumVersion",Nw="packageName",Lw="bundleId";function kl(o){var a={};a.continueUrl=o.h,a.canHandleCodeInApp=o.c,(a.androidPackageName=o.a)&&(a.androidMinimumVersion=o.b,a.androidInstallApp=o.g),a.iOSBundleId=o.f,a.dynamicLinkDomain=o.i;for(var u in a)a[u]===null&&delete a[u];return a}function WO(o){return hl(o,function(a){return a=a.toString(16),1<a.length?a:"0"+a}).join("")}var tc=null;function GO(o){var a=[];return $O(o,function(u){a.push(u)}),a}function $O(o,a){function u(S){for(;h<o.length;){var O=o.charAt(h++),st=tc[O];if(st!=null)return st;if(!/^[\s\xa0]*$/.test(O))throw Error("Unknown base64 encoding at char: "+O)}return S}KO();for(var h=0;;){var p=u(-1),g=u(0),b=u(64),w=u(64);if(w===64&&p===-1)break;a(p<<2|g>>4),b!=64&&(a(g<<4&240|b>>2),w!=64&&a(b<<6&192|w))}}function KO(){if(!tc){tc={};for(var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),a=["+/=","+/","-_=","-_.","-_"],u=0;5>u;u++)for(var h=o.concat(a[u].split("")),p=0;p<h.length;p++){var g=h[p];tc[g]===void 0&&(tc[g]=p)}}}function Ol(o){var a=Fw(o);if(!(a&&a.sub&&a.iss&&a.aud&&a.exp))throw Error("Invalid JWT");this.h=o,this.a=a.exp,this.i=a.sub,o=Date.now()/1e3,this.g=a.iat||(o>this.a?this.a:o),this.b=a.provider_id||a.firebase&&a.firebase.sign_in_provider||null,this.f=a.firebase&&a.firebase.tenant||null,this.c=!!a.is_anonymous||this.b=="anonymous"}Ol.prototype.T=function(){return this.f},Ol.prototype.l=function(){return this.c},Ol.prototype.toString=function(){return this.h};function Pl(o){try{return new Ol(o)}catch{return null}}function Fw(o){if(!o||(o=o.split("."),o.length!=3))return null;o=o[1];for(var a=(4-o.length%4)%4,u=0;u<a;u++)o+=".";try{var h=GO(o);for(o=[],u=a=0;a<h.length;){var p=h[a++];if(128>p)o[u++]=String.fromCharCode(p);else if(191<p&&224>p){var g=h[a++];o[u++]=String.fromCharCode((p&31)<<6|g&63)}else if(239<p&&365>p){g=h[a++];var b=h[a++],w=h[a++],S=((p&7)<<18|(g&63)<<12|(b&63)<<6|w&63)-65536;o[u++]=String.fromCharCode(55296+(S>>10)),o[u++]=String.fromCharCode(56320+(S&1023))}else g=h[a++],b=h[a++],o[u++]=String.fromCharCode((p&15)<<12|(g&63)<<6|b&63)}return JSON.parse(o.join(""))}catch{}return null}var jw="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Ml=["client_id","response_type","scope","redirect_uri","state"],Xp={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Ml},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Ml},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Ml},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:jw},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Qp(o){for(var a in Xp)if(Xp[a].fa==o)return Xp[a];return null}function Uw(o){var a={};a["facebook.com"]=Bw,a["google.com"]=qw,a["github.com"]=zw,a["twitter.com"]=Hw;var u=o&&o[Vw];try{if(u)return a[u]?new a[u](o):new fi(o);if(typeof o[Zp]<"u")return new Jp(o)}catch{}return null}var Zp="idToken",Vw="providerId";function Jp(o){var a=o[Vw];if(!a&&o[Zp]){var u=Pl(o[Zp]);u&&u.b&&(a=u.b)}if(!a)throw Error("Invalid additional user info!");(a=="anonymous"||a=="custom")&&(a=null),u=!1,typeof o.isNewUser<"u"?u=!!o.isNewUser:o.kind==="identitytoolkit#SignupNewUserResponse"&&(u=!0),$(this,"providerId",a),$(this,"isNewUser",u)}function fi(o){Jp.call(this,o),o=is(o.rawUserInfo||"{}"),$(this,"profile",Bp(o||{}))}K(fi,Jp);function Bw(o){if(fi.call(this,o),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}K(Bw,fi);function zw(o){if(fi.call(this,o),this.providerId!="github.com")throw Error("Invalid provider ID!");$(this,"username",this.profile&&this.profile.login||null)}K(zw,fi);function qw(o){if(fi.call(this,o),this.providerId!="google.com")throw Error("Invalid provider ID!")}K(qw,fi);function Hw(o){if(fi.call(this,o),this.providerId!="twitter.com")throw Error("Invalid provider ID!");$(this,"username",o.screenName||null)}K(Hw,fi);function Ww(o){var a=Je(o),u=Mn(a,"link"),h=Mn(Je(u),"link");return a=Mn(a,"deep_link_id"),Mn(Je(a),"link")||a||h||u||o}function Nl(o,a){if(!o&&!a)throw new x("internal-error","Internal assert: no raw session string available");if(o&&a)throw new x("internal-error","Internal assert: unable to determine the session type");this.a=o||null,this.b=a||null,this.type=this.a?ec:Ll}var ec="enroll",Ll="signin";Nl.prototype.Ha=function(){return this.a?tt(this.a):tt(this.b)},Nl.prototype.w=function(){return this.type==ec?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function rs(){}rs.prototype.ka=function(){},rs.prototype.b=function(){},rs.prototype.c=function(){},rs.prototype.w=function(){};function os(o,a){return o.then(function(u){if(u[Zn]){var h=Pl(u[Zn]);if(!h||a!=h.i)throw new x("user-mismatch");return u}throw new x("user-mismatch")}).o(function(u){throw u&&u.code&&u.code==Fa+"user-not-found"?new x("user-mismatch"):u})}function Yr(o,a){if(a)this.a=a;else throw new x("internal-error","failed to construct a credential");$(this,"providerId",o),$(this,"signInMethod",o)}Yr.prototype.ka=function(o){return Em(o,tm(this))},Yr.prototype.b=function(o,a){var u=tm(this);return u.idToken=a,xm(o,u)},Yr.prototype.c=function(o,a){return os(Cm(o,tm(this)),a)};function tm(o){return{pendingToken:o.a,requestUri:"http://localhost"}}Yr.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function YO(o){if(o&&o.providerId&&o.signInMethod&&o.providerId.indexOf("saml.")==0&&o.pendingToken)try{return new Yr(o.providerId,o.pendingToken)}catch{}return null}function Di(o,a,u){if(this.a=null,a.idToken||a.accessToken)a.idToken&&$(this,"idToken",a.idToken),a.accessToken&&$(this,"accessToken",a.accessToken),a.nonce&&!a.pendingToken&&$(this,"nonce",a.nonce),a.pendingToken&&(this.a=a.pendingToken);else if(a.oauthToken&&a.oauthTokenSecret)$(this,"accessToken",a.oauthToken),$(this,"secret",a.oauthTokenSecret);else throw new x("internal-error","failed to construct a credential");$(this,"providerId",o),$(this,"signInMethod",u)}Di.prototype.ka=function(o){return Em(o,em(this))},Di.prototype.b=function(o,a){var u=em(this);return u.idToken=a,xm(o,u)},Di.prototype.c=function(o,a){var u=em(this);return os(Cm(o,u),a)};function em(o){var a={};return o.idToken&&(a.id_token=o.idToken),o.accessToken&&(a.access_token=o.accessToken),o.secret&&(a.oauth_token_secret=o.secret),a.providerId=o.providerId,o.nonce&&!o.a&&(a.nonce=o.nonce),a={postBody:rw(a).toString(),requestUri:"http://localhost"},o.a&&(delete a.postBody,a.pendingToken=o.a),a}Di.prototype.w=function(){var o={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(o.oauthIdToken=this.idToken),this.accessToken&&(o.oauthAccessToken=this.accessToken),this.secret&&(o.oauthTokenSecret=this.secret),this.nonce&&(o.nonce=this.nonce),this.a&&(o.pendingToken=this.a),o};function XO(o){if(o&&o.providerId&&o.signInMethod){var a={idToken:o.oauthIdToken,accessToken:o.oauthTokenSecret?null:o.oauthAccessToken,oauthTokenSecret:o.oauthTokenSecret,oauthToken:o.oauthTokenSecret&&o.oauthAccessToken,nonce:o.nonce,pendingToken:o.pendingToken};try{return new Di(o.providerId,a,o.signInMethod)}catch{}}return null}function Xr(o,a){this.Qc=a||[],Be(this,{providerId:o,isOAuthProvider:!0}),this.Jb={},this.qb=(Qp(o)||{}).Ja||null,this.pb=null}Xr.prototype.Ka=function(o){return this.Jb=Yi(o),this};function Gw(o){if(typeof o!="string"||o.indexOf("saml.")!=0)throw new x("argument-error",'SAML provider IDs must be prefixed with "saml."');Xr.call(this,o,[])}K(Gw,Xr);function gn(o){Xr.call(this,o,Ml),this.a=[]}K(gn,Xr),gn.prototype.Ca=function(o){return Si(this.a,o)||this.a.push(o),this},gn.prototype.Rb=function(){return Ur(this.a)},gn.prototype.credential=function(o,a){var u;if(C(o)?u={idToken:o.idToken||null,accessToken:o.accessToken||null,nonce:o.rawNonce||null}:u={idToken:o||null,accessToken:a||null},!u.idToken&&!u.accessToken)throw new x("argument-error","credential failed: must provide the ID token and/or the access token.");return new Di(this.providerId,u,this.providerId)};function Qr(){gn.call(this,"facebook.com")}K(Qr,gn),$(Qr,"PROVIDER_ID","facebook.com"),$(Qr,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function $w(o){if(!o)throw new x("argument-error","credential failed: expected 1 argument (the OAuth access token).");var a=o;return C(o)&&(a=o.accessToken),new Qr().credential({accessToken:a})}function Zr(){gn.call(this,"github.com")}K(Zr,gn),$(Zr,"PROVIDER_ID","github.com"),$(Zr,"GITHUB_SIGN_IN_METHOD","github.com");function Kw(o){if(!o)throw new x("argument-error","credential failed: expected 1 argument (the OAuth access token).");var a=o;return C(o)&&(a=o.accessToken),new Zr().credential({accessToken:a})}function Jr(){gn.call(this,"google.com"),this.Ca("profile")}K(Jr,gn),$(Jr,"PROVIDER_ID","google.com"),$(Jr,"GOOGLE_SIGN_IN_METHOD","google.com");function Yw(o,a){var u=o;return C(o)&&(u=o.idToken,a=o.accessToken),new Jr().credential({idToken:u,accessToken:a})}function ss(){Xr.call(this,"twitter.com",jw)}K(ss,Xr),$(ss,"PROVIDER_ID","twitter.com"),$(ss,"TWITTER_SIGN_IN_METHOD","twitter.com");function Xw(o,a){var u=o;if(C(u)||(u={oauthToken:o,oauthTokenSecret:a}),!u.oauthToken||!u.oauthTokenSecret)throw new x("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Di("twitter.com",u,"twitter.com")}function tr(o,a,u){this.a=o,this.f=a,$(this,"providerId","password"),$(this,"signInMethod",u===Nn.EMAIL_LINK_SIGN_IN_METHOD?Nn.EMAIL_LINK_SIGN_IN_METHOD:Nn.EMAIL_PASSWORD_SIGN_IN_METHOD)}tr.prototype.ka=function(o){return this.signInMethod==Nn.EMAIL_LINK_SIGN_IN_METHOD?yt(o,NP,{email:this.a,oobCode:this.f}):yt(o,xI,{email:this.a,password:this.f})},tr.prototype.b=function(o,a){return this.signInMethod==Nn.EMAIL_LINK_SIGN_IN_METHOD?yt(o,LP,{idToken:a,email:this.a,oobCode:this.f}):yt(o,EI,{idToken:a,email:this.a,password:this.f})},tr.prototype.c=function(o,a){return os(this.ka(o),a)},tr.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function QO(o){return o&&o.email&&o.password?new tr(o.email,o.password,o.signInMethod):null}function Nn(){Be(this,{providerId:"password",isOAuthProvider:!1})}function Qw(o,a){if(a=nm(a),!a)throw new x("argument-error","Invalid email link!");return new tr(o,a.code,Nn.EMAIL_LINK_SIGN_IN_METHOD)}function nm(o){return o=Ww(o),(o=Dw(o))&&o.operation===Dl?o:null}Be(Nn,{PROVIDER_ID:"password"}),Be(Nn,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Be(Nn,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function er(o){if(!(o.fb&&o.eb||o.La&&o.ea))throw new x("internal-error");this.a=o,$(this,"providerId","phone"),this.fa="phone",$(this,"signInMethod","phone")}er.prototype.ka=function(o){return o.gb(nc(this))},er.prototype.b=function(o,a){var u=nc(this);return u.idToken=a,yt(o,nM,u)},er.prototype.c=function(o,a){var u=nc(this);return u.operation="REAUTH",o=yt(o,iM,u),os(o,a)},er.prototype.w=function(){var o={providerId:"phone"};return this.a.fb&&(o.verificationId=this.a.fb),this.a.eb&&(o.verificationCode=this.a.eb),this.a.La&&(o.temporaryProof=this.a.La),this.a.ea&&(o.phoneNumber=this.a.ea),o};function ZO(o){if(o&&o.providerId==="phone"&&(o.verificationId&&o.verificationCode||o.temporaryProof&&o.phoneNumber)){var a={};return qt(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(u){o[u]&&(a[u]=o[u])}),new er(a)}return null}function nc(o){return o.a.La&&o.a.ea?{temporaryProof:o.a.La,phoneNumber:o.a.ea}:{sessionInfo:o.a.fb,code:o.a.eb}}function Ri(o){try{this.a=o||it.auth()}catch{throw new x("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Be(this,{providerId:"phone",isOAuthProvider:!1})}Ri.prototype.gb=function(o,a){var u=this.a.a;return tt(a.verify()).then(function(h){if(typeof h!="string")throw new x("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(a.type){case"recaptcha":var p=C(o)?o.session:null,g=C(o)?o.phoneNumber:o,b;return p&&p.type==ec?b=p.Ha().then(function(w){return TP(u,{idToken:w,phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:h}})}):p&&p.type==Ll?b=p.Ha().then(function(w){return SP(u,{mfaPendingCredential:w,mfaEnrollmentId:o.multiFactorHint&&o.multiFactorHint.uid||o.multiFactorUid,phoneSignInInfo:{recaptchaToken:h}})}):b=CP(u,{phoneNumber:g,recaptchaToken:h}),b.then(function(w){return typeof a.reset=="function"&&a.reset(),w},function(w){throw typeof a.reset=="function"&&a.reset(),w});default:throw new x("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function Zw(o,a){if(!o)throw new x("missing-verification-id");if(!a)throw new x("missing-verification-code");return new er({fb:o,eb:a})}Be(Ri,{PROVIDER_ID:"phone"}),Be(Ri,{PHONE_SIGN_IN_METHOD:"phone"});function im(o){if(o.temporaryProof&&o.phoneNumber)return new er({La:o.temporaryProof,ea:o.phoneNumber});var a=o&&o.providerId;if(!a||a==="password")return null;var u=o&&o.oauthAccessToken,h=o&&o.oauthTokenSecret,p=o&&o.nonce,g=o&&o.oauthIdToken,b=o&&o.pendingToken;try{switch(a){case"google.com":return Yw(g,u);case"facebook.com":return $w(u);case"github.com":return Kw(u);case"twitter.com":return Xw(u,h);default:return u||h||g||b?b?a.indexOf("saml.")==0?new Yr(a,b):new Di(a,{pendingToken:b,idToken:o.oauthIdToken,accessToken:o.oauthAccessToken},a):new gn(a).credential({idToken:g,accessToken:u,rawNonce:p}):null}}catch{return null}}function rm(o){if(!o.isOAuthProvider)throw new x("invalid-oauth-provider")}function Xn(o,a,u,h,p,g,b){if(this.c=o,this.b=a||null,this.g=u||null,this.f=h||null,this.i=g||null,this.h=b||null,this.a=p||null,this.g||this.a){if(this.g&&this.a)throw new x("invalid-auth-event");if(this.g&&!this.f)throw new x("invalid-auth-event")}else throw new x("invalid-auth-event")}Xn.prototype.getUid=function(){var o=[];return o.push(this.c),this.b&&o.push(this.b),this.f&&o.push(this.f),this.h&&o.push(this.h),o.join("-")},Xn.prototype.T=function(){return this.h},Xn.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function Jw(o){return o=o||{},o.type?new Xn(o.type,o.eventId,o.urlResponse,o.sessionId,o.error&&J0(o.error),o.postBody,o.tenantId):null}function JO(){this.b=null,this.a=[]}var om=null;function tP(o){var a=om;a.a.push(o),a.b||(a.b=function(u){for(var h=0;h<a.a.length;h++)a.a[h](u)},o=Ut("universalLinks.subscribe",d),typeof o=="function"&&o(null,a.b))}function sm(o){var a="unauthorized-domain",u=void 0,h=Je(o);o=h.a,h=h.c,h=="chrome-extension"?u=w_("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",o):h=="http"||h=="https"?u=w_("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",o):a="operation-not-supported-in-this-environment",x.call(this,a,u)}K(sm,x);function ic(o,a,u){x.call(this,o,u),o=a||{},o.Kb&&$(this,"email",o.Kb),o.ea&&$(this,"phoneNumber",o.ea),o.credential&&$(this,"credential",o.credential),o.$b&&$(this,"tenantId",o.$b)}K(ic,x),ic.prototype.w=function(){var o={code:this.code,message:this.message};this.email&&(o.email=this.email),this.phoneNumber&&(o.phoneNumber=this.phoneNumber),this.tenantId&&(o.tenantId=this.tenantId);var a=this.credential&&this.credential.w();return a&&Xe(o,a),o},ic.prototype.toJSON=function(){return this.w()};function Fl(o){if(o.code){var a=o.code||"";a.indexOf(Fa)==0&&(a=a.substring(Fa.length));var u={credential:im(o),$b:o.tenantId};if(o.email)u.Kb=o.email;else if(o.phoneNumber)u.ea=o.phoneNumber;else if(!u.credential)return new x(a,o.message||void 0);return new ic(a,u,o.message)}return null}function rc(){}rc.prototype.c=null;function tI(o){return o.c||(o.c=o.b())}var am;function jl(){}K(jl,rc),jl.prototype.a=function(){var o=eI(this);return o?new ActiveXObject(o):new XMLHttpRequest},jl.prototype.b=function(){var o={};return eI(this)&&(o[0]=!0,o[1]=!0),o};function eI(o){if(!o.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var a=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],u=0;u<a.length;u++){var h=a[u];try{return new ActiveXObject(h),o.f=h}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return o.f}am=new jl;function Ul(){}K(Ul,rc),Ul.prototype.a=function(){var o=new XMLHttpRequest;if("withCredentials"in o)return o;if(typeof XDomainRequest<"u")return new nI;throw Error("Unsupported browser")},Ul.prototype.b=function(){return{}};function nI(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=F(this.qc,this),this.a.onerror=F(this.Tb,this),this.a.onprogress=F(this.rc,this),this.a.ontimeout=F(this.vc,this)}e=nI.prototype,e.open=function(o,a,u){if(u!=null&&!u)throw Error("Only async requests are supported.");this.a.open(o,a)},e.send=function(o){if(o)if(typeof o=="string")this.a.send(o);else throw Error("Only string data is supported");else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(o){return o.toLowerCase()=="content-type"?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,cm(this,4)},e.Tb=function(){this.status=500,this.response=this.responseText="",cm(this,4)},e.vc=function(){this.Tb()},e.rc=function(){this.status=200,cm(this,1)};function cm(o,a){o.readyState=a,o.onreadystatechange&&o.onreadystatechange()}e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function um(o,a,u){this.reset(o,a,u,void 0,void 0)}um.prototype.a=null;var eP=0;um.prototype.reset=function(o,a,u,h,p){typeof p=="number"||eP++,h||Gn(),delete this.a};function lm(o){this.f=o,this.b=this.c=this.a=null}function oc(o,a){this.name=o,this.value=a}oc.prototype.toString=function(){return this.name};var iI=new oc("SEVERE",1e3),dm=new oc("WARNING",900),nP=new oc("CONFIG",700),iP=new oc("FINE",500);function rI(o){return o.c?o.c:o.a?rI(o.a):(Go("Root logger has no level set."),null)}lm.prototype.log=function(o,a,u){if(o.value>=rI(this).value)for(E(a)&&(a=a()),o=new um(o,String(a),this.f),u&&(o.a=u),u=this;u;)u=u.a};var hm={},Vl=null;function fm(o){Vl||(Vl=new lm(""),hm[""]=Vl,Vl.c=nP);var a;if(!(a=hm[o])){a=new lm(o);var u=o.lastIndexOf("."),h=o.substr(u+1);u=fm(o.substr(0,u)),u.b||(u.b={}),u.b[h]=a,a.a=u,hm[o]=a}return a}function Ln(o,a){o&&o.log(iP,a,void 0)}function Bl(o){this.f=o}K(Bl,rc),Bl.prototype.a=function(){return new zl(this.f)},Bl.prototype.b=function(o){return function(){return o}}({});function zl(o){Ve.call(this),this.u=o,this.h=void 0,this.readyState=pm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=fm("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}K(zl,Ve);var pm=0;e=zl.prototype,e.open=function(o,a){if(this.readyState!=pm)throw this.abort(),Error("Error reopening a connection");this.s=o,this.f=a,this.readyState=1,ac(this)},e.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var a={headers:this.l,method:this.s,credentials:this.h,cache:void 0};o&&(a.body=o),this.u.fetch(new Request(this.f,a)).then(this.uc.bind(this),this.Va.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,sc(this)),this.readyState=pm},e.uc=function(o){this.a&&(this.g=o,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=o.headers,this.readyState=2,ac(this)),this.a&&(this.readyState=3,ac(this),this.a&&(this.responseType==="arraybuffer"?o.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):typeof d.ReadableStream<"u"&&"body"in o?(this.response=this.responseText="",this.c=o.body.getReader(),this.m=new TextDecoder,oI(this)):o.text().then(this.tc.bind(this),this.Va.bind(this)))))};function oI(o){o.c.read().then(o.pc.bind(o)).catch(o.Va.bind(o))}e.pc=function(o){if(this.a){var a=this.m.decode(o.value?o.value:new Uint8Array(0),{stream:!o.done});a&&(this.response=this.responseText+=a),o.done?sc(this):ac(this),this.readyState==3&&oI(this)}},e.tc=function(o){this.a&&(this.response=this.responseText=o,sc(this))},e.sc=function(o){this.a&&(this.response=o,sc(this))},e.Va=function(o){var a=this.i;a&&a.log(dm,"Failed to fetch url "+this.f,o instanceof Error?o:Error(o)),this.a&&sc(this)};function sc(o){o.readyState=4,o.g=null,o.c=null,o.m=null,ac(o)}e.setRequestHeader=function(o,a){this.l.append(o,a)},e.getResponseHeader=function(o){return this.b?this.b.get(o.toLowerCase())||"":((o=this.i)&&o.log(dm,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var o=this.i;return o&&o.log(dm,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}o=[];for(var a=this.b.entries(),u=a.next();!u.done;)u=u.value,o.push(u[0]+": "+u[1]),u=a.next();return o.join(`\r
`)};function ac(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(zl.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(o){this.h=o?"include":"same-origin"}});function cc(o){Ve.call(this),this.headers=new Zo,this.D=o||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=sI,this.u=this.S=!1}K(cc,Ve);var sI="";cc.prototype.b=fm("goog.net.XhrIo");var rP=/^https?$/i,oP=["POST","PUT"];function sP(o,a,u,h,p){if(o.a)throw Error("[goog.net.XhrIo] Object is active with another request="+o.l+"; newUri="+a);u=u?u.toUpperCase():"GET",o.l=a,o.h="",o.P=u,o.J=!1,o.c=!0,o.a=o.D?o.D.a():am.a(),o.C=o.D?tI(o.D):tI(am),o.a.onreadystatechange=F(o.Wb,o);try{Ln(o.b,ki(o,"Opening Xhr")),o.N=!0,o.a.open(u,String(a),!0),o.N=!1}catch(b){Ln(o.b,ki(o,"Error opening Xhr: "+b.message)),aI(o,b);return}a=h||"";var g=new Zo(o.headers);p&&dO(p,function(b,w){g.set(w,b)}),p=Dk(g.Y()),h=d.FormData&&a instanceof d.FormData,!Si(oP,u)||p||h||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),g.forEach(function(b,w){this.a.setRequestHeader(w,b)},o),o.m&&(o.a.responseType=o.m),"withCredentials"in o.a&&o.a.withCredentials!==o.S&&(o.a.withCredentials=o.S);try{lI(o),0<o.g&&(o.u=aP(o.a),Ln(o.b,ki(o,"Will abort after "+o.g+"ms if incomplete, xhr2 "+o.u)),o.u?(o.a.timeout=o.g,o.a.ontimeout=F(o.Ma,o)):o.s=Sp(o.Ma,o.g,o)),Ln(o.b,ki(o,"Sending request")),o.i=!0,o.a.send(a),o.i=!1}catch(b){Ln(o.b,ki(o,"Send error: "+b.message)),aI(o,b)}}function aP(o){return Kn&&C_(9)&&typeof o.timeout=="number"&&o.ontimeout!==void 0}function cP(o){return o.toLowerCase()=="content-type"}e=cc.prototype,e.Ma=function(){typeof l<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Ln(this.b,ki(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function aI(o,a){o.c=!1,o.a&&(o.f=!0,o.a.abort(),o.f=!1),o.h=a,cI(o),ql(o)}function cI(o){o.J||(o.J=!0,o.dispatchEvent("complete"),o.dispatchEvent("error"))}e.abort=function(){this.a&&this.c&&(Ln(this.b,ki(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ql(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),ql(this,!0)),cc.bb.Da.call(this)},e.Wb=function(){this.ya||(this.N||this.i||this.f?uI(this):this.Jc())},e.Jc=function(){uI(this)};function uI(o){if(o.c&&typeof l<"u"){if(o.C[1]&&uc(o)==4&&Hl(o)==2)Ln(o.b,ki(o,"Local request error detected and ignored"));else if(o.i&&uc(o)==4)Sp(o.Wb,0,o);else if(o.dispatchEvent("readystatechange"),uc(o)==4){Ln(o.b,ki(o,"Request complete")),o.c=!1;try{var a=Hl(o);t:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var u=!0;break t;default:u=!1}var h;if(!(h=u)){var p;if(p=a===0){var g=String(o.l).match(nw)[1]||null;if(!g&&d.self&&d.self.location){var b=d.self.location.protocol;g=b.substr(0,b.length-1)}p=!rP.test(g?g.toLowerCase():"")}h=p}if(h)o.dispatchEvent("complete"),o.dispatchEvent("success");else{try{var w=2<uc(o)?o.a.statusText:""}catch(S){Ln(o.b,"Can not get status: "+S.message),w=""}o.h=w+" ["+Hl(o)+"]",cI(o)}}finally{ql(o)}}}}function ql(o,a){if(o.a){lI(o);var u=o.a,h=o.C[0]?y:null;o.a=null,o.C=null,a||o.dispatchEvent("ready");try{u.onreadystatechange=h}catch(p){(o=o.b)&&o.log(iI,"Problem encountered resetting onreadystatechange: "+p.message,void 0)}}}function lI(o){o.a&&o.u&&(o.a.ontimeout=null),o.s&&(d.clearTimeout(o.s),o.s=null)}function uc(o){return o.a?o.a.readyState:0}function Hl(o){try{return 2<uc(o)?o.a.status:-1}catch{return-1}}function uP(o){try{return o.a?o.a.responseText:""}catch(a){return Ln(o.b,"Can not get responseText: "+a.message),""}}e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case sI:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var o=this.b;return o&&o.log(iI,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(a){return Ln(this.b,"Can not get response: "+a.message),null}};function ki(o,a){return a+" ["+o.P+" "+o.l+" "+Hl(o)+"]"}function to(o){var a=hP;this.g=[],this.u=a,this.s=o||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}to.prototype.cancel=function(o){if(this.a)this.c instanceof to&&this.c.cancel();else{if(this.b){var a=this.b;delete this.b,o?a.cancel(o):(a.l--,0>=a.l&&a.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(o=new dc(this),Wl(this),lc(this,!1,o))}},to.prototype.m=function(o,a){this.i=!1,lc(this,o,a)};function lc(o,a,u){o.a=!0,o.c=u,o.f=!a,hI(o)}function Wl(o){if(o.a){if(!o.v)throw new Gl(o);o.v=!1}}function lP(o,a){mm(o,null,a,void 0)}function mm(o,a,u,h){o.g.push([a,u,h]),o.a&&hI(o)}to.prototype.then=function(o,a,u){var h,p,g=new bt(function(b,w){h=b,p=w});return mm(this,h,function(b){b instanceof dc?g.cancel():p(b)}),g.then(o,a,u)},to.prototype.$goog_Thenable=!0;function dI(o){return Ak(o.g,function(a){return E(a[1])})}function hI(o){if(o.h&&o.a&&dI(o)){var a=o.h,u=$l[a];u&&(d.clearTimeout(u.a),delete $l[a]),o.h=0}o.b&&(o.b.l--,delete o.b),a=o.c;for(var h=u=!1;o.g.length&&!o.i;){var p=o.g.shift(),g=p[0],b=p[1];if(p=p[2],g=o.f?b:g)try{var w=g.call(p||o.s,a);w!==void 0&&(o.f=o.f&&(w==a||w instanceof Error),o.c=a=w),(t_(a)||typeof d.Promise=="function"&&a instanceof d.Promise)&&(h=!0,o.i=!0)}catch(S){a=S,o.f=!0,dI(o)||(u=!0)}}o.c=a,h&&(w=F(o.m,o,!0),h=F(o.m,o,!1),a instanceof to?(mm(a,w,h),a.C=!0):a.then(w,h)),u&&(a=new fI(a),$l[a.a]=a,o.h=a.a)}function Gl(){pn.call(this)}K(Gl,pn),Gl.prototype.message="Deferred has already fired",Gl.prototype.name="AlreadyCalledError";function dc(){pn.call(this)}K(dc,pn),dc.prototype.message="Deferred was canceled",dc.prototype.name="CanceledError";function fI(o){this.a=d.setTimeout(F(this.c,this),0),this.b=o}fI.prototype.c=function(){throw delete $l[this.a],this.b};var $l={};function gm(o){var a={},u=a.document||document,h=f_(o).toString(),p=bl(document,"SCRIPT"),g={Xb:p,Ma:void 0},b=new to(g),w=null,S=a.timeout!=null?a.timeout:5e3;return 0<S&&(w=window.setTimeout(function(){Kl(p,!0);var O=new vm(pP,"Timeout reached for loading script "+h);Wl(b),lc(b,!1,O)},S),g.Ma=w),p.onload=p.onreadystatechange=function(){p.readyState&&p.readyState!="loaded"&&p.readyState!="complete"||(Kl(p,a.xd||!1,w),Wl(b),lc(b,!0,null))},p.onerror=function(){Kl(p,!0,w);var O=new vm(fP,"Error while loading script "+h);Wl(b),lc(b,!1,O)},g=a.attributes||{},Xe(g,{type:"text/javascript",charset:"UTF-8"}),S_(p,g),qk(p,o),dP(u).appendChild(p),b}function dP(o){var a;return(a=(o||document).getElementsByTagName("HEAD"))&&a.length!=0?a[0]:o.documentElement}function hP(){if(this&&this.Xb){var o=this.Xb;o&&o.tagName=="SCRIPT"&&Kl(o,!0,this.Ma)}}function Kl(o,a,u){u!=null&&d.clearTimeout(u),o.onload=y,o.onerror=y,o.onreadystatechange=y,a&&window.setTimeout(function(){o&&o.parentNode&&o.parentNode.removeChild(o)},0)}var fP=0,pP=1;function vm(o,a){var u="Jsloader error (code #"+o+")";a&&(u+=": "+a),pn.call(this,u),this.code=o}K(vm,pn);function Yl(o){this.f=o}K(Yl,rc),Yl.prototype.a=function(){return new this.f},Yl.prototype.b=function(){return{}};function Qn(o,a,u){if(this.c=o,o=a||{},this.l=o.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=o.secureTokenTimeout||mP,this.g=Yi(o.secureTokenHeaders||gP),this.h=o.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=o.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=o.firebaseTimeout||vP,this.a=Yi(o.firebaseHeaders||bP),u&&(this.a["X-Client-Version"]=u,this.g["X-Client-Version"]=u),u=di()=="Node",u=d.XMLHttpRequest||u&&it.INTERNAL.node&&it.INTERNAL.node.XMLHttpRequest,!u&&!Yn())throw new x("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Yn()?this.f=new Bl(self):pw()?this.f=new Yl(u):this.f=new Ul,this.b=null}var bm,Zn="idToken",mP=new Ji(3e4,6e4),gP={"Content-Type":"application/x-www-form-urlencoded"},vP=new Ji(3e4,6e4),bP={"Content-Type":"application/json"};function pI(o,a){a?o.a["X-Firebase-Locale"]=a:delete o.a["X-Firebase-Locale"]}function Xl(o,a){a&&(o.l=ym("https://securetoken.googleapis.com/v1/token",a),o.h=ym("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",a),o.i=ym("https://identitytoolkit.googleapis.com/v2/",a))}function ym(o,a){return o=Je(o),a=Je(a.url),o.f=o.a+o.f,Ha(o,a.c),o.a=a.a,Wa(o,a.g),o.toString()}function mI(o,a){a?(o.a["X-Client-Version"]=a,o.g["X-Client-Version"]=a):(delete o.a["X-Client-Version"],delete o.g["X-Client-Version"])}Qn.prototype.T=function(){return this.b};function gI(o,a,u,h,p,g,b){wO()||Yn()?o=F(o.u,o):(bm||(bm=new bt(function(w,S){_P(w,S)})),o=F(o.s,o)),o(a,u,h,p,g,b)}Qn.prototype.u=function(o,a,u,h,p,g){if(Yn()&&(typeof d.fetch>"u"||typeof d.Headers>"u"||typeof d.Request>"u"))throw new x("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var b=new cc(this.f);if(g){b.g=Math.max(0,g);var w=setTimeout(function(){b.dispatchEvent("timeout")},g)}J_(b,"complete",function(){w&&clearTimeout(w);var S=null;try{S=JSON.parse(uP(this))||null}catch{S=null}a&&a(S)}),Tp(b,"ready",function(){w&&clearTimeout(w),W_(this)}),Tp(b,"timeout",function(){w&&clearTimeout(w),W_(this),a&&a(null)}),sP(b,o,u,h,p)};var yP=new ui(pl,"https://apis.google.com/js/client.js?onload=%{onload}"),vI="__fcb"+Math.floor(1e6*Math.random()).toString();function _P(o,a){if(((window.gapi||{}).client||{}).request)o();else{d[vI]=function(){((window.gapi||{}).client||{}).request?o():a(Error("CORS_UNSUPPORTED"))};var u=ap(yP,{onload:vI});lP(gm(u),function(){a(Error("CORS_UNSUPPORTED"))})}}Qn.prototype.s=function(o,a,u,h,p){var g=this;bm.then(function(){window.gapi.client.setApiKey(g.c);var b=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:o,method:u,body:h,headers:p,authType:"none",callback:function(w){window.gapi.auth.setToken(b),a&&a(w)}})}).o(function(b){a&&a({error:{message:b&&b.message||"CORS_UNSUPPORTED"}})})};function wP(o,a){return new bt(function(u,h){a.grant_type=="refresh_token"&&a.refresh_token||a.grant_type=="authorization_code"&&a.code?gI(o,o.l+"?key="+encodeURIComponent(o.c),function(p){p?p.error?h(Sm(p)):p.access_token&&p.refresh_token?u(p):h(new x("internal-error")):h(new x("network-request-failed"))},"POST",rw(a).toString(),o.g,o.m.get()):h(new x("internal-error"))})}function bI(o,a,u,h,p,g,b){var w=Je(a+u);Qt(w,"key",o.c),b&&Qt(w,"cb",Date.now().toString());var S=h=="GET";if(S)for(var O in p)p.hasOwnProperty(O)&&Qt(w,O,p[O]);return new bt(function(st,Rt){gI(o,w.toString(),function(It){It?It.error?Rt(Sm(It,g||{})):st(It):Rt(new x("network-request-failed"))},h,S?void 0:aw(vw(p)),o.a,o.v.get())})}function eo(o){if(o=o.email,typeof o!="string"||!xO.test(o))throw new x("invalid-email")}function yI(o){"email"in o&&eo(o)}function IP(o,a){return yt(o,OP,{identifier:a,continueUri:Al()?Ka():"http://localhost"}).then(function(u){return u.signinMethods||[]})}function EP(o){return yt(o,HP,{}).then(function(a){return a.authorizedDomains||[]})}function tn(o){if(!o[Zn])throw o.mfaPendingCredential?new x("multi-factor-auth-required",null,Yi(o)):new x("internal-error")}function _m(o){if(o.phoneNumber||o.temporaryProof){if(!o.phoneNumber||!o.temporaryProof)throw new x("internal-error")}else{if(!o.sessionInfo)throw new x("missing-verification-id");if(!o.code)throw new x("missing-verification-code")}}Qn.prototype.Ab=function(){return yt(this,KP,{})},Qn.prototype.Cb=function(o,a){return yt(this,II,{idToken:o,email:a})},Qn.prototype.Db=function(o,a){return yt(this,EI,{idToken:o,password:a})};var xP={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};e=Qn.prototype,e.Eb=function(o,a){var u={idToken:o},h=[];return c_(xP,function(p,g){var b=a[g];b===null?h.push(p):g in a&&(u[g]=b)}),h.length&&(u.deleteAttribute=h),yt(this,II,u)},e.wb=function(o,a){return o={requestType:"PASSWORD_RESET",email:o},Xe(o,a),yt(this,qP,o)},e.xb=function(o,a){return o={requestType:"EMAIL_SIGNIN",email:o},Xe(o,a),yt(this,VP,o)},e.vb=function(o,a){return o={requestType:"VERIFY_EMAIL",idToken:o},Xe(o,a),yt(this,BP,o)},e.Fb=function(o,a,u){return o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:o,newEmail:a},Xe(o,u),yt(this,zP,o)};function CP(o,a){return yt(o,$P,a)}e.gb=function(o){return yt(this,eM,o)};function TP(o,a){return yt(o,YP,a).then(function(u){return u.phoneSessionInfo.sessionInfo})}function _I(o){if(!o.phoneVerificationInfo)throw new x("internal-error");if(!o.phoneVerificationInfo.sessionInfo)throw new x("missing-verification-id");if(!o.phoneVerificationInfo.code)throw new x("missing-verification-code")}function SP(o,a){return yt(o,XP,a).then(function(u){return u.phoneResponseInfo.sessionInfo})}function AP(o,a,u){return yt(o,MP,{idToken:a,deleteProvider:u})}function wm(o){if(!o.requestUri||!o.sessionId&&!o.postBody&&!o.pendingToken)throw new x("internal-error")}function Im(o,a){return a.oauthIdToken&&a.providerId&&a.providerId.indexOf("oidc.")==0&&!a.pendingToken&&(o.sessionId?a.nonce=o.sessionId:o.postBody&&(o=new Wr(o.postBody),Rp(o,"nonce")&&(a.nonce=o.get("nonce")))),a}function wI(o){var a=null;if(o.needConfirmation?(o.code="account-exists-with-different-credential",a=Fl(o)):o.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(o.code="credential-already-in-use",a=Fl(o)):o.errorMessage=="EMAIL_EXISTS"?(o.code="email-already-in-use",a=Fl(o)):o.errorMessage&&(a=CI(o.errorMessage)),a)throw a;tn(o)}function Em(o,a){return a.returnIdpCredential=!0,yt(o,QP,a)}function xm(o,a){return a.returnIdpCredential=!0,yt(o,JP,a)}function Cm(o,a){return a.returnIdpCredential=!0,a.autoCreate=!1,yt(o,ZP,a)}function Tm(o){if(!o.oobCode)throw new x("invalid-action-code")}e.ob=function(o,a){return yt(this,GP,{oobCode:o,newPassword:a})},e.Sa=function(o){return yt(this,RP,{oobCode:o})},e.kb=function(o){return yt(this,DP,{oobCode:o})};var DP={endpoint:"setAccountInfo",A:Tm,Z:"email",B:!0},RP={endpoint:"resetPassword",A:Tm,G:function(o){var a=o.requestType;if(!a||!o.email&&a!="EMAIL_SIGNIN"&&a!="VERIFY_AND_CHANGE_EMAIL")throw new x("internal-error")},B:!0},kP={endpoint:"signupNewUser",A:function(o){if(eo(o),!o.password)throw new x("weak-password")},G:tn,V:!0,B:!0},OP={endpoint:"createAuthUri",B:!0},PP={endpoint:"deleteAccount",O:["idToken"]},MP={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(o){if(!Array.isArray(o.deleteProvider))throw new x("internal-error")}},NP={endpoint:"emailLinkSignin",O:["email","oobCode"],A:eo,G:tn,V:!0,B:!0},LP={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:eo,G:tn,V:!0},FP={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:_I,G:tn,B:!0,Na:!0},jP={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:_I,G:tn,B:!0,Na:!0},UP={endpoint:"getAccountInfo"},VP={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(o){if(o.requestType!="EMAIL_SIGNIN")throw new x("internal-error");eo(o)},Z:"email",B:!0},BP={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(o){if(o.requestType!="VERIFY_EMAIL")throw new x("internal-error")},Z:"email",B:!0},zP={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(o){if(o.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new x("internal-error")},Z:"email",B:!0},qP={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(o){if(o.requestType!="PASSWORD_RESET")throw new x("internal-error");eo(o)},Z:"email",B:!0},HP={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},WP={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(o){if(!o.recaptchaSiteKey)throw new x("internal-error")}},GP={endpoint:"resetPassword",A:Tm,Z:"email",B:!0},$P={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},II={endpoint:"setAccountInfo",O:["idToken"],A:yI,V:!0},EI={endpoint:"setAccountInfo",O:["idToken"],A:function(o){if(yI(o),!o.password)throw new x("weak-password")},G:tn,V:!0},KP={endpoint:"signupNewUser",G:tn,V:!0,B:!0},YP={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(o){if(!o.phoneEnrollmentInfo)throw new x("internal-error");if(!o.phoneEnrollmentInfo.phoneNumber)throw new x("missing-phone-number");if(!o.phoneEnrollmentInfo.recaptchaToken)throw new x("missing-app-credential")},G:function(o){if(!o.phoneSessionInfo||!o.phoneSessionInfo.sessionInfo)throw new x("internal-error")},B:!0,Na:!0},XP={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(o){if(!o.phoneSignInInfo||!o.phoneSignInInfo.recaptchaToken)throw new x("missing-app-credential")},G:function(o){if(!o.phoneResponseInfo||!o.phoneResponseInfo.sessionInfo)throw new x("internal-error")},B:!0,Na:!0},QP={endpoint:"verifyAssertion",A:wm,Za:Im,G:wI,V:!0,B:!0},ZP={endpoint:"verifyAssertion",A:wm,Za:Im,G:function(o){if(o.errorMessage&&o.errorMessage=="USER_NOT_FOUND")throw new x("user-not-found");if(o.errorMessage)throw CI(o.errorMessage);tn(o)},V:!0,B:!0},JP={endpoint:"verifyAssertion",A:function(o){if(wm(o),!o.idToken)throw new x("internal-error")},Za:Im,G:wI,V:!0},tM={endpoint:"verifyCustomToken",A:function(o){if(!o.token)throw new x("invalid-custom-token")},G:tn,V:!0,B:!0},xI={endpoint:"verifyPassword",A:function(o){if(eo(o),!o.password)throw new x("wrong-password")},G:tn,V:!0,B:!0},eM={endpoint:"verifyPhoneNumber",A:_m,G:tn,B:!0},nM={endpoint:"verifyPhoneNumber",A:function(o){if(!o.idToken)throw new x("internal-error");_m(o)},G:function(o){if(o.temporaryProof)throw o.code="credential-already-in-use",Fl(o);tn(o)}},iM={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:_m,G:tn,B:!0},rM={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(o){if(!!o[Zn]^!!o.refreshToken)throw new x("internal-error")},B:!0,Na:!0};function yt(o,a,u){if(!kO(u,a.O))return jt(new x("internal-error"));var h=!!a.Na,p=a.Vb||"POST",g;return tt(u).then(a.A).then(function(){return a.V&&(u.returnSecureToken=!0),a.B&&o.b&&typeof u.tenantId>"u"&&(u.tenantId=o.b),h?bI(o,o.i,a.endpoint,p,u,a.Ib,a.mb||!1):bI(o,o.h,a.endpoint,p,u,a.Ib,a.mb||!1)}).then(function(b){return g=b,a.Za?a.Za(u,g):g}).then(a.G).then(function(){if(!a.Z)return g;if(!(a.Z in g))throw new x("internal-error");return g[a.Z]})}function CI(o){return Sm({error:{errors:[{message:o}],code:400,message:o}})}function Sm(o,a){var u=(o.error&&o.error.errors&&o.error.errors[0]||{}).reason||"",h={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(u=h[u]?new x(h[u]):null)return u;u=o.error&&o.error.message||"",h={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},Xe(h,a||{}),a=(a=u.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<a.length?a[1]:void 0;for(var p in h)if(u.indexOf(p)===0)return new x(h[p],a);return!a&&o&&(a=Xa(o)),new x("internal-error",a)}function oM(o){this.b=o,this.a=null,this.sb=sM(this)}function sM(o){return hM().then(function(){return new bt(function(a,u){Ut("gapi.iframes.getContext")().open({where:document.body,url:o.b,messageHandlersFilter:Ut("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(h){function p(){clearTimeout(g),a()}o.a=h,o.a.restyle({setHideOnLeave:!1});var g=setTimeout(function(){u(Error("Network Error"))},dM.get());h.ping(p).then(p,function(){u(Error("Network Error"))})})})})}function aM(o,a){return o.sb.then(function(){return new bt(function(u){o.a.send(a.type,a,u,Ut("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function cM(o,a){o.sb.then(function(){o.a.register("authEvent",a,Ut("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var uM=new ui(pl,"https://apis.google.com/js/api.js?onload=%{onload}"),lM=new Ji(3e4,6e4),dM=new Ji(5e3,15e3),Ql=null;function hM(){return Ql||(Ql=new bt(function(o,a){function u(){yw(),Ut("gapi.load")("gapi.iframes",{callback:o,ontimeout:function(){yw(),a(Error("Network Error"))},timeout:lM.get()})}if(Ut("gapi.iframes.Iframe"))o();else if(Ut("gapi.load"))u();else{var h="__iframefcb"+Math.floor(1e6*Math.random()).toString();d[h]=function(){Ut("gapi.load")?u():a(Error("Network Error"))},h=ap(uM,{onload:h}),tt(gm(h)).o(function(){a(Error("Network Error"))})}}).o(function(o){throw Ql=null,o}))}function TI(o,a,u,h){this.l=o,this.h=a,this.i=u,this.g=h,this.f=null,this.g?(o=Je(this.g.url),o=Tl(o.c,o.a,o.g,"/emulator/auth/iframe")):o=Tl("https",this.l,null,"/__/auth/iframe"),this.a=o,Qt(this.a,"apiKey",this.h),Qt(this.a,"appName",this.i),this.b=null,this.c=[]}TI.prototype.toString=function(){return this.f?Qt(this.a,"v",this.f):li(this.a.b,"v"),this.b?Qt(this.a,"eid",this.b):li(this.a.b,"eid"),this.c.length?Qt(this.a,"fw",this.c.join(",")):li(this.a.b,"fw"),this.a.toString()};function Am(o,a,u,h,p,g){this.u=o,this.s=a,this.c=u,this.m=h,this.v=g,this.i=this.g=this.l=null,this.a=p,this.h=this.f=null}Am.prototype.zb=function(o){return this.h=o,this},Am.prototype.toString=function(){if(this.v){var o=Je(this.v.url);o=Tl(o.c,o.a,o.g,"/emulator/auth/handler")}else o=Tl("https",this.u,null,"/__/auth/handler");if(Qt(o,"apiKey",this.s),Qt(o,"appName",this.c),Qt(o,"authType",this.m),this.a.isOAuthProvider){var a=this.a;try{var u=it.app(this.c).auth().la()}catch{u=null}a.pb=u,Qt(o,"providerId",this.a.providerId),u=this.a,a=vw(u.Jb);for(var h in a)a[h]=a[h].toString();h=u.Qc,a=Yi(a);for(var p=0;p<h.length;p++){var g=h[p];g in a&&delete a[g]}u.qb&&u.pb&&!a[u.qb]&&(a[u.qb]=u.pb),Vr(a)||Qt(o,"customParameters",Xa(a))}if(typeof this.a.Rb=="function"&&(u=this.a.Rb(),u.length&&Qt(o,"scopes",u.join(","))),this.l?Qt(o,"redirectUrl",this.l):li(o.b,"redirectUrl"),this.g?Qt(o,"eventId",this.g):li(o.b,"eventId"),this.i?Qt(o,"v",this.i):li(o.b,"v"),this.b)for(var b in this.b)this.b.hasOwnProperty(b)&&!Mn(o,b)&&Qt(o,b,this.b[b]);return this.h?Qt(o,"tid",this.h):li(o.b,"tid"),this.f?Qt(o,"eid",this.f):li(o.b,"eid"),b=Dm(this.c),b.length&&Qt(o,"fw",b.join(",")),o.toString()};function Dm(o){try{return it.app(o).auth().Ga()}catch{return[]}}function SI(o,a,u,h,p,g){this.s=o,this.g=a,this.b=u,this.f=g,this.c=h||null,this.i=p||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function AI(o){var a=Ka();return EP(o).then(function(u){t:{var h=Je(a),p=h.c;h=h.a;for(var g=0;g<u.length;g++){var b=u[g],w=h,S=p;if(b.indexOf("chrome-extension://")==0?w=Je(b).a==w&&S=="chrome-extension":S!="http"&&S!="https"?w=!1:EO.test(b)?w=w==b:(b=b.split(".").join("\\."),w=new RegExp("^(.+\\."+b+"|"+b+")$","i").test(w)),w){u=!0;break t}}u=!1}if(!u)throw new sm(Ka())})}function DI(o){return o.m||(o.m=Sl().then(function(){if(!o.u){var a=o.c,u=o.i,h=Dm(o.b),p=new TI(o.s,o.g,o.b,o.f);p.f=a,p.b=u,p.c=Ur(h||[]),o.u=p.toString()}o.v=new oM(o.u),fM(o)})),o.m}e=SI.prototype,e.Pb=function(o,a,u){var h=new x("popup-closed-by-user"),p=new x("web-storage-unsupported"),g=this,b=!1;return this.ma().then(function(){pM(g).then(function(w){w||(o&&Gr(o),a(p),b=!0)})}).o(function(){}).then(function(){if(!b)return IO(o)}).then(function(){if(!b)return Qo(u).then(function(){a(h)})})},e.Yb=function(){var o=Ie();return!Ya(o)&&!bw(o)},e.Ub=function(){return!1},e.Nb=function(o,a,u,h,p,g,b,w){if(!o)return jt(new x("popup-blocked"));if(b&&!Ya())return this.ma().o(function(O){Gr(o),p(O)}),h(),tt();this.a||(this.a=AI(RI(this)));var S=this;return this.a.then(function(){var O=S.ma().o(function(st){throw Gr(o),p(st),st});return h(),O}).then(function(){if(rm(u),!b){var O=hc(S.s,S.g,S.b,a,u,null,g,S.c,void 0,S.i,w,S.f);lw(O,o)}}).o(function(O){throw O.code=="auth/network-request-failed"&&(S.a=null),O})};function RI(o){return o.l||(o.C=o.c?es(o.c,Dm(o.b)):null,o.l=new Qn(o.g,ja(o.i),o.C),o.f&&Xl(o.l,o.f)),o.l}e.Ob=function(o,a,u,h){this.a||(this.a=AI(RI(this)));var p=this;return this.a.then(function(){rm(a);var g=hc(p.s,p.g,p.b,o,a,Ka(),u,p.c,void 0,p.i,h,p.f);lw(g)}).o(function(g){throw g.code=="auth/network-request-failed"&&(p.a=null),g})},e.ma=function(){var o=this;return DI(this).then(function(){return o.v.sb}).o(function(){throw o.a=null,new x("network-request-failed")})},e.ac=function(){return!0};function hc(o,a,u,h,p,g,b,w,S,O,st,Rt){return o=new Am(o,a,u,h,p,Rt),o.l=g,o.g=b,o.i=w,o.b=Yi(S||null),o.f=O,o.zb(st).toString()}function fM(o){if(!o.v)throw Error("IfcHandler must be initialized!");cM(o.v,function(a){var u={};if(a&&a.authEvent){var h=!1;for(a=Jw(a.authEvent),u=0;u<o.h.length;u++)h=o.h[u](a)||h;return u={},u.status=h?"ACK":"ERROR",tt(u)}return u.status="ERROR",tt(u)})}function pM(o){var a={type:"webStorageSupport"};return DI(o).then(function(){return aM(o.v,a)}).then(function(u){if(u&&u.length&&typeof u[0].webStorageSupport<"u")return u[0].webStorageSupport;throw Error()})}e.Ea=function(o){this.h.push(o)},e.Ta=function(o){$n(this.h,function(a){return a==o})};function kI(o){if(this.a=o||it.INTERNAL.reactNative&&it.INTERNAL.reactNative.AsyncStorage,!this.a)throw new x("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}e=kI.prototype,e.get=function(o){return tt(this.a.getItem(o)).then(function(a){return a&&is(a)})},e.set=function(o,a){return tt(this.a.setItem(o,Xa(a)))},e.U=function(o){return tt(this.a.removeItem(o))},e.ca=function(){},e.ia=function(){};function OI(o){this.b=o,this.a={},this.f=F(this.c,this)}var PI=[];function mM(){var o=Yn()?self:null;if(qt(PI,function(u){u.b==o&&(a=u)}),!a){var a=new OI(o);PI.push(a)}return a}OI.prototype.c=function(o){var a=o.data.eventType,u=o.data.eventId,h=this.a[a];if(h&&0<h.length){o.ports[0].postMessage({status:"ack",eventId:u,eventType:a,response:null});var p=[];qt(h,function(g){p.push(tt().then(function(){return g(o.origin,o.data.data)}))}),N_(p).then(function(g){var b=[];qt(g,function(w){b.push({fulfilled:w.Qb,value:w.value,reason:w.reason?w.reason.message:void 0})}),qt(b,function(w){for(var S in w)typeof w[S]>"u"&&delete w[S]}),o.ports[0].postMessage({status:"done",eventId:u,eventType:a,response:b})})}};function MI(o,a,u){Vr(o.a)&&o.b.addEventListener("message",o.f),typeof o.a[a]>"u"&&(o.a[a]=[]),o.a[a].push(u)}function NI(o){this.a=o}NI.prototype.postMessage=function(o,a){this.a.postMessage(o,a)};function LI(o){this.c=o,this.b=!1,this.a=[]}function FI(o,a,u,h){var p,g=u||{},b,w,S,O=null;if(o.b)return jt(Error("connection_unavailable"));var st=h?800:50,Rt=typeof MessageChannel<"u"?new MessageChannel:null;return new bt(function(It,ge){Rt?(p=Math.floor(Math.random()*Math.pow(10,20)).toString(),Rt.port1.start(),w=setTimeout(function(){ge(Error("unsupported_event"))},st),b=function(Oi){Oi.data.eventId===p&&(Oi.data.status==="ack"?(clearTimeout(w),S=setTimeout(function(){ge(Error("timeout"))},3e3)):Oi.data.status==="done"?(clearTimeout(S),typeof Oi.data.response<"u"?It(Oi.data.response):ge(Error("unknown_error"))):(clearTimeout(w),clearTimeout(S),ge(Error("invalid_response"))))},O={messageChannel:Rt,onMessage:b},o.a.push(O),Rt.port1.addEventListener("message",b),o.c.postMessage({eventType:a,eventId:p,data:g},[Rt.port2])):ge(Error("connection_unavailable"))}).then(function(It){return Rm(o,O),It}).o(function(It){throw Rm(o,O),It})}function Rm(o,a){if(a){var u=a.messageChannel,h=a.onMessage;u&&(u.port1.removeEventListener("message",h),u.port1.close()),$n(o.a,function(p){return p==a})}}LI.prototype.close=function(){for(;0<this.a.length;)Rm(this,this.a[0]);this.b=!0};function jI(){if(!Pm())throw new x("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=d.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var o=this;Yn()&&self?(this.v=mM(),MI(this.v,"keyChanged",function(a,u){return BI(o).then(function(h){return 0<h.length&&qt(o.a,function(p){p(h)}),{keyProcessed:Si(h,u.key)}})}),MI(this.v,"ping",function(){return tt(["keyChanged"])})):DO().then(function(a){(o.h=a)&&(o.g=new LI(new NI(a)),FI(o.g,"ping",null,!0).then(function(u){u[0].fulfilled&&Si(u[0].value,"keyChanged")&&(o.s=!0)}).o(function(){}))})}var km;function gM(o){return new bt(function(a,u){var h=o.m.deleteDatabase("firebaseLocalStorageDb");h.onsuccess=function(){a()},h.onerror=function(p){u(Error(p.target.error))}})}function UI(o){return new bt(function(a,u){var h=o.m.open("firebaseLocalStorageDb",1);h.onerror=function(p){try{p.preventDefault()}catch{}u(Error(p.target.error))},h.onupgradeneeded=function(p){p=p.target.result;try{p.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(g){u(g)}},h.onsuccess=function(p){p=p.target.result,p.objectStoreNames.contains("firebaseLocalStorage")?a(p):gM(o).then(function(){return UI(o)}).then(function(g){a(g)}).o(function(g){u(g)})}})}function Om(o){return o.i||(o.i=UI(o)),o.i}function Zl(o,a){function u(p,g){Om(o).then(a).then(p).o(function(b){if(3<++h)g(b);else return Om(o).then(function(w){return w.close(),o.i=void 0,u(p,g)}).o(function(w){g(w)})})}var h=0;return new bt(u)}function Pm(){try{return!!d.indexedDB}catch{return!1}}function fc(o){return o.objectStore("firebaseLocalStorage")}function pc(o,a){return o.transaction(["firebaseLocalStorage"],a?"readwrite":"readonly")}function as(o){return new bt(function(a,u){o.onsuccess=function(h){h&&h.target?a(h.target.result):a()},o.onerror=function(h){u(h.target.error)}})}e=jI.prototype,e.set=function(o,a){var u=this,h=!1;return Zl(this,function(p){return p=fc(pc(p,!0)),as(p.get(o))}).then(function(p){return Zl(u,function(g){if(g=fc(pc(g,!0)),p)return p.value=a,as(g.put(p));u.b++,h=!0;var b={};return b.fbase_key=o,b.value=a,as(g.add(b))})}).then(function(){return u.c[o]=a,VI(u,o)}).oa(function(){h&&u.b--})};function VI(o,a){return o.g&&o.h&&AO()===o.h?FI(o.g,"keyChanged",{key:a},o.s).then(function(){}).o(function(){}):tt()}e.get=function(o){return Zl(this,function(a){return as(fc(pc(a,!1)).get(o))}).then(function(a){return a&&a.value})},e.U=function(o){var a=this,u=!1;return Zl(this,function(h){return u=!0,a.b++,as(fc(pc(h,!0)).delete(o))}).then(function(){return delete a.c[o],VI(a,o)}).oa(function(){u&&a.b--})};function BI(o){return Om(o).then(function(a){var u=fc(pc(a,!1));return u.getAll?as(u.getAll()):new bt(function(h,p){var g=[],b=u.openCursor();b.onsuccess=function(w){(w=w.target.result)?(g.push(w.value),w.continue()):h(g)},b.onerror=function(w){p(w.target.error)}})}).then(function(a){var u={},h=[];if(o.b==0){for(h=0;h<a.length;h++)u[a[h].fbase_key]=a[h].value;h=dw(o.c,u),o.c=u}return h})}e.ca=function(o){this.a.length==0&&vM(this),this.a.push(o)},e.ia=function(o){$n(this.a,function(a){return a==o}),this.a.length==0&&zI(this)};function vM(o){function a(){o.f=setTimeout(function(){o.l=BI(o).then(function(u){0<u.length&&qt(o.a,function(h){h(u)})}).then(function(){a()}).o(function(u){u.message!="STOP_EVENT"&&a()})},800)}zI(o),a()}function zI(o){o.l&&o.l.cancel("STOP_EVENT"),o.f&&(clearTimeout(o.f),o.f=null)}function qI(o){var a=this,u=null;this.a=[],this.type="indexedDB",this.c=o,this.b=tt().then(function(){if(Pm()){var h=Kr(),p="__sak"+h;return km||(km=new jI),u=km,u.set(p,h).then(function(){return u.get(p)}).then(function(g){if(g!==h)throw Error("indexedDB not supported!");return u.U(p)}).then(function(){return u}).o(function(){return a.c})}return a.c}).then(function(h){return a.type=h.type,h.ca(function(p){qt(a.a,function(g){g(p)})}),h})}e=qI.prototype,e.get=function(o){return this.b.then(function(a){return a.get(o)})},e.set=function(o,a){return this.b.then(function(u){return u.set(o,a)})},e.U=function(o){return this.b.then(function(a){return a.U(o)})},e.ca=function(o){this.a.push(o)},e.ia=function(o){$n(this.a,function(a){return a==o})};function mc(){this.a={},this.type="inMemory"}e=mc.prototype,e.get=function(o){return tt(this.a[o])},e.set=function(o,a){return this.a[o]=a,tt()},e.U=function(o){return delete this.a[o],tt()},e.ca=function(){},e.ia=function(){};function Jl(){if(!bM())throw di()=="Node"?new x("internal-error","The LocalStorage compatibility library was not found."):new x("web-storage-unsupported");this.a=HI()||it.INTERNAL.node.localStorage,this.type="localStorage"}function HI(){try{var o=d.localStorage,a=Kr();return o&&(o.setItem(a,"1"),o.removeItem(a)),o}catch{return null}}function bM(){var o=di()=="Node";if(o=HI()||o&&it.INTERNAL.node&&it.INTERNAL.node.localStorage,!o)return!1;try{return o.setItem("__sak","1"),o.removeItem("__sak"),!0}catch{return!1}}e=Jl.prototype,e.get=function(o){var a=this;return tt().then(function(){var u=a.a.getItem(o);return is(u)})},e.set=function(o,a){var u=this;return tt().then(function(){var h=Xa(a);h===null?u.U(o):u.a.setItem(o,h)})},e.U=function(o){var a=this;return tt().then(function(){a.a.removeItem(o)})},e.ca=function(o){d.window&&Pn(d.window,"storage",o)},e.ia=function(o){d.window&&mn(d.window,"storage",o)};function Mm(){this.type="nullStorage"}e=Mm.prototype,e.get=function(){return tt(null)},e.set=function(){return tt()},e.U=function(){return tt()},e.ca=function(){},e.ia=function(){};function Nm(){if(!yM())throw di()=="Node"?new x("internal-error","The SessionStorage compatibility library was not found."):new x("web-storage-unsupported");this.a=WI()||it.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function WI(){try{var o=d.sessionStorage,a=Kr();return o&&(o.setItem(a,"1"),o.removeItem(a)),o}catch{return null}}function yM(){var o=di()=="Node";if(o=WI()||o&&it.INTERNAL.node&&it.INTERNAL.node.sessionStorage,!o)return!1;try{return o.setItem("__sak","1"),o.removeItem("__sak"),!0}catch{return!1}}e=Nm.prototype,e.get=function(o){var a=this;return tt().then(function(){var u=a.a.getItem(o);return is(u)})},e.set=function(o,a){var u=this;return tt().then(function(){var h=Xa(a);h===null?u.U(o):u.a.setItem(o,h)})},e.U=function(o){var a=this;return tt().then(function(){a.a.removeItem(o)})},e.ca=function(){},e.ia=function(){};function _M(){var o={};o.Browser=wM,o.Node=IM,o.ReactNative=EM,o.Worker=xM,this.a=o[di()]}var Lm,wM={F:Jl,cb:Nm},IM={F:Jl,cb:Nm},EM={F:kI,cb:Mm},xM={F:Jl,cb:Mm},cs={rd:"local",NONE:"none",td:"session"};function CM(o){var a=new x("invalid-persistence-type"),u=new x("unsupported-persistence-type");t:{for(h in cs)if(cs[h]==o){var h=!0;break t}h=!1}if(!h||typeof o!="string")throw a;switch(di()){case"ReactNative":if(o==="session")throw u;break;case"Node":if(o!=="none")throw u;break;case"Worker":if(o==="session"||!Pm()&&o!=="none")throw u;break;default:if(!Lp()&&o!=="none")throw u}}function GI(){var o=!!(!bw(Ie())&&Mp()),a=Ya(),u=Lp();this.m=o,this.h=a,this.l=u,this.a={},Lm||(Lm=new _M),o=Lm;try{this.g=!Op()&&_w()||!d.indexedDB?new o.a.F:new qI(Yn()?new mc:new o.a.F)}catch{this.g=new mc,this.h=!0}try{this.i=new o.a.cb}catch{this.i=new mc}this.v=new mc,this.f=F(this.Zb,this),this.b={}}var Fm;function gc(){return Fm||(Fm=new GI),Fm}function no(o,a){switch(a){case"session":return o.i;case"none":return o.v;default:return o.g}}function us(o,a){return"firebase:"+o.name+(a?":"+a:"")}function TM(o,a,u){var h=us(a,u),p=no(o,a.F);return o.get(a,u).then(function(g){var b=null;try{b=is(d.localStorage.getItem(h))}catch{}if(b&&!g)return d.localStorage.removeItem(h),o.set(a,b,u);b&&g&&p.type!="localStorage"&&d.localStorage.removeItem(h)})}e=GI.prototype,e.get=function(o,a){return no(this,o.F).get(us(o,a))};function ls(o,a,u){return u=us(a,u),a.F=="local"&&(o.b[u]=null),no(o,a.F).U(u)}e.set=function(o,a,u){var h=us(o,u),p=this,g=no(this,o.F);return g.set(h,a).then(function(){return g.get(h)}).then(function(b){o.F=="local"&&(p.b[h]=b)})},e.addListener=function(o,a,u){o=us(o,a),this.l&&(this.b[o]=d.localStorage.getItem(o)),Vr(this.a)&&(no(this,"local").ca(this.f),this.h||(Op()||!_w())&&d.indexedDB||!this.l||SM(this)),this.a[o]||(this.a[o]=[]),this.a[o].push(u)},e.removeListener=function(o,a,u){o=us(o,a),this.a[o]&&($n(this.a[o],function(h){return h==u}),this.a[o].length==0&&delete this.a[o]),Vr(this.a)&&(no(this,"local").ia(this.f),jm(this))};function SM(o){jm(o),o.c=setInterval(function(){for(var a in o.a){var u=d.localStorage.getItem(a),h=o.b[a];u!=h&&(o.b[a]=u,u=new qr({type:"storage",key:a,target:window,oldValue:h,newValue:u,a:!0}),o.Zb(u))}},1e3)}function jm(o){o.c&&(clearInterval(o.c),o.c=null)}e.Zb=function(o){if(o&&o.g){var a=o.a.key;if(a==null)for(var u in this.a){var h=this.b[u];typeof h>"u"&&(h=null);var p=d.localStorage.getItem(u);p!==h&&(this.b[u]=p,this.nb(u))}else if(a.indexOf("firebase:")==0&&this.a[a]){if(typeof o.a.a<"u"?no(this,"local").ia(this.f):jm(this),this.m){if(u=d.localStorage.getItem(a),h=o.a.newValue,h!==u)h!==null?d.localStorage.setItem(a,h):d.localStorage.removeItem(a);else if(this.b[a]===h&&typeof o.a.a>"u")return}var g=this;u=function(){(typeof o.a.a<"u"||g.b[a]!==d.localStorage.getItem(a))&&(g.b[a]=d.localStorage.getItem(a),g.nb(a))},Kn&&Xi&&Xi==10&&d.localStorage.getItem(a)!==o.a.newValue&&o.a.newValue!==o.a.oldValue?setTimeout(u,10):u()}}else qt(o,F(this.nb,this))},e.nb=function(o){this.a[o]&&qt(this.a[o],function(a){a()})};function AM(o){this.a=o,this.b=gc()}var Um={name:"authEvent",F:"local"};function DM(o){return o.b.get(Um,o.a).then(function(a){return Jw(a)})}function RM(){this.a=gc()}function kM(){this.b=-1}function td(o,a){this.b=$I,this.f=d.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=o,this.h=a,this.l=d.Int32Array?new Int32Array(64):Array(64),ed===void 0&&(d.Int32Array?ed=new Int32Array(XI):ed=XI),this.reset()}var ed;K(td,kM);for(var $I=64,OM=$I-1,KI=[],Vm=0;Vm<OM;Vm++)KI[Vm]=0;var YI=rp(128,KI);td.prototype.reset=function(){this.g=this.c=0,this.a=d.Int32Array?new Int32Array(this.h):Ur(this.h)};function Bm(o){for(var a=o.f,u=o.l,h=0,p=0;p<a.length;)u[h++]=a[p]<<24|a[p+1]<<16|a[p+2]<<8|a[p+3],p=4*h;for(a=16;64>a;a++){p=u[a-15]|0,h=u[a-2]|0;var g=(u[a-16]|0)+((p>>>7|p<<25)^(p>>>18|p<<14)^p>>>3)|0,b=(u[a-7]|0)+((h>>>17|h<<15)^(h>>>19|h<<13)^h>>>10)|0;u[a]=g+b|0}h=o.a[0]|0,p=o.a[1]|0;var w=o.a[2]|0,S=o.a[3]|0,O=o.a[4]|0,st=o.a[5]|0,Rt=o.a[6]|0;for(g=o.a[7]|0,a=0;64>a;a++){var It=((h>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10))+(h&p^h&w^p&w)|0;b=O&st^~O&Rt,g=g+((O>>>6|O<<26)^(O>>>11|O<<21)^(O>>>25|O<<7))|0,b=b+(ed[a]|0)|0,b=g+(b+(u[a]|0)|0)|0,g=Rt,Rt=st,st=O,O=S+b|0,S=w,w=p,p=h,h=b+It|0}o.a[0]=o.a[0]+h|0,o.a[1]=o.a[1]+p|0,o.a[2]=o.a[2]+w|0,o.a[3]=o.a[3]+S|0,o.a[4]=o.a[4]+O|0,o.a[5]=o.a[5]+st|0,o.a[6]=o.a[6]+Rt|0,o.a[7]=o.a[7]+g|0}function zm(o,a,u){u===void 0&&(u=a.length);var h=0,p=o.c;if(typeof a=="string")for(;h<u;)o.f[p++]=a.charCodeAt(h++),p==o.b&&(Bm(o),p=0);else if(I(a))for(;h<u;){var g=a[h++];if(!(typeof g=="number"&&0<=g&&255>=g&&g==(g|0)))throw Error("message must be a byte array");o.f[p++]=g,p==o.b&&(Bm(o),p=0)}else throw Error("message must be string or array");o.c=p,o.g+=u}var XI=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function QI(){td.call(this,8,PM)}K(QI,td);var PM=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function ZI(o,a,u,h,p,g){this.v=o,this.i=a,this.l=u,this.m=h||null,this.u=p||null,this.s=g,this.h=a+":"+u,this.C=new RM,this.g=new AM(this.h),this.f=null,this.b=[],this.a=this.c=null}function nd(o){return new x("invalid-cordova-configuration",o)}e=ZI.prototype,e.ma=function(){return this.Ia?this.Ia:this.Ia=CO().then(function(){if(typeof Ut("universalLinks.subscribe",d)!="function")throw nd("cordova-universal-links-plugin-fix is not installed");if(typeof Ut("BuildInfo.packageName",d)>"u")throw nd("cordova-plugin-buildinfo is not installed");if(typeof Ut("cordova.plugins.browsertab.openUrl",d)!="function")throw nd("cordova-plugin-browsertab is not installed");if(typeof Ut("cordova.InAppBrowser.open",d)!="function")throw nd("cordova-plugin-inappbrowser is not installed")},function(){throw new x("cordova-not-ready")})};function MM(){for(var o=20,a=[];0<o;)a.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),o--;return a.join("")}function NM(o){var a=new QI;zm(a,o),o=[];var u=8*a.g;56>a.c?zm(a,YI,56-a.c):zm(a,YI,a.b-(a.c-56));for(var h=63;56<=h;h--)a.f[h]=u&255,u/=256;for(Bm(a),h=u=0;h<a.i;h++)for(var p=24;0<=p;p-=8)o[u++]=a.a[h]>>p&255;return WO(o)}e.Pb=function(o,a){return a(new x("operation-not-supported-in-this-environment")),tt()},e.Nb=function(){return jt(new x("operation-not-supported-in-this-environment"))},e.ac=function(){return!1},e.Yb=function(){return!0},e.Ub=function(){return!0},e.Ob=function(o,a,u,h){if(this.c)return jt(new x("redirect-operation-pending"));var p=this,g=d.document,b=null,w=null,S=null,O=null;return this.c=tt().then(function(){return rm(a),tE(p)}).then(function(){return LM(p,o,a,u,h)}).then(function(){return new bt(function(st,Rt){w=function(){var It=Ut("cordova.plugins.browsertab.close",d);return st(),typeof It=="function"&&It(),p.a&&typeof p.a.close=="function"&&(p.a.close(),p.a=null),!1},p.Ea(w),S=function(){b||(b=Qo(2e3).then(function(){Rt(new x("redirect-cancelled-by-user"))}))},O=function(){Fp()&&S()},g.addEventListener("resume",S,!1),Ie().toLowerCase().match(/android/)||g.addEventListener("visibilitychange",O,!1)}).o(function(st){return qm(p).then(function(){throw st})})}).oa(function(){S&&g.removeEventListener("resume",S,!1),O&&g.removeEventListener("visibilitychange",O,!1),b&&b.cancel(),w&&p.Ta(w),p.c=null})};function LM(o,a,u,h,p){var g=MM(),b=new Xn(a,h,null,g,new x("no-auth-event"),null,p),w=Ut("BuildInfo.packageName",d);if(typeof w!="string")throw new x("invalid-cordova-configuration");var S=Ut("BuildInfo.displayName",d),O={};if(Ie().toLowerCase().match(/iphone|ipad|ipod/))O.ibi=w;else if(Ie().toLowerCase().match(/android/))O.apn=w;else return jt(new x("operation-not-supported-in-this-environment"));S&&(O.appDisplayName=S),g=NM(g),O.sessionId=g;var st=hc(o.v,o.i,o.l,a,u,null,h,o.m,O,o.u,p,o.s);return o.ma().then(function(){var Rt=o.h;return o.C.a.set(Um,b.w(),Rt)}).then(function(){var Rt=Ut("cordova.plugins.browsertab.isAvailable",d);if(typeof Rt!="function")throw new x("invalid-cordova-configuration");var It=null;Rt(function(ge){if(ge){if(It=Ut("cordova.plugins.browsertab.openUrl",d),typeof It!="function")throw new x("invalid-cordova-configuration");It(st)}else{if(It=Ut("cordova.InAppBrowser.open",d),typeof It!="function")throw new x("invalid-cordova-configuration");ge=Ie(),o.a=It(st,ge.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||ge.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function JI(o,a){for(var u=0;u<o.b.length;u++)try{o.b[u](a)}catch{}}function tE(o){return o.f||(o.f=o.ma().then(function(){return new bt(function(a){function u(h){return a(h),o.Ta(u),!1}o.Ea(u),FM(o)})})),o.f}function qm(o){var a=null;return DM(o.g).then(function(u){return a=u,u=o.g,ls(u.b,Um,u.a)}).then(function(){return a})}function FM(o){function a(b){h=!0,p&&p.cancel(),qm(o).then(function(w){var S=u;if(w&&b&&b.url){var O=null;S=Ww(b.url),S.indexOf("/__/auth/callback")!=-1&&(O=Je(S),O=is(Mn(O,"firebaseError")||null),O=(O=typeof O=="object"?J0(O):null)?new Xn(w.c,w.b,null,null,O,null,w.T()):new Xn(w.c,w.b,S,w.f,null,null,w.T())),S=O||u}JI(o,S)})}var u=new Xn("unknown",null,null,null,new x("no-auth-event")),h=!1,p=Qo(500).then(function(){return qm(o).then(function(){h||JI(o,u)})}),g=d.handleOpenURL;d.handleOpenURL=function(b){if(b.toLowerCase().indexOf(Ut("BuildInfo.packageName",d).toLowerCase()+"://")==0&&a({url:b}),typeof g=="function")try{g(b)}catch(w){console.error(w)}},om||(om=new JO),tP(a)}e.Ea=function(o){this.b.push(o),tE(this).o(function(a){a.code==="auth/invalid-cordova-configuration"&&(a=new Xn("unknown",null,null,null,new x("no-auth-event")),o(a))})},e.Ta=function(o){$n(this.b,function(a){return a==o})};function jM(o){this.a=o,this.b=gc()}var Hm={name:"pendingRedirect",F:"session"};function UM(o){return o.b.set(Hm,"pending",o.a)}function Wm(o){return ls(o.b,Hm,o.a)}function VM(o){return o.b.get(Hm,o.a).then(function(a){return a=="pending"})}function id(o,a,u,h){this.i={},this.u=0,this.D=o,this.v=a,this.m=u,this.J=h,this.h=[],this.f=!1,this.l=F(this.s,this),this.b=new od,this.C=new lE,this.g=new jM(aE(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=eE(this.D,this.v,this.m,Ua,this.J)}function eE(o,a,u,h,p){var g=it.SDK_VERSION||null;return Pp()?new ZI(o,a,u,g,h,p):new SI(o,a,u,g,h,p)}id.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=eE(this.D,this.v,this.m,null,this.J),this.i={}};function nE(o){o.f||(o.f=!0,o.a.Ea(o.l));var a=o.a;return o.a.ma().o(function(u){throw o.a==a&&o.reset(),u})}function iE(o){o.a.Yb()&&nE(o).o(function(a){var u=new Xn("unknown",null,null,null,new x("operation-not-supported-in-this-environment"));$m(a)&&o.s(u)}),o.a.Ub()||cE(o.b)}function rd(o,a){Si(o.h,a)||o.h.push(a),o.f||VM(o.g).then(function(u){u?Wm(o.g).then(function(){nE(o).o(function(h){var p=new Xn("unknown",null,null,null,new x("operation-not-supported-in-this-environment"));$m(h)&&o.s(p)})}):iE(o)}).o(function(){iE(o)})}function Gm(o,a){$n(o.h,function(u){return u==a})}id.prototype.s=function(o){if(!o)throw new x("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),o&&o.getUid()&&this.i.hasOwnProperty(o.getUid()))return!1;for(var a=!1,u=0;u<this.h.length;u++){var h=this.h[u];if(h.Gb(o.c,o.b)){(a=this.c[o.c])&&(a.h(o,h),o&&(o.f||o.b)&&(this.i[o.getUid()]=!0,this.u=Date.now())),a=!0;break}}return cE(this.b),a};var BM=new Ji(2e3,1e4),zM=new Ji(3e4,6e4);id.prototype.ra=function(){return this.b.ra()};function rE(o,a,u,h,p,g,b){return o.a.Nb(a,u,h,function(){o.f||(o.f=!0,o.a.Ea(o.l))},function(){o.reset()},p,g,b)}function $m(o){return!!(o&&o.code=="auth/cordova-not-ready")}function oE(o,a,u,h,p){var g;return UM(o.g).then(function(){return o.a.Ob(a,u,h,p).o(function(b){if($m(b))throw new x("operation-not-supported-in-this-environment");return g=b,Wm(o.g).then(function(){throw g})}).then(function(){return o.a.ac()?new bt(function(){}):Wm(o.g).then(function(){return o.ra()}).then(function(){}).o(function(){})})})}function sE(o,a,u,h,p){return o.a.Pb(h,function(g){a.na(u,null,g,p)},BM.get())}var Km={};function aE(o,a,u){return o=o+":"+a,u&&(o=o+":"+u.url),o}function Ym(o,a,u,h){var p=aE(a,u,h);return Km[p]||(Km[p]=new id(o,a,u,h)),Km[p]}function od(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}od.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},od.prototype.h=function(o,a){if(o){this.reset(),this.g=!0;var u=o.c,h=o.b,p=o.a&&o.a.code=="auth/web-storage-unsupported",g=o.a&&o.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!p&&!g),u!="unknown"||p||g?o.a?(io(this,!0,null,o.a),tt()):a.Fa(u,h)?qM(this,o,a):jt(new x("invalid-auth-event")):(io(this,!1,null,null),tt())}else jt(new x("invalid-auth-event"))};function cE(o){o.g||(o.g=!0,io(o,!1,null,null))}function sd(o){o.g&&!o.i&&io(o,!1,null,null)}function qM(o,a,u){u=u.Fa(a.c,a.b);var h=a.g,p=a.f,g=a.i,b=a.T(),w=!!a.c.match(/Redirect$/);u(h,p,b,g).then(function(S){io(o,w,S,null)}).o(function(S){io(o,w,null,S)})}function HM(o,a){if(o.b=function(){return jt(a)},o.c.length)for(var u=0;u<o.c.length;u++)o.c[u](a)}function uE(o,a){if(o.b=function(){return tt(a)},o.f.length)for(var u=0;u<o.f.length;u++)o.f[u](a)}function io(o,a,u,h){a?h?HM(o,h):uE(o,u):uE(o,{user:null}),o.f=[],o.c=[]}od.prototype.ra=function(){var o=this;return new bt(function(a,u){o.b?o.b().then(a,u):(o.f.push(a),o.c.push(u),WM(o))})};function WM(o){var a=new x("timeout");o.a&&o.a.cancel(),o.a=Qo(zM.get()).then(function(){o.b||(o.g=!0,io(o,!0,null,a))})}function lE(){}lE.prototype.h=function(o,a){if(o){var u=o.c,h=o.b;o.a?(a.na(o.c,null,o.a,o.b),tt()):a.Fa(u,h)?GM(o,a):jt(new x("invalid-auth-event"))}else jt(new x("invalid-auth-event"))};function GM(o,a){var u=o.b,h=o.c;a.Fa(h,u)(o.g,o.f,o.T(),o.i).then(function(p){a.na(h,p,null,u)}).o(function(p){a.na(h,null,p,u)})}function dE(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(o){this.jb=o},enumerable:!1})}function Xm(o,a){this.a=a,$(this,"verificationId",o)}Xm.prototype.confirm=function(o){return o=Zw(this.verificationId,o),this.a(o)};function Qm(o,a,u,h){return new Ri(o).gb(a,u).then(function(p){return new Xm(p,h)})}function $M(o){var a=Fw(o);if(!(a&&a.exp&&a.auth_time&&a.iat))throw new x("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Be(this,{token:o,expirationTime:Qa(1e3*a.exp),authTime:Qa(1e3*a.auth_time),issuedAtTime:Qa(1e3*a.iat),signInProvider:a.firebase&&a.firebase.sign_in_provider?a.firebase.sign_in_provider:null,signInSecondFactor:a.firebase&&a.firebase.sign_in_second_factor?a.firebase.sign_in_second_factor:null,claims:a})}function Zm(o,a,u){var h=a&&a[fE];if(!h)throw new x("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=o,this.f=Yi(a),this.g=u,this.c=new Nl(null,h),this.b=[];var p=this;qt(a[hE]||[],function(g){(g=qp(g))&&p.b.push(g)}),$(this,"auth",this.a),$(this,"session",this.c),$(this,"hints",this.b)}var hE="mfaInfo",fE="mfaPendingCredential";Zm.prototype.Rc=function(o){var a=this;return o.tb(this.a.a,this.c).then(function(u){var h=Yi(a.f);return delete h[hE],delete h[fE],Xe(h,u),a.g(h)})};function Jm(o,a,u,h){x.call(this,"multi-factor-auth-required",h,a),this.b=new Zm(o,a,u),$(this,"resolver",this.b)}K(Jm,x);function pE(o,a,u){if(o&&C(o.serverResponse)&&o.code==="auth/multi-factor-auth-required")try{return new Jm(a,o.serverResponse,u,o.message)}catch{}return null}function mE(){}mE.prototype.tb=function(o,a,u){return a.type==ec?KM(this,o,a,u):YM(this,o,a)};function KM(o,a,u,h){return u.Ha().then(function(p){return p={idToken:p},typeof h<"u"&&(p.displayName=h),Xe(p,{phoneVerificationInfo:nc(o.a)}),yt(a,FP,p)})}function YM(o,a,u){return u.Ha().then(function(h){return h={mfaPendingCredential:h},Xe(h,{phoneVerificationInfo:nc(o.a)}),yt(a,jP,h)})}function tg(o){$(this,"factorId",o.fa),this.a=o}K(tg,mE);function gE(o){if(tg.call(this,o),this.a.fa!=Ri.PROVIDER_ID)throw new x("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}K(gE,tg);function ds(o,a){Ze.call(this,o);for(var u in a)this[u]=a[u]}K(ds,Ze);function eg(o,a){this.a=o,this.b=[],this.c=F(this.yc,this),Pn(this.a,"userReloaded",this.c);var u=[];a&&a.multiFactor&&a.multiFactor.enrolledFactors&&qt(a.multiFactor.enrolledFactors,function(h){var p=null,g={};if(h){h.uid&&(g[Wp]=h.uid),h.displayName&&(g[Iw]=h.displayName),h.enrollmentTime&&(g[Hp]=new Date(h.enrollmentTime).toISOString()),h.phoneNumber&&(g[Gp]=h.phoneNumber);try{p=new Za(g)}catch{}h=p}else h=null;h&&u.push(h)}),ad(this,u)}function XM(o){var a=[];return qt(o.mfaInfo||[],function(u){(u=qp(u))&&a.push(u)}),a}e=eg.prototype,e.yc=function(o){ad(this,XM(o.hd))};function ad(o,a){o.b=a,$(o,"enrolledFactors",a)}e.Sb=function(){return this.a.I().then(function(o){return new Nl(o,null)})},e.fc=function(o,a){var u=this,h=this.a.a;return this.Sb().then(function(p){return o.tb(h,p,a)}).then(function(p){return pi(u.a,p),u.a.reload()})},e.bd=function(o){var a=this,u=typeof o=="string"?o:o.uid,h=this.a.a;return this.a.I().then(function(p){return yt(h,rM,{idToken:p,mfaEnrollmentId:u})}).then(function(p){var g=Sk(a.b,function(b){return b.uid!=u});return ad(a,g),pi(a.a,p),a.a.reload().o(function(b){if(b.code!="auth/user-token-expired")throw b})})},e.w=function(){return{multiFactor:{enrolledFactors:hl(this.b,function(o){return o.w()})}}};function ng(o,a,u){if(this.h=o,this.i=a,this.g=u,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}ng.prototype.start=function(){this.a=this.c,ig(this,!0)};function QM(o,a){return a?(o.a=o.c,o.g()):(a=o.a,o.a*=2,o.a>o.f&&(o.a=o.f),a)}function ig(o,a){o.stop(),o.b=Qo(QM(o,a)).then(function(){return SO()}).then(function(){return o.h()}).then(function(){ig(o,!0)}).o(function(u){o.i(u)&&ig(o,!1)})}ng.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function rg(o){this.f=o,this.b=this.a=null,this.c=Date.now()}rg.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function vE(o,a){typeof a>"u"&&(o.b?(a=o.b,a=a.a-a.g):a=0),o.c=Date.now()+1e3*a}function bE(o,a){o.b=Pl(a[Zn]||""),o.a=a.refreshToken,a=a.expiresIn,vE(o,typeof a<"u"?Number(a):void 0)}function ZM(o,a){o.b=a.b,o.a=a.a,o.c=a.c}function JM(o,a){return wP(o.f,a).then(function(u){return o.b=Pl(u.access_token),o.a=u.refresh_token,vE(o,u.expires_in),{accessToken:o.b.toString(),refreshToken:o.a}}).o(function(u){throw u.code=="auth/user-token-expired"&&(o.a=null),u})}rg.prototype.getToken=function(o){return o=!!o,this.b&&!this.a?jt(new x("user-token-expired")):o||!this.b||Date.now()>this.c-3e4?this.a?JM(this,{grant_type:"refresh_token",refresh_token:this.a}):tt(null):tt({accessToken:this.b.toString(),refreshToken:this.a})};function cd(o,a){this.a=o||null,this.b=a||null,Be(this,{lastSignInTime:Qa(a||null),creationTime:Qa(o||null)})}function tN(o){return new cd(o.a,o.b)}cd.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function eN(o,a,u,h,p,g){Be(this,{uid:o,displayName:h||null,photoURL:p||null,email:u||null,phoneNumber:g||null,providerId:a})}function vn(o,a,u){this.N=[],this.l=o.apiKey,this.m=o.appName,this.s=o.authDomain||null;var h=it.SDK_VERSION?es(it.SDK_VERSION):null;this.a=new Qn(this.l,ja(Ua),h),(this.u=o.emulatorConfig||null)&&Xl(this.a,this.u),this.h=new rg(this.a),dg(this,a[Zn]),bE(this.h,a),$(this,"refreshToken",this.h.a),_E(this,u||{}),Ve.call(this),this.P=!1,this.s&&$r()&&(this.b=Ym(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=nN(this),this.ba=F(this.ib,this);var p=this;this.za=null,this.Pa=function(g){p.xa(g.h)},this.qa=null,this.Ba=function(g){og(p,g.c)},this.$=null,this.aa=[],this.Oa=function(g){vc(p,g.f)},this.ja=null,this.S=new eg(this,u),$(this,"multiFactor",this.S)}K(vn,Ve),vn.prototype.xa=function(o){this.za=o,pI(this.a,o)};function og(o,a){o.u=a,Xl(o.a,a),o.b&&(a=o.b,o.b=Ym(o.s,o.l,o.m,o.u),o.P&&(Gm(a,o),rd(o.b,o)))}vn.prototype.la=function(){return this.za};function sg(o,a){o.qa&&mn(o.qa,"languageCodeChanged",o.Pa),(o.qa=a)&&Pn(a,"languageCodeChanged",o.Pa)}function ag(o,a){o.$&&mn(o.$,"emulatorConfigChanged",o.Ba),(o.$=a)&&Pn(a,"emulatorConfigChanged",o.Ba)}function vc(o,a){o.aa=a,mI(o.a,it.SDK_VERSION?es(it.SDK_VERSION,o.aa):null)}vn.prototype.Ga=function(){return Ur(this.aa)};function cg(o,a){o.ja&&mn(o.ja,"frameworkChanged",o.Oa),(o.ja=a)&&Pn(a,"frameworkChanged",o.Oa)}vn.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())};function ug(o){try{return it.app(o.m).auth()}catch{throw new x("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+o.m+"'!")}}function nN(o){return new ng(function(){return o.I(!0)},function(a){return!!(a&&a.code=="auth/network-request-failed")},function(){var a=o.h.c-Date.now()-3e5;return 0<a?a:0})}function yE(o){o.J||o.D.b||(o.D.start(),mn(o,"tokenChanged",o.ba),Pn(o,"tokenChanged",o.ba))}function lg(o){mn(o,"tokenChanged",o.ba),o.D.stop()}function dg(o,a){o.Aa=a,$(o,"_lat",a)}function iN(o,a){$n(o.W,function(u){return u==a})}function ro(o){for(var a=[],u=0;u<o.W.length;u++)a.push(o.W[u](o));return N_(a).then(function(){return o})}function bc(o){o.b&&!o.P&&(o.P=!0,rd(o.b,o))}function _E(o,a){Be(o,{uid:a.uid,displayName:a.displayName||null,photoURL:a.photoURL||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,isAnonymous:a.isAnonymous||!1,tenantId:a.tenantId||null,metadata:new cd(a.createdAt,a.lastLoginAt),providerData:[]}),o.a.b=o.tenantId}$(vn.prototype,"providerId","firebase");function wE(){}function hg(o){return tt().then(function(){if(o.J)throw new x("app-deleted")})}function fg(o){return hl(o.providerData,function(a){return a.providerId})}function pg(o,a){a&&(IE(o,a.providerId),o.providerData.push(a))}function IE(o,a){$n(o.providerData,function(u){return u.providerId==a})}function nr(o,a,u){(a!="uid"||u)&&o.hasOwnProperty(a)&&$(o,a,u)}function ud(o,a){o!=a&&(Be(o,{uid:a.uid,displayName:a.displayName,photoURL:a.photoURL,email:a.email,emailVerified:a.emailVerified,phoneNumber:a.phoneNumber,isAnonymous:a.isAnonymous,tenantId:a.tenantId,providerData:[]}),a.metadata?$(o,"metadata",tN(a.metadata)):$(o,"metadata",new cd),qt(a.providerData,function(u){pg(o,u)}),ZM(o.h,a.h),$(o,"refreshToken",o.h.a),ad(o.S,a.S.b))}e=vn.prototype,e.reload=function(){var o=this;return he(this,hg(this).then(function(){return mg(o).then(function(){return ro(o)}).then(wE)}))};function mg(o){return o.I().then(function(a){var u=o.isAnonymous;return rN(o,a).then(function(){return u||nr(o,"isAnonymous",!1),a})})}e.oc=function(o){return this.I(o).then(function(a){return new $M(a)})},e.I=function(o){var a=this;return he(this,hg(this).then(function(){return a.h.getToken(o)}).then(function(u){if(!u)throw new x("internal-error");return u.accessToken!=a.Aa&&(dg(a,u.accessToken),a.dispatchEvent(new ds("tokenChanged"))),nr(a,"refreshToken",u.refreshToken),u.accessToken}))};function pi(o,a){a[Zn]&&o.Aa!=a[Zn]&&(bE(o.h,a),o.dispatchEvent(new ds("tokenChanged")),dg(o,a[Zn]),nr(o,"refreshToken",o.h.a))}function rN(o,a){return yt(o.a,UP,{idToken:a}).then(F(o.Kc,o))}e.Kc=function(o){if(o=o.users,!o||!o.length)throw new x("internal-error");o=o[0],_E(this,{uid:o.localId,displayName:o.displayName,photoURL:o.photoUrl,email:o.email,emailVerified:!!o.emailVerified,phoneNumber:o.phoneNumber,lastLoginAt:o.lastLoginAt,createdAt:o.createdAt,tenantId:o.tenantId});for(var a=oN(o),u=0;u<a.length;u++)pg(this,a[u]);nr(this,"isAnonymous",!(this.email&&o.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new ds("userReloaded",{hd:o}))};function oN(o){return(o=o.providerUserInfo)&&o.length?hl(o,function(a){return new eN(a.rawId,a.providerId,a.email,a.displayName,a.photoUrl,a.phoneNumber)}):[]}e.Lc=function(o){return jp("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(o)},e.ub=function(o){var a=this,u=null;return he(this,o.c(this.a,this.uid).then(function(h){return pi(a,h),u=yc(a,h,"reauthenticate"),a.i=null,a.reload()}).then(function(){return u}),!0)};function ld(o,a){return mg(o).then(function(){if(Si(fg(o),a))return ro(o).then(function(){throw new x("provider-already-linked")})})}e.Cc=function(o){return jp("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(o)},e.rb=function(o){var a=this,u=null;return he(this,ld(this,o.providerId).then(function(){return a.I()}).then(function(h){return o.b(a.a,h)}).then(function(h){return u=yc(a,h,"link"),EE(a,h)}).then(function(){return u}))},e.Dc=function(o,a){var u=this;return he(this,ld(this,"phone").then(function(){return Qm(ug(u),o,a,F(u.rb,u))}))},e.Mc=function(o,a){var u=this;return he(this,tt().then(function(){return Qm(ug(u),o,a,F(u.ub,u))}),!0)};function yc(o,a,u){var h=im(a);return a=Uw(a),hi({user:o,credential:h,additionalUserInfo:a,operationType:u})}function EE(o,a){return pi(o,a),o.reload().then(function(){return o})}e.Cb=function(o){var a=this;return he(this,this.I().then(function(u){return a.a.Cb(u,o)}).then(function(u){return pi(a,u),a.reload()}))},e.ed=function(o){var a=this;return he(this,this.I().then(function(u){return o.b(a.a,u)}).then(function(u){return pi(a,u),a.reload()}))},e.Db=function(o){var a=this;return he(this,this.I().then(function(u){return a.a.Db(u,o)}).then(function(u){return pi(a,u),a.reload()}))},e.Eb=function(o){if(o.displayName===void 0&&o.photoURL===void 0)return hg(this);var a=this;return he(this,this.I().then(function(u){return a.a.Eb(u,{displayName:o.displayName,photoUrl:o.photoURL})}).then(function(u){return pi(a,u),nr(a,"displayName",u.displayName||null),nr(a,"photoURL",u.photoUrl||null),qt(a.providerData,function(h){h.providerId==="password"&&($(h,"displayName",a.displayName),$(h,"photoURL",a.photoURL))}),ro(a)}).then(wE))},e.cd=function(o){var a=this;return he(this,mg(this).then(function(u){return Si(fg(a),o)?AP(a.a,u,[o]).then(function(h){var p={};return qt(h.providerUserInfo||[],function(g){p[g.providerId]=!0}),qt(fg(a),function(g){p[g]||IE(a,g)}),p[Ri.PROVIDER_ID]||$(a,"phoneNumber",null),ro(a)}):ro(a).then(function(){throw new x("no-such-provider")})}))},e.delete=function(){var o=this;return he(this,this.I().then(function(a){return yt(o.a,PP,{idToken:a})}).then(function(){o.dispatchEvent(new ds("userDeleted"))})).then(function(){for(var a=0;a<o.N.length;a++)o.N[a].cancel("app-deleted");sg(o,null),ag(o,null),cg(o,null),o.N=[],o.J=!0,lg(o),$(o,"refreshToken",null),o.b&&Gm(o.b,o)})},e.Gb=function(o,a){return!!(o=="linkViaPopup"&&(this.g||null)==a&&this.f||o=="reauthViaPopup"&&(this.g||null)==a&&this.f||o=="linkViaRedirect"&&(this.ga||null)==a||o=="reauthViaRedirect"&&(this.ga||null)==a)},e.na=function(o,a,u,h){o!="linkViaPopup"&&o!="reauthViaPopup"||h!=(this.g||null)||(u&&this.C?this.C(u):a&&!u&&this.f&&this.f(a),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(o,a){return o=="linkViaPopup"&&a==(this.g||null)?F(this.Lb,this):o=="reauthViaPopup"&&a==(this.g||null)?F(this.Mb,this):o=="linkViaRedirect"&&(this.ga||null)==a?F(this.Lb,this):o=="reauthViaRedirect"&&(this.ga||null)==a?F(this.Mb,this):null},e.Ec=function(o){var a=this;return xE(this,"linkViaPopup",o,function(){return ld(a,o.providerId).then(function(){return ro(a)})},!1)},e.Nc=function(o){return xE(this,"reauthViaPopup",o,function(){return tt()},!0)};function xE(o,a,u,h,p){if(!$r())return jt(new x("operation-not-supported-in-this-environment"));if(o.i&&!p)return jt(o.i);var g=Qp(u.providerId),b=Kr(o.uid+":::"),w=null;(!Ya()||Mp())&&o.s&&u.isOAuthProvider&&(w=hc(o.s,o.l,o.m,a,u,null,b,it.SDK_VERSION||null,null,null,o.tenantId,o.u));var S=fw(w,g&&g.va,g&&g.ua);return h=h().then(function(){if(TE(o),!p)return o.I().then(function(){})}).then(function(){return rE(o.b,S,a,u,b,!!w,o.tenantId)}).then(function(){return new bt(function(O,st){o.na(a,null,new x("cancelled-popup-request"),o.g||null),o.f=O,o.C=st,o.g=b,o.c=sE(o.b,o,a,S,b)})}).then(function(O){return S&&Gr(S),O?hi(O):null}).o(function(O){throw S&&Gr(S),O}),he(o,h,p)}e.Fc=function(o){var a=this;return CE(this,"linkViaRedirect",o,function(){return ld(a,o.providerId)},!1)},e.Oc=function(o){return CE(this,"reauthViaRedirect",o,function(){return tt()},!0)};function CE(o,a,u,h,p){if(!$r())return jt(new x("operation-not-supported-in-this-environment"));if(o.i&&!p)return jt(o.i);var g=null,b=Kr(o.uid+":::");return h=h().then(function(){if(TE(o),!p)return o.I().then(function(){})}).then(function(){return o.ga=b,ro(o)}).then(function(w){return o.ha&&(w=o.ha,w=w.b.set(gg,o.w(),w.a)),w}).then(function(){return oE(o.b,a,u,b,o.tenantId)}).o(function(w){if(g=w,o.ha)return AE(o.ha);throw g}).then(function(){if(g)throw g}),he(o,h,p)}function TE(o){if(!o.b||!o.P)throw o.b&&!o.P?new x("internal-error"):new x("auth-domain-config-required")}e.Lb=function(o,a,u,h){var p=this;this.c&&(this.c.cancel(),this.c=null);var g=null;return u=this.I().then(function(b){return xm(p.a,{requestUri:o,postBody:h,sessionId:a,idToken:b})}).then(function(b){return g=yc(p,b,"link"),EE(p,b)}).then(function(){return g}),he(this,u)},e.Mb=function(o,a,u,h){var p=this;this.c&&(this.c.cancel(),this.c=null);var g=null,b=tt().then(function(){return os(Cm(p.a,{requestUri:o,sessionId:a,postBody:h,tenantId:u}),p.uid)}).then(function(w){return g=yc(p,w,"reauthenticate"),pi(p,w),p.i=null,p.reload()}).then(function(){return g});return he(this,b,!0)},e.vb=function(o){var a=this,u=null;return he(this,this.I().then(function(h){return u=h,typeof o>"u"||Vr(o)?{}:kl(new Rl(o))}).then(function(h){return a.a.vb(u,h)}).then(function(h){if(a.email!=h)return a.reload()}).then(function(){}))},e.Fb=function(o,a){var u=this,h=null;return he(this,this.I().then(function(p){return h=p,typeof a>"u"||Vr(a)?{}:kl(new Rl(a))}).then(function(p){return u.a.Fb(h,o,p)}).then(function(p){if(u.email!=p)return u.reload()}).then(function(){}))};function he(o,a,u){var h=sN(o,a,u);return o.N.push(h),h.oa(function(){fl(o.N,h)}),h.o(function(p){var g=null;throw p&&p.code==="auth/multi-factor-auth-required"&&(g=pE(p.w(),ug(o),F(o.jc,o))),g||p})}e.jc=function(o){var a=null,u=this;return o=os(tt(o),u.uid).then(function(h){return a=yc(u,h,"reauthenticate"),pi(u,h),u.i=null,u.reload()}).then(function(){return a}),he(this,o,!0)};function sN(o,a,u){return o.i&&!u?(a.cancel(),jt(o.i)):a.o(function(h){throw!h||h.code!="auth/user-disabled"&&h.code!="auth/user-token-expired"||(o.i||o.dispatchEvent(new ds("userInvalidated")),o.i=h),h})}e.toJSON=function(){return this.w()},e.w=function(){var o={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&Xe(o,this.metadata.w()),qt(this.providerData,function(a){o.providerData.push(RO(a))}),Xe(o,this.S.w()),o};function SE(o){if(!o.apiKey)return null;var a={apiKey:o.apiKey,authDomain:o.authDomain,appName:o.appName,emulatorConfig:o.emulatorConfig},u={};if(o.stsTokenManager&&o.stsTokenManager.accessToken){u[Zn]=o.stsTokenManager.accessToken,u.refreshToken=o.stsTokenManager.refreshToken||null;var h=o.stsTokenManager.expirationTime;h&&(u.expiresIn=(h-Date.now())/1e3)}else return null;var p=new vn(a,u,o);return o.providerData&&qt(o.providerData,function(g){g&&pg(p,hi(g))}),o.redirectEventId&&(p.ga=o.redirectEventId),p}function aN(o,a,u,h){var p=new vn(o,a);return u&&(p.ha=u),h&&vc(p,h),p.reload().then(function(){return p})}function cN(o,a,u,h){var p=o.h,g={};return g[Zn]=p.b&&p.b.toString(),g.refreshToken=p.a,a=new vn(a||{apiKey:o.l,authDomain:o.s,appName:o.m},g),u&&(a.ha=u),h&&vc(a,h),ud(a,o),a}function uN(o){this.a=o,this.b=gc()}var gg={name:"redirectUser",F:"session"};function AE(o){return ls(o.b,gg,o.a)}function lN(o,a){return o.b.get(gg,o.a).then(function(u){return u&&a&&(u.authDomain=a),SE(u||{})})}function vg(o){this.a=o,this.b=gc(),this.c=null,this.f=dN(this),this.b.addListener(mi("local"),this.a,F(this.g,this))}vg.prototype.g=function(){var o=this,a=mi("local");hs(this,function(){return tt().then(function(){return o.c&&o.c.F!="local"?o.b.get(a,o.a):null}).then(function(u){if(u)return bg(o,"local").then(function(){o.c=a})})})};function bg(o,a){var u=[],h;for(h in cs)cs[h]!==a&&u.push(ls(o.b,mi(cs[h]),o.a));return u.push(ls(o.b,yg,o.a)),tO(u)}function dN(o){var a=mi("local"),u=mi("session"),h=mi("none");return TM(o.b,a,o.a).then(function(){return o.b.get(u,o.a)}).then(function(p){return p?u:o.b.get(h,o.a).then(function(g){return g?h:o.b.get(a,o.a).then(function(b){return b?a:o.b.get(yg,o.a).then(function(w){return w?mi(w):a})})})}).then(function(p){return o.c=p,bg(o,p.F)}).o(function(){o.c||(o.c=a)})}var yg={name:"persistence",F:"session"};function mi(o){return{name:"authUser",F:o}}vg.prototype.yb=function(o){var a=null,u=this;return CM(o),hs(this,function(){return o!=u.c.F?u.b.get(u.c,u.a).then(function(h){return a=h,bg(u,o)}).then(function(){if(u.c=mi(o),a)return u.b.set(u.c,a,u.a)}):tt()})};function hN(o){return hs(o,function(){return o.b.set(yg,o.c.F,o.a)})}function DE(o,a){return hs(o,function(){return o.b.set(o.c,a.w(),o.a)})}function RE(o){return hs(o,function(){return ls(o.b,o.c,o.a)})}function kE(o,a,u){return hs(o,function(){return o.b.get(o.c,o.a).then(function(h){return h&&a&&(h.authDomain=a),h&&u&&(h.emulatorConfig=u),SE(h||{})})})}function hs(o,a){return o.f=o.f.then(a,a),o.f}function Jn(o){if(this.l=!1,$(this,"settings",new dE),$(this,"app",o),Pt(this).options&&Pt(this).options.apiKey)o=it.SDK_VERSION?es(it.SDK_VERSION):null,this.a=new Qn(Pt(this).options&&Pt(this).options.apiKey,ja(Ua),o);else throw new x("invalid-api-key");this.P=[],this.s=[],this.N=[],this.Pa=it.INTERNAL.createSubscribe(F(this.zc,this)),this.W=void 0,this.ib=it.INTERNAL.createSubscribe(F(this.Ac,this)),fs(this,null),this.i=new vg(Pt(this).options.apiKey+":"+Pt(this).name),this.D=new uN(Pt(this).options.apiKey+":"+Pt(this).name),this.$=Kt(this,bN(this)),this.h=Kt(this,yN(this)),this.ba=!1,this.ja=F(this.Zc,this),this.Ba=F(this.da,this),this.qa=F(this.mc,this),this.za=F(this.wc,this),this.Aa=F(this.xc,this),this.b=null,mN(this),this.INTERNAL={},this.INTERNAL.delete=F(this.delete,this),this.INTERNAL.logFramework=F(this.Gc,this),this.u=0,Ve.call(this),pN(this),this.J=[],this.R=null}K(Jn,Ve);function OE(o){Ze.call(this,"languageCodeChanged"),this.h=o}K(OE,Ze);function PE(o){Ze.call(this,"emulatorConfigChanged"),this.c=o}K(PE,Ze);function ME(o){Ze.call(this,"frameworkChanged"),this.f=o}K(ME,Ze),e=Jn.prototype,e.yb=function(o){return o=this.i.yb(o),Kt(this,o)},e.xa=function(o){this.aa===o||this.l||(this.aa=o,pI(this.a,this.aa),this.dispatchEvent(new OE(this.la())))},e.la=function(){return this.aa},e.fd=function(){var o=d.navigator;this.xa(o&&(o.languages&&o.languages[0]||o.language||o.userLanguage)||null)},e.gd=function(o,a){if(!this.R){if(!/^https?:\/\//.test(o))throw new x("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");a=a?!!a.disableWarnings:!1,fN(a),this.R={url:o,ec:a},this.settings.jb=!0,Xl(this.a,this.R),this.dispatchEvent(new PE(this.R))}};function fN(o){typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),d.document&&!o&&Sl().then(function(){var a=d.document.createElement("div");a.innerText="Running in emulator mode. Do not use with production credentials.",a.style.position="fixed",a.style.width="100%",a.style.backgroundColor="#ffffff",a.style.border=".1em solid #000000",a.style.color="#b50000",a.style.bottom="0px",a.style.left="0px",a.style.margin="0px",a.style.zIndex=1e4,a.style.textAlign="center",a.classList.add("firebase-emulator-warning"),d.document.body.appendChild(a)})}e.Gc=function(o){this.J.push(o),mI(this.a,it.SDK_VERSION?es(it.SDK_VERSION,this.J):null),this.dispatchEvent(new ME(this.J))},e.Ga=function(){return Ur(this.J)},e.zb=function(o){this.S===o||this.l||(this.S=o,this.a.b=this.S)},e.T=function(){return this.S};function pN(o){Object.defineProperty(o,"lc",{get:function(){return this.la()},set:function(a){this.xa(a)},enumerable:!1}),o.aa=null,Object.defineProperty(o,"ti",{get:function(){return this.T()},set:function(a){this.zb(a)},enumerable:!1}),o.S=null,Object.defineProperty(o,"emulatorConfig",{get:function(){if(this.R){var a=Je(this.R.url);a=hi({protocol:a.c,host:a.a,port:a.g,options:hi({disableWarnings:this.R.ec})})}else a=null;return a},enumerable:!1})}e.toJSON=function(){return{apiKey:Pt(this).options.apiKey,authDomain:Pt(this).options.authDomain,appName:Pt(this).name,currentUser:lt(this)&&lt(this).w()}};function _g(o){return o.Oa||jt(new x("auth-domain-config-required"))}function mN(o){var a=Pt(o).options.authDomain,u=Pt(o).options.apiKey;a&&$r()&&(o.Oa=o.$.then(function(){if(!o.l){if(o.b=Ym(a,u,Pt(o).name,o.R),rd(o.b,o),lt(o)&&bc(lt(o)),o.m){bc(o.m);var h=o.m;h.xa(o.la()),sg(h,o),h=o.m,vc(h,o.J),cg(h,o),h=o.m,og(h,o.R),ag(h,o),o.m=null}return o.b}}))}e.Gb=function(o,a){switch(o){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==a&&!!this.f;default:return!1}},e.na=function(o,a,u,h){o=="signInViaPopup"&&this.g==h&&(u&&this.C?this.C(u):a&&!u&&this.f&&this.f(a),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(o,a){return o=="signInViaRedirect"||o=="signInViaPopup"&&this.g==a&&this.f?F(this.ic,this):null},e.ic=function(o,a,u,h){var p=this,g={requestUri:o,postBody:h,sessionId:a,tenantId:u};return this.c&&(this.c.cancel(),this.c=null),p.$.then(function(){return oo(p,Em(p.a,g))})},e.Xc=function(o){if(!$r())return jt(new x("operation-not-supported-in-this-environment"));var a=this,u=Qp(o.providerId),h=Kr(),p=null;(!Ya()||Mp())&&Pt(this).options.authDomain&&o.isOAuthProvider&&(p=hc(Pt(this).options.authDomain,Pt(this).options.apiKey,Pt(this).name,"signInViaPopup",o,null,h,it.SDK_VERSION||null,null,null,this.T(),this.R));var g=fw(p,u&&u.va,u&&u.ua);return u=_g(this).then(function(b){return rE(b,g,"signInViaPopup",o,h,!!p,a.T())}).then(function(){return new bt(function(b,w){a.na("signInViaPopup",null,new x("cancelled-popup-request"),a.g),a.f=b,a.C=w,a.g=h,a.c=sE(a.b,a,"signInViaPopup",g,h)})}).then(function(b){return g&&Gr(g),b?hi(b):null}).o(function(b){throw g&&Gr(g),b}),Kt(this,u)},e.Yc=function(o){if(!$r())return jt(new x("operation-not-supported-in-this-environment"));var a=this,u=_g(this).then(function(){return hN(a.i)}).then(function(){return oE(a.b,"signInViaRedirect",o,void 0,a.T())});return Kt(this,u)};function NE(o){if(!$r())return jt(new x("operation-not-supported-in-this-environment"));var a=_g(o).then(function(){return o.b.ra()}).then(function(u){return u?hi(u):null});return Kt(o,a)}e.ra=function(){var o=this;return NE(this).then(function(a){return o.b&&sd(o.b.b),a}).o(function(a){throw o.b&&sd(o.b.b),a})},e.dd=function(o){if(!o)return jt(new x("null-user"));if(this.S!=o.tenantId)return jt(new x("tenant-id-mismatch"));var a=this,u={};u.apiKey=Pt(this).options.apiKey,u.authDomain=Pt(this).options.authDomain,u.appName=Pt(this).name;var h=cN(o,u,a.D,a.Ga());return Kt(this,this.h.then(function(){if(Pt(a).options.apiKey!=o.l)return h.reload()}).then(function(){return lt(a)&&o.uid==lt(a).uid?(ud(lt(a),o),a.da(o)):(fs(a,h),bc(h),a.da(h))}).then(function(){_c(a)}))};function gN(o,a){var u={};return u.apiKey=Pt(o).options.apiKey,u.authDomain=Pt(o).options.authDomain,u.appName=Pt(o).name,o.R&&(u.emulatorConfig=o.R),o.$.then(function(){return aN(u,a,o.D,o.Ga())}).then(function(h){return lt(o)&&h.uid==lt(o).uid?(ud(lt(o),h),o.da(h)):(fs(o,h),bc(h),o.da(h))}).then(function(){_c(o)})}function fs(o,a){lt(o)&&(iN(lt(o),o.Ba),mn(lt(o),"tokenChanged",o.qa),mn(lt(o),"userDeleted",o.za),mn(lt(o),"userInvalidated",o.Aa),lg(lt(o))),a&&(a.W.push(o.Ba),Pn(a,"tokenChanged",o.qa),Pn(a,"userDeleted",o.za),Pn(a,"userInvalidated",o.Aa),0<o.u&&yE(a)),$(o,"currentUser",a),a&&(a.xa(o.la()),sg(a,o),vc(a,o.J),cg(a,o),og(a,o.R),ag(a,o))}e.Bb=function(){var o=this,a=this.h.then(function(){return o.b&&sd(o.b.b),lt(o)?(fs(o,null),RE(o.i).then(function(){_c(o)})):tt()});return Kt(this,a)};function vN(o){var a=lN(o.D,Pt(o).options.authDomain).then(function(u){return(o.m=u)&&(u.ha=o.D),AE(o.D)});return Kt(o,a)}function bN(o){var a=Pt(o).options.authDomain,u=vN(o).then(function(){return kE(o.i,a,o.R)}).then(function(h){return h?(h.ha=o.D,o.m&&(o.m.ga||null)==(h.ga||null)?h:h.reload().then(function(){return DE(o.i,h).then(function(){return h})}).o(function(p){return p.code=="auth/network-request-failed"?h:RE(o.i)})):null}).then(function(h){fs(o,h||null)});return Kt(o,u)}function yN(o){return o.$.then(function(){return NE(o)}).o(function(){}).then(function(){if(!o.l)return o.ja()}).o(function(){}).then(function(){if(!o.l){o.ba=!0;var a=o.i;a.b.addListener(mi("local"),a.a,o.ja)}})}e.Zc=function(){var o=this;return kE(this.i,Pt(this).options.authDomain).then(function(a){if(!o.l){var u;if(u=lt(o)&&a){u=lt(o).uid;var h=a.uid;u=u==null||u===""||h===void 0||h===null||h===""?!1:u==h}if(u)return ud(lt(o),a),lt(o).I();(lt(o)||a)&&(fs(o,a),a&&(bc(a),a.ha=o.D),o.b&&rd(o.b,o),_c(o))}})},e.da=function(o){return DE(this.i,o)},e.mc=function(){_c(this),this.da(lt(this))},e.wc=function(){this.Bb()},e.xc=function(){this.Bb()};function oo(o,a){var u=null,h=null;return Kt(o,a.then(function(p){return u=im(p),h=Uw(p),gN(o,p)},function(p){var g=null;throw p&&p.code==="auth/multi-factor-auth-required"&&(g=pE(p.w(),o,F(o.kc,o))),g||p}).then(function(){return hi({user:lt(o),credential:u,additionalUserInfo:h,operationType:"signIn"})}))}e.kc=function(o){var a=this;return this.h.then(function(){return oo(a,tt(o))})},e.zc=function(o){var a=this;this.addAuthTokenListener(function(){o.next(lt(a))})},e.Ac=function(o){var a=this;_N(this,function(){o.next(lt(a))})},e.Ic=function(o,a,u){var h=this;return this.ba&&Promise.resolve().then(function(){typeof o=="function"?o(lt(h)):typeof o.next=="function"&&o.next(lt(h))}),this.Pa(o,a,u)},e.Hc=function(o,a,u){var h=this;return this.ba&&Promise.resolve().then(function(){h.W=h.getUid(),typeof o=="function"?o(lt(h)):typeof o.next=="function"&&o.next(lt(h))}),this.ib(o,a,u)},e.nc=function(o){var a=this,u=this.h.then(function(){return lt(a)?lt(a).I(o).then(function(h){return{accessToken:h}}):null});return Kt(this,u)},e.Tc=function(o){var a=this;return this.h.then(function(){return oo(a,yt(a.a,tM,{token:o}))}).then(function(u){var h=u.user;return nr(h,"isAnonymous",!1),a.da(h),u})},e.Uc=function(o,a){var u=this;return this.h.then(function(){return oo(u,yt(u.a,xI,{email:o,password:a}))})},e.dc=function(o,a){var u=this;return this.h.then(function(){return oo(u,yt(u.a,kP,{email:o,password:a}))})},e.ab=function(o){var a=this;return this.h.then(function(){return oo(a,o.ka(a.a))})},e.Sc=function(o){return jp("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(o)},e.Ab=function(){var o=this;return this.h.then(function(){var a=lt(o);if(a&&a.isAnonymous){var u=hi({providerId:null,isNewUser:!1});return hi({user:a,credential:null,additionalUserInfo:u,operationType:"signIn"})}return oo(o,o.a.Ab()).then(function(h){var p=h.user;return nr(p,"isAnonymous",!0),o.da(p),h})})};function Pt(o){return o.app}function lt(o){return o.currentUser}e.getUid=function(){return lt(this)&&lt(this).uid||null};function dd(o){return lt(o)&&lt(o)._lat||null}function _c(o){if(o.ba){for(var a=0;a<o.s.length;a++)o.s[a]&&o.s[a](dd(o));if(o.W!==o.getUid()&&o.N.length)for(o.W=o.getUid(),a=0;a<o.N.length;a++)o.N[a]&&o.N[a](dd(o))}}e.cc=function(o){this.addAuthTokenListener(o),this.u++,0<this.u&&lt(this)&&yE(lt(this))},e.Pc=function(o){var a=this;qt(this.s,function(u){u==o&&a.u--}),0>this.u&&(this.u=0),this.u==0&&lt(this)&&lg(lt(this)),this.removeAuthTokenListener(o)},e.addAuthTokenListener=function(o){var a=this;this.s.push(o),Kt(this,this.h.then(function(){a.l||Si(a.s,o)&&o(dd(a))}))},e.removeAuthTokenListener=function(o){$n(this.s,function(a){return a==o})};function _N(o,a){o.N.push(a),Kt(o,o.h.then(function(){!o.l&&Si(o.N,a)&&o.W!==o.getUid()&&(o.W=o.getUid(),a(dd(o)))}))}e.delete=function(){this.l=!0;for(var o=0;o<this.P.length;o++)this.P[o].cancel("app-deleted");return this.P=[],this.i&&(o=this.i,o.b.removeListener(mi("local"),o.a,this.ja)),this.b&&(Gm(this.b,this),sd(this.b.b)),Promise.resolve()};function Kt(o,a){return o.P.push(a),a.oa(function(){fl(o.P,a)}),a}e.hc=function(o){return Kt(this,IP(this.a,o))},e.Bc=function(o){return!!nm(o)},e.xb=function(o,a){var u=this;return Kt(this,tt().then(function(){var h=new Rl(a);if(!h.c)throw new x("argument-error",Yp+" must be true when sending sign in link to email");return kl(h)}).then(function(h){return u.a.xb(o,h)}).then(function(){}))},e.jd=function(o){return this.Sa(o).then(function(a){return a.data.email})},e.ob=function(o,a){return Kt(this,this.a.ob(o,a).then(function(){}))},e.Sa=function(o){return Kt(this,this.a.Sa(o).then(function(a){return new OO(a)}))},e.kb=function(o){return Kt(this,this.a.kb(o).then(function(){}))},e.wb=function(o,a){var u=this;return Kt(this,tt().then(function(){return typeof a>"u"||Vr(a)?{}:kl(new Rl(a))}).then(function(h){return u.a.wb(o,h)}).then(function(){}))},e.Wc=function(o,a){return Kt(this,Qm(this,o,a,F(this.ab,this)))},e.Vc=function(o,a){var u=this;return Kt(this,tt().then(function(){var h=a||Ka(),p=Qw(o,h);if(h=nm(h),!h)throw new x("argument-error","Invalid email link!");if(h.tenantId!==u.T())throw new x("tenant-id-mismatch");return u.ab(p)}))};function wc(){}wc.prototype.render=function(){},wc.prototype.reset=function(){},wc.prototype.getResponse=function(){},wc.prototype.execute=function(){};function ps(){this.a={},this.b=1e12}var wg=null;ps.prototype.render=function(o,a){return this.a[this.b.toString()]=new hd(o,a),this.b++},ps.prototype.reset=function(o){var a=Ig(this,o);o=LE(o),a&&o&&(a.delete(),delete this.a[o])},ps.prototype.getResponse=function(o){return(o=Ig(this,o))?o.getResponse():null},ps.prototype.execute=function(o){(o=Ig(this,o))&&o.execute()};function Ig(o,a){return(a=LE(a))&&o.a[a]||null}function LE(o){return(o=typeof o>"u"?1e12:o)?o.toString():null}function hd(o,a){this.g=!1,this.c=a,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=Ba(o);var u=this;this.i=function(){u.execute()},this.h?this.execute():Pn(this.f,"click",this.i)}hd.prototype.getResponse=function(){return Eg(this),this.b},hd.prototype.execute=function(){Eg(this);var o=this;this.a||(this.a=setTimeout(function(){o.b=TO();var a=o.c.callback,u=o.c["expired-callback"];if(a)try{a(o.b)}catch{}o.a=setTimeout(function(){if(o.a=null,o.b=null,u)try{u()}catch{}o.h&&o.execute()},6e4)},500))},hd.prototype.delete=function(){Eg(this),this.g=!0,clearTimeout(this.a),this.a=null,mn(this.f,"click",this.i)};function Eg(o){if(o.g)throw Error("reCAPTCHA mock was already deleted!")}function xg(){}$(xg,"FACTOR_ID","phone");function Cg(){}Cg.prototype.g=function(){return wg||(wg=new ps),tt(wg)},Cg.prototype.c=function(){};var Tg=null;function Sg(){this.b=d.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var wN=new ui(pl,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),IN=new Ji(3e4,6e4);Sg.prototype.g=function(o){var a=this;return new bt(function(u,h){var p=setTimeout(function(){h(new x("network-request-failed"))},IN.get());if(!d.grecaptcha||o!==a.f&&!a.b){d[a.a]=function(){if(d.grecaptcha){a.f=o;var b=d.grecaptcha.render;d.grecaptcha.render=function(w,S){return w=b(w,S),a.b++,w},clearTimeout(p),u(d.grecaptcha)}else clearTimeout(p),h(new x("internal-error"));delete d[a.a]};var g=ap(wN,{onload:a.a,hl:o||""});tt(gm(g)).o(function(){clearTimeout(p),h(new x("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(p),u(d.grecaptcha)})},Sg.prototype.c=function(){this.b--};var Ag=null;function Dg(o,a,u,h,p,g,b){if($(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=a,this.g=null,b?(Tg||(Tg=new Cg),b=Tg):(Ag||(Ag=new Sg),b=Ag),this.m=b,this.a=u||{theme:"light",type:"image"},this.h=[],this.a[UE])throw new x("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[EN]==="invisible",!d.document)throw new x("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Ba(a)||!this.i&&Ba(a).hasChildNodes())throw new x("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Qn(o,g||null,p||null),this.u=h||function(){return null};var w=this;this.l=[];var S=this.a[FE];this.a[FE]=function(st){if(VE(w,st),typeof S=="function")S(st);else if(typeof S=="string"){var Rt=Ut(S,d);typeof Rt=="function"&&Rt(st)}};var O=this.a[jE];this.a[jE]=function(){if(VE(w,null),typeof O=="function")O();else if(typeof O=="string"){var st=Ut(O,d);typeof st=="function"&&st()}}}var FE="callback",jE="expired-callback",UE="sitekey",EN="size";function VE(o,a){for(var u=0;u<o.l.length;u++)try{o.l[u](a)}catch{}}function xN(o,a){$n(o.l,function(u){return u==a})}function Rg(o,a){return o.h.push(a),a.oa(function(){fl(o.h,a)}),a}e=Dg.prototype,e.Ia=function(){var o=this;return this.f?this.f:this.f=Rg(this,tt().then(function(){if(Al()&&!Yn())return Sl();throw new x("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return o.m.g(o.u())}).then(function(a){return o.g=a,yt(o.s,WP,{})}).then(function(a){o.a[UE]=a.recaptchaSiteKey}).o(function(a){throw o.f=null,a}))},e.render=function(){fd(this);var o=this;return Rg(this,this.Ia().then(function(){if(o.c===null){var a=o.v;if(!o.i){var u=Ba(a);a=Xk("DIV"),u.appendChild(a)}o.c=o.g.render(a,o.a)}return o.c}))},e.verify=function(){fd(this);var o=this;return Rg(this,this.render().then(function(a){return new bt(function(u){var h=o.g.getResponse(a);if(h)u(h);else{var p=function(g){g&&(xN(o,p),u(g))};o.l.push(p),o.i&&o.g.execute(o.c)}})}))},e.reset=function(){fd(this),this.c!==null&&this.g.reset(this.c)};function fd(o){if(o.J)throw new x("internal-error","RecaptchaVerifier instance has been destroyed.")}e.clear=function(){fd(this),this.J=!0,this.m.c();for(var o=0;o<this.h.length;o++)this.h[o].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){o=Ba(this.v);for(var a;a=o.firstChild;)o.removeChild(a)}};function kg(o,a,u){var h=!1;try{this.b=u||it.app()}catch{throw new x("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)u=this.b.options.apiKey;else throw new x("invalid-api-key");var p=this,g=null;try{g=this.b.auth().Ga()}catch{}try{h=this.b.auth().settings.appVerificationDisabledForTesting}catch{}g=it.SDK_VERSION?es(it.SDK_VERSION,g):null,Dg.call(this,u,o,a,function(){try{var b=p.b.auth().la()}catch{b=null}return b},g,ja(Ua),h)}K(kg,Dg);function BE(o,a,u,h){t:{u=Array.prototype.slice.call(u);for(var p=0,g=!1,b=0;b<a.length;b++)if(a[b].optional)g=!0;else{if(g)throw new x("internal-error","Argument validator encountered a required argument after an optional argument.");p++}if(g=a.length,u.length<p||g<u.length)h="Expected "+(p==g?p==1?"1 argument":p+" arguments":p+"-"+g+" arguments")+" but got "+u.length+".";else{for(p=0;p<u.length;p++)if(g=a[p].optional&&u[p]===void 0,!a[p].M(u[p])&&!g){if(a=a[p],0>p||p>=zE.length)throw new x("internal-error","Argument validator received an unsupported number of arguments.");u=zE[p],h=(h?"":u+" argument ")+(a.name?'"'+a.name+'" ':"")+"must be "+a.K+".";break t}h=null}}if(h)throw new x("argument-error",o+" failed: "+h)}var zE="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function G(o,a){return{name:o||"",K:"a valid string",optional:!!a,M:function(u){return typeof u=="string"}}}function Og(o,a){return{name:o||"",K:"a boolean",optional:!!a,M:function(u){return typeof u=="boolean"}}}function ne(o,a){return{name:o||"",K:"a valid object",optional:!!a,M:C}}function ms(o,a){return{name:o||"",K:"a function",optional:!!a,M:function(u){return typeof u=="function"}}}function gi(o,a){return{name:o||"",K:"null",optional:!!a,M:function(u){return u===null}}}function CN(){return{name:"",K:"an HTML element",optional:!1,M:function(o){return!!(o&&o instanceof Element)}}}function TN(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(o){return!!(o&&o instanceof Jn)}}}function SN(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(o){return!!(o&&o instanceof it.app.App)}}}function ir(o){return{name:o?o+"Credential":"credential",K:o?"a valid "+o+" credential":"a valid credential",optional:!1,M:function(a){if(!a)return!1;var u=!o||a.providerId===o;return!(!a.ka||!u)}}}function qE(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(o){return o?!!o.tb:!1}}}function gs(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(o){return!!(o&&o.providerId&&o.hasOwnProperty&&o.hasOwnProperty("isOAuthProvider"))}}}function Pg(o,a){return C(o)&&typeof o.type=="string"&&o.type===a&&typeof o.Ha=="function"}function HE(o){return C(o)&&typeof o.uid=="string"}function pd(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(o){return!(!o||typeof o.type!="string"||typeof o.verify!="function")}}}function Zt(o,a,u,h){return{name:u||"",K:o.K+" or "+a.K,optional:!!h,M:function(p){return o.M(p)||a.M(p)}}}function Ht(o,a){for(var u in a){var h=a[u].name;o[h]=GE(h,o[u],a[u].j)}}function WE(o,a){for(var u in a){var h=a[u].name;h!==u&&Object.defineProperty(o,h,{get:Ot(function(p){return this[p]},u),set:Ot(function(p,g,b,w){BE(p,[b],[w],!0),this[g]=w},h,u,a[u].lb),enumerable:!0})}}function Jt(o,a,u,h){o[a]=GE(a,u,h)}function GE(o,a,u){function h(){var b=Array.prototype.slice.call(arguments);return BE(p,u,b),a.apply(this,b)}if(!u)return a;var p=AN(o),g;for(g in a)h[g]=a[g];for(g in a.prototype)h.prototype[g]=a.prototype[g];return h}function AN(o){return o=o.split("."),o[o.length-1]}Ht(Jn.prototype,{kb:{name:"applyActionCode",j:[G("code")]},Sa:{name:"checkActionCode",j:[G("code")]},ob:{name:"confirmPasswordReset",j:[G("code"),G("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[G("email"),G("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[G("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[G("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Zt(ne(),ms(),"nextOrObserver"),ms("opt_error",!0),ms("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Zt(ne(),ms(),"nextOrObserver"),ms("opt_error",!0),ms("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[G("email"),Zt(ne("opt_actionCodeSettings",!0),gi(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[G("email"),ne("actionCodeSettings")]},yb:{name:"setPersistence",j:[G("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[ir()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[ir()]},Tc:{name:"signInWithCustomToken",j:[G("token")]},Uc:{name:"signInWithEmailAndPassword",j:[G("email"),G("password")]},Vc:{name:"signInWithEmailLink",j:[G("email"),G("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[G("phoneNumber"),pd()]},Xc:{name:"signInWithPopup",j:[gs()]},Yc:{name:"signInWithRedirect",j:[gs()]},dd:{name:"updateCurrentUser",j:[Zt(function(o){return{name:"user",K:"an instance of Firebase User",optional:!!o,M:function(a){return!!(a&&a instanceof vn)}}}(),gi(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[G(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[G("url"),ne("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[G("code")]}}),WE(Jn.prototype,{lc:{name:"languageCode",lb:Zt(G(),gi(),"languageCode")},ti:{name:"tenantId",lb:Zt(G(),gi(),"tenantId")}}),Jn.Persistence=cs,Jn.Persistence.LOCAL="local",Jn.Persistence.SESSION="session",Jn.Persistence.NONE="none",Ht(vn.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Og("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Og("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[ir()]},rb:{name:"linkWithCredential",j:[ir()]},Dc:{name:"linkWithPhoneNumber",j:[G("phoneNumber"),pd()]},Ec:{name:"linkWithPopup",j:[gs()]},Fc:{name:"linkWithRedirect",j:[gs()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[ir()]},ub:{name:"reauthenticateWithCredential",j:[ir()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[G("phoneNumber"),pd()]},Nc:{name:"reauthenticateWithPopup",j:[gs()]},Oc:{name:"reauthenticateWithRedirect",j:[gs()]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[Zt(ne("opt_actionCodeSettings",!0),gi(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[G(null,!0)]},cd:{name:"unlink",j:[G("provider")]},Cb:{name:"updateEmail",j:[G("email")]},Db:{name:"updatePassword",j:[G("password")]},ed:{name:"updatePhoneNumber",j:[ir("phone")]},Eb:{name:"updateProfile",j:[ne("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[G("email"),Zt(ne("opt_actionCodeSettings",!0),gi(null,!0),"opt_actionCodeSettings",!0)]}}),Ht(ps.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Ht(wc.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Ht(bt.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),WE(dE.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Og("appVerificationDisabledForTesting")}}),Ht(Xm.prototype,{confirm:{name:"confirm",j:[G("verificationCode")]}}),Jt(rs,"fromJSON",function(o){o=typeof o=="string"?JSON.parse(o):o;for(var a,u=[XO,QO,ZO,YO],h=0;h<u.length;h++)if(a=u[h](o))return a;return null},[Zt(G(),ne(),"json")]),Jt(Nn,"credential",function(o,a){return new tr(o,a)},[G("email"),G("password")]),Ht(tr.prototype,{w:{name:"toJSON",j:[G(null,!0)]}}),Ht(Qr.prototype,{Ca:{name:"addScope",j:[G("scope")]},Ka:{name:"setCustomParameters",j:[ne("customOAuthParameters")]}}),Jt(Qr,"credential",$w,[Zt(G(),ne(),"token")]),Jt(Nn,"credentialWithLink",Qw,[G("email"),G("emailLink")]),Ht(Zr.prototype,{Ca:{name:"addScope",j:[G("scope")]},Ka:{name:"setCustomParameters",j:[ne("customOAuthParameters")]}}),Jt(Zr,"credential",Kw,[Zt(G(),ne(),"token")]),Ht(Jr.prototype,{Ca:{name:"addScope",j:[G("scope")]},Ka:{name:"setCustomParameters",j:[ne("customOAuthParameters")]}}),Jt(Jr,"credential",Yw,[Zt(G(),Zt(ne(),gi()),"idToken"),Zt(G(),gi(),"accessToken",!0)]),Ht(ss.prototype,{Ka:{name:"setCustomParameters",j:[ne("customOAuthParameters")]}}),Jt(ss,"credential",Xw,[Zt(G(),ne(),"token"),G("secret",!0)]),Ht(gn.prototype,{Ca:{name:"addScope",j:[G("scope")]},credential:{name:"credential",j:[Zt(G(),Zt(ne(),gi()),"optionsOrIdToken"),Zt(G(),gi(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[ne("customOAuthParameters")]}}),Ht(Di.prototype,{w:{name:"toJSON",j:[G(null,!0)]}}),Ht(Yr.prototype,{w:{name:"toJSON",j:[G(null,!0)]}}),Jt(Ri,"credential",Zw,[G("verificationId"),G("verificationCode")]),Ht(Ri.prototype,{gb:{name:"verifyPhoneNumber",j:[Zt(G(),function(o,a){return{name:o||"phoneInfoOptions",K:"valid phone info options",optional:!!a,M:function(u){return u?u.session&&u.phoneNumber?Pg(u.session,ec)&&typeof u.phoneNumber=="string":u.session&&u.multiFactorHint?Pg(u.session,Ll)&&HE(u.multiFactorHint):u.session&&u.multiFactorUid?Pg(u.session,Ll)&&typeof u.multiFactorUid=="string":u.phoneNumber?typeof u.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),pd()]}}),Ht(er.prototype,{w:{name:"toJSON",j:[G(null,!0)]}}),Ht(x.prototype,{toJSON:{name:"toJSON",j:[G(null,!0)]}}),Ht(ic.prototype,{toJSON:{name:"toJSON",j:[G(null,!0)]}}),Ht(sm.prototype,{toJSON:{name:"toJSON",j:[G(null,!0)]}}),Ht(Jm.prototype,{toJSON:{name:"toJSON",j:[G(null,!0)]}}),Ht(Zm.prototype,{Rc:{name:"resolveSignIn",j:[qE()]}}),Ht(eg.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[qE(),G("displayName",!0)]},bd:{name:"unenroll",j:[Zt({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:HE},G(),"multiFactorInfoIdentifier")]}}),Ht(kg.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Jt(Kp,"parseLink",Dw,[G("link")]),Jt(xg,"assertion",function(o){return new gE(o)},[ir("phone")]),function(){if(typeof it<"u"&&it.INTERNAL&&it.INTERNAL.registerComponent){var o={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Dl,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:$p,VERIFY_AND_CHANGE_EMAIL:Ja,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Jn,AuthCredential:rs,Error:x};Jt(o,"EmailAuthProvider",Nn,[]),Jt(o,"FacebookAuthProvider",Qr,[]),Jt(o,"GithubAuthProvider",Zr,[]),Jt(o,"GoogleAuthProvider",Jr,[]),Jt(o,"TwitterAuthProvider",ss,[]),Jt(o,"OAuthProvider",gn,[G("providerId")]),Jt(o,"SAMLAuthProvider",Gw,[G("providerId")]),Jt(o,"PhoneAuthProvider",Ri,[TN()]),Jt(o,"RecaptchaVerifier",kg,[Zt(G(),CN(),"recaptchaContainer"),ne("recaptchaParameters",!0),SN()]),Jt(o,"ActionCodeURL",Kp,[]),Jt(o,"PhoneMultiFactorGenerator",xg,[]),it.INTERNAL.registerComponent({name:"auth",instanceFactory:function(a){return a=a.getProvider("app").getImmediate(),new Jn(a)},multipleInstances:!1,serviceProps:o,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(a){a.getProvider("auth-internal").initialize()}}),it.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(a){return a=a.getProvider("auth").getImmediate(),{getUid:F(a.getUid,a),getToken:F(a.nc,a),addAuthTokenListener:F(a.cc,a),removeAuthTokenListener:F(a.Pc,a)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),it.registerVersion("@firebase/auth","0.16.8"),it.INTERNAL.extendNamespace({User:vn})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})});var B2={};var pT=bn(()=>{"use strict";fT()});function z2(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");vb(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function ST(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ph(){}function bb(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function mu(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function H2(e){return Object.prototype.hasOwnProperty.call(e,ub)&&e[ub]||(e[ub]=++W2)}function G2(e,t,n){return e.call.apply(e.bind,arguments)}function $2(e,t,n){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),e.apply(t,r)}}return function(){return e.apply(t,arguments)}}function Ee(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ee=G2:Ee=$2,Ee.apply(null,arguments)}function ch(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),e.apply(this,i)}}function Ce(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(i,r,s){for(var c=Array(arguments.length-2),l=2;l<arguments.length;l++)c[l-2]=arguments[l];return t.prototype[r].apply(i,c)}}function _r(){this.s=this.s,this.o=this.o}function X2(e){t:{for(var t=Bj,n=e.length,i=typeof e=="string"?e.split(""):e,r=0;r<n;r++)if(r in i&&t.call(void 0,i[r],r,e)){t=r;break t}t=-1}return 0>t?null:typeof e=="string"?e.charAt(t):e[t]}function gT(e){return Array.prototype.concat.apply([],arguments)}function kb(e){var t=e.length;if(0<t){for(var n=Array(t),i=0;i<t;i++)n[i]=e[i];return n}return[]}function mh(e){return/^[\s\xa0]*$/.test(e)}function ze(e,t){return e.indexOf(t)!=-1}function lb(e,t){return e<t?-1:e>t?1:0}function Ob(e,t,n){for(var i in e)t.call(n,e[i],i,e)}function RT(e){var t={};for(var n in e)t[n]=e[n];return t}function kT(e,t){for(var n,i,r=1;r<arguments.length;r++){i=arguments[r];for(n in i)e[n]=i[n];for(var s=0;s<bT.length;s++)n=bT[s],Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}}function Pb(e){return Pb[" "](e),e}function Q2(e){var t=tj;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}function MT(){var e=at.document;return e?e.documentMode:void 0}function ej(){return Q2(function(){for(var e=0,t=vT(String(gh)).split("."),n=vT("9").split("."),i=Math.max(t.length,n.length),r=0;e==0&&r<i;r++){var s=t[r]||"",c=n[r]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],s[0].length==0&&c[0].length==0)break;e=lb(s[1].length==0?0:parseInt(s[1],10),c[1].length==0?0:parseInt(c[1],10))||lb(s[2].length==0,c[2].length==0)||lb(s[2],c[2]),s=s[3],c=c[3]}while(e==0)}return 0<=e})}function Me(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function lu(e,t){if(Me.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,i=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(PT){t:{try{Pb(t.nodeName);var r=!0;break t}catch{}r=!1}r||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:rj[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&lu.Z.h.call(this)}}function sj(e,t,n,i,r){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!i,this.ia=r,this.key=++oj,this.ca=this.fa=!1}function Eh(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function xh(e){this.src=e,this.g={},this.h=0}function wb(e,t){var n=t.type;if(n in e.g){var i=e.g[n],r=AT(i,t),s;(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(Eh(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function Ib(e,t,n,i){for(var r=0;r<e.length;++r){var s=e[r];if(!s.ca&&s.listener==t&&s.capture==!!n&&s.ia==i)return r}return-1}function NT(e,t,n,i,r){if(i&&i.once)return FT(e,t,n,i,r);if(Array.isArray(t)){for(var s=0;s<t.length;s++)NT(e,t[s],n,i,r);return null}return n=Fb(n),e&&e[gu]?e.N(t,n,mu(i)?!!i.capture:!!i,r):LT(e,t,n,!1,i,r)}function LT(e,t,n,i,r,s){if(!t)throw Error("Invalid event type");var c=mu(r)?!!r.capture:!!r,l=Lb(e);if(l||(e[Mb]=l=new xh(e)),n=l.add(t,n,i,c,s),n.proxy)return n;if(i=aj(),n.proxy=i,i.src=e,i.listener=n,e.addEventListener)ij||(r=c),r===void 0&&(r=!1),e.addEventListener(t.toString(),i,r);else if(e.attachEvent)e.attachEvent(UT(t.toString()),i);else if(e.addListener&&e.removeListener)e.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function aj(){function e(n){return t.call(e.src,e.listener,n)}var t=cj;return e}function FT(e,t,n,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++)FT(e,t[s],n,i,r);return null}return n=Fb(n),e&&e[gu]?e.O(t,n,mu(i)?!!i.capture:!!i,r):LT(e,t,n,!0,i,r)}function jT(e,t,n,i,r){if(Array.isArray(t))for(var s=0;s<t.length;s++)jT(e,t[s],n,i,r);else i=mu(i)?!!i.capture:!!i,n=Fb(n),e&&e[gu]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=Ib(s,n,i,r),-1<n&&(Eh(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=Lb(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Ib(t,n,i,r)),(n=-1<e?t[e]:null)&&Nb(n))}function Nb(e){if(typeof e!="number"&&e&&!e.ca){var t=e.src;if(t&&t[gu])wb(t.i,e);else{var n=e.type,i=e.proxy;t.removeEventListener?t.removeEventListener(n,i,e.capture):t.detachEvent?t.detachEvent(UT(n),i):t.addListener&&t.removeListener&&t.removeListener(i),(n=Lb(t))?(wb(n,e),n.h==0&&(n.src=null,t[Mb]=null)):Eh(e)}}}function UT(e){return e in pb?pb[e]:pb[e]="on"+e}function cj(e,t){if(e.ca)e=!0;else{t=new lu(t,this);var n=e.listener,i=e.ia||e.src;e.fa&&Nb(e),e=n.call(i,t)}return e}function Lb(e){return e=e[Mb],e instanceof xh?e:null}function Fb(e){return typeof e=="function"?e:(e[mb]||(e[mb]=function(t){return e.handleEvent(t)}),e[mb])}function _e(){_r.call(this),this.i=new xh(this),this.P=this,this.I=null}function xe(e,t){var n,i=e.I;if(i)for(n=[];i;i=i.I)n.push(i);if(e=e.P,i=t.type||t,typeof t=="string")t=new Me(t,e);else if(t instanceof Me)t.target=t.target||e;else{var r=t;t=new Me(i,e),kT(t,r)}if(r=!0,n)for(var s=n.length-1;0<=s;s--){var c=t.g=n[s];r=hh(c,i,!0,t)&&r}if(c=t.g=e,r=hh(c,i,!0,t)&&r,r=hh(c,i,!1,t)&&r,n)for(s=0;s<n.length;s++)c=t.g=n[s],r=hh(c,i,!1,t)&&r}function hh(e,t,n,i){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var r=!0,s=0;s<t.length;++s){var c=t[s];if(c&&!c.ca&&c.capture==n){var l=c.listener,d=c.ia||c.src;c.fa&&wb(e.i,c),r=l.call(d,i)!==!1&&r}}return r&&!i.defaultPrevented}function uj(){var e=BT,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}function hj(e){at.setTimeout(function(){throw e},0)}function Ub(e,t){Eb||fj(),xb||(Eb(),xb=!0),BT.add(e,t)}function fj(){var e=at.Promise.resolve(void 0);Eb=function(){e.then(pj)}}function pj(){for(var e;e=uj();){try{e.h.call(e.g)}catch(n){hj(n)}var t=VT;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}xb=!1}function Ch(e,t){_e.call(this),this.h=e||1,this.g=t||at,this.j=Ee(this.kb,this),this.l=Date.now()}function Vb(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Bb(e,t,n){if(typeof e=="function")n&&(e=Ee(e,n));else if(e&&typeof e.handleEvent=="function")e=Ee(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:at.setTimeout(e,t||0)}function zT(e){e.g=Bb(function(){e.g=null,e.i&&(e.i=!1,zT(e))},e.j);var t=e.h;e.h=null,e.m.apply(null,t)}function du(e){_r.call(this),this.h=e,this.g={}}function qT(e,t,n,i){Array.isArray(n)||(n&&(yT[0]=n.toString()),n=yT);for(var r=0;r<n.length;r++){var s=NT(t,n[r],i||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function HT(e){Ob(e.g,function(t,n){this.g.hasOwnProperty(n)&&Nb(t)},e),e.g={}}function Th(){this.g=!0}function gj(e,t,n,i,r,s){e.info(function(){if(e.g)if(s)for(var c="",l=s.split("&"),d=0;d<l.length;d++){var f=l[d].split("=");if(1<f.length){var m=f[0];f=f[1];var v=m.split("_");c=2<=v.length&&v[1]=="type"?c+(m+"="+f+"&"):c+(m+"=redacted&")}}else c=null;else c=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+`
`+n+`
`+c})}function vj(e,t,n,i,r,s,c){e.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+`
`+n+`
`+s+" "+c})}function zs(e,t,n,i){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+yj(e,n)+(i?" "+i:"")})}function bj(e,t){e.info(function(){return"TIMEOUT: "+t})}function yj(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var i=n[e];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if(s!="noop"&&s!="stop"&&s!="close")for(var c=1;c<r.length;c++)r[c]=""}}}}return jb(n)}catch{return t}}function Sh(){return _T=_T||new _e}function WT(e){Me.call(this,Io.Ma,e)}function hu(e){var t=Sh();xe(t,new WT(t,e))}function GT(e,t){Me.call(this,Io.STAT_EVENT,e),this.stat=t}function He(e){var t=Sh();xe(t,new GT(t,e))}function $T(e,t){Me.call(this,Io.Na,e),this.size=t}function vu(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return at.setTimeout(function(){e()},t)}function zb(){}function wT(e){return e.h||(e.h=e.i())}function YT(){}function qb(){Me.call(this,"d")}function Hb(){Me.call(this,"c")}function Dh(){}function yu(e,t,n,i){this.l=e,this.j=t,this.m=n,this.X=i||1,this.V=new du(this),this.P=_j,e=yb?125:void 0,this.W=new Ch(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new XT}function XT(){this.i=null,this.g="",this.h=!1}function Sb(e,t,n){e.K=1,e.v=kh(Vi(t)),e.s=n,e.U=!0,QT(e,null)}function QT(e,t){e.F=Date.now(),_u(e),e.A=Vi(e.v);var n=e.A,i=e.X;Array.isArray(i)||(i=[String(i)]),rS(n.h,"t",i),e.C=0,n=e.l.H,e.h=new XT,e.g=xS(e.l,n?t:null,!e.s),0<e.O&&(e.L=new mj(Ee(e.Ia,e,e.g),e.O)),qT(e.V,e.g,"readystatechange",e.gb),t=e.H?RT(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),hu(1),gj(e.j,e.u,e.A,e.m,e.X,e.s)}function ZT(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Ba:!1}function JT(e,t,n){for(var i=!0,r;!e.I&&e.C<n.length;)if(r=wj(e,n),r==vh){t==4&&(e.o=4,He(14),i=!1),zs(e.j,e.m,null,"[Incomplete Response]");break}else if(r==Tb){e.o=4,He(15),zs(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}else zs(e.j,e.m,r,null),Ab(e,r);ZT(e)&&r!=vh&&r!=Tb&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,He(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,t=e.l,t.g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Jb(t),t.L=!0,He(11))):(zs(e.j,e.m,n,"[Invalid Chunked Response]"),bo(e),cu(e))}function wj(e,t){var n=e.C,i=t.indexOf(`
`,n);return i==-1?vh:(n=Number(t.substring(n,i)),isNaN(n)?Tb:(i+=1,i+n>t.length?vh:(t=t.substr(i,n),e.C=i+n,t)))}function _u(e){e.Y=Date.now()+e.P,tS(e,e.P)}function tS(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=vu(Ee(e.eb,e),t)}function Rh(e){e.B&&(at.clearTimeout(e.B),e.B=null)}function cu(e){e.l.G==0||e.I||_S(e.l,e)}function bo(e){Rh(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,Vb(e.W),HT(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Ab(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||Db(n.i,e))){if(n.I=e.N,!e.J&&Db(n.i,e)&&n.G==3){try{var i=n.Ca.g.parse(t)}catch{i=null}if(Array.isArray(i)&&i.length==3){var r=i;if(r[0]==0){t:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)wh(n),Mh(n);else break t;Zb(n),He(18)}}else n.ta=r[1],0<n.ta-n.U&&37500>r[2]&&n.N&&n.A==0&&!n.v&&(n.v=vu(Ee(n.ab,n),6e3));if(1>=aS(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else yo(n,11)}else if((e.J||n.g==e)&&wh(n),!mh(t))for(r=n.Ca.g.parse(t),t=0;t<r.length;t++){var s=r[t];if(n.U=s[0],s=s[1],n.G==2)if(s[0]=="c"){n.J=s[1],n.la=s[2];var c=s[3];c!=null&&(n.ma=c,n.h.info("VER="+n.ma));var l=s[4];l!=null&&(n.za=l,n.h.info("SVER="+n.za));var d=s[5];d!=null&&typeof d=="number"&&0<d&&(i=1.5*d,n.K=i,n.h.info("backChannelRequestTimeoutMs_="+i)),i=n;var f=e.g;if(f){var m=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var v=i.i;!v.g&&(ze(m,"spdy")||ze(m,"quic")||ze(m,"h2"))&&(v.j=v.l,v.g=new Set,v.h&&($b(v,v.h),v.h=null))}if(i.D){var y=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(i.sa=y,zt(i.F,i.D,y))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms")),i=n;var _=e;if(i.oa=ES(i,i.H?i.la:null,i.W),_.J){cS(i.i,_);var I=_,E=i.K;E&&I.setTimeout(E),I.B&&(Rh(I),_u(I)),i.g=_}else bS(i);0<n.l.length&&Nh(n)}else s[0]!="stop"&&s[0]!="close"||yo(n,7);else n.G==3&&(s[0]=="stop"||s[0]=="close"?s[0]=="stop"?yo(n,7):Qb(n):s[0]!="noop"&&n.j&&n.j.wa(s),n.A=0)}}hu(4)}catch{}}function Ij(e){if(e.R&&typeof e.R=="function")return e.R();if(typeof e=="string")return e.split("");if(bb(e)){for(var t=[],n=e.length,i=0;i<n;i++)t.push(e[i]);return t}t=[],n=0;for(i in e)t[n++]=e[i];return t}function Wb(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(bb(e)||typeof e=="string")DT(e,t,void 0);else{if(e.T&&typeof e.T=="function")var n=e.T();else if(e.R&&typeof e.R=="function")n=void 0;else if(bb(e)||typeof e=="string"){n=[];for(var i=e.length,r=0;r<i;r++)n.push(r)}else for(r in n=[],i=0,e)n[i++]=r;i=Ij(e),r=i.length;for(var s=0;s<r;s++)t.call(void 0,i[s],n&&n[s],e)}}function Hs(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(e)if(e instanceof Hs)for(n=e.T(),i=0;i<n.length;i++)this.set(n[i],e.get(n[i]));else for(i in e)this.set(i,e[i])}function Gb(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var i=e.g[t];_o(e.h,i)&&(e.g[n++]=i),t++}e.g.length=n}if(e.i!=e.g.length){var r={};for(n=t=0;t<e.g.length;)i=e.g[t],_o(r,i)||(e.g[n++]=i,r[i]=1),t++;e.g.length=n}}function _o(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ej(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var i=e[n].indexOf("="),r=null;if(0<=i){var s=e[n].substring(0,i);r=e[n].substring(i+1)}else s=e[n];t(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function wo(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof wo){this.g=t!==void 0?t:e.g,bh(this,e.j),this.s=e.s,yh(this,e.i),_h(this,e.m),this.l=e.l,t=e.h;var n=new fu;n.i=t.i,t.g&&(n.g=new Hs(t.g),n.h=t.h),IT(this,n),this.o=e.o}else e&&(n=String(e).match(eS))?(this.g=!!t,bh(this,n[1]||"",!0),this.s=uu(n[2]||""),yh(this,n[3]||"",!0),_h(this,n[4]),this.l=uu(n[5]||"",!0),IT(this,n[6]||"",!0),this.o=uu(n[7]||"")):(this.g=!!t,this.h=new fu(null,this.g))}function Vi(e){return new wo(e)}function bh(e,t,n){e.j=n?uu(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function yh(e,t,n){e.i=n?uu(t,!0):t}function _h(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function IT(e,t,n){t instanceof fu?(e.h=t,kj(e.h,e.g)):(n||(t=au(t,Dj)),e.h=new fu(t,e.g))}function zt(e,t,n){e.h.set(t,n)}function kh(e){return zt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function xj(e){return e instanceof wo?Vi(e):new wo(e,void 0)}function Cj(e,t,n,i){var r=new wo(null,void 0);return e&&bh(r,e),t&&yh(r,t),n&&_h(r,n),i&&(r.l=i),r}function uu(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function au(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,Tj),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Tj(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}function fu(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function wr(e){e.g||(e.g=new Hs,e.h=0,e.i&&Ej(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function nS(e,t){wr(e),t=Ws(e,t),_o(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,e=e.g,_o(e.h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Gb(e)))}function iS(e,t){return wr(e),t=Ws(e,t),_o(e.g.h,t)}function rS(e,t,n){nS(e,t),0<n.length&&(e.i=null,e.g.set(Ws(e,t),kb(n)),e.h+=n.length)}function Ws(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function kj(e,t){t&&!e.j&&(wr(e),e.i=null,e.g.forEach(function(n,i){var r=i.toLowerCase();i!=r&&(nS(this,i),rS(this,r,n))},e)),e.j=t}function oS(e){this.l=e||Pj,at.PerformanceNavigationTiming?(e=at.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(at.g&&at.g.Ea&&at.g.Ea()&&at.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function sS(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function aS(e){return e.h?1:e.g?e.g.size:0}function Db(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function $b(e,t){e.g?e.g.add(t):e.h=t}function cS(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function uS(e){var t,n;if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){var i=e.i;try{for(var r=ST(e.g.values()),s=r.next();!s.done;s=r.next()){var c=s.value;i=i.concat(c.D)}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return i}return kb(e.i)}function Kb(){}function Mj(){this.g=new Kb}function Nj(e,t,n){var i=n||"";try{Wb(e,function(r,s){var c=r;mu(r)&&(c=jb(r)),t.push(i+s+"="+encodeURIComponent(c))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function Lj(e,t){var n=new Th;if(at.Image){var i=new Image;i.onload=ch(fh,n,i,"TestLoadImage: loaded",!0,t),i.onerror=ch(fh,n,i,"TestLoadImage: error",!1,t),i.onabort=ch(fh,n,i,"TestLoadImage: abort",!1,t),i.ontimeout=ch(fh,n,i,"TestLoadImage: timeout",!1,t),at.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=e}else t(!1)}function fh(e,t,n,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function wu(e){this.l=e.$b||null,this.j=e.ib||!1}function Oh(e,t){_e.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Yb,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}function lS(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Iu(e){e.readyState=4,e.l=null,e.j=null,e.A=null,pu(e)}function pu(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function oe(e){_e.call(this),this.headers=new Hs,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=dS,this.K=this.L=!1}function Vj(e){return qs&&ej()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}function Bj(e){return e.toLowerCase()=="content-type"}function xT(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,hS(e),Ph(e)}function hS(e){e.D||(e.D=!0,xe(e,"complete"),xe(e,"error"))}function fS(e){if(e.h&&typeof Rb<"u"&&(!e.C[1]||Ui(e)!=4||e.ba()!=2)){if(e.v&&Ui(e)==4)Bb(e.Fa,0,e);else if(xe(e,"readystatechange"),Ui(e)==4){e.h=!1;try{var t=e.ba();t:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break t;default:n=!1}var i;if(!(i=n)){var r;if(r=t===0){var s=String(e.H).match(eS)[1]||null;if(!s&&at.self&&at.self.location){var c=at.self.location.protocol;s=c.substr(0,c.length-1)}r=!jj.test(s?s.toLowerCase():"")}i=r}if(i)xe(e,"complete"),xe(e,"success");else{e.m=6;try{var l=2<Ui(e)?e.g.statusText:""}catch{l=""}e.j=l+" ["+e.ba()+"]",hS(e)}}finally{Ph(e)}}}}function Ph(e,t){if(e.g){pS(e);var n=e.g,i=e.C[0]?ph:null;e.g=null,e.C=null,t||xe(e,"ready");try{n.onreadystatechange=i}catch{}}}function pS(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(at.clearTimeout(e.A),e.A=null)}function Ui(e){return e.g?e.g.readyState:0}function CT(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case dS:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function zj(e){var t="";return Ob(e,function(n,i){t+=i,t+=":",t+=n,t+=`\r
`}),t}function Xb(e,t,n){t:{for(i in n){var i=!1;break t}i=!0}i||(n=zj(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):zt(e,t,n))}function su(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function mS(e){this.za=0,this.l=[],this.h=new Th,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=su("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=su("baseRetryDelayMs",5e3,e),this.$a=su("retryDelaySeedMs",1e4,e),this.Ya=su("forwardChannelMaxRetries",2,e),this.ra=su("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new oS(e&&e.concurrentRequestLimit),this.Ca=new Mj,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||e.Xb!==!1}function Qb(e){if(gS(e),e.G==3){var t=e.V++,n=Vi(e.F);zt(n,"SID",e.J),zt(n,"RID",t),zt(n,"TYPE","terminate"),Eu(e,n),t=new yu(e,e.h,t,void 0),t.K=2,t.v=kh(Vi(n)),n=!1,at.navigator&&at.navigator.sendBeacon&&(n=at.navigator.sendBeacon(t.v.toString(),"")),!n&&at.Image&&(new Image().src=t.v,n=!0),n||(t.g=xS(t.l,null),t.g.ea(t.v)),t.F=Date.now(),_u(t)}IS(e)}function Mh(e){e.g&&(Jb(e),e.g.cancel(),e.g=null)}function gS(e){Mh(e),e.u&&(at.clearTimeout(e.u),e.u=null),wh(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&at.clearTimeout(e.m),e.m=null)}function gb(e,t){e.l.push(new Oj(e.Za++,t)),e.G==3&&Nh(e)}function Nh(e){sS(e.i)||e.m||(e.m=!0,Ub(e.Ha,e),e.C=0)}function qj(e,t){return aS(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.l=t.D.concat(e.l),!0):e.G==1||e.G==2||e.C>=(e.Xa?0:e.Ya)?!1:(e.m=vu(Ee(e.Ha,e,t),wS(e,e.C)),e.C++,!0)}function TT(e,t){var n;t?n=t.m:n=e.V++;var i=Vi(e.F);zt(i,"SID",e.J),zt(i,"RID",n),zt(i,"AID",e.U),Eu(e,i),e.o&&e.s&&Xb(i,e.o,e.s),n=new yu(e,e.h,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=vS(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),$b(e.i,n),Sb(n,i,t)}function Eu(e,t){e.j&&Wb({},function(n,i){zt(t,i,n)})}function vS(e,t,n){n=Math.min(e.l.length,n);var i=e.j?Ee(e.j.Oa,e.j,e):null;t:for(var r=e.l,s=-1;;){var c=["count="+n];s==-1?0<n?(s=r[0].h,c.push("ofs="+s)):s=0:c.push("ofs="+s);for(var l=!0,d=0;d<n;d++){var f=r[d].h,m=r[d].g;if(f-=s,0>f)s=Math.max(0,r[d].h-100),l=!1;else try{Nj(m,c,"req"+f+"_")}catch{i&&i(m)}}if(l){i=c.join("&");break t}}return e=e.l.splice(0,n),t.D=e,i}function bS(e){e.g||e.u||(e.Y=1,Ub(e.Ga,e),e.A=0)}function Zb(e){return e.g||e.u||3<=e.A?!1:(e.Y++,e.u=vu(Ee(e.Ga,e),wS(e,e.A)),e.A++,!0)}function Jb(e){e.B!=null&&(at.clearTimeout(e.B),e.B=null)}function yS(e){e.g=new yu(e,e.h,"rpc",e.Y),e.o===null&&(e.g.H=e.s),e.g.O=0;var t=Vi(e.oa);zt(t,"RID","rpc"),zt(t,"SID",e.J),zt(t,"CI",e.N?"0":"1"),zt(t,"AID",e.U),Eu(e,t),zt(t,"TYPE","xmlhttp"),e.o&&e.s&&Xb(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=kh(Vi(t)),n.s=null,n.U=!0,QT(n,e)}function wh(e){e.v!=null&&(at.clearTimeout(e.v),e.v=null)}function _S(e,t){var n=null;if(e.g==t){wh(e),Jb(e),e.g=null;var i=2}else if(Db(e.i,t))n=t.D,cS(e.i,t),i=1;else return;if(e.I=t.N,e.G!=0){if(t.i)if(i==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var r=e.C;i=Sh(),xe(i,new $T(i,n,t,r)),Nh(e)}else bS(e);else if(r=t.o,r==3||r==0&&0<e.I||!(i==1&&qj(e,t)||i==2&&Zb(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),r){case 1:yo(e,5);break;case 4:yo(e,10);break;case 3:yo(e,6);break;default:yo(e,2)}}}function wS(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function yo(e,t){if(e.h.info("Error code "+t),t==2){var n=null;e.j&&(n=null);var i=Ee(e.jb,e);n||(n=new wo("//www.google.com/images/cleardot.gif"),at.location&&at.location.protocol=="http"||bh(n,"https"),kh(n)),Lj(n.toString(),i)}else He(2);e.G=0,e.j&&e.j.va(t),IS(e),gS(e)}function IS(e){e.G=0,e.I=-1,e.j&&((uS(e.i).length!=0||e.l.length!=0)&&(e.i.i.length=0,kb(e.l),e.l.length=0),e.j.ua())}function ES(e,t,n){var i=xj(n);if(i.i!="")t&&yh(i,t+"."+i.i),_h(i,i.m);else{var r=at.location;i=Cj(r.protocol,t?t+"."+r.hostname:r.hostname,+r.port,n)}return e.aa&&Ob(e.aa,function(s,c){zt(i,c,s)}),t=e.D,n=e.sa,t&&n&&zt(i,t,n),zt(i,"VER",e.ma),Eu(e,i),i}function xS(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ba&&!e.qa?new oe(new wu({ib:!0})):new oe(e.qa),t.L=e.H,t}function CS(){}function Ih(){if(qs&&!(10<=Number(nj)))throw Error("Environmental error: no available transport.")}function Tn(e,t){_e.call(this),this.g=new mS(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!mh(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!mh(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Gs(this)}function TS(e){qb.call(this);var t=e.__sm__;if(t){t:{for(var n in t){e=n;break t}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}function SS(){Hb.call(this),this.status=1}function Gs(e){this.g=e}var vb,q2,H,Rb,at,ub,W2,K2,Y2,AT,DT,vT,qe,db,hb,bT,Z2,qs,OT,yb,PT,J2,gh,uh,lh,dh,tj,_b,fb,nj,ij,rj,gu,oj,Mb,pb,mb,jb,lj,VT,dj,Eb,xb,BT,mj,yT,Io,_T,Ah,KT,bu,Cb,_j,Tb,vh,eS,ET,Sj,Aj,Dj,Rj,Oj,Pj,Yb,Fj,dS,jj,Uj,AS,DS,Lh,RS,kS,ty,OS,xu,PS,ey=bn(()=>{"use strict";vb=function(e,t){return vb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])},vb(e,t)};q2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Rb=Rb||{},at=q2||self;ub="closure_uid_"+(1e9*Math.random()>>>0),W2=0;K2=0,Y2={};_r.prototype.s=!1;_r.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),K2!=0)){var e=H2(this);delete Y2[e]}};_r.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};AT=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},DT=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var i=e.length,r=typeof e=="string"?e.split(""):e,s=0;s<i;s++)s in r&&t.call(n,r[s],s,e)};vT=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};t:{if(db=at.navigator,db&&(hb=db.userAgent,hb)){qe=hb;break t}qe=""}bT="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");Pb[" "]=ph;Z2=ze(qe,"Opera"),qs=ze(qe,"Trident")||ze(qe,"MSIE"),OT=ze(qe,"Edge"),yb=OT||qs,PT=ze(qe,"Gecko")&&!(ze(qe.toLowerCase(),"webkit")&&!ze(qe,"Edge"))&&!(ze(qe,"Trident")||ze(qe,"MSIE"))&&!ze(qe,"Edge"),J2=ze(qe.toLowerCase(),"webkit")&&!ze(qe,"Edge");t:{if(uh="",lh=function(){var e=qe;if(PT)return/rv:([^\);]+)(\)|;)/.exec(e);if(OT)return/Edge\/([\d\.]+)/.exec(e);if(qs)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(J2)return/WebKit\/(\S+)/.exec(e);if(Z2)return/(?:Version)[ \/]?(\S+)/.exec(e)}(),lh&&(uh=lh?lh[1]:""),qs&&(dh=MT(),dh!=null&&dh>parseFloat(uh))){gh=String(dh);break t}gh=uh}tj={};at.document&&qs?(fb=MT(),_b=fb||parseInt(gh,10)||void 0):_b=void 0;nj=_b,ij=function(){if(!at.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{at.addEventListener("test",ph,t),at.removeEventListener("test",ph,t)}catch{}return e}();Me.prototype.h=function(){this.defaultPrevented=!0};Ce(lu,Me);rj={2:"touch",3:"pen",4:"mouse"};lu.prototype.h=function(){lu.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};gu="closure_listenable_"+(1e6*Math.random()|0),oj=0;xh.prototype.add=function(e,t,n,i,r){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var c=Ib(e,t,i,r);return-1<c?(t=e[c],n||(t.fa=!1)):(t=new sj(t,this.src,s,!!i,r),t.fa=n,e.push(t)),t};Mb="closure_lm_"+(1e6*Math.random()|0),pb={};mb="__closure_events_fn_"+(1e9*Math.random()>>>0);Ce(_e,_r);_e.prototype[gu]=!0;_e.prototype.removeEventListener=function(e,t,n,i){jT(this,e,t,n,i)};_e.prototype.M=function(){if(_e.Z.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],i=0;i<n.length;i++)Eh(n[i]);delete e.g[t],e.h--}}this.I=null};_e.prototype.N=function(e,t,n,i){return this.i.add(String(e),t,!1,n,i)};_e.prototype.O=function(e,t,n,i){return this.i.add(String(e),t,!0,n,i)};jb=at.JSON.stringify;lj=function(){function e(){this.h=this.g=null}return e.prototype.add=function(t,n){var i=VT.get();i.set(t,n),this.h?this.h.next=i:this.g=i,this.h=i},e}(),VT=new(function(){function e(t,n){this.i=t,this.j=n,this.h=0,this.g=null}return e.prototype.get=function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t},e}())(function(){return new dj},function(e){return e.reset()}),dj=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(t,n){this.h=t,this.g=n,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();xb=!1,BT=new lj;Ce(Ch,_e);H=Ch.prototype;H.da=!1;H.S=null;H.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),xe(this,"tick"),this.da&&(Vb(this),this.start()))}};H.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};H.M=function(){Ch.Z.M.call(this),Vb(this),delete this.g};mj=function(e){z2(t,e);function t(n,i){var r=e.call(this)||this;return r.m=n,r.j=i,r.h=null,r.i=!1,r.g=null,r}return t.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:zT(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(at.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(_r);Ce(du,_r);yT=[];du.prototype.M=function(){du.Z.M.call(this),HT(this)};du.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};Th.prototype.Aa=function(){this.g=!1};Th.prototype.info=function(){};Io={},_T=null;Io.Ma="serverreachability";Ce(WT,Me);Io.STAT_EVENT="statevent";Ce(GT,Me);Io.Na="timingevent";Ce($T,Me);Ah={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},KT={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};zb.prototype.h=null;bu={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};Ce(qb,Me);Ce(Hb,Me);Ce(Dh,zb);Dh.prototype.g=function(){return new XMLHttpRequest};Dh.prototype.i=function(){return{}};Cb=new Dh;_j=45e3,Tb={},vh={};H=yu.prototype;H.setTimeout=function(e){this.P=e};H.gb=function(e){e=e.target;var t=this.L;t&&Ui(e)==3?t.l():this.Ia(e)};H.Ia=function(e){try{if(e==this.g)t:{var t=Ui(this.g),n=this.g.Da(),i=this.g.ba();if(!(3>t)&&(t!=3||yb||this.g&&(this.h.h||this.g.ga()||CT(this.g)))){this.I||t!=4||n==7||(n==8||0>=i?hu(3):hu(2)),Rh(this);var r=this.g.ba();this.N=r;e:if(ZT(this)){var s=CT(this.g);e="";var c=s.length,l=Ui(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){bo(this),cu(this);var d="";break e}this.h.i=new at.TextDecoder}for(n=0;n<c;n++)this.h.h=!0,e+=this.h.i.decode(s[n],{stream:l&&n==c-1});s.splice(0,c),this.h.g+=e,this.C=0,d=this.h.g}else d=this.g.ga();if(this.i=r==200,vj(this.j,this.u,this.A,this.m,this.X,t,r),this.i){if(this.$&&!this.J){e:{if(this.g){var f,m=this.g;if((f=m.g?m.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!mh(f)){var v=f;break e}}v=null}if(r=v)zs(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ab(this,r);else{this.i=!1,this.o=3,He(12),bo(this),cu(this);break t}}this.U?(JT(this,t,d),yb&&this.i&&t==3&&(qT(this.V,this.W,"tick",this.fb),this.W.start())):(zs(this.j,this.m,d,null),Ab(this,d)),t==4&&bo(this),this.i&&!this.I&&(t==4?_S(this.l,this):(this.i=!1,_u(this)))}else r==400&&0<d.indexOf("Unknown SID")?(this.o=3,He(12)):(this.o=0,He(13)),bo(this),cu(this)}}}catch{}finally{}};H.fb=function(){if(this.g){var e=Ui(this.g),t=this.g.ga();this.C<t.length&&(Rh(this),JT(this,e,t),this.i&&e!=4&&_u(this))}};H.cancel=function(){this.I=!0,bo(this)};H.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(bj(this.j,this.A),this.K!=2&&(hu(3),He(17)),bo(this),this.o=2,cu(this)):tS(this,this.Y-e)};H=Hs.prototype;H.R=function(){Gb(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e};H.T=function(){return Gb(this),this.g.concat()};H.get=function(e,t){return _o(this.h,e)?this.h[e]:t};H.set=function(e,t){_o(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t};H.forEach=function(e,t){for(var n=this.T(),i=0;i<n.length;i++){var r=n[i],s=this.get(r);e.call(t,s,r,this)}};eS=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;wo.prototype.toString=function(){var e=[],t=this.j;t&&e.push(au(t,ET,!0),":");var n=this.i;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(au(t,ET,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&e.push("/"),e.push(au(n,n.charAt(0)=="/"?Aj:Sj,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",au(n,Rj)),e.join("")};ET=/[#\/\?@]/g,Sj=/[#\?:]/g,Aj=/[#\?]/g,Dj=/[#\?@]/g,Rj=/#/g;H=fu.prototype;H.add=function(e,t){wr(this),this.i=null,e=Ws(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};H.forEach=function(e,t){wr(this),this.g.forEach(function(n,i){DT(n,function(r){e.call(t,r,i,this)},this)},this)};H.T=function(){wr(this);for(var e=this.g.R(),t=this.g.T(),n=[],i=0;i<t.length;i++)for(var r=e[i],s=0;s<r.length;s++)n.push(t[i]);return n};H.R=function(e){wr(this);var t=[];if(typeof e=="string")iS(this,e)&&(t=gT(t,this.g.get(Ws(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=gT(t,e[n])}return t};H.set=function(e,t){return wr(this),this.i=null,e=Ws(this,e),iS(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};H.get=function(e,t){return e?(e=this.R(e),0<e.length?String(e[0]):t):t};H.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var i=t[n],r=encodeURIComponent(String(i));i=this.R(i);for(var s=0;s<i.length;s++){var c=r;i[s]!==""&&(c+="="+encodeURIComponent(String(i[s]))),e.push(c)}}return this.i=e.join("&")};Oj=function(){function e(t,n){this.h=t,this.g=n}return e}();Pj=10;oS.prototype.cancel=function(){var e,t;if(this.i=uS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){try{for(var n=ST(this.g.values()),i=n.next();!i.done;i=n.next()){var r=i.value;r.cancel()}}catch(s){e={error:s}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}};Kb.prototype.stringify=function(e){return at.JSON.stringify(e,void 0)};Kb.prototype.parse=function(e){return at.JSON.parse(e,void 0)};Ce(wu,zb);wu.prototype.g=function(){return new Oh(this.l,this.j)};wu.prototype.i=function(e){return function(){return e}}({});Ce(Oh,_e);Yb=0;H=Oh.prototype;H.open=function(e,t){if(this.readyState!=Yb)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,pu(this)};H.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||at).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))};H.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Iu(this)),this.readyState=Yb};H.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,pu(this)),this.g&&(this.readyState=3,pu(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof at.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;lS(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))};H.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Iu(this):pu(this),this.readyState==3&&lS(this)}};H.Ua=function(e){this.g&&(this.response=this.responseText=e,Iu(this))};H.Ta=function(e){this.g&&(this.response=e,Iu(this))};H.ha=function(){this.g&&Iu(this)};H.setRequestHeader=function(e,t){this.v.append(e,t)};H.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};H.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};Object.defineProperty(Oh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});Fj=at.JSON.parse;Ce(oe,_e);dS="",jj=/^https?$/i,Uj=["POST","PUT"];H=oe.prototype;H.ea=function(e,t,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Cb.g(),this.C=this.u?wT(this.u):wT(Cb),this.g.onreadystatechange=Ee(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){xT(this,s);return}e=n||"";var r=new Hs(this.headers);i&&Wb(i,function(s,c){r.set(c,s)}),i=X2(r.T()),n=at.FormData&&e instanceof at.FormData,!(0<=AT(Uj,t))||i||n||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(s,c){this.g.setRequestHeader(c,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{pS(this),0<this.B&&((this.K=Vj(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ee(this.pa,this)):this.A=Bb(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){xT(this,s)}};H.pa=function(){typeof Rb<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,xe(this,"timeout"),this.abort(8))};H.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,xe(this,"complete"),xe(this,"abort"),Ph(this))};H.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ph(this,!0)),oe.Z.M.call(this)};H.Fa=function(){this.s||(this.F||this.v||this.l?fS(this):this.cb())};H.cb=function(){fS(this)};H.ba=function(){try{return 2<Ui(this)?this.g.status:-1}catch{return-1}};H.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};H.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),Fj(t)}};H.Da=function(){return this.m};H.La=function(){return typeof this.j=="string"?this.j:String(this.j)};H=mS.prototype;H.ma=8;H.G=1;H.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch{}};H.Ha=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new yu(this,this.h,e,void 0),n=this.s;if(this.P&&(n?(n=RT(n),kT(n,this.P)):n=this.P),this.o===null&&(t.H=n),this.ja)t:{for(var i=0,r=0;r<this.l.length;r++){e:{var s=this.l[r];if("__data__"in s.g&&(s=s.g.__data__,typeof s=="string")){s=s.length;break e}s=void 0}if(s===void 0)break;if(i+=s,4096<i){i=r;break t}if(i===4096||r===this.l.length-1){i=r+1;break t}}i=1e3}else i=1e3;i=vS(this,t,i),r=Vi(this.F),zt(r,"RID",e),zt(r,"CVER",22),this.D&&zt(r,"X-HTTP-Session-Id",this.D),Eu(this,r),this.o&&n&&Xb(r,this.o,n),$b(this.i,t),this.Ra&&zt(r,"TYPE","init"),this.ja?(zt(r,"$req",i),zt(r,"SID","null"),t.$=!0,Sb(t,r,null)):Sb(t,r,i),this.G=2}}else this.G==3&&(e?TT(this,e):this.l.length==0||sS(this.i)||TT(this))};H.Ga=function(){if(this.u=null,yS(this),this.$&&!(this.L||this.g==null||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=vu(Ee(this.bb,this),e)}};H.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,He(10),Mh(this),yS(this))};H.ab=function(){this.v!=null&&(this.v=null,Mh(this),Zb(this),He(19))};H.jb=function(e){e?(this.h.info("Successfully pinged google.com"),He(2)):(this.h.info("Failed to ping google.com"),He(1))};H=CS.prototype;H.xa=function(){};H.wa=function(){};H.va=function(){};H.ua=function(){};H.Oa=function(){};Ih.prototype.g=function(e,t){return new Tn(e,t)};Ce(Tn,_e);Tn.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Ub(Ee(e.hb,e,t))),He(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=ES(e,null,e.W),Nh(e)};Tn.prototype.close=function(){Qb(this.g)};Tn.prototype.u=function(e){if(typeof e=="string"){var t={};t.__data__=e,gb(this.g,t)}else this.v?(t={},t.__data__=jb(e),gb(this.g,t)):gb(this.g,e)};Tn.prototype.M=function(){this.g.j=null,delete this.j,Qb(this.g),delete this.g,Tn.Z.M.call(this)};Ce(TS,qb);Ce(SS,Hb);Ce(Gs,CS);Gs.prototype.xa=function(){xe(this.g,"a")};Gs.prototype.wa=function(e){xe(this.g,new TS(e))};Gs.prototype.va=function(e){xe(this.g,new SS(e))};Gs.prototype.ua=function(){xe(this.g,"b")};Ih.prototype.createWebChannel=Ih.prototype.g;Tn.prototype.send=Tn.prototype.u;Tn.prototype.open=Tn.prototype.m;Tn.prototype.close=Tn.prototype.close;Ah.NO_ERROR=0;Ah.TIMEOUT=8;Ah.HTTP_ERROR=6;KT.COMPLETE="complete";YT.EventType=bu;bu.OPEN="a";bu.CLOSE="b";bu.ERROR="c";bu.MESSAGE="d";_e.prototype.listen=_e.prototype.N;oe.prototype.listenOnce=oe.prototype.O;oe.prototype.getLastError=oe.prototype.La;oe.prototype.getLastErrorCode=oe.prototype.Da;oe.prototype.getStatus=oe.prototype.ba;oe.prototype.getResponseJson=oe.prototype.Qa;oe.prototype.getResponseText=oe.prototype.ga;oe.prototype.send=oe.prototype.ea;AS=function(){return new Ih},DS=function(){return Sh()},Lh=Ah,RS=KT,kS=Io,ty={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},OS=wu,xu=YT,PS=oe});function sy(){return ri.logLevel}function j(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(ri.logLevel<=xt.DEBUG){var i=t.map(_y);ri.debug.apply(ri,Nt(["Firestore (8.10.1): "+e],i))}}function ce(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(ri.logLevel<=xt.ERROR){var i=t.map(_y);ri.error.apply(ri,Nt(["Firestore (8.10.1): "+e],i))}}function $h(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(ri.logLevel<=xt.WARN){var i=t.map(_y);ri.warn.apply(ri,Nt(["Firestore (8.10.1): "+e],i))}}function _y(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}var t}function X(e){e===void 0&&(e="Unexpected state");var t="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+e;throw ce(t),new Error(t)}function ot(e,t){e||X()}function z(e,t){return e}function Hj(e){var t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(var i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}function _t(e,t){return e<t?-1:e>t?1:0}function Js(e,t,n){return e.length===t.length&&e.every(function(i,r){return n(i,t[r])})}function q1(e){return e+"\0"}function MS(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Oo(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function H1(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Or(e){if(ot(!!e),typeof e=="string"){var t=0,n=Gj.exec(e);if(ot(!!n),n[1]){var i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}var r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ae(e.seconds),nanos:ae(e.nanos)}}function ae(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function ea(e){return typeof e=="string"?$e.fromBase64String(e):$e.fromUint8Array(e)}function wy(e){var t,n;return((n=(((t=e?.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function G1(e){var t=e.mapValue.fields.__previous_value__;return wy(t)?G1(t):t}function Ru(e){var t=Or(e.mapValue.fields.__local_write_time__.timestampValue);return new Ge(t.seconds,t.nanos)}function Po(e){return e==null}function Kh(e){return e===0&&1/e==-1/0}function $1(e){return typeof e=="number"&&Number.isInteger(e)&&!Kh(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function Ao(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?wy(e)?4:10:X()}function Ci(e,t){var n=Ao(e);if(n!==Ao(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ru(e).isEqual(Ru(t));case 3:return function(i,r){if(typeof i.timestampValue=="string"&&typeof r.timestampValue=="string"&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;var s=Or(i.timestampValue),c=Or(r.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,r){return ea(i.bytesValue).isEqual(ea(r.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,r){return ae(i.geoPointValue.latitude)===ae(r.geoPointValue.latitude)&&ae(i.geoPointValue.longitude)===ae(r.geoPointValue.longitude)}(e,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return ae(i.integerValue)===ae(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){var s=ae(i.doubleValue),c=ae(r.doubleValue);return s===c?Kh(s)===Kh(c):isNaN(s)&&isNaN(c)}return!1}(e,t);case 9:return Js(e.arrayValue.values||[],t.arrayValue.values||[],Ci);case 10:return function(i,r){var s=i.mapValue.fields||{},c=r.mapValue.fields||{};if(MS(s)!==MS(c))return!1;for(var l in s)if(s.hasOwnProperty(l)&&(c[l]===void 0||!Ci(s[l],c[l])))return!1;return!0}(e,t);default:return X()}}function ku(e,t){return(e.values||[]).find(function(n){return Ci(n,t)})!==void 0}function na(e,t){var n=Ao(e),i=Ao(t);if(n!==i)return _t(n,i);switch(n){case 0:return 0;case 1:return _t(e.booleanValue,t.booleanValue);case 2:return function(r,s){var c=ae(r.integerValue||r.doubleValue),l=ae(s.integerValue||s.doubleValue);return c<l?-1:c>l?1:c===l?0:isNaN(c)?isNaN(l)?0:-1:1}(e,t);case 3:return NS(e.timestampValue,t.timestampValue);case 4:return NS(Ru(e),Ru(t));case 5:return _t(e.stringValue,t.stringValue);case 6:return function(r,s){var c=ea(r),l=ea(s);return c.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(r,s){for(var c=r.split("/"),l=s.split("/"),d=0;d<c.length&&d<l.length;d++){var f=_t(c[d],l[d]);if(f!==0)return f}return _t(c.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(r,s){var c=_t(ae(r.latitude),ae(s.latitude));return c!==0?c:_t(ae(r.longitude),ae(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(r,s){for(var c=r.values||[],l=s.values||[],d=0;d<c.length&&d<l.length;++d){var f=na(c[d],l[d]);if(f)return f}return _t(c.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(r,s){var c=r.fields||{},l=Object.keys(c),d=s.fields||{},f=Object.keys(d);l.sort(),f.sort();for(var m=0;m<l.length&&m<f.length;++m){var v=_t(l[m],f[m]);if(v!==0)return v;var y=na(c[l[m]],d[f[m]]);if(y!==0)return y}return _t(l.length,f.length)}(e.mapValue,t.mapValue);default:throw X()}}function NS(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return _t(e,t);var n=Or(e),i=Or(t),r=_t(n.seconds,i.seconds);return r!==0?r:_t(n.nanos,i.nanos)}function Iy(e){return ay(e)}function ay(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(i){var r=Or(i);return"time("+r.seconds+","+r.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?ea(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,J.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(i){for(var r="[",s=!0,c=0,l=i.values||[];c<l.length;c++)s?s=!1:r+=",",r+=ay(l[c]);return r+"]"}(e.arrayValue):"mapValue"in e?function(i){for(var r="{",s=!0,c=0,l=Object.keys(i.fields||{}).sort();c<l.length;c++){var d=l[c];s?s=!1:r+=",",r+=d+":"+ay(i.fields[d])}return r+"}"}(e.mapValue):X();var t,n}function Yh(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function cy(e){return!!e&&"integerValue"in e}function Ey(e){return!!e&&"arrayValue"in e}function LS(e){return!!e&&"nullValue"in e}function FS(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Bh(e){return!!e&&"mapValue"in e}function Su(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Oo(e.mapValue.fields,function(r,s){return t.mapValue.fields[r]=Su(s)}),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},i=0;i<(e.arrayValue.values||[]).length;++i)n.arrayValue.values[i]=Su(e.arrayValue.values[i]);return n}return Object.assign({},e)}function K1(e){var t=[];return Oo(e.fields,function(n,i){var r=new si([n]);if(Bh(i)){var s=K1(i.mapValue).fields;if(s.length===0)t.push(r);else for(var c=0,l=s;c<l.length;c++){var d=l[c];t.push(r.child(d))}}else t.push(r)}),new ta(t)}function jS(e,t,n,i,r,s,c){return t===void 0&&(t=null),n===void 0&&(n=[]),i===void 0&&(i=[]),r===void 0&&(r=null),s===void 0&&(s=null),c===void 0&&(c=null),new $j(e,t,n,i,r,s,c)}function Vu(e){var t=z(e);if(t.h===null){var n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(i){return function(r){return r.field.canonicalString()+r.op.toString()+Iy(r.value)}(i)}).join(","),n+="|ob:",n+=t.orderBy.map(function(i){return function(r){return r.field.canonicalString()+r.dir}(i)}).join(","),Po(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Qh(t.startAt)),t.endAt&&(n+="|ub:",n+=Qh(t.endAt)),t.h=n}return t.h}function lf(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!eU(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var i=0;i<e.filters.length;i++)if(r=e.filters[i],s=t.filters[i],r.op!==s.op||!r.field.isEqual(s.field)||!Ci(r.value,s.value))return!1;var r,s;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!VS(e.startAt,t.startAt)&&VS(e.endAt,t.endAt)}function Xh(e){return J.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}function Y1(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(i){return J.fromName(i.referenceValue)})}function Qh(e){return(e.before?"b":"a")+":"+e.position.map(function(t){return Iy(t)}).join(",")}function eU(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function US(e,t,n){for(var i=0,r=0;r<e.position.length;r++){var s=t[r],c=e.position[r];if(i=s.field.isKeyField()?J.comparator(J.fromName(c.referenceValue),n.key):na(c,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return e.before?i<=0:i<0}function VS(e,t){if(e===null)return t===null;if(t===null||e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Ci(e.position[n],t.position[n]))return!1;return!0}function X1(e,t,n,i,r,s,c,l){return new Hi(e,t,n,i,r,s,c,l)}function ba(e){return new Hi(e)}function zh(e){return!Po(e.limit)&&e.limitType==="F"}function Zh(e){return!Po(e.limit)&&e.limitType==="L"}function xy(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Cy(e){for(var t=0,n=e.filters;t<n.length;t++){var i=n[t];if(i.g())return i.field}return null}function Ty(e){return e.collectionGroup!==null}function ia(e){var t=z(e);if(t.p===null){t.p=[];var n=Cy(t),i=xy(t);if(n!==null&&i===null)n.isKeyField()||t.p.push(new Zs(n)),t.p.push(new Zs(si.keyField(),"asc"));else{for(var r=!1,s=0,c=t.explicitOrderBy;s<c.length;s++){var l=c[s];t.p.push(l),l.field.isKeyField()&&(r=!0)}if(!r){var d=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new Zs(si.keyField(),d))}}}return t.p}function Bn(e){var t=z(e);if(!t.T)if(t.limitType==="F")t.T=jS(t.path,t.collectionGroup,ia(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],i=0,r=ia(t);i<r.length;i++){var s=r[i],c=s.dir==="desc"?"asc":"desc";n.push(new Zs(s.field,c))}var l=t.endAt?new Ou(t.endAt.position,!t.endAt.before):null,d=t.startAt?new Ou(t.startAt.position,!t.startAt.before):null;t.T=jS(t.path,t.collectionGroup,n,t.filters,t.limit,l,d)}return t.T}function Q1(e,t,n){return new Hi(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Bu(e,t){return lf(Bn(e),Bn(t))&&e.limitType===t.limitType}function Z1(e){return Vu(Bn(e))+"|lt:"+e.limitType}function uy(e){return"Query(target="+function(t){var n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=", filters: ["+t.filters.map(function(i){return(r=i).field.canonicalString()+" "+r.op+" "+Iy(r.value);var r}).join(", ")+"]"),Po(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=", orderBy: ["+t.orderBy.map(function(i){return function(r){return r.field.canonicalString()+" ("+r.dir+")"}(i)}).join(", ")+"]"),t.startAt&&(n+=", startAt: "+Qh(t.startAt)),t.endAt&&(n+=", endAt: "+Qh(t.endAt)),"Target("+n+")"}(Bn(e))+"; limitType="+e.limitType+")"}function zu(e,t){return t.isFoundDocument()&&function(n,i){var r=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(r):J.isDocumentKey(n.path)?n.path.isEqual(r):n.path.isImmediateParentOf(r)}(e,t)&&function(n,i){for(var r=0,s=n.explicitOrderBy;r<s.length;r++){var c=s[r];if(!c.field.isKeyField()&&i.data.field(c.field)===null)return!1}return!0}(e,t)&&function(n,i){for(var r=0,s=n.filters;r<s.length;r++)if(!s[r].matches(i))return!1;return!0}(e,t)&&function(n,i){return!(n.startAt&&!US(n.startAt,ia(n),i))&&(!n.endAt||!US(n.endAt,ia(n),i))}(e,t)}function J1(e){return function(t,n){for(var i=!1,r=0,s=ia(e);r<s.length;r++){var c=s[r],l=nU(c,t,n);if(l!==0)return l;i=i||c.field.isKeyField()}return 0}}function nU(e,t,n){var i=e.field.isKeyField()?J.comparator(t.key,n.key):function(r,s,c){var l=s.data.field(r),d=c.data.field(r);return l!==null&&d!==null?na(l,d):X()}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return X()}}function tA(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kh(t)?"-0":t}}function eA(e){return{integerValue:""+e}}function nA(e,t){return $1(t)?eA(t):tA(e,t)}function iU(e,t,n){return e instanceof ra?function(i,r){var s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(s.fields.__previous_value__=r),{mapValue:s}}(n,t):e instanceof Do?rA(e,t):e instanceof Ro?oA(e,t):function(i,r){var s=iA(i,r),c=BS(s)+BS(i.A);return cy(s)&&cy(i.A)?eA(c):tA(i.R,c)}(e,t)}function rU(e,t,n){return e instanceof Do?rA(e,t):e instanceof Ro?oA(e,t):n}function iA(e,t){return e instanceof oa?cy(n=t)||function(i){return!!i&&"doubleValue"in i}(n)?t:{integerValue:0}:null;var n}function rA(e,t){for(var n=sA(t),i=function(c){n.some(function(l){return Ci(l,c)})||n.push(c)},r=0,s=e.elements;r<s.length;r++)i(s[r]);return{arrayValue:{values:n}}}function oA(e,t){for(var n=sA(t),i=function(c){n=n.filter(function(l){return!Ci(l,c)})},r=0,s=e.elements;r<s.length;r++)i(s[r]);return{arrayValue:{values:n}}}function BS(e){return ae(e.integerValue||e.doubleValue)}function sA(e){return Ey(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function qh(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}function sU(e,t,n){e instanceof Hu?function(i,r,s){var c=i.value.clone(),l=HS(i.fieldTransforms,r,s.transformResults);c.setAll(l),r.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(e,t,n):e instanceof Mr?function(i,r,s){if(qh(i.precondition,r)){var c=HS(i.fieldTransforms,r,s.transformResults),l=r.data;l.setAll(aA(i)),l.setAll(c),r.convertToFoundDocument(s.version,l).setHasCommittedMutations()}else r.convertToUnknownDocument(s.version)}(e,t,n):function(i,r,s){r.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function ly(e,t,n){e instanceof Hu?function(i,r,s){if(qh(i.precondition,r)){var c=i.value.clone(),l=WS(i.fieldTransforms,s,r);c.setAll(l),r.convertToFoundDocument(qS(r),c).setHasLocalMutations()}}(e,t,n):e instanceof Mr?function(i,r,s){if(qh(i.precondition,r)){var c=WS(i.fieldTransforms,s,r),l=r.data;l.setAll(aA(i)),l.setAll(c),r.convertToFoundDocument(qS(r),l).setHasLocalMutations()}}(e,t,n):function(i,r){qh(i.precondition,r)&&r.convertToNoDocument(vt.min())}(e,t)}function aU(e,t){for(var n=null,i=0,r=e.fieldTransforms;i<r.length;i++){var s=r[i],c=t.data.field(s.field),l=iA(s.transform,c||null);l!=null&&(n==null&&(n=Dn.empty()),n.set(s.field,l))}return n||null}function zS(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Js(n,i,function(r,s){return function(c,l){return c.field.isEqual(l.field)&&function(d,f){return d instanceof Do&&f instanceof Do||d instanceof Ro&&f instanceof Ro?Js(d.elements,f.elements,Ci):d instanceof oa&&f instanceof oa?Ci(d.A,f.A):d instanceof ra&&f instanceof ra}(c.transform,l.transform)}(r,s)})}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function qS(e){return e.isFoundDocument()?e.version:vt.min()}function aA(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var i=e.data.field(n);t.set(n,i)}}),t}function HS(e,t,n){var i=new Map;ot(e.length===n.length);for(var r=0;r<n.length;r++){var s=e[r],c=s.transform,l=t.data.field(s.field);i.set(s.field,rU(c,l,n[r]))}return i}function WS(e,t,n){for(var i=new Map,r=0,s=e;r<s.length;r++){var c=s[r],l=c.transform,d=n.data.field(c.field);i.set(c.field,iU(l,d,t))}return i}function cA(e){switch(e){case T.OK:return X();case T.CANCELLED:case T.UNKNOWN:case T.DEADLINE_EXCEEDED:case T.RESOURCE_EXHAUSTED:case T.INTERNAL:case T.UNAVAILABLE:case T.UNAUTHENTICATED:return!1;case T.INVALID_ARGUMENT:case T.NOT_FOUND:case T.ALREADY_EXISTS:case T.PERMISSION_DENIED:case T.FAILED_PRECONDITION:case T.ABORTED:case T.OUT_OF_RANGE:case T.UNIMPLEMENTED:case T.DATA_LOSS:return!0;default:return X()}}function uA(e){if(e===void 0)return ce("GRPC error has no .code"),T.UNKNOWN;switch(e){case se.OK:return T.OK;case se.CANCELLED:return T.CANCELLED;case se.UNKNOWN:return T.UNKNOWN;case se.DEADLINE_EXCEEDED:return T.DEADLINE_EXCEEDED;case se.RESOURCE_EXHAUSTED:return T.RESOURCE_EXHAUSTED;case se.INTERNAL:return T.INTERNAL;case se.UNAVAILABLE:return T.UNAVAILABLE;case se.UNAUTHENTICATED:return T.UNAUTHENTICATED;case se.INVALID_ARGUMENT:return T.INVALID_ARGUMENT;case se.NOT_FOUND:return T.NOT_FOUND;case se.ALREADY_EXISTS:return T.ALREADY_EXISTS;case se.PERMISSION_DENIED:return T.PERMISSION_DENIED;case se.FAILED_PRECONDITION:return T.FAILED_PRECONDITION;case se.ABORTED:return T.ABORTED;case se.OUT_OF_RANGE:return T.OUT_OF_RANGE;case se.UNIMPLEMENTED:return T.UNIMPLEMENTED;case se.DATA_LOSS:return T.DATA_LOSS;default:return X()}}function Vn(){return uU}function dy(){return lU}function lA(){return dU}function kt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=hU,i=0,r=e;i<r.length;i++){var s=r[i];n=n.add(s)}return n}function ff(){return fU}function KS(){return new Ue(J.comparator)}function YS(){return new Ue(J.comparator)}function Pu(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function fA(e,t){return e.I?t.toBase64():t.toUint8Array()}function bU(e,t){return Pu(e,t.toTimestamp())}function Se(e){return ot(!!e),vt.fromTimestamp(function(t){var n=Or(t);return new Ge(n.seconds,n.nanos)}(e))}function Ry(e,t){return function(n){return new Ct(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function pA(e){var t=Ct.fromString(e);return ot(IA(t)),t}function Mu(e,t){return Ry(e.databaseId,t.path)}function Ei(e,t){var n=pA(t);if(n.get(1)!==e.databaseId.projectId)throw new P(T.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new P(T.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new J(gA(n))}function hy(e,t){return Ry(e.databaseId,t)}function mA(e){var t=pA(e);return t.length===4?Ct.emptyPath():gA(t)}function Nu(e){return new Ct(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function gA(e){return ot(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function XS(e,t,n){return{name:Mu(e,t),fields:n.value.mapValue.fields}}function vA(e,t,n){var i=Ei(e,t.name),r=Se(t.updateTime),s=new Dn({mapValue:{fields:t.fields}}),c=De.newFoundDocument(i,r,s);return n&&c.setHasCommittedMutations(),n?c.setHasCommittedMutations():c}function Jh(e,t){var n;if(t instanceof Hu)n={update:XS(e,t.key,t.value)};else if(t instanceof Wu)n={delete:Mu(e,t.key)};else if(t instanceof Mr)n={update:XS(e,t.key,t.data),updateMask:EU(t.fieldMask)};else{if(!(t instanceof Sy))return X();n={verify:Mu(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(i){return function(r,s){var c=s.transform;if(c instanceof ra)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Do)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Ro)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof oa)return{fieldPath:s.field.canonicalString(),increment:c.A};throw X()}(0,i)})),t.precondition.isNone||(n.currentDocument=function(i,r){return r.updateTime!==void 0?{updateTime:bU(i,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:X()}(e,t.precondition)),n}function QS(e,t){var n=t.currentDocument?function(f){return f.updateTime!==void 0?Fe.updateTime(Se(f.updateTime)):f.exists!==void 0?Fe.exists(f.exists):Fe.none()}(t.currentDocument):Fe.none(),i=t.updateTransforms?t.updateTransforms.map(function(f){return function(m,v){var y=null;if("setToServerValue"in v)ot(v.setToServerValue==="REQUEST_TIME"),y=new ra;else if("appendMissingElements"in v){var _=v.appendMissingElements.values||[];y=new Do(_)}else if("removeAllFromArray"in v){var I=v.removeAllFromArray.values||[];y=new Ro(I)}else"increment"in v?y=new oa(m,v.increment):X();var E=si.fromServerFormat(v.fieldPath);return new qu(E,y)}(e,f)}):[];if(t.update){t.update.name;var r=Ei(e,t.update.name),s=new Dn({mapValue:{fields:t.update.fields}});if(t.updateMask){var c=function(f){var m=f.fieldPaths||[];return new ta(m.map(function(v){return si.fromServerFormat(v)}))}(t.updateMask);return new Mr(r,s,c,n,i)}return new Hu(r,s,n,i)}if(t.delete){var l=Ei(e,t.delete);return new Wu(l,n)}if(t.verify){var d=Ei(e,t.verify);return new Sy(d,n)}return X()}function bA(e,t){return{documents:[hy(e,t.path)]}}function yA(e,t){var n={structuredQuery:{}},i=t.path;t.collectionGroup!==null?(n.parent=hy(e,i),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=hy(e,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);var r=function(l){if(l.length!==0){var d=l.map(function(f){return function(m){if(m.op==="=="){if(FS(m.value))return{unaryFilter:{field:$s(m.field),op:"IS_NAN"}};if(LS(m.value))return{unaryFilter:{field:$s(m.field),op:"IS_NULL"}}}else if(m.op==="!="){if(FS(m.value))return{unaryFilter:{field:$s(m.field),op:"IS_NOT_NAN"}};if(LS(m.value))return{unaryFilter:{field:$s(m.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$s(m.field),op:_U(m.op),value:m.value}}}(f)});return d.length===1?d[0]:{compositeFilter:{op:"AND",filters:d}}}}(t.filters);r&&(n.structuredQuery.where=r);var s=function(l){if(l.length!==0)return l.map(function(d){return function(f){return{field:$s(f.field),direction:yU(f.dir)}}(d)})}(t.orderBy);s&&(n.structuredQuery.orderBy=s);var c=function(l,d){return l.I||Po(d)?d:{value:d}}(e,t.limit);return c!==null&&(n.structuredQuery.limit=c),t.startAt&&(n.structuredQuery.startAt=ZS(t.startAt)),t.endAt&&(n.structuredQuery.endAt=ZS(t.endAt)),n}function _A(e){var t=mA(e.parent),n=e.structuredQuery,i=n.from?n.from.length:0,r=null;if(i>0){ot(i===1);var s=n.from[0];s.allDescendants?r=s.collectionId:t=t.child(s.collectionId)}var c=[];n.where&&(c=wA(n.where));var l=[];n.orderBy&&(l=n.orderBy.map(function(v){return function(y){return new Zs(Qs(y.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(v)}));var d=null;n.limit&&(d=function(v){var y;return Po(y=typeof v=="object"?v.value:v)?null:y}(n.limit));var f=null;n.startAt&&(f=JS(n.startAt));var m=null;return n.endAt&&(m=JS(n.endAt)),X1(t,r,l,c,d,"F",f,m)}function wA(e){return e?e.unaryFilter!==void 0?[IU(e)]:e.fieldFilter!==void 0?[wU(e)]:e.compositeFilter!==void 0?e.compositeFilter.filters.map(function(t){return wA(t)}).reduce(function(t,n){return t.concat(n)}):X():[]}function ZS(e){return{before:e.before,values:e.position}}function JS(e){var t=!!e.before,n=e.values||[];return new Ou(n,t)}function yU(e){return mU[e]}function _U(e){return gU[e]}function $s(e){return{fieldPath:e.canonicalString()}}function Qs(e){return si.fromServerFormat(e.fieldPath)}function wU(e){return kn.create(Qs(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return X()}}(e.fieldFilter.op),e.fieldFilter.value)}function IU(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Qs(e.unaryFilter.field);return kn.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Qs(e.unaryFilter.field);return kn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var i=Qs(e.unaryFilter.field);return kn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var r=Qs(e.unaryFilter.field);return kn.create(r,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return X()}}function EU(e){var t=[];return e.fields.forEach(function(n){return t.push(n.canonicalString())}),{fieldPaths:t}}function IA(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}function oi(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=t1(t)),t=xU(e.get(n),t);return t1(t)}function xU(e,t){for(var n=t,i=e.length,r=0;r<i;r++){var s=e.charAt(r);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function t1(e){return e+""}function Bi(e){var t=e.length;if(ot(t>=2),t===2)return ot(e.charAt(0)===""&&e.charAt(1)===""),Ct.emptyPath();for(var n=t-2,i=[],r="",s=0;s<t;){var c=e.indexOf("",s);switch((c<0||c>n)&&X(),e.charAt(c+1)){case"":var l=e.substring(s,c),d=void 0;r.length===0?d=l:(d=r+=l,r=""),i.push(d);break;case"":r+=e.substring(s,c),r+="\0";break;case"":r+=e.substring(s,c+1);break;default:X()}s=c+2}return new Ct(i)}function Mo(e){return e.name==="IndexedDbTransactionError"}function Eo(e){return new M(function(t,n){e.onsuccess=function(i){var r=i.target.result;t(r)},e.onerror=function(i){var r=ky(i.target.error);n(r)}})}function ky(e){var t=ca._t(vr());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var i=new P("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return e1||(e1=!0,setTimeout(function(){throw i},0)),i}}return e}function fn(e,t){var n=z(e);return ca.It(n.Mt,t)}function fy(e,t){if(t.document)return vA(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=J.fromSegments(t.noDocument.path),i=la(t.noDocument.readTime),r=De.newNoDocument(n,i);return t.hasCommittedMutations?r.setHasCommittedMutations():r}if(t.unknownDocument){var s=J.fromSegments(t.unknownDocument.path);return i=la(t.unknownDocument.version),De.newUnknownDocument(s,i)}return X()}function i1(e,t,n){var i=Py(n),r=t.key.path.popLast().toArray();if(t.isFoundDocument()){var s=function(v,y){return{name:Mu(v,y.key),fields:y.data.value.mapValue.fields,updateTime:Pu(v,y.version.toTimestamp())}}(e.Lt,t),c=t.hasCommittedMutations;return new Xt(null,null,s,c,i,r)}if(t.isNoDocument()){var l=t.key.path.toArray(),d=ua(t.version);return c=t.hasCommittedMutations,new Xt(null,new TU(l,d),null,c,i,r)}if(t.isUnknownDocument()){var f=t.key.path.toArray(),m=ua(t.version);return new Xt(new SU(f,m),null,null,!0,i,r)}return X()}function Py(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function SA(e){var t=new Ge(e[0],e[1]);return vt.fromTimestamp(t)}function ua(e){var t=e.toTimestamp();return new CU(t.seconds,t.nanoseconds)}function la(e){var t=new Ge(e.seconds,e.nanoseconds);return vt.fromTimestamp(t)}function Ys(e,t){for(var n=(t.baseMutations||[]).map(function(d){return QS(e.Lt,d)}),i=0;i<t.mutations.length-1;++i){var r=t.mutations[i];if(i+1<t.mutations.length&&t.mutations[i+1].transform!==void 0){var s=t.mutations[i+1];r.updateTransforms=s.transform.fieldTransforms,t.mutations.splice(i+1,1),++i}}var c=t.mutations.map(function(d){return QS(e.Lt,d)}),l=Ge.fromMillis(t.localWriteTimeMs);return new Oy(t.batchId,l,n,c)}function Tu(e){var t,n,i=la(e.readTime),r=e.lastLimboFreeSnapshotVersion!==void 0?la(e.lastLimboFreeSnapshotVersion):vt.min();return e.query.documents!==void 0?(ot((n=e.query).documents.length===1),t=Bn(ba(mA(n.documents[0])))):t=function(s){return Bn(_A(s))}(e.query),new pf(t,e.targetId,0,e.lastListenSequenceNumber,i,r,$e.fromBase64String(e.resumeToken))}function AA(e,t){var n,i=ua(t.snapshotVersion),r=ua(t.lastLimboFreeSnapshotVersion);n=Xh(t.target)?bA(e.Lt,t.target):yA(e.Lt,t.target);var s=t.resumeToken.toBase64();return new hn(t.targetId,Vu(t.target),i,s,t.sequenceNumber,r,n)}function My(e){var t=_A({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Q1(t,t.limit,"L"):t}function r1(e){return fn(e,sa.store)}function o1(e){return fn(e,aa.store)}function s1(e){return fn(e,To.store)}function DA(e,t,n){var i=e.store(Ft.store),r=e.store(Ne.store),s=[],c=IDBKeyRange.only(n.batchId),l=0,d=i.$t({range:c},function(I,E,C){return l++,C.delete()});s.push(d.next(function(){ot(l===1)}));for(var f=[],m=0,v=n.mutations;m<v.length;m++){var y=v[m],_=Ne.key(t,y.key.path,n.batchId);s.push(r.delete(_)),f.push(y.key)}return M.waitFor(s).next(function(){return f})}function tf(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw X();t=e.noDocument}return JSON.stringify(t).length}function RA(e,t,n){var i=Ne.prefixForPath(t,n.path),r=i[1],s=IDBKeyRange.lowerBound(i),c=!1;return Xs(e).$t({range:s,Ft:!0},function(l,d,f){var m=l[0],v=l[1];l[2],m===t&&v===r&&(c=!0),f.done()}).next(function(){return c})}function Ir(e){return fn(e,Ft.store)}function Xs(e){return fn(e,Ne.store)}function kA(e){return fn(e,Dr.store)}function Ks(e){return fn(e,hn.store)}function c1(e){return fn(e,An.store)}function Tr(e){return fn(e,Ae.store)}function No(e){return D(this,void 0,void 0,function(){return A(this,function(t){if(e.code!==T.FAILED_PRECONDITION||e.message!==EA)throw e;return j("LocalStore","Unexpectedly lost primary lease"),[2]})})}function u1(e,t){var n=e[0],i=e[1],r=t[0],s=t[1],c=_t(n,r);return c===0?_t(i,s):c}function jh(e,t){return Tr(e).put(function(n,i){return new Ae(0,oi(n.path),i)}(t,e.currentSequenceNumber))}function l1(e){return fn(e,Ii.store)}function xr(e){return fn(e,Xt.store)}function Uh(e){return e.path.toArray()}function d1(e){e.createObjectStore(Ae.store,{keyPath:Ae.keyPath}).createIndex(Ae.documentTargetsIndex,Ae.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(hn.store,{keyPath:hn.keyPath}).createIndex(hn.queryTargetsIndexName,hn.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(An.store)}function Cu(e){return fn(e,Sn.store)}function Vh(e){return fn(e,zi.store)}function Ly(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}function NA(e,t,n,i){return new $U(e,t,n,i)}function LA(e,t){return D(this,void 0,void 0,function(){var n,i,r,s;return A(this,function(c){switch(c.label){case 0:return n=z(e),i=n._n,r=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(l){var d;return n._n.getAllMutationBatches(l).next(function(f){return d=f,i=n.persistence.getMutationQueue(t),r=new PA(n.On,i,n.persistence.getIndexManager()),i.getAllMutationBatches(l)}).next(function(f){for(var m=[],v=[],y=kt(),_=0,I=d;_<I.length;_++){var E=I[_];m.push(E.batchId);for(var C=0,k=E.mutations;C<k.length;C++){var L=k[C];y=y.add(L.key)}}for(var B=0,et=f;B<et.length;B++){var ut=et[B];v.push(ut.batchId);for(var F=0,Ot=ut.mutations;F<Ot.length;F++){var Gn=Ot[F];y=y.add(Gn.key)}}return r.pn(l,y).next(function(K){return{Ln:K,removedBatchIds:m,addedBatchIds:v}})})})];case 1:return s=c.sent(),[2,(n._n=i,n.Mn=r,n.xn.Vn(n.Mn),s)]}})})}function KU(e,t){var n=z(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(i){var r=t.batch.keys(),s=n.On.newChangeBuffer({trackRemovals:!0});return function(c,l,d,f){var m=d.batch,v=m.keys(),y=M.resolve();return v.forEach(function(_){y=y.next(function(){return f.getEntry(l,_)}).next(function(I){var E=d.docVersions.get(_);ot(E!==null),I.version.compareTo(E)<0&&(m.applyToRemoteDocument(I,d),I.isValidDocument()&&f.addEntry(I,d.commitVersion))})}),y.next(function(){return c._n.removeMutationBatch(l,m)})}(n,i,t,s).next(function(){return s.apply(i)}).next(function(){return n._n.performConsistencyCheck(i)}).next(function(){return n.Mn.pn(i,r)})})}function FA(e){var t=z(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return t.qe.getLastRemoteSnapshotVersion(n)})}function YU(e,t){var n=z(e),i=t.snapshotVersion,r=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(s){var c=n.On.newChangeBuffer({trackRemovals:!0});r=n.kn;var l=[];t.targetChanges.forEach(function(m,v){var y=r.get(v);if(y){l.push(n.qe.removeMatchingKeys(s,m.removedDocuments,v).next(function(){return n.qe.addMatchingKeys(s,m.addedDocuments,v)}));var _=m.resumeToken;if(_.approximateByteSize()>0){var I=y.withResumeToken(_,i).withSequenceNumber(s.currentSequenceNumber);r=r.insert(v,I),function(E,C,k){return ot(C.resumeToken.approximateByteSize()>0),E.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=3e8||k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(y,I,m)&&l.push(n.qe.updateTargetData(s,I))}}});var d=Vn();if(t.documentUpdates.forEach(function(m,v){t.resolvedLimboDocuments.has(m)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,m))}),l.push(jA(s,c,t.documentUpdates,i,void 0).next(function(m){d=m})),!i.isEqual(vt.min())){var f=n.qe.getLastRemoteSnapshotVersion(s).next(function(m){return n.qe.setTargetsMetadata(s,s.currentSequenceNumber,i)});l.push(f)}return M.waitFor(l).next(function(){return c.apply(s)}).next(function(){return n.Mn.En(s,d)}).next(function(){return d})}).then(function(s){return n.kn=r,s})}function jA(e,t,n,i,r){var s=kt();return n.forEach(function(c){return s=s.add(c)}),t.getEntries(e,s).next(function(c){var l=Vn();return n.forEach(function(d,f){var m=c.get(d),v=r?.get(d)||i;f.isNoDocument()&&f.version.isEqual(vt.min())?(t.removeEntry(d,v),l=l.insert(d,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(t.addEntry(f,v),l=l.insert(d,f)):j("LocalStore","Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",f.version)}),l})}function XU(e,t){var n=z(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(i){return t===void 0&&(t=-1),n._n.getNextMutationBatchAfterBatchId(i,t)})}function da(e,t){var n=z(e);return n.persistence.runTransaction("Allocate target","readwrite",function(i){var r;return n.qe.getTargetData(i,t).next(function(s){return s?(r=s,M.resolve(r)):n.qe.allocateTargetId(i).next(function(c){return r=new pf(t,c,0,i.currentSequenceNumber),n.qe.addTargetData(i,r).next(function(){return r})})})}).then(function(i){var r=n.kn.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.kn=n.kn.insert(i.targetId,i),n.Fn.set(t,i.targetId)),i})}function ha(e,t,n){return D(this,void 0,void 0,function(){var i,r,s,c;return A(this,function(l){switch(l.label){case 0:i=z(e),r=i.kn.get(t),s=n?"readwrite":"readwrite-primary",l.label=1;case 1:return l.trys.push([1,4,,5]),n?[3,3]:[4,i.persistence.runTransaction("Release target",s,function(d){return i.persistence.referenceDelegate.removeTarget(d,r)})];case 2:l.sent(),l.label=3;case 3:return[3,5];case 4:if(!Mo(c=l.sent()))throw c;return j("LocalStore","Failed to update sequence numbers for target "+t+": "+c),[3,5];case 5:return i.kn=i.kn.remove(t),i.Fn.delete(r.target),[2]}})})}function nf(e,t,n){var i=z(e),r=vt.min(),s=kt();return i.persistence.runTransaction("Execute query","readonly",function(c){return function(l,d,f){var m=z(l),v=m.Fn.get(f);return v!==void 0?M.resolve(m.kn.get(v)):m.qe.getTargetData(d,f)}(i,c,Bn(t)).next(function(l){if(l)return r=l.lastLimboFreeSnapshotVersion,i.qe.getMatchingKeysForTargetId(c,l.targetId).next(function(d){s=d})}).next(function(){return i.xn.getDocumentsMatchingQuery(c,t,n?r:vt.min(),n?s:kt())}).next(function(l){return{documents:l,Bn:s}})})}function UA(e,t){var n=z(e),i=z(n.qe),r=n.kn.get(t);return r?Promise.resolve(r.target):n.persistence.runTransaction("Get target data","readonly",function(s){return i.lt(s,t).next(function(c){return c?c.target:null})})}function VA(e){var t=z(e);return t.persistence.runTransaction("Get new document changes","readonly",function(n){return function(i,r,s){var c=z(i),l=Vn(),d=Py(s),f=xr(r),m=IDBKeyRange.lowerBound(d,!0);return f.$t({index:Xt.readTimeIndex,range:m},function(v,y){var _=fy(c.R,y);l=l.insert(_.key,_),d=y.readTime}).next(function(){return{wn:l,readTime:SA(d)}})}(t.On,n,t.$n)}).then(function(n){var i=n.wn,r=n.readTime;return t.$n=r,i})}function QU(e){return D(this,void 0,void 0,function(){var t;return A(this,function(n){return[2,(t=z(e)).persistence.runTransaction("Synchronize last document change read time","readonly",function(i){return function(r){var s=xr(r),c=vt.min();return s.$t({index:Xt.readTimeIndex,reverse:!0},function(l,d,f){d.readTime&&(c=SA(d.readTime)),f.done()}).next(function(){return c})}(i)}).then(function(i){t.$n=i})]})})}function ZU(e,t,n,i){return D(this,void 0,void 0,function(){var r,s,c,l,d,f,m,v,y,_;return A(this,function(I){switch(I.label){case 0:for(r=z(e),s=kt(),c=Vn(),l=lA(),d=0,f=n;d<f.length;d++)m=f[d],v=t.qn(m.metadata.name),m.document&&(s=s.add(v)),c=c.insert(v,t.Un(m)),l=l.insert(v,t.Kn(m.metadata.readTime));return y=r.On.newChangeBuffer({trackRemovals:!0}),[4,da(r,function(E){return Bn(ba(Ct.fromString("__bundle__/docs/"+E)))}(i))];case 1:return _=I.sent(),[2,r.persistence.runTransaction("Apply bundle documents","readwrite",function(E){return jA(E,y,c,vt.min(),l).next(function(C){return y.apply(E),C}).next(function(C){return r.qe.removeMatchingKeysForTargetId(E,_.targetId).next(function(){return r.qe.addMatchingKeys(E,s,_.targetId)}).next(function(){return r.Mn.En(E,C)}).next(function(){return C})})})]}})})}function JU(e,t,n){return n===void 0&&(n=kt()),D(this,void 0,void 0,function(){var i,r;return A(this,function(s){switch(s.label){case 0:return[4,da(e,Bn(My(t.bundledQuery)))];case 1:return i=s.sent(),[2,(r=z(e)).persistence.runTransaction("Save named query","readwrite",function(c){var l=Se(t.readTime);if(i.snapshotVersion.compareTo(l)>=0)return r.Ke.saveNamedQuery(c,t);var d=i.withResumeToken($e.EMPTY_BYTE_STRING,l);return r.kn=r.kn.insert(d.targetId,d),r.qe.updateTargetData(c,d).next(function(){return r.qe.removeMatchingKeysForTargetId(c,i.targetId)}).next(function(){return r.qe.addMatchingKeys(c,n,i.targetId)}).next(function(){return r.Ke.saveNamedQuery(c,t)})})]}})})}function h1(e,t){return"firestore_clients_"+e+"_"+t}function f1(e,t,n){var i="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(i+="_"+t.uid),i}function iy(e,t){return"firestore_targets_"+e+"_"+t}function zA(){return typeof window<"u"?window:null}function Wh(){return typeof document<"u"?document:null}function mf(e){return new vU(e,!0)}function Gu(e){return D(this,void 0,void 0,function(){var t,n;return A(this,function(i){switch(i.label){case 0:if(!Nr(e))return[3,4];t=0,n=e.Mr,i.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:i.sent(),i.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function _a(e){return D(this,void 0,void 0,function(){var t,n;return A(this,function(i){switch(i.label){case 0:t=0,n=e.Mr,i.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:i.sent(),i.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function gf(e,t){var n=z(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),By(n)?Vy(n):Ia(n).er()&&Uy(n,t))}function Lu(e,t){var n=z(e),i=Ia(n);n.$r.delete(t),i.er()&&HA(n,t),n.$r.size===0&&(i.er()?i.ir():Nr(n)&&n.Br.set("Unknown"))}function Uy(e,t){e.qr.U(t.targetId),Ia(e).mr(t)}function HA(e,t){e.qr.U(t),Ia(e).yr(t)}function Vy(e){e.qr=new pU({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),Ia(e).start(),e.Br.Sr()}function By(e){return Nr(e)&&!Ia(e).tr()&&e.$r.size>0}function Nr(e){return z(e).Or.size===0}function WA(e){e.qr=void 0}function b4(e){return D(this,void 0,void 0,function(){return A(this,function(t){return e.$r.forEach(function(n,i){Uy(e,n)}),[2]})})}function y4(e,t){return D(this,void 0,void 0,function(){return A(this,function(n){return WA(e),By(e)?(e.Br.Nr(t),Vy(e)):e.Br.set("Unknown"),[2]})})}function _4(e,t,n){return D(this,void 0,void 0,function(){var i,r,s;return A(this,function(c){switch(c.label){case 0:if(e.Br.set("Online"),!(t instanceof hA&&t.state===2&&t.cause))return[3,6];c.label=1;case 1:return c.trys.push([1,3,,5]),[4,function(l,d){return D(this,void 0,void 0,function(){var f,m,v,y;return A(this,function(_){switch(_.label){case 0:f=d.cause,m=0,v=d.targetIds,_.label=1;case 1:return m<v.length?(y=v[m],l.$r.has(y)?[4,l.remoteSyncer.rejectListen(y,f)]:[3,3]):[3,5];case 2:_.sent(),l.$r.delete(y),l.qr.removeTarget(y),_.label=3;case 3:_.label=4;case 4:return m++,[3,1];case 5:return[2]}})})}(e,t)];case 2:return c.sent(),[3,5];case 3:return i=c.sent(),j("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),[4,rf(e,i)];case 4:return c.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof Hh?e.qr.X(t):t instanceof dA?e.qr.rt(t):e.qr.et(t),n.isEqual(vt.min()))return[3,13];c.label=7;case 7:return c.trys.push([7,11,,13]),[4,FA(e.localStore)];case 8:return r=c.sent(),n.compareTo(r)>=0?[4,function(l,d){var f=l.qr.ut(d);return f.targetChanges.forEach(function(m,v){if(m.resumeToken.approximateByteSize()>0){var y=l.$r.get(v);y&&l.$r.set(v,y.withResumeToken(m.resumeToken,d))}}),f.targetMismatches.forEach(function(m){var v=l.$r.get(m);if(v){l.$r.set(m,v.withResumeToken($e.EMPTY_BYTE_STRING,v.snapshotVersion)),HA(l,m);var y=new pf(v.target,m,1,v.sequenceNumber);Uy(l,y)}}),l.remoteSyncer.applyRemoteEvent(f)}(e,n)]:[3,10];case 9:c.sent(),c.label=10;case 10:return[3,13];case 11:return j("RemoteStore","Failed to raise snapshot:",s=c.sent()),[4,rf(e,s)];case 12:return c.sent(),[3,13];case 13:return[2]}})})}function rf(e,t,n){return D(this,void 0,void 0,function(){var i=this;return A(this,function(r){switch(r.label){case 0:if(!Mo(t))throw t;return e.Or.add(1),[4,_a(e)];case 1:return r.sent(),e.Br.set("Offline"),n||(n=function(){return FA(e.localStore)}),e.asyncQueue.enqueueRetryable(function(){return D(i,void 0,void 0,function(){return A(this,function(s){switch(s.label){case 0:return j("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return s.sent(),e.Or.delete(1),[4,Gu(e)];case 2:return s.sent(),[2]}})})}),[2]}})})}function GA(e,t){return t().catch(function(n){return rf(e,n,t)})}function wa(e){return D(this,void 0,void 0,function(){var t,n,i,r,s;return A(this,function(c){switch(c.label){case 0:t=z(e),n=Pr(t),i=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,c.label=1;case 1:if(!function(l){return Nr(l)&&l.Fr.length<10}(t))return[3,7];c.label=2;case 2:return c.trys.push([2,4,,6]),[4,XU(t.localStore,i)];case 3:return(r=c.sent())===null?(t.Fr.length===0&&n.ir(),[3,7]):(i=r.batchId,function(l,d){l.Fr.push(d);var f=Pr(l);f.er()&&f.pr&&f.Er(d.mutations)}(t,r),[3,6]);case 4:return s=c.sent(),[4,rf(t,s)];case 5:return c.sent(),[3,6];case 6:return[3,1];case 7:return $A(t)&&KA(t),[2]}})})}function $A(e){return Nr(e)&&!Pr(e).tr()&&e.Fr.length>0}function KA(e){Pr(e).start()}function w4(e){return D(this,void 0,void 0,function(){return A(this,function(t){return Pr(e).Ar(),[2]})})}function I4(e){return D(this,void 0,void 0,function(){var t,n,i,r;return A(this,function(s){for(t=Pr(e),n=0,i=e.Fr;n<i.length;n++)r=i[n],t.Er(r.mutations);return[2]})})}function E4(e,t,n){return D(this,void 0,void 0,function(){var i,r;return A(this,function(s){switch(s.label){case 0:return i=e.Fr.shift(),r=kU.from(i,t,n),[4,GA(e,function(){return e.remoteSyncer.applySuccessfulWrite(r)})];case 1:return s.sent(),[4,wa(e)];case 2:return s.sent(),[2]}})})}function x4(e,t){return D(this,void 0,void 0,function(){return A(this,function(n){switch(n.label){case 0:return t&&Pr(e).pr?[4,function(i,r){return D(this,void 0,void 0,function(){var s,c;return A(this,function(l){switch(l.label){case 0:return cA(c=r.code)&&c!==T.ABORTED?(s=i.Fr.shift(),Pr(i).sr(),[4,GA(i,function(){return i.remoteSyncer.rejectFailedWrite(s.batchId,r)})]):[3,3];case 1:return l.sent(),[4,wa(i)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return $A(e)&&KA(e),[2]}})})}function my(e,t){return D(this,void 0,void 0,function(){var n;return A(this,function(i){switch(i.label){case 0:return n=z(e),t?(n.Or.delete(2),[4,Gu(n)]):[3,2];case 1:return i.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,_a(n)]);case 3:i.sent(),n.Br.set("Unknown"),i.label=4;case 4:i.label=5;case 5:return[2]}})})}function Ia(e){var t=this;return e.Ur||(e.Ur=function(n,i,r){var s=z(n);return s.br(),new f4(i,s.Hi,s.credentials,s.R,r)}(e.datastore,e.asyncQueue,{Ii:b4.bind(null,e),Ri:y4.bind(null,e),_r:_4.bind(null,e)}),e.Mr.push(function(n){return D(t,void 0,void 0,function(){return A(this,function(i){switch(i.label){case 0:return n?(e.Ur.sr(),By(e)?Vy(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:i.sent(),WA(e),i.label=3;case 3:return[2]}})})})),e.Ur}function Pr(e){var t=this;return e.Kr||(e.Kr=function(n,i,r){var s=z(n);return s.br(),new p4(i,s.Hi,s.credentials,s.R,r)}(e.datastore,e.asyncQueue,{Ii:w4.bind(null,e),Ri:x4.bind(null,e),Ir:I4.bind(null,e),Tr:E4.bind(null,e)}),e.Mr.push(function(n){return D(t,void 0,void 0,function(){return A(this,function(i){switch(i.label){case 0:return n?(e.Kr.sr(),[4,wa(e)]):[3,2];case 1:return i.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:i.sent(),e.Fr.length>0&&(j("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),i.label=4;case 4:return[2]}})})})),e.Kr}function Ea(e,t){if(ce("AsyncQueue",t+": "+e),Mo(e))return new P(T.UNAVAILABLE,t+": "+e);throw e}function zy(e,t){return D(this,void 0,void 0,function(){var n,i,r,s,c,l,d;return A(this,function(f){switch(f.label){case 0:if(n=z(e),i=t.query,r=!1,(s=n.queries.get(i))||(r=!0,s=new T4),!r)return[3,4];f.label=1;case 1:return f.trys.push([1,3,,4]),c=s,[4,n.onListen(i)];case 2:return c.Wr=f.sent(),[3,4];case 3:return l=f.sent(),d=Ea(l,"Initialization of query '"+uy(t.query)+"' failed"),[2,void t.onError(d)];case 4:return n.queries.set(i,s),s.listeners.push(t),t.zr(n.onlineState),s.Wr&&t.Hr(s.Wr)&&Hy(n),[2]}})})}function qy(e,t){return D(this,void 0,void 0,function(){var n,i,r,s,c;return A(this,function(l){return n=z(e),i=t.query,r=!1,(s=n.queries.get(i))&&(c=s.listeners.indexOf(t))>=0&&(s.listeners.splice(c,1),r=s.listeners.length===0),r?[2,(n.queries.delete(i),n.onUnlisten(i))]:[2]})})}function A4(e,t){for(var n=z(e),i=!1,r=0,s=t;r<s.length;r++){var c=s[r],l=c.query,d=n.queries.get(l);if(d){for(var f=0,m=d.listeners;f<m.length;f++)m[f].Hr(c)&&(i=!0);d.Wr=c}}i&&Hy(n)}function D4(e,t,n){var i=z(e),r=i.queries.get(t);if(r)for(var s=0,c=r.listeners;s<c.length;s++)c[s].onError(n);i.queries.delete(t)}function Hy(e){e.Gr.forEach(function(t){t.next()})}function k4(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}function N4(e,t){return D(this,void 0,void 0,function(){var n,i,r,s,c,l;return A(this,function(d){switch(d.label){case 0:return n=Xy(e),(s=n.Po.get(t))?(i=s.targetId,n.sharedClientState.addLocalQueryTarget(i),r=s.view.Ro(),[3,4]):[3,1];case 1:return[4,da(n.localStore,Bn(t))];case 2:return c=d.sent(),l=n.sharedClientState.addLocalQueryTarget(c.targetId),i=c.targetId,[4,Gy(n,t,i,l==="current")];case 3:r=d.sent(),n.isPrimaryClient&&gf(n.remoteStore,c),d.label=4;case 4:return[2,r]}})})}function Gy(e,t,n,i){return D(this,void 0,void 0,function(){var r,s,c,l,d,f;return A(this,function(m){switch(m.label){case 0:return e.Oo=function(v,y,_){return function(I,E,C,k){return D(this,void 0,void 0,function(){var L,B,et;return A(this,function(ut){switch(ut.label){case 0:return L=E.view._o(C),L.Nn?[4,nf(I.localStore,E.query,!1).then(function(F){var Ot=F.documents;return E.view._o(Ot,L)})]:[3,2];case 1:L=ut.sent(),ut.label=2;case 2:return B=k&&k.targetChanges.get(E.targetId),et=E.view.applyChanges(L,I.isPrimaryClient,B),[2,(gy(I,E.targetId,et.To),et.snapshot)]}})})}(e,v,y,_)},[4,nf(e.localStore,t,!0)];case 1:return r=m.sent(),s=new ZA(t,r.Bn),c=s._o(r.documents),l=Dy.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline"),d=s.applyChanges(c,e.isPrimaryClient,l),gy(e,n,d.To),f=new O4(t,n,s),[2,(e.Po.set(t,f),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),d.snapshot)]}})})}function L4(e,t){return D(this,void 0,void 0,function(){var n,i,r;return A(this,function(s){switch(s.label){case 0:return n=z(e),i=n.Po.get(t),(r=n.Vo.get(i.targetId)).length>1?[2,(n.Vo.set(i.targetId,r.filter(function(c){return!Bu(c,t)})),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)?[3,2]:[4,ha(n.localStore,i.targetId,!1).then(function(){n.sharedClientState.clearQueryState(i.targetId),Lu(n.remoteStore,i.targetId),fa(n,i.targetId)}).catch(No)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return fa(n,i.targetId),[4,ha(n.localStore,i.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function F4(e,t,n){return D(this,void 0,void 0,function(){var i,r,s,c;return A(this,function(l){switch(l.label){case 0:i=Qy(e),l.label=1;case 1:return l.trys.push([1,5,,6]),[4,function(d,f){var m,v=z(d),y=Ge.now(),_=f.reduce(function(I,E){return I.add(E.key)},kt());return v.persistence.runTransaction("Locally write mutations","readwrite",function(I){return v.Mn.pn(I,_).next(function(E){m=E;for(var C=[],k=0,L=f;k<L.length;k++){var B=L[k],et=aU(B,m.get(B.key));et!=null&&C.push(new Mr(B.key,et,K1(et.value.mapValue),Fe.exists(!0)))}return v._n.addMutationBatch(I,y,C,f)})}).then(function(I){return I.applyToLocalDocumentSet(m),{batchId:I.batchId,changes:m}})}(i.localStore,t)];case 2:return r=l.sent(),i.sharedClientState.addPendingMutation(r.batchId),function(d,f,m){var v=d.xo[d.currentUser.toKey()];v||(v=new Ue(_t)),v=v.insert(f,m),d.xo[d.currentUser.toKey()]=v}(i,r.batchId,n),[4,Lr(i,r.changes)];case 3:return l.sent(),[4,wa(i.remoteStore)];case 4:return l.sent(),[3,6];case 5:return s=l.sent(),c=Ea(s,"Failed to persist write"),n.reject(c),[3,6];case 6:return[2]}})})}function JA(e,t){return D(this,void 0,void 0,function(){var n,i;return A(this,function(r){switch(r.label){case 0:n=z(e),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,YU(n.localStore,t)];case 2:return i=r.sent(),t.targetChanges.forEach(function(s,c){var l=n.Co.get(c);l&&(ot(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.bo=!0:s.modifiedDocuments.size>0?ot(l.bo):s.removedDocuments.size>0&&(ot(l.bo),l.bo=!1))}),[4,Lr(n,i,t)];case 3:return r.sent(),[3,6];case 4:return[4,No(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}})})}function y1(e,t,n){var i=z(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){var r=[];i.Po.forEach(function(s,c){var l=c.view.zr(t);l.snapshot&&r.push(l.snapshot)}),function(s,c){var l=z(s);l.onlineState=c;var d=!1;l.queries.forEach(function(f,m){for(var v=0,y=m.listeners;v<y.length;v++)y[v].zr(c)&&(d=!0)}),d&&Hy(l)}(i.eventManager,t),r.length&&i.vo._r(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function j4(e,t,n){return D(this,void 0,void 0,function(){var i,r,s,c,l,d;return A(this,function(f){switch(f.label){case 0:return(i=z(e)).sharedClientState.updateQueryState(t,"rejected",n),r=i.Co.get(t),(s=r&&r.key)?(c=(c=new Ue(J.comparator)).insert(s,De.newNoDocument(s,vt.min())),l=kt().add(s),d=new Ay(vt.min(),new Map,new me(_t),c,l),[4,JA(i,d)]):[3,2];case 1:return f.sent(),i.Do=i.Do.remove(s),i.Co.delete(t),Yy(i),[3,4];case 2:return[4,ha(i.localStore,t,!1).then(function(){return fa(i,t,n)}).catch(No)];case 3:f.sent(),f.label=4;case 4:return[2]}})})}function U4(e,t){return D(this,void 0,void 0,function(){var n,i,r;return A(this,function(s){switch(s.label){case 0:n=z(e),i=t.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,KU(n.localStore,t)];case 2:return r=s.sent(),Ky(n,i,null),$y(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),[4,Lr(n,r)];case 3:return s.sent(),[3,6];case 4:return[4,No(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function V4(e,t,n){return D(this,void 0,void 0,function(){var i,r;return A(this,function(s){switch(s.label){case 0:i=z(e),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(c,l){var d=z(c);return d.persistence.runTransaction("Reject batch","readwrite-primary",function(f){var m;return d._n.lookupMutationBatch(f,l).next(function(v){return ot(v!==null),m=v.keys(),d._n.removeMutationBatch(f,v)}).next(function(){return d._n.performConsistencyCheck(f)}).next(function(){return d.Mn.pn(f,m)})})}(i.localStore,t)];case 2:return r=s.sent(),Ky(i,t,n),$y(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),[4,Lr(i,r)];case 3:return s.sent(),[3,6];case 4:return[4,No(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function B4(e,t){return D(this,void 0,void 0,function(){var n,i,r,s,c;return A(this,function(l){switch(l.label){case 0:Nr((n=z(e)).remoteStore)||j("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,function(d){var f=z(d);return f.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(m){return f._n.getHighestUnacknowledgedBatchId(m)})}(n.localStore)];case 2:return(i=l.sent())===-1?[2,void t.resolve()]:((r=n.ko.get(i)||[]).push(t),n.ko.set(i,r),[3,4]);case 3:return s=l.sent(),c=Ea(s,"Initialization of waitForPendingWrites() operation failed"),t.reject(c),[3,4];case 4:return[2]}})})}function $y(e,t){(e.ko.get(t)||[]).forEach(function(n){n.resolve()}),e.ko.delete(t)}function Ky(e,t,n){var i=z(e),r=i.xo[i.currentUser.toKey()];if(r){var s=r.get(t);s&&(n?s.reject(n):s.resolve(),r=r.remove(t)),i.xo[i.currentUser.toKey()]=r}}function fa(e,t,n){n===void 0&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var i=0,r=e.Vo.get(t);i<r.length;i++){var s=r[i];e.Po.delete(s),n&&e.vo.Mo(s,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach(function(c){e.No.containsKey(c)||tD(e,c)})}function tD(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);n!==null&&(Lu(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),Yy(e))}function gy(e,t,n){for(var i=0,r=n;i<r.length;i++){var s=r[i];s instanceof XA?(e.No.addReference(s.key,t),z4(e,s)):s instanceof QA?(j("SyncEngine","Document no longer in limbo: "+s.key),e.No.removeReference(s.key,t),e.No.containsKey(s.key)||tD(e,s.key)):X()}}function z4(e,t){var n=t.key,i=n.path.canonicalString();e.Do.get(n)||e.So.has(i)||(j("SyncEngine","New document in limbo: "+n),e.So.add(i),Yy(e))}function Yy(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new J(Ct.fromString(t)),i=e.Fo.next();e.Co.set(i,new P4(n)),e.Do=e.Do.insert(n,i),gf(e.remoteStore,new pf(Bn(ba(n.path)),i,2,Rn.o))}}function Lr(e,t,n){return D(this,void 0,void 0,function(){var i,r,s,c;return A(this,function(l){switch(l.label){case 0:return i=z(e),r=[],s=[],c=[],i.Po.isEmpty()?[3,3]:(i.Po.forEach(function(d,f){c.push(i.Oo(f,t,n).then(function(m){if(m){i.isPrimaryClient&&i.sharedClientState.updateQueryState(f.targetId,m.fromCache?"not-current":"current"),r.push(m);var v=GU.Pn(f.targetId,m);s.push(v)}}))}),[4,Promise.all(c)]);case 1:return l.sent(),i.vo._r(r),[4,function(d,f){return D(this,void 0,void 0,function(){var m,v,y,_,I,E,C,k,L;return A(this,function(B){switch(B.label){case 0:m=z(d),B.label=1;case 1:return B.trys.push([1,3,,4]),[4,m.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(et){return M.forEach(f,function(ut){return M.forEach(ut.bn,function(F){return m.persistence.referenceDelegate.addReference(et,ut.targetId,F)}).next(function(){return M.forEach(ut.vn,function(F){return m.persistence.referenceDelegate.removeReference(et,ut.targetId,F)})})})})];case 2:return B.sent(),[3,4];case 3:if(!Mo(v=B.sent()))throw v;return j("LocalStore","Failed to update sequence numbers: "+v),[3,4];case 4:for(y=0,_=f;y<_.length;y++)I=_[y],E=I.targetId,I.fromCache||(C=m.kn.get(E),k=C.snapshotVersion,L=C.withLastLimboFreeSnapshotVersion(k),m.kn=m.kn.insert(E,L));return[2]}})})}(i.localStore,s)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function q4(e,t){return D(this,void 0,void 0,function(){var n,i;return A(this,function(r){switch(r.label){case 0:return(n=z(e)).currentUser.isEqual(t)?[3,3]:(j("SyncEngine","User change. New user:",t.toKey()),[4,LA(n.localStore,t)]);case 1:return i=r.sent(),n.currentUser=t,function(s,c){s.ko.forEach(function(l){l.forEach(function(d){d.reject(new P(T.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ko.clear()}(n),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),[4,Lr(n,i.Ln)];case 2:r.sent(),r.label=3;case 3:return[2]}})})}function H4(e,t){var n=z(e),i=n.Co.get(t);if(i&&i.bo)return kt().add(i.key);var r=kt(),s=n.Vo.get(t);if(!s)return r;for(var c=0,l=s;c<l.length;c++){var d=l[c],f=n.Po.get(d);r=r.unionWith(f.view.wo)}return r}function W4(e,t){return D(this,void 0,void 0,function(){var n,i,r;return A(this,function(s){switch(s.label){case 0:return[4,nf((n=z(e)).localStore,t.query,!0)];case 1:return i=s.sent(),r=t.view.Ao(i),[2,(n.isPrimaryClient&&gy(n,t.targetId,r.To),r)]}})})}function G4(e){return D(this,void 0,void 0,function(){var t;return A(this,function(n){return[2,VA((t=z(e)).localStore).then(function(i){return Lr(t,i)})]})})}function $4(e,t,n,i){return D(this,void 0,void 0,function(){var r,s;return A(this,function(c){switch(c.label){case 0:return[4,function(l,d){var f=z(l),m=z(f._n);return f.persistence.runTransaction("Lookup mutation documents","readonly",function(v){return m.jt(v,d).next(function(y){return y?f.Mn.pn(v,y):M.resolve(null)})})}((r=z(e)).localStore,t)];case 1:return(s=c.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,wa(r.remoteStore)];case 2:return c.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(Ky(r,t,i||null),$y(r,t),function(l,d){z(z(l)._n).Gt(d)}(r.localStore,t)):X(),c.label=4;case 4:return[4,Lr(r,s)];case 5:return c.sent(),[3,7];case 6:j("SyncEngine","Cannot apply mutation batch with id: "+t),c.label=7;case 7:return[2]}})})}function K4(e,t){return D(this,void 0,void 0,function(){var n,i,r,s,c,l,d,f;return A(this,function(m){switch(m.label){case 0:return Xy(n=z(e)),Qy(n),t!==!0||n.$o===!0?[3,3]:(i=n.sharedClientState.getAllActiveQueryTargets(),[4,_1(n,i.toArray())]);case 1:return r=m.sent(),n.$o=!0,[4,my(n.remoteStore,!0)];case 2:for(m.sent(),s=0,c=r;s<c.length;s++)l=c[s],gf(n.remoteStore,l);return[3,7];case 3:return t!==!1||n.$o===!1?[3,7]:(d=[],f=Promise.resolve(),n.Vo.forEach(function(v,y){n.sharedClientState.isLocalQueryTarget(y)?d.push(y):f=f.then(function(){return fa(n,y),ha(n.localStore,y,!0)}),Lu(n.remoteStore,y)}),[4,f]);case 4:return m.sent(),[4,_1(n,d)];case 5:return m.sent(),function(v){var y=z(v);y.Co.forEach(function(_,I){Lu(y.remoteStore,I)}),y.No.ts(),y.Co=new Map,y.Do=new Ue(J.comparator)}(n),n.$o=!1,[4,my(n.remoteStore,!1)];case 6:m.sent(),m.label=7;case 7:return[2]}})})}function _1(e,t,n){return D(this,void 0,void 0,function(){var i,r,s,c,l,d,f,m,v,y,_,I,E,C;return A(this,function(k){switch(k.label){case 0:i=z(e),r=[],s=[],c=0,l=t,k.label=1;case 1:return c<l.length?(d=l[c],f=void 0,(m=i.Vo.get(d))&&m.length!==0?[4,da(i.localStore,Bn(m[0]))]:[3,7]):[3,13];case 2:f=k.sent(),v=0,y=m,k.label=3;case 3:return v<y.length?(_=y[v],I=i.Po.get(_),[4,W4(i,I)]):[3,6];case 4:(E=k.sent()).snapshot&&s.push(E.snapshot),k.label=5;case 5:return v++,[3,3];case 6:return[3,11];case 7:return[4,UA(i.localStore,d)];case 8:return C=k.sent(),[4,da(i.localStore,C)];case 9:return f=k.sent(),[4,Gy(i,eD(C),d,!1)];case 10:k.sent(),k.label=11;case 11:r.push(f),k.label=12;case 12:return c++,[3,1];case 13:return[2,(i.vo._r(s),r)]}})})}function eD(e){return X1(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Y4(e){var t=z(e);return z(z(t.localStore).persistence).fn()}function X4(e,t,n,i){return D(this,void 0,void 0,function(){var r,s,c;return A(this,function(l){switch(l.label){case 0:return(r=z(e)).$o?(j("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!r.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,VA(r.localStore)];case 3:return s=l.sent(),c=Ay.createSynthesizedRemoteEventForCurrentChange(t,n==="current"),[4,Lr(r,s,c)];case 4:return l.sent(),[3,8];case 5:return[4,ha(r.localStore,t,!0)];case 6:return l.sent(),fa(r,t,i),[3,8];case 7:X(),l.label=8;case 8:return[2]}})})}function Q4(e,t,n){return D(this,void 0,void 0,function(){var i,r,s,c,l,d,f,m,v,y;return A(this,function(_){switch(_.label){case 0:if(!(i=Xy(e)).$o)return[3,10];r=0,s=t,_.label=1;case 1:return r<s.length?(c=s[r],i.Vo.has(c)?(j("SyncEngine","Adding an already active target "+c),[3,5]):[4,UA(i.localStore,c)]):[3,6];case 2:return l=_.sent(),[4,da(i.localStore,l)];case 3:return d=_.sent(),[4,Gy(i,eD(l),d.targetId,!1)];case 4:_.sent(),gf(i.remoteStore,d),_.label=5;case 5:return r++,[3,1];case 6:f=function(I){return A(this,function(E){switch(E.label){case 0:return i.Vo.has(I)?[4,ha(i.localStore,I,!1).then(function(){Lu(i.remoteStore,I),fa(i,I)}).catch(No)]:[3,2];case 1:E.sent(),E.label=2;case 2:return[2]}})},m=0,v=n,_.label=7;case 7:return m<v.length?(y=v[m],[5,f(y)]):[3,10];case 8:_.sent(),_.label=9;case 9:return m++,[3,7];case 10:return[2]}})})}function Xy(e){var t=z(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=JA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=H4.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=j4.bind(null,t),t.vo._r=A4.bind(null,t.eventManager),t.vo.Mo=D4.bind(null,t.eventManager),t}function Qy(e){var t=z(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=U4.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=V4.bind(null,t),t}function rD(e,t){return D(this,void 0,void 0,function(){var n,i,r=this;return A(this,function(s){switch(s.label){case 0:return e.asyncQueue.verifyOperationInProgress(),j("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=s.sent(),[4,t.initialize(n)];case 2:return s.sent(),i=n.initialUser,e.setCredentialChangeListener(function(c){return D(r,void 0,void 0,function(){return A(this,function(l){switch(l.label){case 0:return i.isEqual(c)?[3,2]:[4,LA(t.localStore,c)];case 1:l.sent(),i=c,l.label=2;case 2:return[2]}})})}),t.persistence.setDatabaseDeletedListener(function(){return e.terminate()}),e.offlineComponents=t,[2]}})})}function oD(e,t){return D(this,void 0,void 0,function(){var n,i;return A(this,function(r){switch(r.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,Zy(e)];case 1:return n=r.sent(),j("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return i=r.sent(),[4,t.initialize(n,i)];case 3:return r.sent(),e.setCredentialChangeListener(function(s){return function(c,l){return D(this,void 0,void 0,function(){var d,f;return A(this,function(m){switch(m.label){case 0:return(d=z(c)).asyncQueue.verifyOperationInProgress(),j("RemoteStore","RemoteStore received new credentials"),f=Nr(d),d.Or.add(3),[4,_a(d)];case 1:return m.sent(),f&&d.Br.set("Unknown"),[4,d.remoteSyncer.handleCredentialChange(l)];case 2:return m.sent(),d.Or.delete(3),[4,Gu(d)];case 3:return m.sent(),[2]}})})}(t.remoteStore,s)}),e.onlineComponents=t,[2]}})})}function Zy(e){return D(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(j("FirestoreClient","Using default OfflineComponentProvider"),[4,rD(e,new nD)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}})})}function bf(e){return D(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(j("FirestoreClient","Using default OnlineComponentProvider"),[4,oD(e,new vy)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}})})}function w1(e){return Zy(e).then(function(t){return t.persistence})}function sD(e){return Zy(e).then(function(t){return t.localStore})}function I1(e){return bf(e).then(function(t){return t.remoteStore})}function aD(e){return bf(e).then(function(t){return t.syncEngine})}function pa(e){return D(this,void 0,void 0,function(){var t,n;return A(this,function(i){switch(i.label){case 0:return[4,bf(e)];case 1:return t=i.sent(),[2,((n=t.eventManager).onListen=N4.bind(null,t.syncEngine),n.onUnlisten=L4.bind(null,t.syncEngine),n)]}})})}function E1(e,t,n){var i=this;n===void 0&&(n={});var r=new je;return e.asyncQueue.enqueueAndForget(function(){return D(i,void 0,void 0,function(){var s;return A(this,function(c){switch(c.label){case 0:return s=function(l,d,f,m,v){var y=new vf({next:function(I){d.enqueueAndForget(function(){return qy(l,_)});var E=I.docs.has(f);!E&&I.fromCache?v.reject(new P(T.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&I.fromCache&&m&&m.source==="server"?v.reject(new P(T.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(I)},error:function(I){return v.reject(I)}}),_=new Wy(ba(f.path),y,{includeMetadataChanges:!0,so:!0});return zy(l,_)},[4,pa(e)];case 1:return[2,s.apply(void 0,[c.sent(),e.asyncQueue,t,n,r])]}})})}),r.promise}function x1(e,t,n){var i=this;n===void 0&&(n={});var r=new je;return e.asyncQueue.enqueueAndForget(function(){return D(i,void 0,void 0,function(){var s;return A(this,function(c){switch(c.label){case 0:return s=function(l,d,f,m,v){var y=new vf({next:function(I){d.enqueueAndForget(function(){return qy(l,_)}),I.fromCache&&m.source==="server"?v.reject(new P(T.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(I)},error:function(I){return v.reject(I)}}),_=new Wy(f,y,{includeMetadataChanges:!0,so:!0});return zy(l,_)},[4,pa(e)];case 1:return[2,s.apply(void 0,[c.sent(),e.asyncQueue,t,n,r])]}})})}),r.promise}function Jy(e,t,n){if(!n)throw new P(T.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function t0(e,t){if(t===void 0)return{merge:!1};if(t.mergeFields!==void 0&&t.merge!==void 0)throw new P(T.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function uD(e,t,n,i){if(t===!0&&i===!0)throw new P(T.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function S1(e){if(!J.isDocumentKey(e))throw new P(T.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function A1(e){if(J.isDocumentKey(e))throw new P(T.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function yf(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";var t=function(n){if(n.constructor){var i=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(i&&i.length>1)return i[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return typeof e=="function"?"a function":X()}function Dt(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new P(T.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=yf(e);throw new P(T.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function D1(e,t){if(t<=0)throw new P(T.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}function lD(e,t){for(var n,i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];if(e=At(e),Jy("collection","path",t),e instanceof Fu)return A1(n=Ct.fromString.apply(Ct,Nt([t],i))),new Rr(e,null,n);if(!(e instanceof Gt||e instanceof Rr))throw new P(T.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return A1(n=Ct.fromString.apply(Ct,Nt([e.path],i)).child(Ct.fromString(t))),new Rr(e.firestore,null,n)}function Gh(e,t){for(var n,i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];if(e=At(e),arguments.length===1&&(t=z1.u()),Jy("doc","path",t),e instanceof Fu)return S1(n=Ct.fromString.apply(Ct,Nt([t],i))),new Gt(e,null,new J(n));if(!(e instanceof Gt||e instanceof Rr))throw new P(T.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return S1(n=e._path.child(Ct.fromString.apply(Ct,Nt([t],i)))),new Gt(e.firestore,e instanceof Rr?e.converter:null,new J(n))}function dD(e,t){return e=At(e),t=At(t),(e instanceof Gt||e instanceof Rr)&&(t instanceof Gt||t instanceof Rr)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function hD(e,t){return e=At(e),t=At(t),e instanceof On&&t instanceof On&&e.firestore===t.firestore&&Bu(e._query,t._query)&&e.converter===t.converter}function ma(e){return function(t,n){if(typeof t!="object"||t===null)return!1;for(var i=t,r=0,s=["next","error","complete"];r<s.length;r++){var c=s[r];if(c in i&&typeof i[c]=="function")return!0}return!1}(e)}function Le(e){return e._firestoreClient||pD(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function pD(e){var t,n=e._freezeSettings(),i=function(r,s,c,l){return new nV(r,s,c,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,l.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new eV(e._credentials,e._queue,i)}function k1(e,t,n){var i=this,r=new je;return e.asyncQueue.enqueue(function(){return D(i,void 0,void 0,function(){var s;return A(this,function(c){switch(c.label){case 0:return c.trys.push([0,3,,4]),[4,rD(e,n)];case 1:return c.sent(),[4,oD(e,t)];case 2:return c.sent(),r.resolve(),[3,4];case 3:if(!function(l){return l.name==="FirebaseError"?l.code===T.FAILED_PRECONDITION||l.code===T.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(s=c.sent()))throw s;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),r.reject(s),[3,4];case 4:return[2]}})})}).then(function(){return r.promise})}function O1(e){if(e._initialized||e._terminated)throw new P(T.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}function gD(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw X()}}function Fo(e){var t=e._freezeSettings(),n=mf(e._databaseId);return new lV(e._databaseId,!!t.ignoreUndefinedProperties,n)}function _f(e,t,n,i,r,s){s===void 0&&(s={});var c=e.Uc(s.merge||s.mergeFields?2:0,t,n,r);r0("Data must be an object, but it was:",c,i);var l,d,f=_D(i,c);if(s.merge)l=new ta(c.fieldMask),d=c.fieldTransforms;else if(s.mergeFields){for(var m=[],v=0,y=s.mergeFields;v<y.length;v++){var _=by(t,y[v],n);if(!c.contains(_))throw new P(T.INVALID_ARGUMENT,"Field '"+_+"' is specified in your field mask but missing from your input data.");ID(m,_)||m.push(_)}l=new ta(m),d=c.fieldTransforms.filter(function(I){return l.covers(I.field)})}else l=null,d=c.fieldTransforms;return new uV(new Dn(f),l,d)}function bD(e,t,n){return new vD({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}function n0(e,t,n,i){var r=e.Uc(1,t,n);r0("Data must be an object, but it was:",r,i);var s=[],c=Dn.empty();Oo(i,function(d,f){var m=o0(t,d,n);f=At(f);var v=r.Oc(m);if(f instanceof e0)s.push(m);else{var y=jo(f,v);y!=null&&(s.push(m),c.set(m,y))}});var l=new ta(s);return new mD(c,l,r.fieldTransforms)}function i0(e,t,n,i,r,s){var c=e.Uc(1,t,n),l=[by(t,i,n)],d=[r];if(s.length%2!=0)throw new P(T.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var f=0;f<s.length;f+=2)l.push(by(t,s[f])),d.push(s[f+1]);for(var m=[],v=Dn.empty(),y=l.length-1;y>=0;--y)if(!ID(m,l[y])){var _=l[y],I=d[y];I=At(I);var E=c.Oc(_);if(I instanceof e0)m.push(_);else{var C=jo(I,E);C!=null&&(m.push(_),v.set(_,C))}}var k=new ta(m);return new mD(v,k,c.fieldTransforms)}function yD(e,t,n,i){return i===void 0&&(i=!1),jo(n,e.Uc(i?4:3,t))}function jo(e,t){if(wD(e=At(e)))return r0("Unsupported field value:",t,e),_D(e,t);if(e instanceof Lo)return function(n,i){if(!gD(i.Nc))throw i.Lc(n._methodName+"() can only be used with update() and set()");if(!i.path)throw i.Lc(n._methodName+"() is not currently supported inside arrays");var r=n._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&t.Nc!==4)throw t.Lc("Nested arrays are not supported");return function(n,i){for(var r=[],s=0,c=0,l=n;c<l.length;c++){var d=jo(l[c],i.Mc(s));d==null&&(d={nullValue:"NULL_VALUE"}),r.push(d),s++}return{arrayValue:{values:r}}}(e,t)}return function(n,i){if((n=At(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return nA(i.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var r=Ge.fromDate(n);return{timestampValue:Pu(i.R,r)}}if(n instanceof Ge)return r=new Ge(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:Pu(i.R,r)};if(n instanceof $u)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ko)return{bytesValue:fA(i.R,n._byteString)};if(n instanceof Gt){r=i.databaseId;var s=n.firestore._databaseId;if(!s.isEqual(r))throw i.Lc("Document reference is for database "+s.projectId+"/"+s.database+" but should be for database "+r.projectId+"/"+r.database);return{referenceValue:Ry(n.firestore._databaseId||i.databaseId,n._key.path)}}throw i.Lc("Unsupported field value: "+yf(n))}(e,t)}function _D(e,t){var n={};return H1(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Oo(e,function(i,r){var s=jo(r,t.kc(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function wD(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Ge||e instanceof $u||e instanceof ko||e instanceof Gt||e instanceof Lo)}function r0(e,t,n){if(!wD(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){var i=yf(n);throw i==="an object"?t.Lc(e+" a custom object"):t.Lc(e+" "+i)}}function by(e,t,n){if((t=At(t))instanceof xi)return t._internalPath;if(typeof t=="string")return o0(e,t);throw af("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}function o0(e,t,n){if(t.search(mV)>=0)throw af("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return new(xi.bind.apply(xi,Nt([void 0],t.split("."))))()._internalPath}catch{throw af("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function af(e,t,n,i,r){var s=i&&!i.isEmpty(),c=r!==void 0,l="Function "+t+"() called with invalid data";n&&(l+=" (via `toFirestore()`)");var d="";return(s||c)&&(d+=" (found",s&&(d+=" in field "+i),c&&(d+=" in document "+r),d+=")"),new P(T.INVALID_ARGUMENT,(l+=". ")+e+d)}function ID(e,t){return e.some(function(n){return n.isEqual(t)})}function cf(e,t){return typeof t=="string"?o0(e,t):t instanceof xi?t._internalPath:t._delegate._internalPath}function vV(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return X()}}function ED(e,t){return e instanceof qi&&t instanceof qi?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(e._document===null?t._document===null:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Sr&&t instanceof Sr&&e._firestore===t._firestore&&hD(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function xD(e){if(Zh(e)&&e.explicitOrderBy.length===0)throw new P(T.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function Er(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var i=0,r=t;i<r.length;i++){var s=r[i];e=s._apply(e)}return e}function CD(e,t,n,i){if(n[0]=At(n[0]),n[0]instanceof ju)return function(s,c,l,d,f){if(!d)throw new P(T.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+l+"().");for(var m=[],v=0,y=ia(s);v<y.length;v++){var _=y[v];if(_.field.isKeyField())m.push(Yh(c,d.key));else{var I=d.data.field(_.field);if(wy(I))throw new P(T.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+_.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(I===null){var E=_.field.canonicalString();throw new P(T.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+E+"' (used as the orderBy) does not exist.")}m.push(I)}}return new Ou(m,f)}(e._query,e.firestore._databaseId,t,n[0]._document,i);var r=Fo(e.firestore);return function(s,c,l,d,f,m){var v=s.explicitOrderBy;if(f.length>v.length)throw new P(T.INVALID_ARGUMENT,"Too many arguments provided to "+d+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var y=[],_=0;_<f.length;_++){var I=f[_];if(v[_].field.isKeyField()){if(typeof I!="string")throw new P(T.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+d+"(), but got a "+typeof I);if(!Ty(s)&&I.indexOf("/")!==-1)throw new P(T.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+d+"() must be a plain document ID, but '"+I+"' contains a slash.");var E=s.path.child(Ct.fromString(I));if(!J.isDocumentKey(E))throw new P(T.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+d+"() must result in a valid document path, but '"+E+"' is not because it contains an odd number of segments.");var C=new J(E);y.push(Yh(c,C))}else{var k=yD(l,d,I);y.push(k)}}return new Ou(y,m)}(e._query,e.firestore._databaseId,r,t,n,i)}function L1(e,t,n){if(typeof(n=At(n))=="string"){if(n==="")throw new P(T.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ty(t)&&n.indexOf("/")!==-1)throw new P(T.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var i=t.path.child(Ct.fromString(n));if(!J.isDocumentKey(i))throw new P(T.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+i+"' is not because it has an odd number of segments ("+i.length+").");return Yh(e,new J(i))}if(n instanceof Gt)return Yh(e,n._key);throw new P(T.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+yf(n)+".")}function F1(e,t){if(!Array.isArray(e)||e.length===0)throw new P(T.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new P(T.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function TD(e,t,n){if(!n.isEqual(t))throw new P(T.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function wf(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}function Ar(e,t){if((e=At(e)).firestore!==t)throw new P(T.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function j1(e,t,n){e=Dt(e,Gt);var i=Dt(e.firestore,ue),r=wf(e.converter,t,n);return Yu(i,[_f(Fo(i),"setDoc",e._key,r,e.converter!==null,n).toMutation(e._key,Fe.none())])}function U1(e,t,n){for(var i=[],r=3;r<arguments.length;r++)i[r-3]=arguments[r];e=Dt(e,Gt);var s=Dt(e.firestore,ue),c=Fo(s);return Yu(s,[(typeof(t=At(t))=="string"||t instanceof xi?i0(c,"updateDoc",e._key,t,n,i):n0(c,"updateDoc",e._key,t)).toMutation(e._key,Fe.exists(!0))])}function SD(e){for(var t,n,i,r=[],s=1;s<arguments.length;s++)r[s-1]=arguments[s];e=At(e);var c={includeMetadataChanges:!1},l=0;typeof r[l]!="object"||ma(r[l])||(c=r[l],l++);var d,f,m,v={includeMetadataChanges:c.includeMetadataChanges};if(ma(r[l])){var y=r[l];r[l]=(t=y.next)===null||t===void 0?void 0:t.bind(y),r[l+1]=(n=y.error)===null||n===void 0?void 0:n.bind(y),r[l+2]=(i=y.complete)===null||i===void 0?void 0:i.bind(y)}if(e instanceof Gt)f=Dt(e.firestore,ue),m=ba(e._key.path),d={next:function(E){r[l]&&r[l](yy(f,e,E))},error:r[l+1],complete:r[l+2]};else{var _=Dt(e,On);f=Dt(_.firestore,ue),m=_._query;var I=new So(f);d={next:function(E){r[l]&&r[l](new Sr(f,I,_,E))},error:r[l+1],complete:r[l+2]},xD(e._query)}return function(E,C,k,L){var B=this,et=new vf(L),ut=new Wy(C,et,k);return E.asyncQueue.enqueueAndForget(function(){return D(B,void 0,void 0,function(){var F;return A(this,function(Ot){switch(Ot.label){case 0:return F=zy,[4,pa(E)];case 1:return[2,F.apply(void 0,[Ot.sent(),ut])]}})})}),function(){et.Wo(),E.asyncQueue.enqueueAndForget(function(){return D(B,void 0,void 0,function(){var F;return A(this,function(Ot){switch(Ot.label){case 0:return F=qy,[4,pa(E)];case 1:return[2,F.apply(void 0,[Ot.sent(),ut])]}})})})}}(Le(f),m,v,d)}function Yu(e,t){return function(n,i){var r=this,s=new je;return n.asyncQueue.enqueueAndForget(function(){return D(r,void 0,void 0,function(){var c;return A(this,function(l){switch(l.label){case 0:return c=F4,[4,aD(n)];case 1:return[2,c.apply(void 0,[l.sent(),i,s])]}})})}),s.promise}(Le(e),t)}function yy(e,t,n){var i=n.docs.get(t._key),r=new So(e);return new qi(e,r,t._key,i,new xo(n.hasPendingWrites,n.fromCache),t.converter)}function V1(){if(typeof Uint8Array>"u")throw new P(T.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function B1(){if(typeof atob>"u")throw new P(T.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}function DD(e){var t;t=e,ri.setLogLevel(t)}function We(e,t,n){return e.message=e.message.replace(t,n),e}function RD(e){for(var t=0,n=e;t<n.length;t++){var i=n[t];if(typeof i=="object"&&!ma(i))return i}return{}}function kD(e,t){var n,i,r;return{next:function(s){r.next&&r.next(t(s))},error:(n=(r=ma(e[0])?e[0]:ma(e[1])?e[1]:typeof e[0]=="function"?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)===null||n===void 0?void 0:n.bind(r),complete:(i=r.complete)===null||i===void 0?void 0:i.bind(r)}}function Co(e){return Dt(e,Gt)}var Rn,T,P,ri,z1,Ge,vt,W1,Ct,Wj,si,ta,$e,Gj,J,Dn,De,$j,kn,Kj,Yj,Xj,Qj,Zj,Jj,tU,Ou,Zs,Hi,df,ra,Do,Ro,oa,qu,oU,Fe,hf,Hu,Mr,se,wt,Wu,Sy,cU,Ue,Fh,Cr,me,GS,uU,lU,dU,hU,fU,Ay,Dy,Hh,dA,hA,$S,pU,mU,gU,vU,CU,Sn,Dr,Ft,Ne,TU,SU,Xt,Ii,hn,Ae,An,To,zi,sa,aa,AU,EA,xA,je,M,CA,ca,DU,Au,RU,e1,n1,Oy,kU,pf,TA,OU,PU,Ny,MU,a1,wi,NU,ef,LU,FU,jU,UU,VU,ya,OA,BU,zU,qU,ny,HU,WU,PA,GU,MA,$U,t4,Fy,we,e4,n4,i4,r4,o4,s4,a4,Te,p1,ry,m1,c4,py,oy,BA,u4,g1,l4,d4,h4,jy,qA,f4,p4,m4,g4,v4,C4,YA,v1,of,T4,S4,Wy,R4,b1,G5,XA,QA,ZA,O4,P4,M4,nD,iD,Z4,vy,vf,$5,J4,tV,eV,nV,sf,C1,cD,T1,iV,rV,oV,sV,R1,Fu,Gt,On,Rr,aV,K5,fD,ue,xi,ko,Lo,$u,cV,uV,mD,vD,lV,e0,dV,hV,fV,pV,mV,ju,gV,xo,qi,Du,Sr,Ku,bV,yV,P1,M1,N1,s0,_V,wV,So,IV,a0,AD,c0,If,u0,l0,Ef,kr,ga,va,Xu,EV,uf,Uu,OD,PD,MD=bn(()=>{"use strict";xc();js();oh();ey();Rn=function(){function e(t,n){var i=this;this.previousValue=t,n&&(n.sequenceNumberHandler=function(r){return i.t(r)},this.i=function(r){return n.writeSequenceNumber(r)})}return e.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},e.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},e}();Rn.o=-1;T={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},P=function(e){function t(n,i){var r=this;return(r=e.call(this,i)||this).code=n,r.message=i,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Q(t,e),t}(Error),ri=new rh("@firebase/firestore");z1=function(){function e(){}return e.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length,i="";i.length<20;)for(var r=Hj(40),s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=t.charAt(r[s]%t.length));return i},e}();Ge=function(){function e(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new P(T.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new P(T.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new P(T.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new P(T.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(t){return this.seconds===t.seconds?_t(this.nanoseconds,t.nanoseconds):_t(this.seconds,t.seconds)},e.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),vt=function(){function e(t){this.timestamp=t}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new Ge(0,0))},e.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},e.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();W1=function(){function e(t,n,i){n===void 0?n=0:n>t.length&&X(),i===void 0?i=t.length-n:i>t.length-n&&X(),this.segments=t,this.offset=n,this.len=i}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return e.comparator(this,t)===0},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(i){n.push(i)}):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(t){return this.segments[this.offset+t]},e.prototype.isEmpty=function(){return this.length===0},e.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.forEach=function(t){for(var n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(t,n){for(var i=Math.min(t.length,n.length),r=0;r<i;r++){var s=t.get(r),c=n.get(r);if(s<c)return-1;if(s>c)return 1}return t.length<n.length?-1:t.length>n.length?1:0},e}(),Ct=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Q(t,e),t.prototype.construct=function(n,i,r){return new t(n,i,r)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var r=[],s=0,c=n;s<c.length;s++){var l=c[s];if(l.indexOf("//")>=0)throw new P(T.INVALID_ARGUMENT,"Invalid segment ("+l+"). Paths must not contain // in them.");r.push.apply(r,l.split("/").filter(function(d){return d.length>0}))}return new t(r)},t.emptyPath=function(){return new t([])},t}(W1),Wj=/^[_a-zA-Z][_a-zA-Z0-9]*$/,si=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Q(t,e),t.prototype.construct=function(n,i,r){return new t(n,i,r)},t.isValidIdentifier=function(n){return Wj.test(n)},t.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(n){for(var i=[],r="",s=0,c=function(){if(r.length===0)throw new P(T.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");i.push(r),r=""},l=!1;s<n.length;){var d=n[s];if(d==="\\"){if(s+1===n.length)throw new P(T.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var f=n[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new P(T.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);r+=f,s+=2}else d==="`"?(l=!l,s++):d!=="."||l?(r+=d,s++):(c(),s++)}if(c(),l)throw new P(T.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new t(i)},t.emptyPath=function(){return new t([])},t}(W1),ta=function(){function e(t){this.fields=t,t.sort(si.comparator)}return e.prototype.covers=function(t){for(var n=0,i=this.fields;n<i.length;n++)if(i[n].isPrefixOf(t))return!0;return!1},e.prototype.isEqual=function(t){return Js(this.fields,t.fields,function(n,i){return n.isEqual(i)})},e}(),$e=function(){function e(t){this.binaryString=t}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(n){for(var i="",r=0;r<n.length;++r)i+=String.fromCharCode(n[r]);return i}(t))},e.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},e.prototype.toUint8Array=function(){return function(t){for(var n=new Uint8Array(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(t){return _t(this.binaryString,t.binaryString)},e.prototype.isEqual=function(t){return this.binaryString===t.binaryString},e}();$e.EMPTY_BYTE_STRING=new $e("");Gj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);J=function(){function e(t){this.path=t}return e.fromPath=function(t){return new e(Ct.fromString(t))},e.fromName=function(t){return new e(Ct.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},e.prototype.isEqual=function(t){return t!==null&&Ct.comparator(this.path,t.path)===0},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(t,n){return Ct.comparator(t.path,n.path)},e.isDocumentKey=function(t){return t.length%2==0},e.fromSegments=function(t){return new e(new Ct(t.slice()))},e}();Dn=function(){function e(t){this.value=t}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){if(t.isEmpty())return this.value;for(var n=this.value,i=0;i<t.length-1;++i)if(!Bh(n=(n.mapValue.fields||{})[t.get(i)]))return null;return(n=(n.mapValue.fields||{})[t.lastSegment()])||null},e.prototype.set=function(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Su(n)},e.prototype.setAll=function(t){var n=this,i=si.emptyPath(),r={},s=[];t.forEach(function(l,d){if(!i.isImmediateParentOf(d)){var f=n.getFieldsMap(i);n.applyChanges(f,r,s),r={},s=[],i=d.popLast()}l?r[d.lastSegment()]=Su(l):s.push(d.lastSegment())});var c=this.getFieldsMap(i);this.applyChanges(c,r,s)},e.prototype.delete=function(t){var n=this.field(t.popLast());Bh(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]},e.prototype.isEqual=function(t){return Ci(this.value,t.value)},e.prototype.getFieldsMap=function(t){var n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(var i=0;i<t.length;++i){var r=n.mapValue.fields[t.get(i)];Bh(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=r),n=r}return n.mapValue.fields},e.prototype.applyChanges=function(t,n,i){Oo(n,function(l,d){return t[l]=d});for(var r=0,s=i;r<s.length;r++){var c=s[r];delete t[c]}},e.prototype.clone=function(){return new e(Su(this.value))},e}();De=function(){function e(t,n,i,r,s){this.key=t,this.documentType=n,this.version=i,this.data=r,this.documentState=s}return e.newInvalidDocument=function(t){return new e(t,0,vt.min(),Dn.empty(),0)},e.newFoundDocument=function(t,n,i){return new e(t,1,n,i,0)},e.newNoDocument=function(t,n){return new e(t,2,n,Dn.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,Dn.empty(),2)},e.prototype.convertToFoundDocument=function(t,n){return this.version=t,this.documentType=1,this.data=n,this.documentState=0,this},e.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Dn.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Dn.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return this.documentType!==0},e.prototype.isFoundDocument=function(){return this.documentType===1},e.prototype.isNoDocument=function(){return this.documentType===2},e.prototype.isUnknownDocument=function(){return this.documentType===3},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),$j=function(e,t,n,i,r,s,c){t===void 0&&(t=null),n===void 0&&(n=[]),i===void 0&&(i=[]),r===void 0&&(r=null),s===void 0&&(s=null),c===void 0&&(c=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=i,this.limit=r,this.startAt=s,this.endAt=c,this.h=null};kn=function(e){function t(n,i,r){var s=this;return(s=e.call(this)||this).field=n,s.op=i,s.value=r,s}return Q(t,e),t.create=function(n,i,r){return n.isKeyField()?i==="in"||i==="not-in"?this.l(n,i,r):new Kj(n,i,r):i==="array-contains"?new Qj(n,r):i==="in"?new Zj(n,r):i==="not-in"?new Jj(n,r):i==="array-contains-any"?new tU(n,r):new t(n,i,r)},t.l=function(n,i,r){return i==="in"?new Yj(n,r):new Xj(n,r)},t.prototype.matches=function(n){var i=n.data.field(this.field);return this.op==="!="?i!==null&&this.m(na(i,this.value)):i!==null&&Ao(this.value)===Ao(i)&&this.m(na(i,this.value))},t.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return X()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),Kj=function(e){function t(n,i,r){var s=this;return(s=e.call(this,n,i,r)||this).key=J.fromName(r.referenceValue),s}return Q(t,e),t.prototype.matches=function(n){var i=J.comparator(n.key,this.key);return this.m(i)},t}(kn),Yj=function(e){function t(n,i){var r=this;return(r=e.call(this,n,"in",i)||this).keys=Y1("in",i),r}return Q(t,e),t.prototype.matches=function(n){return this.keys.some(function(i){return i.isEqual(n.key)})},t}(kn),Xj=function(e){function t(n,i){var r=this;return(r=e.call(this,n,"not-in",i)||this).keys=Y1("not-in",i),r}return Q(t,e),t.prototype.matches=function(n){return!this.keys.some(function(i){return i.isEqual(n.key)})},t}(kn);Qj=function(e){function t(n,i){return e.call(this,n,"array-contains",i)||this}return Q(t,e),t.prototype.matches=function(n){var i=n.data.field(this.field);return Ey(i)&&ku(i.arrayValue,this.value)},t}(kn),Zj=function(e){function t(n,i){return e.call(this,n,"in",i)||this}return Q(t,e),t.prototype.matches=function(n){var i=n.data.field(this.field);return i!==null&&ku(this.value.arrayValue,i)},t}(kn),Jj=function(e){function t(n,i){return e.call(this,n,"not-in",i)||this}return Q(t,e),t.prototype.matches=function(n){if(ku(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var i=n.data.field(this.field);return i!==null&&!ku(this.value.arrayValue,i)},t}(kn),tU=function(e){function t(n,i){return e.call(this,n,"array-contains-any",i)||this}return Q(t,e),t.prototype.matches=function(n){var i=this,r=n.data.field(this.field);return!(!Ey(r)||!r.arrayValue.values)&&r.arrayValue.values.some(function(s){return ku(i.value.arrayValue,s)})},t}(kn),Ou=function(e,t){this.position=e,this.before=t};Zs=function(e,t){t===void 0&&(t="asc"),this.field=e,this.dir=t};Hi=function(e,t,n,i,r,s,c,l){t===void 0&&(t=null),n===void 0&&(n=[]),i===void 0&&(i=[]),r===void 0&&(r=null),s===void 0&&(s="F"),c===void 0&&(c=null),l===void 0&&(l=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=i,this.limit=r,this.limitType=s,this.startAt=c,this.endAt=l,this.p=null,this.T=null,this.startAt,this.endAt};df=function(){this._=void 0};ra=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Q(t,e),t}(df),Do=function(e){function t(n){var i=this;return(i=e.call(this)||this).elements=n,i}return Q(t,e),t}(df);Ro=function(e){function t(n){var i=this;return(i=e.call(this)||this).elements=n,i}return Q(t,e),t}(df);oa=function(e){function t(n,i){var r=this;return(r=e.call(this)||this).R=n,r.A=i,r}return Q(t,e),t}(df);qu=function(e,t){this.field=e,this.transform=t},oU=function(e,t){this.version=e,this.transformResults=t},Fe=function(){function e(t,n){this.updateTime=t,this.exists=n}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},e}();hf=function(){};Hu=function(e){function t(n,i,r,s){s===void 0&&(s=[]);var c=this;return(c=e.call(this)||this).key=n,c.value=i,c.precondition=r,c.fieldTransforms=s,c.type=0,c}return Q(t,e),t}(hf),Mr=function(e){function t(n,i,r,s,c){c===void 0&&(c=[]);var l=this;return(l=e.call(this)||this).key=n,l.data=i,l.fieldMask=r,l.precondition=s,l.fieldTransforms=c,l.type=1,l}return Q(t,e),t}(hf);Wu=function(e){function t(n,i){var r=this;return(r=e.call(this)||this).key=n,r.precondition=i,r.type=2,r.fieldTransforms=[],r}return Q(t,e),t}(hf),Sy=function(e){function t(n,i){var r=this;return(r=e.call(this)||this).key=n,r.precondition=i,r.type=3,r.fieldTransforms=[],r}return Q(t,e),t}(hf),cU=function(e){this.count=e};(wt=se||(se={}))[wt.OK=0]="OK",wt[wt.CANCELLED=1]="CANCELLED",wt[wt.UNKNOWN=2]="UNKNOWN",wt[wt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",wt[wt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",wt[wt.NOT_FOUND=5]="NOT_FOUND",wt[wt.ALREADY_EXISTS=6]="ALREADY_EXISTS",wt[wt.PERMISSION_DENIED=7]="PERMISSION_DENIED",wt[wt.UNAUTHENTICATED=16]="UNAUTHENTICATED",wt[wt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",wt[wt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",wt[wt.ABORTED=10]="ABORTED",wt[wt.OUT_OF_RANGE=11]="OUT_OF_RANGE",wt[wt.UNIMPLEMENTED=12]="UNIMPLEMENTED",wt[wt.INTERNAL=13]="INTERNAL",wt[wt.UNAVAILABLE=14]="UNAVAILABLE",wt[wt.DATA_LOSS=15]="DATA_LOSS";Ue=function(){function e(t,n){this.comparator=t,this.root=n||Cr.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Cr.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Cr.BLACK,null,null))},e.prototype.get=function(t){for(var n=this.root;!n.isEmpty();){var i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null},e.prototype.indexOf=function(t){for(var n=0,i=this.root;!i.isEmpty();){var r=this.comparator(t,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},e.prototype.forEach=function(t){this.inorderTraversal(function(n,i){return t(n,i),!1})},e.prototype.toString=function(){var t=[];return this.inorderTraversal(function(n,i){return t.push(n+":"+i),!1}),"{"+t.join(", ")+"}"},e.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},e.prototype.getIterator=function(){return new Fh(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(t){return new Fh(this.root,t,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new Fh(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(t){return new Fh(this.root,t,this.comparator,!0)},e}(),Fh=function(){function e(t,n,i,r){this.isReverse=r,this.nodeStack=[];for(var s=1;!t.isEmpty();)if(s=n?i(t.key,n):1,r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return e.prototype.getNext=function(){var t=this.nodeStack.pop(),n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(this.nodeStack.length===0)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},e}(),Cr=function(){function e(t,n,i,r,s){this.key=t,this.value=n,this.color=i??e.RED,this.left=r??e.EMPTY,this.right=s??e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,i,r,s){return new e(t??this.key,n??this.value,i??this.color,r??this.left,s??this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,i){var r=this,s=i(t,r.key);return(r=s<0?r.copy(null,null,null,r.left.insert(t,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(t,n,i))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var i,r=this;if(n(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(t,r.key)===0){if(r.right.isEmpty())return e.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},e.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},e.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw X();var t=this.left.check();if(t!==this.right.check())throw X();return t+(this.isRed()?0:1)},e}();Cr.EMPTY=null,Cr.RED=!0,Cr.BLACK=!1,Cr.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw X()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw X()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw X()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw X()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw X()},enumerable:!1,configurable:!0}),e.prototype.copy=function(t,n,i,r,s){return this},e.prototype.insert=function(t,n,i){return new Cr(t,n)},e.prototype.remove=function(t,n){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());me=function(){function e(t){this.comparator=t,this.data=new Ue(this.comparator)}return e.prototype.has=function(t){return this.data.get(t)!==null},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(t){return this.data.indexOf(t)},e.prototype.forEach=function(t){this.data.inorderTraversal(function(n,i){return t(n),!1})},e.prototype.forEachInRange=function(t,n){for(var i=this.data.getIteratorFrom(t[0]);i.hasNext();){var r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;n(r.key)}},e.prototype.forEachWhile=function(t,n){var i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return},e.prototype.firstAfterOrEqual=function(t){var n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null},e.prototype.getIterator=function(){return new GS(this.data.getIterator())},e.prototype.getIteratorFrom=function(t){return new GS(this.data.getIteratorFrom(t))},e.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},e.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(t){var n=this;return n.size<t.size&&(n=t,t=this),t.forEach(function(i){n=n.add(i)}),n},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.data.getIterator(),i=t.data.getIterator();n.hasNext();){var r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0},e.prototype.toArray=function(){var t=[];return this.forEach(function(n){t.push(n)}),t},e.prototype.toString=function(){var t=[];return this.forEach(function(n){return t.push(n)}),"SortedSet("+t.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),GS=function(){function e(t){this.iter=t}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),uU=new Ue(J.comparator);lU=new Ue(J.comparator);dU=new Ue(J.comparator);hU=new me(J.comparator);fU=new me(_t);Ay=function(){function e(t,n,i,r,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var i=new Map;return i.set(t,Dy.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(vt.min(),i,ff(),Vn(),kt())},e}(),Dy=function(){function e(t,n,i,r,s){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e($e.EMPTY_BYTE_STRING,n,kt(),kt(),kt())},e}(),Hh=function(e,t,n,i){this.v=e,this.removedTargetIds=t,this.key=n,this.P=i},dA=function(e,t){this.targetId=e,this.V=t},hA=function(e,t,n,i){n===void 0&&(n=$e.EMPTY_BYTE_STRING),i===void 0&&(i=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=i},$S=function(){function e(){this.S=0,this.D=YS(),this.C=$e.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},e.prototype.M=function(){var t=kt(),n=kt(),i=kt();return this.D.forEach(function(r,s){switch(s){case 0:t=t.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:X()}}),new Dy(this.C,this.N,t,n,i)},e.prototype.L=function(){this.k=!1,this.D=YS()},e.prototype.B=function(t,n){this.k=!0,this.D=this.D.insert(t,n)},e.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),pU=function(){function e(t){this.W=t,this.G=new Map,this.H=Vn(),this.J=KS(),this.Y=new me(_t)}return e.prototype.X=function(t){for(var n=0,i=t.v;n<i.length;n++){var r=i[n];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var s=0,c=t.removedTargetIds;s<c.length;s++)r=c[s],this.tt(r,t.key,t.P)},e.prototype.et=function(t){var n=this;this.forEachTarget(t,function(i){var r=n.nt(i);switch(t.state){case 0:n.st(i)&&r.O(t.resumeToken);break;case 1:r.K(),r.F||r.L(),r.O(t.resumeToken);break;case 2:r.K(),r.F||n.removeTarget(i);break;case 3:n.st(i)&&(r.j(),r.O(t.resumeToken));break;case 4:n.st(i)&&(n.it(i),r.O(t.resumeToken));break;default:X()}})},e.prototype.forEachTarget=function(t,n){var i=this;t.targetIds.length>0?t.targetIds.forEach(n):this.G.forEach(function(r,s){i.st(s)&&n(s)})},e.prototype.rt=function(t){var n=t.targetId,i=t.V.count,r=this.ot(n);if(r){var s=r.target;if(Xh(s))if(i===0){var c=new J(s.path);this.tt(n,c,De.newNoDocument(c,vt.min()))}else ot(i===1);else this.ct(n)!==i&&(this.it(n),this.Y=this.Y.add(n))}},e.prototype.ut=function(t){var n=this,i=new Map;this.G.forEach(function(c,l){var d=n.ot(l);if(d){if(c.current&&Xh(d.target)){var f=new J(d.target.path);n.H.get(f)!==null||n.at(l,f)||n.tt(l,f,De.newNoDocument(f,t))}c.$&&(i.set(l,c.M()),c.L())}});var r=kt();this.J.forEach(function(c,l){var d=!0;l.forEachWhile(function(f){var m=n.ot(f);return!m||m.purpose===2||(d=!1,!1)}),d&&(r=r.add(c))});var s=new Ay(t,i,this.Y,this.H,r);return this.H=Vn(),this.J=KS(),this.Y=new me(_t),s},e.prototype.Z=function(t,n){if(this.st(t)){var i=this.at(t,n.key)?2:0;this.nt(t).B(n.key,i),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(t))}},e.prototype.tt=function(t,n,i){if(this.st(t)){var r=this.nt(t);this.at(t,n)?r.B(n,1):r.q(n),this.J=this.J.insert(n,this.ht(n).delete(t)),i&&(this.H=this.H.insert(n,i))}},e.prototype.removeTarget=function(t){this.G.delete(t)},e.prototype.ct=function(t){var n=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size},e.prototype.U=function(t){this.nt(t).U()},e.prototype.nt=function(t){var n=this.G.get(t);return n||(n=new $S,this.G.set(t,n)),n},e.prototype.ht=function(t){var n=this.J.get(t);return n||(n=new me(_t),this.J=this.J.insert(t,n)),n},e.prototype.st=function(t){var n=this.ot(t)!==null;return n||j("WatchChangeAggregator","Detected inactive target",t),n},e.prototype.ot=function(t){var n=this.G.get(t);return n&&n.F?null:this.W.lt(t)},e.prototype.it=function(t){var n=this;this.G.set(t,new $S),this.W.getRemoteKeysForTarget(t).forEach(function(i){n.tt(t,i,null)})},e.prototype.at=function(t,n){return this.W.getRemoteKeysForTarget(t).has(n)},e}();mU={asc:"ASCENDING",desc:"DESCENDING"},gU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vU=function(e,t){this.databaseId=e,this.I=t};CU=function(e,t){this.seconds=e,this.nanoseconds=t},Sn=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};Sn.store="owner",Sn.key="owner";Dr=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};Dr.store="mutationQueues",Dr.keyPath="userId";Ft=function(e,t,n,i,r){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=i,this.mutations=r};Ft.store="mutations",Ft.keyPath="batchId",Ft.userMutationsIndex="userMutationsIndex",Ft.userMutationsKeyPath=["userId","batchId"];Ne=function(){function e(){}return e.prefixForUser=function(t){return[t]},e.prefixForPath=function(t,n){return[t,oi(n)]},e.key=function(t,n,i){return[t,oi(n),i]},e}();Ne.store="documentMutations",Ne.PLACEHOLDER=new Ne;TU=function(e,t){this.path=e,this.readTime=t},SU=function(e,t){this.path=e,this.version=t},Xt=function(e,t,n,i,r,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=i,this.readTime=r,this.parentPath=s};Xt.store="remoteDocuments",Xt.readTimeIndex="readTimeIndex",Xt.readTimeIndexPath="readTime",Xt.collectionReadTimeIndex="collectionReadTimeIndex",Xt.collectionReadTimeIndexPath=["parentPath","readTime"];Ii=function(e){this.byteSize=e};Ii.store="remoteDocumentGlobal",Ii.key="remoteDocumentGlobalKey";hn=function(e,t,n,i,r,s,c){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=i,this.lastListenSequenceNumber=r,this.lastLimboFreeSnapshotVersion=s,this.query=c};hn.store="targets",hn.keyPath="targetId",hn.queryTargetsIndexName="queryTargetsIndex",hn.queryTargetsKeyPath=["canonicalId","targetId"];Ae=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};Ae.store="targetDocuments",Ae.keyPath=["targetId","path"],Ae.documentTargetsIndex="documentTargetsIndex",Ae.documentTargetsKeyPath=["path","targetId"];An=function(e,t,n,i){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=i};An.key="targetGlobalKey",An.store="targetGlobal";To=function(e,t){this.collectionId=e,this.parent=t};To.store="collectionParents",To.keyPath=["collectionId","parent"];zi=function(e,t,n,i){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=i};zi.store="clientMetadata",zi.keyPath="clientId";sa=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};sa.store="bundles",sa.keyPath="bundleId";aa=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};aa.store="namedQueries",aa.keyPath="name";AU=Nt(Nt([],Nt(Nt([],Nt(Nt([],Nt(Nt([],[Dr.store,Ft.store,Ne.store,Xt.store,hn.store,Sn.store,An.store,Ae.store]),[zi.store])),[Ii.store])),[To.store])),[sa.store,aa.store]),EA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",xA=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},e}(),je=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})},M=function(){function e(t){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(i){n.isDone=!0,n.result=i,n.nextCallback&&n.nextCallback(i)},function(i){n.isDone=!0,n.error=i,n.catchCallback&&n.catchCallback(i)})}return e.prototype.catch=function(t){return this.next(void 0,t)},e.prototype.next=function(t,n){var i=this;return this.callbackAttached&&X(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(r,s){i.nextCallback=function(c){i.wrapSuccess(t,c).next(r,s)},i.catchCallback=function(c){i.wrapFailure(n,c).next(r,s)}})},e.prototype.toPromise=function(){var t=this;return new Promise(function(n,i){t.next(n,i)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(i){return e.reject(i)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(n,i){n(t)})},e.reject=function(t){return new e(function(n,i){i(t)})},e.waitFor=function(t){return new e(function(n,i){var r=0,s=0,c=!1;t.forEach(function(l){++r,l.next(function(){++s,c&&s===r&&n()},function(d){return i(d)})}),c=!0,s===r&&n()})},e.or=function(t){for(var n=e.resolve(!1),i=function(c){n=n.next(function(l){return l?e.resolve(l):c()})},r=0,s=t;r<s.length;r++)i(s[r]);return n},e.forEach=function(t,n){var i=this,r=[];return t.forEach(function(s,c){r.push(n.call(i,s,c))}),this.waitFor(r)},e}(),CA=function(){function e(t,n){var i=this;this.action=t,this.transaction=n,this.aborted=!1,this.ft=new je,this.transaction.oncomplete=function(){i.ft.resolve()},this.transaction.onabort=function(){n.error?i.ft.reject(new Au(t,n.error)):i.ft.resolve()},this.transaction.onerror=function(r){var s=ky(r.target.error);i.ft.reject(new Au(t,s))}}return e.open=function(t,n,i,r){try{return new e(n,t.transaction(r,i))}catch(s){throw new Au(n,s)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(j("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(t){var n=this.transaction.objectStore(t);return new RU(n)},e}(),ca=function(){function e(t,n,i){this.name=t,this.version=n,this.wt=i,e._t(vr())===12.2&&ce("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return j("SimpleDb","Removing database:",t),Eo(window.indexedDB.deleteDatabase(t)).toPromise()},e.yt=function(){if(typeof indexedDB>"u")return!1;if(e.gt())return!0;var t=vr(),n=e._t(t),i=0<n&&n<10,r=e.Et(t),s=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||s)},e.gt=function(){var t;return typeof process<"u"&&((t=process.env)===null||t===void 0?void 0:t.Tt)==="YES"},e.It=function(t,n){return t.store(n)},e._t=function(t){var n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(i)},e.Et=function(t){var n=t.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)},e.prototype.At=function(t){return D(this,void 0,void 0,function(){var n,i=this;return A(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(j("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(s,c){var l=indexedDB.open(i.name,i.version);l.onsuccess=function(d){var f=d.target.result;s(f)},l.onblocked=function(){c(new Au(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=function(d){var f=d.target.error;f.name==="VersionError"?c(new P(T.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):c(new Au(t,f))},l.onupgradeneeded=function(d){j("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',d.oldVersion);var f=d.target.result;i.wt.Rt(f,l.transaction,d.oldVersion,i.version).next(function(){j("SimpleDb","Database upgrade to version "+i.version+" complete")})}})]);case 1:n.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(s){return i.bt(s)}),this.db)]}})})},e.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(n){return t(n)})},e.prototype.runTransaction=function(t,n,i,r){return D(this,void 0,void 0,function(){var s,c,l,d,f;return A(this,function(m){switch(m.label){case 0:s=n==="readonly",c=0,l=function(){var v,y,_,I,E;return A(this,function(C){switch(C.label){case 0:++c,C.label=1;case 1:return C.trys.push([1,4,,5]),[4,d.At(t)];case 2:return d.db=C.sent(),v=CA.open(d.db,t,s?"readonly":"readwrite",i),y=r(v).catch(function(k){return v.abort(k),M.reject(k)}).toPromise(),_={},y.catch(function(){}),[4,v.dt];case 3:return[2,(_.value=(C.sent(),y),_)];case 4:return I=C.sent(),E=I.name!=="FirebaseError"&&c<3,j("SimpleDb","Transaction failed with error:",I.message,"Retrying:",E),d.close(),E?[3,5]:[2,{value:Promise.reject(I)}];case 5:return[2]}})},d=this,m.label=1;case 1:return[5,l()];case 2:if(typeof(f=m.sent())=="object")return[2,f.value];m.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),DU=function(){function e(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(t){this.St=t},e.prototype.delete=function(){return Eo(this.Pt.delete())},e}(),Au=function(e){function t(n,i){var r=this;return(r=e.call(this,T.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+i)||this).name="IndexedDbTransactionError",r}return Q(t,e),t}(P);RU=function(){function e(t){this.store=t}return e.prototype.put=function(t,n){var i;return n!==void 0?(j("SimpleDb","PUT",this.store.name,t,n),i=this.store.put(n,t)):(j("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),Eo(i)},e.prototype.add=function(t){return j("SimpleDb","ADD",this.store.name,t,t),Eo(this.store.add(t))},e.prototype.get=function(t){var n=this;return Eo(this.store.get(t)).next(function(i){return i===void 0&&(i=null),j("SimpleDb","GET",n.store.name,t,i),i})},e.prototype.delete=function(t){return j("SimpleDb","DELETE",this.store.name,t),Eo(this.store.delete(t))},e.prototype.count=function(){return j("SimpleDb","COUNT",this.store.name),Eo(this.store.count())},e.prototype.Nt=function(t,n){var i=this.cursor(this.options(t,n)),r=[];return this.xt(i,function(s,c){r.push(c)}).next(function(){return r})},e.prototype.kt=function(t,n){j("SimpleDb","DELETE ALL",this.store.name);var i=this.options(t,n);i.Ft=!1;var r=this.cursor(i);return this.xt(r,function(s,c,l){return l.delete()})},e.prototype.$t=function(t,n){var i;n?i=t:(i={},n=t);var r=this.cursor(i);return this.xt(r,n)},e.prototype.Ot=function(t){var n=this.cursor({});return new M(function(i,r){n.onerror=function(s){var c=ky(s.target.error);r(c)},n.onsuccess=function(s){var c=s.target.result;c?t(c.primaryKey,c.value).next(function(l){l?c.continue():i()}):i()}})},e.prototype.xt=function(t,n){var i=[];return new M(function(r,s){t.onerror=function(c){s(c.target.error)},t.onsuccess=function(c){var l=c.target.result;if(l){var d=new DU(l),f=n(l.primaryKey,l.value,d);if(f instanceof M){var m=f.catch(function(v){return d.done(),M.reject(v)});i.push(m)}d.isDone?r():d.Dt===null?l.continue():l.continue(d.Dt)}else r()}}).next(function(){return M.waitFor(i)})},e.prototype.options=function(t,n){var i;return t!==void 0&&(typeof t=="string"?i=t:n=t),{index:i,range:n}},e.prototype.cursor=function(t){var n="next";if(t.reverse&&(n="prev"),t.index){var i=this.store.index(t.index);return t.Ft?i.openKeyCursor(t.range,n):i.openCursor(t.range,n)}return this.store.openCursor(t.range,n)},e}();e1=!1;n1=function(e){function t(n,i){var r=this;return(r=e.call(this)||this).Mt=n,r.currentSequenceNumber=i,r}return Q(t,e),t}(xA);Oy=function(){function e(t,n,i,r){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}return e.prototype.applyToRemoteDocument=function(t,n){for(var i=n.mutationResults,r=0;r<this.mutations.length;r++){var s=this.mutations[r];s.key.isEqual(t.key)&&sU(s,t,i[r])}},e.prototype.applyToLocalView=function(t){for(var n=0,i=this.baseMutations;n<i.length;n++)(c=i[n]).key.isEqual(t.key)&&ly(c,t,this.localWriteTime);for(var r=0,s=this.mutations;r<s.length;r++){var c;(c=s[r]).key.isEqual(t.key)&&ly(c,t,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(t){var n=this;this.mutations.forEach(function(i){var r=t.get(i.key),s=r;n.applyToLocalView(s),r.isValidDocument()||s.convertToNoDocument(vt.min())})},e.prototype.keys=function(){return this.mutations.reduce(function(t,n){return t.add(n.key)},kt())},e.prototype.isEqual=function(t){return this.batchId===t.batchId&&Js(this.mutations,t.mutations,function(n,i){return zS(n,i)})&&Js(this.baseMutations,t.baseMutations,function(n,i){return zS(n,i)})},e}(),kU=function(){function e(t,n,i,r){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}return e.from=function(t,n,i){ot(t.mutations.length===i.length);for(var r=lA(),s=t.mutations,c=0;c<s.length;c++)r=r.insert(s[c].key,i[c].version);return new e(t,n,i,r)},e}(),pf=function(){function e(t,n,i,r,s,c,l){s===void 0&&(s=vt.min()),c===void 0&&(c=vt.min()),l===void 0&&(l=$e.EMPTY_BYTE_STRING),this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=l}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),TA=function(e){this.Lt=e};OU=function(){function e(){}return e.prototype.getBundleMetadata=function(t,n){return r1(t).get(n).next(function(i){if(i)return{id:(r=i).bundleId,createTime:la(r.createTime),version:r.version};var r})},e.prototype.saveBundleMetadata=function(t,n){return r1(t).put({bundleId:(i=n).id,createTime:ua(Se(i.createTime)),version:i.version});var i},e.prototype.getNamedQuery=function(t,n){return o1(t).get(n).next(function(i){if(i)return{name:(r=i).name,query:My(r.bundledQuery),readTime:la(r.readTime)};var r})},e.prototype.saveNamedQuery=function(t,n){return o1(t).put(function(i){return{name:i.name,readTime:ua(Se(i.readTime)),bundledQuery:i.bundledQuery}}(n))},e}();PU=function(){function e(){this.Bt=new Ny}return e.prototype.addToCollectionParentIndex=function(t,n){return this.Bt.add(n),M.resolve()},e.prototype.getCollectionParents=function(t,n){return M.resolve(this.Bt.getEntries(n))},e}(),Ny=function(){function e(){this.index={}}return e.prototype.add=function(t){var n=t.lastSegment(),i=t.popLast(),r=this.index[n]||new me(Ct.comparator),s=!r.has(i);return this.index[n]=r.add(i),s},e.prototype.has=function(t){var n=t.lastSegment(),i=t.popLast(),r=this.index[n];return r&&r.has(i)},e.prototype.getEntries=function(t){return(this.index[t]||new me(Ct.comparator)).toArray()},e}(),MU=function(){function e(){this.qt=new Ny}return e.prototype.addToCollectionParentIndex=function(t,n){var i=this;if(!this.qt.has(n)){var r=n.lastSegment(),s=n.popLast();t.addOnCommittedListener(function(){i.qt.add(n)});var c={collectionId:r,parent:oi(s)};return s1(t).put(c)}return M.resolve()},e.prototype.getCollectionParents=function(t,n){var i=[],r=IDBKeyRange.bound([n,""],[q1(n),""],!1,!0);return s1(t).Nt(r).next(function(s){for(var c=0,l=s;c<l.length;c++){var d=l[c];if(d.collectionId!==n)break;i.push(Bi(d.parent))}return i})},e}();a1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},wi=function(){function e(t,n,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();wi.DEFAULT_COLLECTION_PERCENTILE=10,wi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wi.DEFAULT=new wi(41943040,wi.DEFAULT_COLLECTION_PERCENTILE,wi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wi.DISABLED=new wi(-1,0,0);NU=function(){function e(t,n,i,r){this.userId=t,this.R=n,this.Ut=i,this.referenceDelegate=r,this.Kt={}}return e.Qt=function(t,n,i,r){return ot(t.uid!==""),new e(t.isAuthenticated()?t.uid:"",n,i,r)},e.prototype.checkEmpty=function(t){var n=!0,i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ir(t).$t({index:Ft.userMutationsIndex,range:i},function(r,s,c){n=!1,c.done()}).next(function(){return n})},e.prototype.addMutationBatch=function(t,n,i,r){var s=this,c=Xs(t),l=Ir(t);return l.add({}).next(function(d){ot(typeof d=="number");for(var f=new Oy(d,n,i,r),m=function(k,L,B){var et=B.baseMutations.map(function(F){return Jh(k.Lt,F)}),ut=B.mutations.map(function(F){return Jh(k.Lt,F)});return new Ft(L,B.batchId,B.localWriteTime.toMillis(),et,ut)}(s.R,s.userId,f),v=[],y=new me(function(k,L){return _t(k.canonicalString(),L.canonicalString())}),_=0,I=r;_<I.length;_++){var E=I[_],C=Ne.key(s.userId,E.key.path,d);y=y.add(E.key.path.popLast()),v.push(l.put(m)),v.push(c.put(C,Ne.PLACEHOLDER))}return y.forEach(function(k){v.push(s.Ut.addToCollectionParentIndex(t,k))}),t.addOnCommittedListener(function(){s.Kt[d]=f.keys()}),M.waitFor(v).next(function(){return f})})},e.prototype.lookupMutationBatch=function(t,n){var i=this;return Ir(t).get(n).next(function(r){return r?(ot(r.userId===i.userId),Ys(i.R,r)):null})},e.prototype.jt=function(t,n){var i=this;return this.Kt[n]?M.resolve(this.Kt[n]):this.lookupMutationBatch(t,n).next(function(r){if(r){var s=r.keys();return i.Kt[n]=s,s}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var i=this,r=n+1,s=IDBKeyRange.lowerBound([this.userId,r]),c=null;return Ir(t).$t({index:Ft.userMutationsIndex,range:s},function(l,d,f){d.userId===i.userId&&(ot(d.batchId>=r),c=Ys(i.R,d)),f.done()}).next(function(){return c})},e.prototype.getHighestUnacknowledgedBatchId=function(t){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),i=-1;return Ir(t).$t({index:Ft.userMutationsIndex,range:n,reverse:!0},function(r,s,c){i=s.batchId,c.done()}).next(function(){return i})},e.prototype.getAllMutationBatches=function(t){var n=this,i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ir(t).Nt(Ft.userMutationsIndex,i).next(function(r){return r.map(function(s){return Ys(n.R,s)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var i=this,r=Ne.prefixForPath(this.userId,n.path),s=IDBKeyRange.lowerBound(r),c=[];return Xs(t).$t({range:s},function(l,d,f){var m=l[0],v=l[1],y=l[2],_=Bi(v);if(m===i.userId&&n.path.isEqual(_))return Ir(t).get(y).next(function(I){if(!I)throw X();ot(I.userId===i.userId),c.push(Ys(i.R,I))});f.done()}).next(function(){return c})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var i=this,r=new me(_t),s=[];return n.forEach(function(c){var l=Ne.prefixForPath(i.userId,c.path),d=IDBKeyRange.lowerBound(l),f=Xs(t).$t({range:d},function(m,v,y){var _=m[0],I=m[1],E=m[2],C=Bi(I);_===i.userId&&c.path.isEqual(C)?r=r.add(E):y.done()});s.push(f)}),M.waitFor(s).next(function(){return i.Wt(t,r)})},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var i=this,r=n.path,s=r.length+1,c=Ne.prefixForPath(this.userId,r),l=IDBKeyRange.lowerBound(c),d=new me(_t);return Xs(t).$t({range:l},function(f,m,v){var y=f[0],_=f[1],I=f[2],E=Bi(_);y===i.userId&&r.isPrefixOf(E)?E.length===s&&(d=d.add(I)):v.done()}).next(function(){return i.Wt(t,d)})},e.prototype.Wt=function(t,n){var i=this,r=[],s=[];return n.forEach(function(c){s.push(Ir(t).get(c).next(function(l){if(l===null)throw X();ot(l.userId===i.userId),r.push(Ys(i.R,l))}))}),M.waitFor(s).next(function(){return r})},e.prototype.removeMutationBatch=function(t,n){var i=this;return DA(t.Mt,this.userId,n).next(function(r){return t.addOnCommittedListener(function(){i.Gt(n.batchId)}),M.forEach(r,function(s){return i.referenceDelegate.markPotentiallyOrphaned(t,s)})})},e.prototype.Gt=function(t){delete this.Kt[t]},e.prototype.performConsistencyCheck=function(t){var n=this;return this.checkEmpty(t).next(function(i){if(!i)return M.resolve();var r=IDBKeyRange.lowerBound(Ne.prefixForUser(n.userId)),s=[];return Xs(t).$t({range:r},function(c,l,d){if(c[0]===n.userId){var f=Bi(c[1]);s.push(f)}else d.done()}).next(function(){ot(s.length===0)})})},e.prototype.containsKey=function(t,n){return RA(t,this.userId,n)},e.prototype.zt=function(t){var n=this;return kA(t).get(this.userId).next(function(i){return i||new Dr(n.userId,-1,"")})},e}();ef=function(){function e(t){this.Ht=t}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),LU=function(){function e(t,n){this.referenceDelegate=t,this.R=n}return e.prototype.allocateTargetId=function(t){var n=this;return this.Xt(t).next(function(i){var r=new ef(i.highestTargetId);return i.highestTargetId=r.next(),n.Zt(t,i).next(function(){return i.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(n){return vt.fromTimestamp(new Ge(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(n){return n.highestListenSequenceNumber})},e.prototype.setTargetsMetadata=function(t,n,i){var r=this;return this.Xt(t).next(function(s){return s.highestListenSequenceNumber=n,i&&(s.lastRemoteSnapshotVersion=i.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),r.Zt(t,s)})},e.prototype.addTargetData=function(t,n){var i=this;return this.te(t,n).next(function(){return i.Xt(t).next(function(r){return r.targetCount+=1,i.ee(n,r),i.Zt(t,r)})})},e.prototype.updateTargetData=function(t,n){return this.te(t,n)},e.prototype.removeTargetData=function(t,n){var i=this;return this.removeMatchingKeysForTargetId(t,n.targetId).next(function(){return Ks(t).delete(n.targetId)}).next(function(){return i.Xt(t)}).next(function(r){return ot(r.targetCount>0),r.targetCount-=1,i.Zt(t,r)})},e.prototype.removeTargets=function(t,n,i){var r=this,s=0,c=[];return Ks(t).$t(function(l,d){var f=Tu(d);f.sequenceNumber<=n&&i.get(f.targetId)===null&&(s++,c.push(r.removeTargetData(t,f)))}).next(function(){return M.waitFor(c)}).next(function(){return s})},e.prototype.forEachTarget=function(t,n){return Ks(t).$t(function(i,r){var s=Tu(r);n(s)})},e.prototype.Xt=function(t){return c1(t).get(An.key).next(function(n){return ot(n!==null),n})},e.prototype.Zt=function(t,n){return c1(t).put(An.key,n)},e.prototype.te=function(t,n){return Ks(t).put(AA(this.R,n))},e.prototype.ee=function(t,n){var i=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,i=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,i=!0),i},e.prototype.getTargetCount=function(t){return this.Xt(t).next(function(n){return n.targetCount})},e.prototype.getTargetData=function(t,n){var i=Vu(n),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]),s=null;return Ks(t).$t({range:r,index:hn.queryTargetsIndexName},function(c,l,d){var f=Tu(l);lf(n,f.target)&&(s=f,d.done())}).next(function(){return s})},e.prototype.addMatchingKeys=function(t,n,i){var r=this,s=[],c=Tr(t);return n.forEach(function(l){var d=oi(l.path);s.push(c.put(new Ae(i,d))),s.push(r.referenceDelegate.addReference(t,i,l))}),M.waitFor(s)},e.prototype.removeMatchingKeys=function(t,n,i){var r=this,s=Tr(t);return M.forEach(n,function(c){var l=oi(c.path);return M.waitFor([s.delete([i,l]),r.referenceDelegate.removeReference(t,i,c)])})},e.prototype.removeMatchingKeysForTargetId=function(t,n){var i=Tr(t),r=IDBKeyRange.bound([n],[n+1],!1,!0);return i.delete(r)},e.prototype.getMatchingKeysForTargetId=function(t,n){var i=IDBKeyRange.bound([n],[n+1],!1,!0),r=Tr(t),s=kt();return r.$t({range:i,Ft:!0},function(c,l,d){var f=Bi(c[1]),m=new J(f);s=s.add(m)}).next(function(){return s})},e.prototype.containsKey=function(t,n){var i=oi(n.path),r=IDBKeyRange.bound([i],[q1(i)],!1,!0),s=0;return Tr(t).$t({index:Ae.documentTargetsIndex,Ft:!0,range:r},function(c,l,d){var f=c[0];c[1],f!==0&&(s++,d.done())}).next(function(){return s>0})},e.prototype.lt=function(t,n){return Ks(t).get(n).next(function(i){return i?Tu(i):null})},e}();FU=function(){function e(t){this.ne=t,this.buffer=new me(u1),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(t){var n=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var i=this.buffer.last();u1(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),jU=function(){function e(t,n){this.garbageCollector=t,this.asyncQueue=n,this.oe=!1,this.ce=null}return e.prototype.start=function(t){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(t)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),e.prototype.ue=function(t){var n=this,i=this.oe?3e5:6e4;j("LruGarbageCollector","Garbage collection scheduled in "+i+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,function(){return D(n,void 0,void 0,function(){var r;return A(this,function(s){switch(s.label){case 0:this.ce=null,this.oe=!0,s.label=1;case 1:return s.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return s.sent(),[3,7];case 3:return Mo(r=s.sent())?(j("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r),[3,6]):[3,4];case 4:return[4,No(r)];case 5:s.sent(),s.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return s.sent(),[2]}})})})},e}(),UU=function(){function e(t,n){this.ae=t,this.params=n}return e.prototype.calculateTargetCount=function(t,n){return this.ae.he(t).next(function(i){return Math.floor(n/100*i)})},e.prototype.nthSequenceNumber=function(t,n){var i=this;if(n===0)return M.resolve(Rn.o);var r=new FU(n);return this.ae.forEachTarget(t,function(s){return r.re(s.sequenceNumber)}).next(function(){return i.ae.le(t,function(s){return r.re(s)})}).next(function(){return r.maxValue})},e.prototype.removeTargets=function(t,n,i){return this.ae.removeTargets(t,n,i)},e.prototype.removeOrphanedDocuments=function(t,n){return this.ae.removeOrphanedDocuments(t,n)},e.prototype.collect=function(t,n){var i=this;return this.params.cacheSizeCollectionThreshold===-1?(j("LruGarbageCollector","Garbage collection skipped; disabled"),M.resolve(a1)):this.getCacheSize(t).next(function(r){return r<i.params.cacheSizeCollectionThreshold?(j("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+i.params.cacheSizeCollectionThreshold),a1):i.fe(t,n)})},e.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},e.prototype.fe=function(t,n){var i,r,s,c,l,d,f,m=this,v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(y){return y>m.params.maximumSequenceNumbersToCollect?(j("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+m.params.maximumSequenceNumbersToCollect+" from "+y),r=m.params.maximumSequenceNumbersToCollect):r=y,c=Date.now(),m.nthSequenceNumber(t,r)}).next(function(y){return i=y,l=Date.now(),m.removeTargets(t,i,n)}).next(function(y){return s=y,d=Date.now(),m.removeOrphanedDocuments(t,i)}).next(function(y){return f=Date.now(),sy()<=xt.DEBUG&&j("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(c-v)+`ms
	Determined least recently used `+r+" in "+(l-c)+`ms
	Removed `+s+" targets in "+(d-l)+`ms
	Removed `+y+" documents in "+(f-d)+`ms
Total Duration: `+(f-v)+"ms"),M.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:y})})},e}(),VU=function(){function e(t,n){this.db=t,this.garbageCollector=function(i,r){return new UU(i,r)}(this,n)}return e.prototype.he=function(t){var n=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(i){return n.next(function(r){return i+r})})},e.prototype.de=function(t){var n=0;return this.le(t,function(i){n++}).next(function(){return n})},e.prototype.forEachTarget=function(t,n){return this.db.getTargetCache().forEachTarget(t,n)},e.prototype.le=function(t,n){return this.we(t,function(i,r){return n(r)})},e.prototype.addReference=function(t,n,i){return jh(t,i)},e.prototype.removeReference=function(t,n,i){return jh(t,i)},e.prototype.removeTargets=function(t,n,i){return this.db.getTargetCache().removeTargets(t,n,i)},e.prototype.markPotentiallyOrphaned=function(t,n){return jh(t,n)},e.prototype._e=function(t,n){return function(i,r){var s=!1;return kA(i).Ot(function(c){return RA(i,c,r).next(function(l){return l&&(s=!0),M.resolve(!l)})}).next(function(){return s})}(t,n)},e.prototype.removeOrphanedDocuments=function(t,n){var i=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[],c=0;return this.we(t,function(l,d){if(d<=n){var f=i._e(t,l).next(function(m){if(!m)return c++,r.getEntry(t,l).next(function(){return r.removeEntry(l),Tr(t).delete([0,oi(l.path)])})});s.push(f)}}).next(function(){return M.waitFor(s)}).next(function(){return r.apply(t)}).next(function(){return c})},e.prototype.removeTarget=function(t,n){var i=n.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)},e.prototype.updateLimboDocument=function(t,n){return jh(t,n)},e.prototype.we=function(t,n){var i,r=Tr(t),s=Rn.o;return r.$t({index:Ae.documentTargetsIndex},function(c,l){var d=c[0];c[1];var f=l.path,m=l.sequenceNumber;d===0?(s!==Rn.o&&n(new J(Bi(i)),s),s=m,i=f):s=Rn.o}).next(function(){s!==Rn.o&&n(new J(Bi(i)),s)})},e.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},e}();ya=function(){function e(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return e.prototype.get=function(t){var n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0)for(var r=0,s=i;r<s.length;r++){var c=s[r],l=c[0],d=c[1];if(this.equalsFn(l,t))return d}},e.prototype.has=function(t){return this.get(t)!==void 0},e.prototype.set=function(t,n){var i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(var s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,n]);r.push([t,n])}else this.inner[i]=[[t,n]]},e.prototype.delete=function(t){var n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(var r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[n]:i.splice(r,1),!0;return!1},e.prototype.forEach=function(t){Oo(this.inner,function(n,i){for(var r=0,s=i;r<s.length;r++){var c=s[r],l=c[0],d=c[1];t(l,d)}})},e.prototype.isEmpty=function(){return H1(this.inner)},e}(),OA=function(){function e(){this.changes=new ya(function(t){return t.toString()},function(t,n){return t.isEqual(n)}),this.changesApplied=!1}return e.prototype.getReadTime=function(t){var n=this.changes.get(t);return n?n.readTime:vt.min()},e.prototype.addEntry=function(t,n){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:n})},e.prototype.removeEntry=function(t,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(t,{document:De.newInvalidDocument(t),readTime:n})},e.prototype.getEntry=function(t,n){this.assertNotApplied();var i=this.changes.get(n);return i!==void 0?M.resolve(i.document):this.getFromCache(t,n)},e.prototype.getEntries=function(t,n){return this.getAllFromCache(t,n)},e.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},e.prototype.assertNotApplied=function(){},e}(),BU=function(){function e(t,n){this.R=t,this.Ut=n}return e.prototype.addEntry=function(t,n,i){return xr(t).put(Uh(n),i)},e.prototype.removeEntry=function(t,n){var i=xr(t),r=Uh(n);return i.delete(r)},e.prototype.updateMetadata=function(t,n){var i=this;return this.getMetadata(t).next(function(r){return r.byteSize+=n,i.me(t,r)})},e.prototype.getEntry=function(t,n){var i=this;return xr(t).get(Uh(n)).next(function(r){return i.ye(n,r)})},e.prototype.ge=function(t,n){var i=this;return xr(t).get(Uh(n)).next(function(r){return{document:i.ye(n,r),size:tf(r)}})},e.prototype.getEntries=function(t,n){var i=this,r=Vn();return this.pe(t,n,function(s,c){var l=i.ye(s,c);r=r.insert(s,l)}).next(function(){return r})},e.prototype.Ee=function(t,n){var i=this,r=Vn(),s=new Ue(J.comparator);return this.pe(t,n,function(c,l){var d=i.ye(c,l);r=r.insert(c,d),s=s.insert(c,tf(l))}).next(function(){return{documents:r,Te:s}})},e.prototype.pe=function(t,n,i){if(n.isEmpty())return M.resolve();var r=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),s=n.getIterator(),c=s.getNext();return xr(t).$t({range:r},function(l,d,f){for(var m=J.fromSegments(l);c&&J.comparator(c,m)<0;)i(c,null),c=s.getNext();c&&c.isEqual(m)&&(i(c,d),c=s.hasNext()?s.getNext():null),c?f.Ct(c.path.toArray()):f.done()}).next(function(){for(;c;)i(c,null),c=s.hasNext()?s.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(t,n,i){var r=this,s=Vn(),c=n.path.length+1,l={};if(i.isEqual(vt.min())){var d=n.path.toArray();l.range=IDBKeyRange.lowerBound(d)}else{var f=n.path.toArray(),m=Py(i);l.range=IDBKeyRange.lowerBound([f,m],!0),l.index=Xt.collectionReadTimeIndex}return xr(t).$t(l,function(v,y,_){if(v.length===c){var I=fy(r.R,y);n.path.isPrefixOf(I.key.path)?zu(n,I)&&(s=s.insert(I.key,I)):_.done()}}).next(function(){return s})},e.prototype.newChangeBuffer=function(t){return new zU(this,!!t&&t.trackRemovals)},e.prototype.getSize=function(t){return this.getMetadata(t).next(function(n){return n.byteSize})},e.prototype.getMetadata=function(t){return l1(t).get(Ii.key).next(function(n){return ot(!!n),n})},e.prototype.me=function(t,n){return l1(t).put(Ii.key,n)},e.prototype.ye=function(t,n){if(n){var i=fy(this.R,n);if(!i.isNoDocument()||!i.version.isEqual(vt.min()))return i}return De.newInvalidDocument(t)},e}(),zU=function(e){function t(n,i){var r=this;return(r=e.call(this)||this).Ie=n,r.trackRemovals=i,r.Ae=new ya(function(s){return s.toString()},function(s,c){return s.isEqual(c)}),r}return Q(t,e),t.prototype.applyChanges=function(n){var i=this,r=[],s=0,c=new me(function(l,d){return _t(l.canonicalString(),d.canonicalString())});return this.changes.forEach(function(l,d){var f=i.Ae.get(l);if(d.document.isValidDocument()){var m=i1(i.Ie.R,d.document,i.getReadTime(l));c=c.add(l.path.popLast());var v=tf(m);s+=v-f,r.push(i.Ie.addEntry(n,l,m))}else if(s-=f,i.trackRemovals){var y=i1(i.Ie.R,De.newNoDocument(l,vt.min()),i.getReadTime(l));r.push(i.Ie.addEntry(n,l,y))}else r.push(i.Ie.removeEntry(n,l))}),c.forEach(function(l){r.push(i.Ie.Ut.addToCollectionParentIndex(n,l))}),r.push(this.Ie.updateMetadata(n,s)),M.waitFor(r)},t.prototype.getFromCache=function(n,i){var r=this;return this.Ie.ge(n,i).next(function(s){return r.Ae.set(i,s.size),s.document})},t.prototype.getAllFromCache=function(n,i){var r=this;return this.Ie.Ee(n,i).next(function(s){var c=s.documents;return s.Te.forEach(function(l,d){r.Ae.set(l,d)}),c})},t}(OA);qU=function(){function e(t){this.R=t}return e.prototype.Rt=function(t,n,i,r){var s=this;ot(i<r&&i>=0&&r<=11);var c=new CA("createOrUpgrade",n);i<1&&r>=1&&(function(d){d.createObjectStore(Sn.store)}(t),function(d){d.createObjectStore(Dr.store,{keyPath:Dr.keyPath}),d.createObjectStore(Ft.store,{keyPath:Ft.keyPath,autoIncrement:!0}).createIndex(Ft.userMutationsIndex,Ft.userMutationsKeyPath,{unique:!0}),d.createObjectStore(Ne.store)}(t),d1(t),function(d){d.createObjectStore(Xt.store)}(t));var l=M.resolve();return i<3&&r>=3&&(i!==0&&(function(d){d.deleteObjectStore(Ae.store),d.deleteObjectStore(hn.store),d.deleteObjectStore(An.store)}(t),d1(t)),l=l.next(function(){return function(d){var f=d.store(An.store),m=new An(0,0,vt.min().toTimestamp(),0);return f.put(An.key,m)}(c)})),i<4&&r>=4&&(i!==0&&(l=l.next(function(){return function(d,f){return f.store(Ft.store).Nt().next(function(m){d.deleteObjectStore(Ft.store),d.createObjectStore(Ft.store,{keyPath:Ft.keyPath,autoIncrement:!0}).createIndex(Ft.userMutationsIndex,Ft.userMutationsKeyPath,{unique:!0});var v=f.store(Ft.store),y=m.map(function(_){return v.put(_)});return M.waitFor(y)})}(t,c)})),l=l.next(function(){(function(d){d.createObjectStore(zi.store,{keyPath:zi.keyPath})})(t)})),i<5&&r>=5&&(l=l.next(function(){return s.Re(c)})),i<6&&r>=6&&(l=l.next(function(){return function(d){d.createObjectStore(Ii.store)}(t),s.be(c)})),i<7&&r>=7&&(l=l.next(function(){return s.ve(c)})),i<8&&r>=8&&(l=l.next(function(){return s.Pe(t,c)})),i<9&&r>=9&&(l=l.next(function(){(function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")})(t),function(d){var f=d.objectStore(Xt.store);f.createIndex(Xt.readTimeIndex,Xt.readTimeIndexPath,{unique:!1}),f.createIndex(Xt.collectionReadTimeIndex,Xt.collectionReadTimeIndexPath,{unique:!1})}(n)})),i<10&&r>=10&&(l=l.next(function(){return s.Ve(c)})),i<11&&r>=11&&(l=l.next(function(){(function(d){d.createObjectStore(sa.store,{keyPath:sa.keyPath})})(t),function(d){d.createObjectStore(aa.store,{keyPath:aa.keyPath})}(t)})),l},e.prototype.be=function(t){var n=0;return t.store(Xt.store).$t(function(i,r){n+=tf(r)}).next(function(){var i=new Ii(n);return t.store(Ii.store).put(Ii.key,i)})},e.prototype.Re=function(t){var n=this,i=t.store(Dr.store),r=t.store(Ft.store);return i.Nt().next(function(s){return M.forEach(s,function(c){var l=IDBKeyRange.bound([c.userId,-1],[c.userId,c.lastAcknowledgedBatchId]);return r.Nt(Ft.userMutationsIndex,l).next(function(d){return M.forEach(d,function(f){ot(f.userId===c.userId);var m=Ys(n.R,f);return DA(t,c.userId,m).next(function(){})})})})})},e.prototype.ve=function(t){var n=t.store(Ae.store),i=t.store(Xt.store);return t.store(An.store).get(An.key).next(function(r){var s=[];return i.$t(function(c,l){var d=new Ct(c),f=function(m){return[0,oi(m)]}(d);s.push(n.get(f).next(function(m){return m?M.resolve():function(v){return n.put(new Ae(0,oi(v),r.highestListenSequenceNumber))}(d)}))}).next(function(){return M.waitFor(s)})})},e.prototype.Pe=function(t,n){t.createObjectStore(To.store,{keyPath:To.keyPath});var i=n.store(To.store),r=new Ny,s=function(c){if(r.add(c)){var l=c.lastSegment(),d=c.popLast();return i.put({collectionId:l,parent:oi(d)})}};return n.store(Xt.store).$t({Ft:!0},function(c,l){var d=new Ct(c);return s(d.popLast())}).next(function(){return n.store(Ne.store).$t({Ft:!0},function(c,l){c[0];var d=c[1];c[2];var f=Bi(d);return s(f.popLast())})})},e.prototype.Ve=function(t){var n=this,i=t.store(hn.store);return i.$t(function(r,s){var c=Tu(s),l=AA(n.R,c);return i.put(l)})},e}();ny="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",HU=function(){function e(t,n,i,r,s,c,l,d,f,m){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=i,this.Se=s,this.window=c,this.document=l,this.De=f,this.Ce=m,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(v){return Promise.resolve()},!e.yt())throw new P(T.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new VU(this,r),this.Le=n+"main",this.R=new TA(d),this.Be=new ca(this.Le,11,new qU(this.R)),this.qe=new LU(this.referenceDelegate,this.R),this.Ut=new MU,this.Ue=function(v,y){return new BU(v,y)}(this.R,this.Ut),this.Ke=new OU,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,m===!1&&ce("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new P(T.FAILED_PRECONDITION,ny);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return t.qe.getHighestSequenceNumber(n)})}).then(function(n){t.Ne=new Rn(n,t.De)}).then(function(){t.xe=!0}).catch(function(n){return t.Be&&t.Be.close(),Promise.reject(n)})},e.prototype.He=function(t){var n=this;return this.Me=function(i){return D(n,void 0,void 0,function(){return A(this,function(r){return this.started?[2,t(i)]:[2]})})},t(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(t){var n=this;this.Be.vt(function(i){return D(n,void 0,void 0,function(){return A(this,function(r){switch(r.label){case 0:return i.newVersion===null?[4,t()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})})},e.prototype.setNetworkEnabled=function(t){var n=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return D(n,void 0,void 0,function(){return A(this,function(i){switch(i.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})}))},e.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return Vh(n).put(new zi(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(n).next(function(i){i||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(n)}).next(function(i){return t.isPrimary&&!i?t.Xe(n).next(function(){return!1}):!!i&&t.Ze(n).next(function(){return!0})})}).catch(function(n){if(Mo(n))return j("IndexedDbPersistence","Failed to extend owner lease: ",n),t.isPrimary;if(!t.allowTabSynchronization)throw n;return j("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){t.isPrimary!==n&&t.Se.enqueueRetryable(function(){return t.Me(n)}),t.isPrimary=n})},e.prototype.Je=function(t){var n=this;return Cu(t).get(Sn.key).next(function(i){return M.resolve(n.tn(i))})},e.prototype.en=function(t){return Vh(t).delete(this.clientId)},e.prototype.nn=function(){return D(this,void 0,void 0,function(){var t,n,i,r,s=this;return A(this,function(c){switch(c.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(l){var d=fn(l,zi.store);return d.Nt().next(function(f){var m=s.rn(f,18e5),v=f.filter(function(y){return m.indexOf(y)===-1});return M.forEach(v,function(y){return d.delete(y.clientId)}).next(function(){return v})})}).catch(function(){return[]})]);case 1:if(t=c.sent(),this.Qe)for(n=0,i=t;n<i.length;n++)r=i[n],this.Qe.removeItem(this.on(r.clientId));c.label=2;case 2:return[2]}})})},e.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},e.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},e.prototype.Ye=function(t){var n=this;return this.Ce?M.resolve(!0):Cu(t).get(Sn.key).next(function(i){if(i!==null&&n.sn(i.leaseTimestampMs,5e3)&&!n.cn(i.ownerId)){if(n.tn(i)&&n.networkEnabled)return!0;if(!n.tn(i)){if(!i.allowTabSynchronization)throw new P(T.FAILED_PRECONDITION,ny);return!1}}return!(!n.networkEnabled||!n.inForeground)||Vh(t).Nt().next(function(r){return n.rn(r,5e3).find(function(s){if(n.clientId!==s.clientId){var c=!n.networkEnabled&&s.networkEnabled,l=!n.inForeground&&s.inForeground,d=n.networkEnabled===s.networkEnabled;if(c||l&&d)return!0}return!1})===void 0})}).next(function(i){return n.isPrimary!==i&&j("IndexedDbPersistence","Client "+(i?"is":"is not")+" eligible for a primary lease."),i})},e.prototype.shutdown=function(){return D(this,void 0,void 0,function(){var t=this;return A(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Sn.store,zi.store],function(i){var r=new n1(i,Rn.o);return t.Xe(r).next(function(){return t.en(r)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},e.prototype.rn=function(t,n){var i=this;return t.filter(function(r){return i.sn(r.updateTimeMs,n)&&!i.cn(r.clientId)})},e.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(n){return Vh(n).Nt().next(function(i){return t.rn(i,18e5).map(function(r){return r.clientId})})})},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(t){return NU.Qt(t,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,i){var r=this;j("IndexedDbPersistence","Starting transaction:",t);var s,c=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(t,c,AU,function(l){return s=new n1(l,r.Ne?r.Ne.next():Rn.o),n==="readwrite-primary"?r.Je(s).next(function(d){return!!d||r.Ye(s)}).next(function(d){if(!d)throw ce("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.Se.enqueueRetryable(function(){return r.Me(!1)}),new P(T.FAILED_PRECONDITION,EA);return i(s)}).next(function(d){return r.Ze(s).next(function(){return d})}):r.dn(s).next(function(){return i(s)})}).then(function(l){return s.raiseOnCommittedEvent(),l})},e.prototype.dn=function(t){var n=this;return Cu(t).get(Sn.key).next(function(i){if(i!==null&&n.sn(i.leaseTimestampMs,5e3)&&!n.cn(i.ownerId)&&!n.tn(i)&&!(n.Ce||n.allowTabSynchronization&&i.allowTabSynchronization))throw new P(T.FAILED_PRECONDITION,ny)})},e.prototype.Ze=function(t){var n=new Sn(this.clientId,this.allowTabSynchronization,Date.now());return Cu(t).put(Sn.key,n)},e.yt=function(){return ca.yt()},e.prototype.Xe=function(t){var n=this,i=Cu(t);return i.get(Sn.key).next(function(r){return n.tn(r)?(j("IndexedDbPersistence","Releasing primary lease."),i.delete(Sn.key)):M.resolve()})},e.prototype.sn=function(t,n){var i=Date.now();return!(t<i-n||t>i&&(ce("Detected an update time that is in the future: "+t+" > "+i),1))},e.prototype.We=function(){var t=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Fe=function(){t.Se.enqueueAndForget(function(){return t.inForeground=t.document.visibilityState==="visible",t.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground=this.document.visibilityState==="visible")},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var t,n=this;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.ke=function(){n.un(),eT()&&navigator.appVersion.match("Version/14")&&n.Se.enterRestrictedMode(!0),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(t){var n;try{var i=((n=this.Qe)===null||n===void 0?void 0:n.getItem(this.on(t)))!==null;return j("IndexedDbPersistence","Client '"+t+"' "+(i?"is":"is not")+" zombied in LocalStorage"),i}catch(r){return ce("IndexedDbPersistence","Failed to get zombied client id.",r),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){ce("Failed to set zombie client id.",t)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},e.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},e}();WU=function(e,t){this.progress=e,this.wn=t},PA=function(){function e(t,n,i){this.Ue=t,this._n=n,this.Ut=i}return e.prototype.mn=function(t,n){var i=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,n).next(function(r){return i.yn(t,n,r)})},e.prototype.yn=function(t,n,i){return this.Ue.getEntry(t,n).next(function(r){for(var s=0,c=i;s<c.length;s++)c[s].applyToLocalView(r);return r})},e.prototype.gn=function(t,n){t.forEach(function(i,r){for(var s=0,c=n;s<c.length;s++)c[s].applyToLocalView(r)})},e.prototype.pn=function(t,n){var i=this;return this.Ue.getEntries(t,n).next(function(r){return i.En(t,r).next(function(){return r})})},e.prototype.En=function(t,n){var i=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,n).next(function(r){return i.gn(n,r)})},e.prototype.getDocumentsMatchingQuery=function(t,n,i){return function(r){return J.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}(n)?this.Tn(t,n.path):Ty(n)?this.In(t,n,i):this.An(t,n,i)},e.prototype.Tn=function(t,n){return this.mn(t,new J(n)).next(function(i){var r=dy();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})},e.prototype.In=function(t,n,i){var r=this,s=n.collectionGroup,c=dy();return this.Ut.getCollectionParents(t,s).next(function(l){return M.forEach(l,function(d){var f=function(m,v){return new Hi(v,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,d.child(s));return r.An(t,f,i).next(function(m){m.forEach(function(v,y){c=c.insert(v,y)})})}).next(function(){return c})})},e.prototype.An=function(t,n,i){var r,s,c=this;return this.Ue.getDocumentsMatchingQuery(t,n,i).next(function(l){return r=l,c._n.getAllMutationBatchesAffectingQuery(t,n)}).next(function(l){return s=l,c.Rn(t,s,r).next(function(d){r=d;for(var f=0,m=s;f<m.length;f++)for(var v=m[f],y=0,_=v.mutations;y<_.length;y++){var I=_[y],E=I.key,C=r.get(E);C==null&&(C=De.newInvalidDocument(E),r=r.insert(E,C)),ly(I,C,v.localWriteTime),C.isFoundDocument()||(r=r.remove(E))}})}).next(function(){return r.forEach(function(l,d){zu(n,d)||(r=r.remove(l))}),r})},e.prototype.Rn=function(t,n,i){for(var r=kt(),s=0,c=n;s<c.length;s++)for(var l=0,d=c[s].mutations;l<d.length;l++){var f=d[l];f instanceof Mr&&i.get(f.key)===null&&(r=r.add(f.key))}var m=i;return this.Ue.getEntries(t,r).next(function(v){return v.forEach(function(y,_){_.isFoundDocument()&&(m=m.insert(y,_))}),m})},e}(),GU=function(){function e(t,n,i,r){this.targetId=t,this.fromCache=n,this.bn=i,this.vn=r}return e.Pn=function(t,n){for(var i=kt(),r=kt(),s=0,c=n.docChanges;s<c.length;s++){var l=c[s];switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:r=r.add(l.doc.key)}}return new e(t,n.fromCache,i,r)},e}(),MA=function(){function e(){}return e.prototype.Vn=function(t){this.Sn=t},e.prototype.getDocumentsMatchingQuery=function(t,n,i,r){var s=this;return function(c){return c.filters.length===0&&c.limit===null&&c.startAt==null&&c.endAt==null&&(c.explicitOrderBy.length===0||c.explicitOrderBy.length===1&&c.explicitOrderBy[0].field.isKeyField())}(n)||i.isEqual(vt.min())?this.Dn(t,n):this.Sn.pn(t,r).next(function(c){var l=s.Cn(n,c);return(zh(n)||Zh(n))&&s.Nn(n.limitType,l,r,i)?s.Dn(t,n):(sy()<=xt.DEBUG&&j("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),uy(n)),s.Sn.getDocumentsMatchingQuery(t,n,i).next(function(d){return l.forEach(function(f){d=d.insert(f.key,f)}),d}))})},e.prototype.Cn=function(t,n){var i=new me(J1(t));return n.forEach(function(r,s){zu(t,s)&&(i=i.add(s))}),i},e.prototype.Nn=function(t,n,i,r){if(i.size!==n.size)return!0;var s=t==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)},e.prototype.Dn=function(t,n){return sy()<=xt.DEBUG&&j("QueryEngine","Using full collection scan to execute query:",uy(n)),this.Sn.getDocumentsMatchingQuery(t,n,vt.min())},e}(),$U=function(){function e(t,n,i,r){this.persistence=t,this.xn=n,this.R=r,this.kn=new Ue(_t),this.Fn=new ya(function(s){return Vu(s)},lf),this.$n=vt.min(),this._n=t.getMutationQueue(i),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new PA(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(t){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(i){return t.collect(i,n.kn)})},e}();t4=function(){function e(t){this.R=t,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(t,n){return M.resolve(this.Qn.get(n))},e.prototype.saveBundleMetadata=function(t,n){var i;return this.Qn.set(n.id,{id:(i=n).id,version:i.version,createTime:Se(i.createTime)}),M.resolve()},e.prototype.getNamedQuery=function(t,n){return M.resolve(this.jn.get(n))},e.prototype.saveNamedQuery=function(t,n){return this.jn.set(n.name,function(i){return{name:i.name,query:My(i.bundledQuery),readTime:Se(i.readTime)}}(n)),M.resolve()},e}(),Fy=function(){function e(){this.Wn=new me(we.Gn),this.zn=new me(we.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(t,n){var i=new we(t,n);this.Wn=this.Wn.add(i),this.zn=this.zn.add(i)},e.prototype.Jn=function(t,n){var i=this;t.forEach(function(r){return i.addReference(r,n)})},e.prototype.removeReference=function(t,n){this.Yn(new we(t,n))},e.prototype.Xn=function(t,n){var i=this;t.forEach(function(r){return i.removeReference(r,n)})},e.prototype.Zn=function(t){var n=this,i=new J(new Ct([])),r=new we(i,t),s=new we(i,t+1),c=[];return this.zn.forEachInRange([r,s],function(l){n.Yn(l),c.push(l.key)}),c},e.prototype.ts=function(){var t=this;this.Wn.forEach(function(n){return t.Yn(n)})},e.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},e.prototype.es=function(t){var n=new J(new Ct([])),i=new we(n,t),r=new we(n,t+1),s=kt();return this.zn.forEachInRange([i,r],function(c){s=s.add(c.key)}),s},e.prototype.containsKey=function(t){var n=new we(t,0),i=this.Wn.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)},e}(),we=function(){function e(t,n){this.key=t,this.ns=n}return e.Gn=function(t,n){return J.comparator(t.key,n.key)||_t(t.ns,n.ns)},e.Hn=function(t,n){return _t(t.ns,n.ns)||J.comparator(t.key,n.key)},e}(),e4=function(){function e(t,n){this.Ut=t,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new me(we.Gn)}return e.prototype.checkEmpty=function(t){return M.resolve(this._n.length===0)},e.prototype.addMutationBatch=function(t,n,i,r){var s=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var c=new Oy(s,n,i,r);this._n.push(c);for(var l=0,d=r;l<d.length;l++){var f=d[l];this.rs=this.rs.add(new we(f.key,s)),this.Ut.addToCollectionParentIndex(t,f.key.path.popLast())}return M.resolve(c)},e.prototype.lookupMutationBatch=function(t,n){return M.resolve(this.os(n))},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var i=n+1,r=this.cs(i),s=r<0?0:r;return M.resolve(this._n.length>s?this._n[s]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return M.resolve(this._n.length===0?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(t){return M.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var i=this,r=new we(n,0),s=new we(n,Number.POSITIVE_INFINITY),c=[];return this.rs.forEachInRange([r,s],function(l){var d=i.os(l.ns);c.push(d)}),M.resolve(c)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var i=this,r=new me(_t);return n.forEach(function(s){var c=new we(s,0),l=new we(s,Number.POSITIVE_INFINITY);i.rs.forEachInRange([c,l],function(d){r=r.add(d.ns)})}),M.resolve(this.us(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var i=n.path,r=i.length+1,s=i;J.isDocumentKey(s)||(s=s.child(""));var c=new we(new J(s),0),l=new me(_t);return this.rs.forEachWhile(function(d){var f=d.key.path;return!!i.isPrefixOf(f)&&(f.length===r&&(l=l.add(d.ns)),!0)},c),M.resolve(this.us(l))},e.prototype.us=function(t){var n=this,i=[];return t.forEach(function(r){var s=n.os(r);s!==null&&i.push(s)}),i},e.prototype.removeMutationBatch=function(t,n){var i=this;ot(this.hs(n.batchId,"removed")===0),this._n.shift();var r=this.rs;return M.forEach(n.mutations,function(s){var c=new we(s.key,n.batchId);return r=r.delete(c),i.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(function(){i.rs=r})},e.prototype.Gt=function(t){},e.prototype.containsKey=function(t,n){var i=new we(n,0),r=this.rs.firstAfterOrEqual(i);return M.resolve(n.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(t){return this._n.length,M.resolve()},e.prototype.hs=function(t,n){return this.cs(t)},e.prototype.cs=function(t){return this._n.length===0?0:t-this._n[0].batchId},e.prototype.os=function(t){var n=this.cs(t);return n<0||n>=this._n.length?null:this._n[n]},e}(),n4=function(){function e(t,n){this.Ut=t,this.ls=n,this.docs=new Ue(J.comparator),this.size=0}return e.prototype.addEntry=function(t,n,i){var r=n.key,s=this.docs.get(r),c=s?s.size:0,l=this.ls(n);return this.docs=this.docs.insert(r,{document:n.clone(),size:l,readTime:i}),this.size+=l-c,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},e.prototype.removeEntry=function(t){var n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)},e.prototype.getEntry=function(t,n){var i=this.docs.get(n);return M.resolve(i?i.document.clone():De.newInvalidDocument(n))},e.prototype.getEntries=function(t,n){var i=this,r=Vn();return n.forEach(function(s){var c=i.docs.get(s);r=r.insert(s,c?c.document.clone():De.newInvalidDocument(s))}),M.resolve(r)},e.prototype.getDocumentsMatchingQuery=function(t,n,i){for(var r=Vn(),s=new J(n.path.child("")),c=this.docs.getIteratorFrom(s);c.hasNext();){var l=c.getNext(),d=l.key,f=l.value,m=f.document,v=f.readTime;if(!n.path.isPrefixOf(d.path))break;v.compareTo(i)<=0||zu(n,m)&&(r=r.insert(m.key,m.clone()))}return M.resolve(r)},e.prototype.fs=function(t,n){return M.forEach(this.docs,function(i){return n(i)})},e.prototype.newChangeBuffer=function(t){return new i4(this)},e.prototype.getSize=function(t){return M.resolve(this.size)},e}(),i4=function(e){function t(n){var i=this;return(i=e.call(this)||this).Ie=n,i}return Q(t,e),t.prototype.applyChanges=function(n){var i=this,r=[];return this.changes.forEach(function(s,c){c.document.isValidDocument()?r.push(i.Ie.addEntry(n,c.document,i.getReadTime(s))):i.Ie.removeEntry(s)}),M.waitFor(r)},t.prototype.getFromCache=function(n,i){return this.Ie.getEntry(n,i)},t.prototype.getAllFromCache=function(n,i){return this.Ie.getEntries(n,i)},t}(OA),r4=function(){function e(t){this.persistence=t,this.ds=new ya(function(n){return Vu(n)},lf),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.ws=0,this._s=new Fy,this.targetCount=0,this.ys=ef.Jt()}return e.prototype.forEachTarget=function(t,n){return this.ds.forEach(function(i,r){return n(r)}),M.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(t){return M.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(t){return M.resolve(this.ws)},e.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),M.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ws&&(this.ws=n),M.resolve()},e.prototype.te=function(t){this.ds.set(t.target,t);var n=t.targetId;n>this.highestTargetId&&(this.ys=new ef(n),this.highestTargetId=n),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},e.prototype.addTargetData=function(t,n){return this.te(n),this.targetCount+=1,M.resolve()},e.prototype.updateTargetData=function(t,n){return this.te(n),M.resolve()},e.prototype.removeTargetData=function(t,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,M.resolve()},e.prototype.removeTargets=function(t,n,i){var r=this,s=0,c=[];return this.ds.forEach(function(l,d){d.sequenceNumber<=n&&i.get(d.targetId)===null&&(r.ds.delete(l),c.push(r.removeMatchingKeysForTargetId(t,d.targetId)),s++)}),M.waitFor(c).next(function(){return s})},e.prototype.getTargetCount=function(t){return M.resolve(this.targetCount)},e.prototype.getTargetData=function(t,n){var i=this.ds.get(n)||null;return M.resolve(i)},e.prototype.addMatchingKeys=function(t,n,i){return this._s.Jn(n,i),M.resolve()},e.prototype.removeMatchingKeys=function(t,n,i){this._s.Xn(n,i);var r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(function(c){s.push(r.markPotentiallyOrphaned(t,c))}),M.waitFor(s)},e.prototype.removeMatchingKeysForTargetId=function(t,n){return this._s.Zn(n),M.resolve()},e.prototype.getMatchingKeysForTargetId=function(t,n){var i=this._s.es(n);return M.resolve(i)},e.prototype.containsKey=function(t,n){return M.resolve(this._s.containsKey(n))},e}(),o4=function(){function e(t,n){var i=this;this.gs={},this.Ne=new Rn(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new r4(this),this.Ut=new PU,this.Ue=function(r,s){return new n4(r,function(c){return i.referenceDelegate.ps(c)})}(this.Ut),this.R=new TA(n),this.Ke=new t4(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(t){var n=this.gs[t.toKey()];return n||(n=new e4(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=n),n},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,i){var r=this;j("MemoryPersistence","Starting transaction:",t);var s=new s4(this.Ne.next());return this.referenceDelegate.Es(),i(s).next(function(c){return r.referenceDelegate.Ts(s).next(function(){return c})}).toPromise().then(function(c){return s.raiseOnCommittedEvent(),c})},e.prototype.Is=function(t,n){return M.or(Object.values(this.gs).map(function(i){return function(){return i.containsKey(t,n)}}))},e}(),s4=function(e){function t(n){var i=this;return(i=e.call(this)||this).currentSequenceNumber=n,i}return Q(t,e),t}(xA),a4=function(){function e(t){this.persistence=t,this.As=new Fy,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw X()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(t,n,i){return this.As.addReference(i,n),this.vs.delete(i.toString()),M.resolve()},e.prototype.removeReference=function(t,n,i){return this.As.removeReference(i,n),this.vs.add(i.toString()),M.resolve()},e.prototype.markPotentiallyOrphaned=function(t,n){return this.vs.add(n.toString()),M.resolve()},e.prototype.removeTarget=function(t,n){var i=this;this.As.Zn(n.targetId).forEach(function(s){return i.vs.add(s.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(function(s){s.forEach(function(c){return i.vs.add(c.toString())})}).next(function(){return r.removeTargetData(t,n)})},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(t){var n=this,i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.vs,function(r){var s=J.fromPath(r);return n.Ps(t,s).next(function(c){c||i.removeEntry(s)})}).next(function(){return n.Rs=null,i.apply(t)})},e.prototype.updateLimboDocument=function(t,n){var i=this;return this.Ps(t,n).next(function(r){r?i.vs.delete(n.toString()):i.vs.add(n.toString())})},e.prototype.ps=function(t){return 0},e.prototype.Ps=function(t,n){var i=this;return M.or([function(){return M.resolve(i.As.containsKey(n))},function(){return i.persistence.getTargetCache().containsKey(t,n)},function(){return i.persistence.Is(t,n)}])},e}(),Te=function(){function e(t){this.uid=t}return e.prototype.isAuthenticated=function(){return this.uid!=null},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(t){return t.uid===this.uid},e}();Te.UNAUTHENTICATED=new Te(null),Te.GOOGLE_CREDENTIALS=new Te("google-credentials-uid"),Te.FIRST_PARTY=new Te("first-party-uid"),Te.MOCK_USER=new Te("mock-user");p1=function(){function e(t,n,i,r){this.user=t,this.batchId=n,this.state=i,this.error=r}return e.Vs=function(t,n,i){var r,s=JSON.parse(i),c=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return c&&s.error&&(c=typeof s.error.message=="string"&&typeof s.error.code=="string")&&(r=new P(s.error.code,s.error.message)),c?new e(t,n,s.state,r):(ce("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+i),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),ry=function(){function e(t,n,i){this.targetId=t,this.state=n,this.error=i}return e.Vs=function(t,n){var i,r=JSON.parse(n),s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string")&&(i=new P(r.error.code,r.error.message)),s?new e(t,r.state,i):(ce("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),m1=function(){function e(t,n){this.clientId=t,this.activeTargetIds=n}return e.Vs=function(t,n){for(var i=JSON.parse(n),r=typeof i=="object"&&i.activeTargetIds instanceof Array,s=ff(),c=0;r&&c<i.activeTargetIds.length;++c)r=$1(i.activeTargetIds[c]),s=s.add(i.activeTargetIds[c]);return r?new e(t,s):(ce("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),c4=function(){function e(t,n){this.clientId=t,this.onlineState=n}return e.Vs=function(t){var n=JSON.parse(t);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new e(n.clientId,n.onlineState):(ce("SharedClientState","Failed to parse online state: "+t),null)},e}(),py=function(){function e(){this.activeTargetIds=ff()}return e.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},e.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},e.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},e}(),oy=function(){function e(t,n,i,r,s){this.window=t,this.Se=n,this.persistenceKey=i,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new Ue(_t),this.started=!1,this.$s=[];var c=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Os=h1(this.persistenceKey,this.Ns),this.Ms=function(l){return"firestore_sequence_number_"+l}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new py),this.Ls=new RegExp("^firestore_clients_"+c+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+c+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+c+"_(\\d+)$"),this.Us=function(l){return"firestore_online_state_"+l}(this.persistenceKey),this.Ks=function(l){return"firestore_bundle_loaded_"+l}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(t){return!(!t||!t.localStorage)},e.prototype.start=function(){return D(this,void 0,void 0,function(){var t,n,i,r,s,c,l,d,f,m,v,y=this;return A(this,function(_){switch(_.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=_.sent(),n=0,i=t;n<i.length;n++)(r=i[n])!==this.Ns&&(s=this.getItem(h1(this.persistenceKey,r)))&&(c=m1.Vs(r,s))&&(this.Fs=this.Fs.insert(c.clientId,c));for(this.Qs(),(l=this.storage.getItem(this.Us))&&(d=this.js(l))&&this.Ws(d),f=0,m=this.$s;f<m.length;f++)v=m[f],this.ks(v);return this.$s=[],this.window.addEventListener("pagehide",function(){return y.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(t){var n=!1;return this.Fs.forEach(function(i,r){r.activeTargetIds.has(t)&&(n=!0)}),n},e.prototype.addPendingMutation=function(t){this.zs(t,"pending")},e.prototype.updateMutationState=function(t,n,i){this.zs(t,n,i),this.Hs(t)},e.prototype.addLocalQueryTarget=function(t){var n="not-current";if(this.isActiveQueryTarget(t)){var i=this.storage.getItem(iy(this.persistenceKey,t));if(i){var r=ry.Vs(t,i);r&&(n=r.state)}}return this.Js.Ds(t),this.Qs(),n},e.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},e.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){this.removeItem(iy(this.persistenceKey,t))},e.prototype.updateQueryState=function(t,n,i){this.Ys(t,n,i)},e.prototype.handleUserChange=function(t,n,i){var r=this;n.forEach(function(s){r.Hs(s)}),this.currentUser=t,i.forEach(function(s){r.addPendingMutation(s)})},e.prototype.setOnlineState=function(t){this.Xs(t)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(t){var n=this.storage.getItem(t);return j("SharedClientState","READ",t,n),n},e.prototype.setItem=function(t,n){j("SharedClientState","SET",t,n),this.storage.setItem(t,n)},e.prototype.removeItem=function(t){j("SharedClientState","REMOVE",t),this.storage.removeItem(t)},e.prototype.ks=function(t){var n=this,i=t;if(i.storageArea===this.storage){if(j("SharedClientState","EVENT",i.key,i.newValue),i.key===this.Os)return void ce("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return D(n,void 0,void 0,function(){var r,s,c,l,d,f;return A(this,function(m){if(this.started){if(i.key!==null){if(this.Ls.test(i.key)){if(i.newValue==null)return r=this.ti(i.key),[2,this.ei(r,null)];if(s=this.ni(i.key,i.newValue))return[2,this.ei(s.clientId,s)]}else if(this.Bs.test(i.key)){if(i.newValue!==null&&(c=this.si(i.key,i.newValue)))return[2,this.ii(c)]}else if(this.qs.test(i.key)){if(i.newValue!==null&&(l=this.ri(i.key,i.newValue)))return[2,this.oi(l)]}else if(i.key===this.Us){if(i.newValue!==null&&(d=this.js(i.newValue)))return[2,this.Ws(d)]}else if(i.key===this.Ms)(f=function(v){var y=Rn.o;if(v!=null)try{var _=JSON.parse(v);ot(typeof _=="number"),y=_}catch(I){ce("SharedClientState","Failed to read sequence number from WebStorage",I)}return y}(i.newValue))!==Rn.o&&this.sequenceNumberHandler(f);else if(i.key===this.Ks)return[2,this.syncEngine.ci()]}}else this.$s.push(i);return[2]})})})}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(t,n,i){var r=new p1(this.currentUser,t,n,i),s=f1(this.persistenceKey,this.currentUser,t);this.setItem(s,r.Ss())},e.prototype.Hs=function(t){var n=f1(this.persistenceKey,this.currentUser,t);this.removeItem(n)},e.prototype.Xs=function(t){var n={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(n))},e.prototype.Ys=function(t,n,i){var r=iy(this.persistenceKey,t),s=new ry(t,n,i);this.setItem(r,s.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(t){var n=this.Ls.exec(t);return n?n[1]:null},e.prototype.ni=function(t,n){var i=this.ti(t);return m1.Vs(i,n)},e.prototype.si=function(t,n){var i=this.Bs.exec(t),r=Number(i[1]),s=i[2]!==void 0?i[2]:null;return p1.Vs(new Te(s),r,n)},e.prototype.ri=function(t,n){var i=this.qs.exec(t),r=Number(i[1]);return ry.Vs(r,n)},e.prototype.js=function(t){return c4.Vs(t)},e.prototype.ii=function(t){return D(this,void 0,void 0,function(){return A(this,function(n){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(j("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},e.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},e.prototype.ei=function(t,n){var i=this,r=n?this.Fs.insert(t,n):this.Fs.remove(t),s=this.Gs(this.Fs),c=this.Gs(r),l=[],d=[];return c.forEach(function(f){s.has(f)||l.push(f)}),s.forEach(function(f){c.has(f)||d.push(f)}),this.syncEngine.hi(l,d).then(function(){i.Fs=r})},e.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},e.prototype.Gs=function(t){var n=ff();return t.forEach(function(i,r){n=n.unionWith(r.activeTargetIds)}),n},e}(),BA=function(){function e(){this.li=new py,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(t){},e.prototype.updateMutationState=function(t,n,i){},e.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},e.prototype.updateQueryState=function(t,n,i){this.fi[t]=n},e.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},e.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){delete this.fi[t]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.start=function(){return this.li=new py,Promise.resolve()},e.prototype.handleUserChange=function(t,n,i){},e.prototype.setOnlineState=function(t){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(t){},e.prototype.notifyBundleLoaded=function(){},e}(),u4=function(){function e(){}return e.prototype.di=function(t){},e.prototype.shutdown=function(){},e}(),g1=function(){function e(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return e.prototype.di=function(t){this.gi.push(t)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){j("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(0)},e.prototype.yi=function(){j("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(1)},e.yt=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},e}(),l4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},d4=function(){function e(t){this.Ei=t.Ei,this.Ti=t.Ti}return e.prototype.Ii=function(t){this.Ai=t},e.prototype.Ri=function(t){this.bi=t},e.prototype.onMessage=function(t){this.vi=t},e.prototype.close=function(){this.Ti()},e.prototype.send=function(t){this.Ei(t)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(t){this.bi(t)},e.prototype.Si=function(t){this.vi(t)},e}(),h4=function(e){function t(n){var i=this;return(i=e.call(this,n)||this).forceLongPolling=n.forceLongPolling,i.autoDetectLongPolling=n.autoDetectLongPolling,i.useFetchStreams=n.useFetchStreams,i}return Q(t,e),t.prototype.Fi=function(n,i,r,s){return new Promise(function(c,l){var d=new PS;d.listenOnce(RS.COMPLETE,function(){try{switch(d.getLastErrorCode()){case Lh.NO_ERROR:var m=d.getResponseJson();j("Connection","XHR received:",JSON.stringify(m)),c(m);break;case Lh.TIMEOUT:j("Connection",'RPC "'+n+'" timed out'),l(new P(T.DEADLINE_EXCEEDED,"Request time out"));break;case Lh.HTTP_ERROR:var v=d.getStatus();if(j("Connection",'RPC "'+n+'" failed with status:',v,"response text:",d.getResponseText()),v>0){var y=d.getResponseJson().error;if(y&&y.status&&y.message){var _=function(I){var E=I.toLowerCase().replace(/_/g,"-");return Object.values(T).indexOf(E)>=0?E:T.UNKNOWN}(y.status);l(new P(_,y.message))}else l(new P(T.UNKNOWN,"Server responded with status "+d.getStatus()))}else l(new P(T.UNAVAILABLE,"Connection failed."));break;default:X()}}finally{j("Connection",'RPC "'+n+'" completed.')}});var f=JSON.stringify(s);d.send(i,"POST",f,r,15)})},t.prototype.Oi=function(n,i){var r=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],s=AS(),c=DS(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new OS({})),this.ki(l.initMessageHeaders,i),KC()||QC()||ZC()||JC()||tT()||XC()||(l.httpHeadersOverwriteParam="$httpHeaders");var d=r.join("");j("Connection","Creating WebChannel: "+d,l);var f=s.createWebChannel(d,l),m=!1,v=!1,y=new d4({Ei:function(I){v?j("Connection","Not sending because WebChannel is closed:",I):(m||(j("Connection","Opening WebChannel transport."),f.open(),m=!0),j("Connection","WebChannel sending:",I),f.send(I))},Ti:function(){return f.close()}}),_=function(I,E,C){I.listen(E,function(k){try{C(k)}catch(L){setTimeout(function(){throw L},0)}})};return _(f,xu.EventType.OPEN,function(){v||j("Connection","WebChannel transport opened.")}),_(f,xu.EventType.CLOSE,function(){v||(v=!0,j("Connection","WebChannel transport closed"),y.Vi())}),_(f,xu.EventType.ERROR,function(I){v||(v=!0,$h("Connection","WebChannel transport errored:",I),y.Vi(new P(T.UNAVAILABLE,"The operation could not be completed")))}),_(f,xu.EventType.MESSAGE,function(I){var E;if(!v){var C=I.data[0];ot(!!C);var k=C,L=k.error||((E=k[0])===null||E===void 0?void 0:E.error);if(L){j("Connection","WebChannel received error:",L);var B=L.status,et=function(F){var Ot=se[F];if(Ot!==void 0)return uA(Ot)}(B),ut=L.message;et===void 0&&(et=T.INTERNAL,ut="Unknown error status: "+B+" with message "+L.message),v=!0,y.Vi(new P(et,ut)),f.close()}else j("Connection","WebChannel received:",C),y.Si(C)}}),_(c,kS.STAT_EVENT,function(I){I.stat===ty.PROXY?j("Connection","Detected buffering proxy"):I.stat===ty.NOPROXY&&j("Connection","Detected no buffering proxy")}),setTimeout(function(){y.Pi()},0),y},t}(function(){function e(t){this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Di=n+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(t,n,i,r){var s=this.xi(t,n);j("RestConnection","Sending: ",s,i);var c={};return this.ki(c,r),this.Fi(t,s,c,i).then(function(l){return j("RestConnection","Received: ",l),l},function(l){throw $h("RestConnection",t+" failed with error: ",l,"url: ",s,"request:",i),l})},e.prototype.$i=function(t,n,i,r){return this.Ni(t,n,i,r)},e.prototype.ki=function(t,n){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var i in n.authHeaders)n.authHeaders.hasOwnProperty(i)&&(t[i]=n.authHeaders[i])},e.prototype.xi=function(t,n){var i=l4[t];return this.Di+"/v1/"+n+":"+i},e}());jy=function(){function e(t,n,i,r,s){i===void 0&&(i=1e3),r===void 0&&(r=1.5),s===void 0&&(s=6e4),this.Se=t,this.timerId=n,this.Mi=i,this.Li=r,this.Bi=s,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(t){var n=this;this.cancel();var i=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),s=Math.max(0,i-r);s>0&&j("ExponentialBackoff","Backing off for "+s+" ms (base delay: "+this.qi+" ms, delay with jitter: "+i+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,s,function(){return n.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),qA=function(){function e(t,n,i,r,s,c){this.Se=t,this.zi=i,this.Hi=r,this.Ji=s,this.listener=c,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new jy(t,n)}return e.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},e.prototype.er=function(){return this.state===2},e.prototype.start=function(){this.state!==3?this.auth():this.nr()},e.prototype.stop=function(){return D(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var t=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},e.prototype.cr=function(t){this.ur(),this.stream.send(t)},e.prototype.rr=function(){return D(this,void 0,void 0,function(){return A(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(t,n){return D(this,void 0,void 0,function(){return A(this,function(i){switch(i.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,t!==3?this.Zi.reset():n&&n.code===T.RESOURCE_EXHAUSTED?(ce(n.toString()),ce("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):n&&n.code===T.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(n)];case 1:return i.sent(),[2]}})})},e.prototype.ar=function(){},e.prototype.auth=function(){var t=this;this.state=1;var n=this.hr(this.Yi),i=this.Yi;this.Ji.getToken().then(function(r){t.Yi===i&&t.lr(r)},function(r){n(function(){var s=new P(T.UNKNOWN,"Fetching auth token failed: "+r.message);return t.dr(s)})})},e.prototype.lr=function(t){var n=this,i=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){i(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(r){i(function(){return n.dr(r)})}),this.stream.onMessage(function(r){i(function(){return n.onMessage(r)})})},e.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return D(t,void 0,void 0,function(){return A(this,function(n){return this.state=0,this.start(),[2]})})})},e.prototype.dr=function(t){return j("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},e.prototype.hr=function(t){var n=this;return function(i){n.Se.enqueueAndForget(function(){return n.Yi===t?i():(j("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),f4=function(e){function t(n,i,r,s,c){var l=this;return(l=e.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",i,r,c)||this).R=s,l}return Q(t,e),t.prototype.wr=function(n){return this.Hi.Oi("Listen",n)},t.prototype.onMessage=function(n){this.Zi.reset();var i=function(s,c){var l;if("targetChange"in c){c.targetChange;var d=function(C){return C==="NO_CHANGE"?0:C==="ADD"?1:C==="REMOVE"?2:C==="CURRENT"?3:C==="RESET"?4:X()}(c.targetChange.targetChangeType||"NO_CHANGE"),f=c.targetChange.targetIds||[],m=function(C,k){return C.I?(ot(k===void 0||typeof k=="string"),$e.fromBase64String(k||"")):(ot(k===void 0||k instanceof Uint8Array),$e.fromUint8Array(k||new Uint8Array))}(s,c.targetChange.resumeToken),v=(y=c.targetChange.cause)&&function(C){var k=C.code===void 0?T.UNKNOWN:uA(C.code);return new P(k,C.message||"")}(y);l=new hA(d,f,m,v||null)}else if("documentChange"in c){c.documentChange,(d=c.documentChange).document,d.document.name,d.document.updateTime,f=Ei(s,d.document.name),m=Se(d.document.updateTime);var y=new Dn({mapValue:{fields:d.document.fields}}),_=(v=De.newFoundDocument(f,m,y),d.targetIds||[]),I=d.removedTargetIds||[];l=new Hh(_,I,v.key,v)}else if("documentDelete"in c)c.documentDelete,(d=c.documentDelete).document,f=Ei(s,d.document),m=d.readTime?Se(d.readTime):vt.min(),y=De.newNoDocument(f,m),v=d.removedTargetIds||[],l=new Hh([],v,y.key,y);else if("documentRemove"in c)c.documentRemove,(d=c.documentRemove).document,f=Ei(s,d.document),m=d.removedTargetIds||[],l=new Hh([],m,f,null);else{if(!("filter"in c))return X();c.filter;var E=c.filter;E.targetId,d=E.count||0,f=new cU(d),m=E.targetId,l=new dA(m,f)}return l}(this.R,n),r=function(s){if(!("targetChange"in s))return vt.min();var c=s.targetChange;return c.targetIds&&c.targetIds.length?vt.min():c.readTime?Se(c.readTime):vt.min()}(n);return this.listener._r(i,r)},t.prototype.mr=function(n){var i={};i.database=Nu(this.R),i.addTarget=function(s,c){var l,d=c.target;return(l=Xh(d)?{documents:bA(s,d)}:{query:yA(s,d)}).targetId=c.targetId,c.resumeToken.approximateByteSize()>0?l.resumeToken=fA(s,c.resumeToken):c.snapshotVersion.compareTo(vt.min())>0&&(l.readTime=Pu(s,c.snapshotVersion.toTimestamp())),l}(this.R,n);var r=function(s,c){var l=function(d,f){switch(f){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return X()}}(0,c.purpose);return l==null?null:{"goog-listen-tags":l}}(this.R,n);r&&(i.labels=r),this.cr(i)},t.prototype.yr=function(n){var i={};i.database=Nu(this.R),i.removeTarget=n,this.cr(i)},t}(qA),p4=function(e){function t(n,i,r,s,c){var l=this;return(l=e.call(this,n,"write_stream_connection_backoff","write_stream_idle",i,r,c)||this).R=s,l.gr=!1,l}return Q(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(n){return this.Hi.Oi("Write",n)},t.prototype.onMessage=function(n){if(ot(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var i=function(s,c){return s&&s.length>0?(ot(c!==void 0),s.map(function(l){return function(d,f){var m=d.updateTime?Se(d.updateTime):Se(f);return m.isEqual(vt.min())&&(m=Se(f)),new oU(m,d.transformResults||[])}(l,c)})):[]}(n.writeResults,n.commitTime),r=Se(n.commitTime);return this.listener.Tr(r,i)}return ot(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var n={};n.database=Nu(this.R),this.cr(n)},t.prototype.Er=function(n){var i=this,r={streamToken:this.lastStreamToken,writes:n.map(function(s){return Jh(i.R,s)})};this.cr(r)},t}(qA),m4=function(e){function t(n,i,r){var s=this;return(s=e.call(this)||this).credentials=n,s.Hi=i,s.R=r,s.Rr=!1,s}return Q(t,e),t.prototype.br=function(){if(this.Rr)throw new P(T.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(n,i,r){var s=this;return this.br(),this.credentials.getToken().then(function(c){return s.Hi.Ni(n,i,r,c)}).catch(function(c){throw c.name==="FirebaseError"?(c.code===T.UNAUTHENTICATED&&s.credentials.invalidateToken(),c):new P(T.UNKNOWN,c.toString())})},t.prototype.$i=function(n,i,r){var s=this;return this.br(),this.credentials.getToken().then(function(c){return s.Hi.$i(n,i,r,c)}).catch(function(c){throw c.name==="FirebaseError"?(c.code===T.UNAUTHENTICATED&&s.credentials.invalidateToken(),c):new P(T.UNKNOWN,c.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),g4=function(){function e(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var t=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},e.prototype.Nr=function(t){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},e.prototype.set=function(t){this.kr(),this.vr=0,t==="Online"&&(this.Vr=!1),this.Dr(t)},e.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},e.prototype.Cr=function(t){var n="Could not reach Cloud Firestore backend. "+t+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(ce(n),this.Vr=!1):j("OnlineStateTracker",n)},e.prototype.kr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},e}(),v4=function(e,t,n,i,r){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=r,this.Lr.di(function(c){n.enqueueAndForget(function(){return D(s,void 0,void 0,function(){return A(this,function(l){switch(l.label){case 0:return Nr(this)?(j("RemoteStore","Restarting streams for network reachability change."),[4,function(d){return D(this,void 0,void 0,function(){var f;return A(this,function(m){switch(m.label){case 0:return(f=z(d)).Or.add(4),[4,_a(f)];case 1:return m.sent(),f.Br.set("Unknown"),f.Or.delete(4),[4,Gu(f)];case 2:return m.sent(),[2]}})})}(this)]):[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})})}),this.Br=new g4(n,i)};C4=function(){function e(t,n,i,r,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new je,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(c){})}return e.createAndSchedule=function(t,n,i,r,s){var c=new e(t,n,Date.now()+i,r,s);return c.start(i),c},e.prototype.start=function(t){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},t)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new P(T.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},e.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return t.timerHandle!==null?(t.clearTimeout(),t.op().then(function(n){return t.deferred.resolve(n)})):Promise.resolve()})},e.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();YA=function(){function e(t){this.comparator=t?function(n,i){return t(n,i)||J.comparator(n.key,i.key)}:function(n,i){return J.comparator(n.key,i.key)},this.keyedMap=dy(),this.sortedSet=new Ue(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(t){return this.keyedMap.get(t)!=null},e.prototype.get=function(t){return this.keyedMap.get(t)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(t){var n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(n,i){return t(n),!1})},e.prototype.add=function(t){var n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))},e.prototype.delete=function(t){var n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();n.hasNext();){var r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0},e.prototype.toString=function(){var t=[];return this.forEach(function(n){t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`},e.prototype.copy=function(t,n){var i=new e;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i},e}(),v1=function(){function e(){this.Qr=new Ue(J.comparator)}return e.prototype.track=function(t){var n=t.doc.key,i=this.Qr.get(n);i?t.type!==0&&i.type===3?this.Qr=this.Qr.insert(n,t):t.type===3&&i.type!==1?this.Qr=this.Qr.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.Qr=this.Qr.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.Qr=this.Qr.remove(n):t.type===1&&i.type===2?this.Qr=this.Qr.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):X():this.Qr=this.Qr.insert(n,t)},e.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(n,i){t.push(i)}),t},e}(),of=function(){function e(t,n,i,r,s,c,l,d){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=c,this.syncStateChanged=l,this.excludesMetadataChanges=d}return e.fromInitialDocuments=function(t,n,i,r){var s=[];return n.forEach(function(c){s.push({type:0,doc:c})}),new e(t,n,YA.emptySet(n),s,i,r,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Bu(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(var r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0},e}(),T4=function(){this.Wr=void 0,this.listeners=[]},S4=function(){this.queries=new ya(function(e){return Z1(e)},Bu),this.onlineState="Unknown",this.Gr=new Set};Wy=function(){function e(t,n,i){this.query=t,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=i||{}}return e.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var n=[],i=0,r=t.docChanges;i<r.length;i++){var s=r[i];s.type!==3&&n.push(s)}t=new of(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var c=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),c=!0):this.eo(t,this.onlineState)&&(this.no(t),c=!0),this.Xr=t,c},e.prototype.onError=function(t){this.Jr.error(t)},e.prototype.zr=function(t){this.onlineState=t;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),n=!0),n},e.prototype.eo=function(t,n){if(!t.fromCache)return!0;var i=n!=="Offline";return!(this.options.so&&i||t.docs.isEmpty()&&n!=="Offline")},e.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},e.prototype.no=function(t){t=of.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},e}(),R4=function(){function e(t,n){this.payload=t,this.byteLength=n}return e.prototype.io=function(){return"metadata"in this.payload},e}(),b1=function(){function e(t){this.R=t}return e.prototype.qn=function(t){return Ei(this.R,t)},e.prototype.Un=function(t){return t.metadata.exists?vA(this.R,t.document,!1):De.newNoDocument(this.qn(t.metadata.name),this.Kn(t.metadata.readTime))},e.prototype.Kn=function(t){return Se(t)},e}(),G5=function(){function e(t,n,i){this.ro=t,this.localStore=n,this.R=i,this.queries=[],this.documents=[],this.progress=k4(t)}return e.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var n=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++n):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++n),n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null},e.prototype.co=function(t){for(var n=new Map,i=new b1(this.R),r=0,s=t;r<s.length;r++){var c=s[r];if(c.metadata.queries)for(var l=i.qn(c.metadata.name),d=0,f=c.metadata.queries;d<f.length;d++){var m=f[d],v=(n.get(m)||kt()).add(l);n.set(m,v)}}return n},e.prototype.complete=function(){return D(this,void 0,void 0,function(){var t,n,i,r,s;return A(this,function(c){switch(c.label){case 0:return[4,ZU(this.localStore,new b1(this.R),this.documents,this.ro.id)];case 1:t=c.sent(),n=this.co(this.documents),i=0,r=this.queries,c.label=2;case 2:return i<r.length?(s=r[i],[4,JU(this.localStore,s,n.get(s.name))]):[3,5];case 3:c.sent(),c.label=4;case 4:return i++,[3,2];case 5:return[2,(this.progress.taskState="Success",new WU(Object.assign({},this.progress),t))]}})})},e}();XA=function(e){this.key=e},QA=function(e){this.key=e},ZA=function(){function e(t,n){this.query=t,this.uo=n,this.ao=null,this.current=!1,this.ho=kt(),this.mutatedKeys=kt(),this.lo=J1(t),this.fo=new YA(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(t,n){var i=this,r=n?n.mo:new v1,s=n?n.fo:this.fo,c=n?n.mutatedKeys:this.mutatedKeys,l=s,d=!1,f=zh(this.query)&&s.size===this.query.limit?s.last():null,m=Zh(this.query)&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal(function(y,_){var I=s.get(y),E=zu(i.query,_)?_:null,C=!!I&&i.mutatedKeys.has(I.key),k=!!E&&(E.hasLocalMutations||i.mutatedKeys.has(E.key)&&E.hasCommittedMutations),L=!1;I&&E?I.data.isEqual(E.data)?C!==k&&(r.track({type:3,doc:E}),L=!0):i.yo(I,E)||(r.track({type:2,doc:E}),L=!0,(f&&i.lo(E,f)>0||m&&i.lo(E,m)<0)&&(d=!0)):!I&&E?(r.track({type:0,doc:E}),L=!0):I&&!E&&(r.track({type:1,doc:I}),L=!0,(f||m)&&(d=!0)),L&&(E?(l=l.add(E),c=k?c.add(y):c.delete(y)):(l=l.delete(y),c=c.delete(y)))}),zh(this.query)||Zh(this.query))for(;l.size>this.query.limit;){var v=zh(this.query)?l.last():l.first();l=l.delete(v.key),c=c.delete(v.key),r.track({type:1,doc:v})}return{fo:l,mo:r,Nn:d,mutatedKeys:c}},e.prototype.yo=function(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},e.prototype.applyChanges=function(t,n,i){var r=this,s=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var c=t.mo.jr();c.sort(function(m,v){return function(y,_){var I=function(E){switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return X()}};return I(y)-I(_)}(m.type,v.type)||r.lo(m.doc,v.doc)}),this.po(i);var l=n?this.Eo():[],d=this.ho.size===0&&this.current?1:0,f=d!==this.ao;return this.ao=d,c.length!==0||f?{snapshot:new of(this.query,t.fo,s,c,t.mutatedKeys,d===0,f,!1),To:l}:{To:l}},e.prototype.zr=function(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new v1,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},e.prototype.po=function(t){var n=this;t&&(t.addedDocuments.forEach(function(i){return n.uo=n.uo.add(i)}),t.modifiedDocuments.forEach(function(i){}),t.removedDocuments.forEach(function(i){return n.uo=n.uo.delete(i)}),this.current=t.current)},e.prototype.Eo=function(){var t=this;if(!this.current)return[];var n=this.ho;this.ho=kt(),this.fo.forEach(function(r){t.Io(r.key)&&(t.ho=t.ho.add(r.key))});var i=[];return n.forEach(function(r){t.ho.has(r)||i.push(new QA(r))}),this.ho.forEach(function(r){n.has(r)||i.push(new XA(r))}),i},e.prototype.Ao=function(t){this.uo=t.Bn,this.ho=kt();var n=this._o(t.documents);return this.applyChanges(n,!0)},e.prototype.Ro=function(){return of.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},e}(),O4=function(e,t,n){this.query=e,this.targetId=t,this.view=n},P4=function(e){this.key=e,this.bo=!1},M4=function(){function e(t,n,i,r,s,c){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=c,this.vo={},this.Po=new ya(function(l){return Z1(l)},Bu),this.Vo=new Map,this.So=new Set,this.Do=new Ue(J.comparator),this.Co=new Map,this.No=new Fy,this.xo={},this.ko=new Map,this.Fo=ef.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return this.$o===!0},enumerable:!1,configurable:!0}),e}();nD=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(t){return D(this,void 0,void 0,function(){return A(this,function(n){switch(n.label){case 0:return this.R=mf(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},e.prototype.Uo=function(t){return null},e.prototype.Ko=function(t){return NA(this.persistence,new MA,t.initialUser,this.R)},e.prototype.qo=function(t){return new o4(a4.bs,this.R)},e.prototype.Bo=function(t){return new BA},e.prototype.terminate=function(){return D(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},e}(),iD=function(e){function t(n,i,r){var s=this;return(s=e.call(this)||this).Qo=n,s.cacheSizeBytes=i,s.forceOwnership=r,s.synchronizeTabs=!1,s}return Q(t,e),t.prototype.initialize=function(n){return D(this,void 0,void 0,function(){var i=this;return A(this,function(r){switch(r.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return r.sent(),[4,QU(this.localStore)];case 2:return r.sent(),[4,this.Qo.initialize(this,n)];case 3:return r.sent(),[4,Qy(this.Qo.syncEngine)];case 4:return r.sent(),[4,wa(this.Qo.remoteStore)];case 5:return r.sent(),[4,this.persistence.He(function(){return i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(i.localStore),Promise.resolve()})];case 6:return r.sent(),[2]}})})},t.prototype.Ko=function(n){return NA(this.persistence,new MA,n.initialUser,this.R)},t.prototype.Uo=function(n){var i=this.persistence.referenceDelegate.garbageCollector;return new jU(i,n.asyncQueue)},t.prototype.qo=function(n){var i=Ly(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?wi.withCacheSize(this.cacheSizeBytes):wi.DEFAULT;return new HU(this.synchronizeTabs,i,n.clientId,r,n.asyncQueue,zA(),Wh(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(n){return new BA},t}(nD),Z4=function(e){function t(n,i){var r=this;return(r=e.call(this,n,i,!1)||this).Qo=n,r.cacheSizeBytes=i,r.synchronizeTabs=!0,r}return Q(t,e),t.prototype.initialize=function(n){return D(this,void 0,void 0,function(){var i,r=this;return A(this,function(s){switch(s.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return s.sent(),i=this.Qo.syncEngine,this.sharedClientState instanceof oy?(this.sharedClientState.syncEngine={ui:$4.bind(null,i),ai:X4.bind(null,i),hi:Q4.bind(null,i),fn:Y4.bind(null,i),ci:G4.bind(null,i)},[4,this.sharedClientState.start()]):[3,3];case 2:s.sent(),s.label=3;case 3:return[4,this.persistence.He(function(c){return D(r,void 0,void 0,function(){return A(this,function(l){switch(l.label){case 0:return[4,K4(this.Qo.syncEngine,c)];case 1:return l.sent(),this.gcScheduler&&(c&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):c||this.gcScheduler.stop()),[2]}})})})];case 4:return s.sent(),[2]}})})},t.prototype.Bo=function(n){var i=zA();if(!oy.yt(i))throw new P(T.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var r=Ly(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new oy(i,n.asyncQueue,r,n.clientId,n.initialUser)},t}(iD),vy=function(){function e(){}return e.prototype.initialize=function(t,n){return D(this,void 0,void 0,function(){var i=this;return A(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(s){return y1(i.syncEngine,s,1)},this.remoteStore.remoteSyncer.handleCredentialChange=q4.bind(null,this.syncEngine),[4,my(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},e.prototype.createEventManager=function(t){return new S4},e.prototype.createDatastore=function(t){var n,i=mf(t.databaseInfo.databaseId),r=(n=t.databaseInfo,new h4(n));return function(s,c,l){return new m4(s,c,l)}(t.credentials,r,i)},e.prototype.createRemoteStore=function(t){var n,i,r,s,c,l=this;return n=this.localStore,i=this.datastore,r=t.asyncQueue,s=function(d){return y1(l.syncEngine,d,0)},c=g1.yt()?new g1:new u4,new v4(n,i,r,s,c)},e.prototype.createSyncEngine=function(t,n){return function(i,r,s,c,l,d,f){var m=new M4(i,r,s,c,l,d);return f&&(m.$o=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)},e.prototype.terminate=function(){return function(t){return D(this,void 0,void 0,function(){var n;return A(this,function(i){switch(i.label){case 0:return n=z(t),j("RemoteStore","RemoteStore shutting down."),n.Or.add(5),[4,_a(n)];case 1:return i.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},e}();vf=function(){function e(t){this.observer=t,this.muted=!1}return e.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},e.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(t,n){var i=this;this.muted||setTimeout(function(){i.muted||t(n)},0)},e}(),$5=function(){function e(t,n){var i=this;this.Go=t,this.R=n,this.metadata=new je,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(r){r&&r.io()?i.metadata.resolve(r.payload.metadata):i.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             `+JSON.stringify(r?.payload)))},function(r){return i.metadata.reject(r)})}return e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return D(this,void 0,void 0,function(){return A(this,function(t){return[2,this.metadata.promise]})})},e.prototype.Lo=function(){return D(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},e.prototype.Ho=function(){return D(this,void 0,void 0,function(){var t,n,i,r;return A(this,function(s){switch(s.label){case 0:return[4,this.Jo()];case 1:return(t=s.sent())===null?[2,null]:(n=this.zo.decode(t),i=Number(n),isNaN(i)&&this.Yo("length string ("+n+") is not valid number"),[4,this.Xo(i)]);case 2:return r=s.sent(),[2,new R4(JSON.parse(r),t.length+i)]}})})},e.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t===123})},e.prototype.Jo=function(){return D(this,void 0,void 0,function(){var t,n;return A(this,function(i){switch(i.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(i.sent())return[3,3];i.label=2;case 2:return[3,0];case 3:return this.buffer.length===0?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),n)])}})})},e.prototype.Xo=function(t){return D(this,void 0,void 0,function(){var n;return A(this,function(i){switch(i.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:i.sent()&&this.Yo("Reached the end of bundle when more is expected."),i.label=2;case 2:return[3,0];case 3:return n=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),n)]}})})},e.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},e.prototype.tc=function(){return D(this,void 0,void 0,function(){var t,n;return A(this,function(i){switch(i.label){case 0:return[4,this.Go.read()];case 1:return(t=i.sent()).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),[2,t.done]}})})},e}(),J4=function(){function e(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(t){return D(this,void 0,void 0,function(){var n,i=this;return A(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new P(T.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(s,c){return D(this,void 0,void 0,function(){var l,d,f,m,v,y;return A(this,function(_){switch(_.label){case 0:return l=z(s),d=Nu(l.R)+"/documents",f={documents:c.map(function(I){return Mu(l.R,I)})},[4,l.$i("BatchGetDocuments",d,f)];case 1:return m=_.sent(),v=new Map,m.forEach(function(I){var E=function(C,k){return"found"in k?function(L,B){ot(!!B.found),B.found.name,B.found.updateTime;var et=Ei(L,B.found.name),ut=Se(B.found.updateTime),F=new Dn({mapValue:{fields:B.found.fields}});return De.newFoundDocument(et,ut,F)}(C,k):"missing"in k?function(L,B){ot(!!B.missing),ot(!!B.readTime);var et=Ei(L,B.missing),ut=Se(B.readTime);return De.newNoDocument(et,ut)}(C,k):X()}(l.R,I);v.set(E.key.toString(),E)}),y=[],[2,(c.forEach(function(I){var E=v.get(I.toString());ot(!!E),y.push(E)}),y)]}})})}(this.datastore,t)];case 1:return[2,((n=r.sent()).forEach(function(s){return i.recordVersion(s)}),n)]}})})},e.prototype.set=function(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.update=function(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())},e.prototype.delete=function(t){this.write(new Wu(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.commit=function(){return D(this,void 0,void 0,function(){var t,n=this;return A(this,function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(r){t.delete(r.key.toString())}),t.forEach(function(r,s){var c=J.fromPath(s);n.mutations.push(new Sy(c,n.precondition(c)))}),[4,function(r,s){return D(this,void 0,void 0,function(){var c,l,d;return A(this,function(f){switch(f.label){case 0:return c=z(r),l=Nu(c.R)+"/documents",d={writes:s.map(function(m){return Jh(c.R,m)})},[4,c.Ni("Commit",l,d)];case 1:return f.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return i.sent(),this.committed=!0,[2]}})})},e.prototype.recordVersion=function(t){var n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw X();n=vt.min()}var i=this.readVersions.get(t.key.toString());if(i){if(!n.isEqual(i))throw new P(T.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)},e.prototype.precondition=function(t){var n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?Fe.updateTime(n):Fe.none()},e.prototype.preconditionForUpdate=function(t){var n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(vt.min()))throw new P(T.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Fe.updateTime(n)}return Fe.exists(!0)},e.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},e.prototype.ensureCommitNotCalled=function(){},e}(),tV=function(){function e(t,n,i,r){this.asyncQueue=t,this.datastore=n,this.updateFunction=i,this.deferred=r,this.ec=5,this.Zi=new jy(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var t=this;this.Zi.ji(function(){return D(t,void 0,void 0,function(){var n,i,r=this;return A(this,function(s){return n=new J4(this.datastore),(i=this.sc(n))&&i.then(function(c){r.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){r.deferred.resolve(c)}).catch(function(l){r.ic(l)})})}).catch(function(c){r.ic(c)}),[2]})})})},e.prototype.sc=function(t){try{var n=this.updateFunction(t);return!Po(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}},e.prototype.ic=function(t){var n=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(t)},e.prototype.rc=function(t){if(t.name==="FirebaseError"){var n=t.code;return n==="aborted"||n==="failed-precondition"||!cA(n)}return!1},e}(),eV=function(){function e(t,n,i){var r=this;this.credentials=t,this.asyncQueue=n,this.databaseInfo=i,this.user=Te.UNAUTHENTICATED,this.clientId=z1.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(n,function(s){return D(r,void 0,void 0,function(){return A(this,function(c){switch(c.label){case 0:return j("FirestoreClient","Received user=",s.uid),[4,this.credentialListener(s)];case 1:return c.sent(),this.user=s,[2]}})})})}return e.prototype.getConfiguration=function(){return D(this,void 0,void 0,function(){return A(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},e.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new P(T.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var n=new je;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return D(t,void 0,void 0,function(){var i,r;return A(this,function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:s.sent(),s.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:s.sent(),s.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return i=s.sent(),r=Ea(i,"Failed to shutdown persistence"),n.reject(r),[3,6];case 6:return[2]}})})}),n.promise},e}();nV=function(e,t,n,i,r,s,c,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=i,this.ssl=r,this.forceLongPolling=s,this.autoDetectLongPolling=c,this.useFetchStreams=l},sf=function(){function e(t,n){this.projectId=t,this.database=n||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),C1=new Map,cD=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},T1=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){this.changeListener=n,t.enqueueRetryable(function(){return n(Te.UNAUTHENTICATED)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),iV=function(){function e(t){this.token=t,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){var i=this;this.changeListener=n,t.enqueueRetryable(function(){return n(i.token.user)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),rV=function(){function e(t){var n=this;this.currentUser=Te.UNAUTHENTICATED,this.oc=new je,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){n.cc++,n.currentUser=n.ac(),n.oc.resolve(),n.changeListener&&n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)})};var i=function(r){j("FirebaseCredentialsProvider","Auth detected"),n.auth=r,n.auth.addAuthTokenListener(n.uc)};t.onInit(function(r){return i(r)}),setTimeout(function(){if(!n.auth){var r=t.getImmediate({optional:!0});r?i(r):(j("FirebaseCredentialsProvider","Auth not yet detected"),n.oc.resolve())}},0)}return e.prototype.getToken=function(){var t=this,n=this.cc,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(function(r){return t.cc!==n?(j("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):r?(ot(typeof r.accessToken=="string"),new cD(r.accessToken,t.currentUser)):null}):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(t,n){var i=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return D(i,void 0,void 0,function(){return A(this,function(r){switch(r.label){case 0:return[4,this.oc.promise];case 1:return r.sent(),[4,n(this.currentUser)];case 2:return r.sent(),this.changeListener=n,[2]}})})})},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return ot(t===null||typeof t=="string"),new Te(t)},e}(),oV=function(){function e(t,n,i){this.hc=t,this.lc=n,this.fc=i,this.type="FirstParty",this.user=Te.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},n=this.hc.auth.getAuthHeaderValueForFirstParty([]);return n&&(t.Authorization=n),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),e}(),sV=function(){function e(t,n,i){this.hc=t,this.lc=n,this.fc=i}return e.prototype.getToken=function(){return Promise.resolve(new oV(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(t,n){t.enqueueRetryable(function(){return n(Te.FIRST_PARTY)})},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();R1=function(){function e(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new P(T.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new P(T.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,uD("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},e}(),Fu=function(){function e(t,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new R1({}),this._settingsFrozen=!1,t instanceof sf?(this._databaseId=t,this._credentials=new T1):(this._app=t,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new P(T.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sf(i.options.projectId)}(t),this._credentials=new rV(n))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new P(T.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(t){if(this._settingsFrozen)throw new P(T.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new R1(t),t.credentials!==void 0&&(this._credentials=function(n){if(!n)return new T1;switch(n.type){case"gapi":var i=n.client;return ot(!(typeof i!="object"||i===null||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new sV(i,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new P(T.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return t=this,(n=C1.get(t))&&(j("ComponentProvider","Removing Datastore"),C1.delete(t),n.terminate()),Promise.resolve();var t,n},e}(),Gt=function(){function e(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Rr(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),On=function(){function e(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),Rr=function(e){function t(n,i,r){var s=this;return(s=e.call(this,n,i,ba(r))||this)._path=r,s.type="collection",s}return Q(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new Gt(this.firestore,null,new J(n))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(n){return new t(this.firestore,n,this._path)},t}(On);aV=function(){function e(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new jy(this,"async_queue_retry"),this.Ic=function(){var i=Wh();i&&j("AsyncQueue","Visibility state changed to "+i.visibilityState),t.Zi.Gi()};var n=Wh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(t){this.enqueue(t)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},e.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var n=Wh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(t){var n=this;if(this.Ac(),this._c)return new Promise(function(){});var i=new je;return this.Rc(function(){return n._c&&n.Ec?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)}).then(function(){return i.promise})},e.prototype.enqueueRetryable=function(t){var n=this;this.enqueueAndForget(function(){return n.wc.push(t),n.bc()})},e.prototype.bc=function(){return D(this,void 0,void 0,function(){var t,n=this;return A(this,function(i){switch(i.label){case 0:if(this.wc.length===0)return[3,5];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return i.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Mo(t=i.sent()))throw t;return j("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return n.bc()}),i.label=5;case 5:return[2]}})})},e.prototype.Rc=function(t){var n=this,i=this.dc.then(function(){return n.gc=!0,t().catch(function(r){throw n.yc=r,n.gc=!1,ce("INTERNAL UNHANDLED ERROR: ",function(s){var c=s.message||"";return s.stack&&(c=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),c}(r)),r}).then(function(r){return n.gc=!1,r})});return this.dc=i,i},e.prototype.enqueueAfterDelay=function(t,n,i){var r=this;this.Ac(),this.Tc.indexOf(t)>-1&&(n=0);var s=C4.createAndSchedule(this,t,n,i,function(c){return r.vc(c)});return this.mc.push(s),s},e.prototype.Ac=function(){this.yc&&X()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return D(this,void 0,void 0,function(){var t;return A(this,function(n){switch(n.label){case 0:return[4,t=this.dc];case 1:n.sent(),n.label=2;case 2:if(t!==this.dc)return[3,0];n.label=3;case 3:return[2]}})})},e.prototype.Vc=function(t){for(var n=0,i=this.mc;n<i.length;n++)if(i[n].timerId===t)return!0;return!1},e.prototype.Sc=function(t){var n=this;return this.Pc().then(function(){n.mc.sort(function(c,l){return c.targetTimeMs-l.targetTimeMs});for(var i=0,r=n.mc;i<r.length;i++){var s=r[i];if(s.skipDelay(),t!=="all"&&s.timerId===t)break}return n.Pc()})},e.prototype.Dc=function(t){this.Tc.push(t)},e.prototype.vc=function(t){var n=this.mc.indexOf(t);this.mc.splice(n,1)},e}();K5=function(){function e(){this._progressObserver={},this._taskCompletionResolver=new je,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return e.prototype.onProgress=function(t,n,i){this._progressObserver={next:t,error:n,complete:i}},e.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},e.prototype.then=function(t,n){return this._taskCompletionResolver.promise.then(t,n)},e.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},e.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},e.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)},e}(),fD=-1,ue=function(e){function t(n,i){var r=this;return(r=e.call(this,n,i)||this).type="firestore",r._queue=new aV,r._persistenceKey="name"in n?n.name:"[DEFAULT]",r}return Q(t,e),t.prototype._terminate=function(){return this._firestoreClient||pD(this),this._firestoreClient.terminate()},t}(Fu);xi=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var i=0;i<t.length;++i)if(t[i].length===0)throw new P(T.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new si(t)}return e.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},e}(),ko=function(){function e(t){this._byteString=t}return e.fromBase64String=function(t){try{return new e($e.fromBase64String(t))}catch(n){throw new P(T.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},e.fromUint8Array=function(t){return new e($e.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},e}(),Lo=function(e){this._methodName=e},$u=function(){function e(t,n){if(!isFinite(t)||t<-90||t>90)throw new P(T.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new P(T.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(t){return _t(this._lat,t._lat)||_t(this._long,t._long)},e}(),cV=/^__.*__$/,uV=function(){function e(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}return e.prototype.toMutation=function(t,n){return this.fieldMask!==null?new Mr(t,this.data,this.fieldMask,n,this.fieldTransforms):new Hu(t,this.data,n,this.fieldTransforms)},e}(),mD=function(){function e(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}return e.prototype.toMutation=function(t,n){return new Mr(t,this.data,this.fieldMask,n,this.fieldTransforms)},e}();vD=function(){function e(t,n,i,r,s,c){this.settings=t,this.databaseId=n,this.R=i,this.ignoreUndefinedProperties=r,s===void 0&&this.Cc(),this.fieldTransforms=s||[],this.fieldMask=c||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(t){var n,i=(n=this.path)===null||n===void 0?void 0:n.child(t),r=this.xc({path:i,Fc:!1});return r.$c(t),r},e.prototype.Oc=function(t){var n,i=(n=this.path)===null||n===void 0?void 0:n.child(t),r=this.xc({path:i,Fc:!1});return r.Cc(),r},e.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(t){return af(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(t){return this.fieldMask.find(function(n){return t.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return t.isPrefixOf(n.field)})!==void 0},e.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},e.prototype.$c=function(t){if(t.length===0)throw this.Lc("Document fields must not be empty");if(gD(this.Nc)&&cV.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),lV=function(){function e(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.R=i||mf(t)}return e.prototype.Uc=function(t,n,i,r){return r===void 0&&(r=!1),new vD({Nc:t,methodName:n,qc:i,path:si.emptyPath(),Fc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();e0=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Q(t,e),t.prototype._toFieldTransform=function(n){if(n.Nc!==2)throw n.Nc===1?n.Lc(this._methodName+"() can only appear at the top level of your update data"):n.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},t.prototype.isEqual=function(n){return n instanceof t},t}(Lo);dV=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Q(t,e),t.prototype._toFieldTransform=function(n){return new qu(n.path,new ra)},t.prototype.isEqual=function(n){return n instanceof t},t}(Lo),hV=function(e){function t(n,i){var r=this;return(r=e.call(this,n)||this).Kc=i,r}return Q(t,e),t.prototype._toFieldTransform=function(n){var i=bD(this,n,!0),r=this.Kc.map(function(c){return jo(c,i)}),s=new Do(r);return new qu(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(Lo),fV=function(e){function t(n,i){var r=this;return(r=e.call(this,n)||this).Kc=i,r}return Q(t,e),t.prototype._toFieldTransform=function(n){var i=bD(this,n,!0),r=this.Kc.map(function(c){return jo(c,i)}),s=new Ro(r);return new qu(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(Lo),pV=function(e){function t(n,i){var r=this;return(r=e.call(this,n)||this).Qc=i,r}return Q(t,e),t.prototype._toFieldTransform=function(n){var i=new oa(n.R,nA(n.R,this.Qc));return new qu(n.path,i)},t.prototype.isEqual=function(n){return this===n},t}(Lo);mV=new RegExp("[~\\*/\\[\\]]");ju=function(){function e(t,n,i,r,s){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Gt(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return this._document!==null},e.prototype.data=function(){if(this._document){if(this._converter){var t=new gV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(t){if(this._document){var n=this._document.data.field(cf("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}},e}(),gV=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Q(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(ju);xo=function(){function e(t,n){this.hasPendingWrites=t,this.fromCache=n}return e.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},e}(),qi=function(e){function t(n,i,r,s,c,l){var d=this;return(d=e.call(this,n,i,r,s,l)||this)._firestore=n,d._firestoreImpl=n,d.metadata=c,d}return Q(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var i=new Du(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}},t.prototype.get=function(n,i){if(i===void 0&&(i={}),this._document){var r=this._document.data.field(cf("DocumentSnapshot.get",n));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}},t}(ju),Du=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Q(t,e),t.prototype.data=function(n){return n===void 0&&(n={}),e.prototype.data.call(this,n)},t}(qi),Sr=function(){function e(t,n,i,r){this._firestore=t,this._userDataWriter=n,this._snapshot=r,this.metadata=new xo(r.hasPendingWrites,r.fromCache),this.query=i}return Object.defineProperty(e.prototype,"docs",{get:function(){var t=[];return this.forEach(function(n){return t.push(n)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t,n){var i=this;this._snapshot.docs.forEach(function(r){t.call(n,new Du(i._firestore,i._userDataWriter,r.key,r,new xo(i._snapshot.mutatedKeys.has(r.key),i._snapshot.fromCache),i.query.converter))})},e.prototype.docChanges=function(t){t===void 0&&(t={});var n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new P(T.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){var s=0;return i._snapshot.docChanges.map(function(l){return{type:"added",doc:new Du(i._firestore,i._userDataWriter,l.doc.key,l.doc,new xo(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}})}var c=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(function(l){return r||l.type!==3}).map(function(l){var d=new Du(i._firestore,i._userDataWriter,l.doc.key,l.doc,new xo(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter),f=-1,m=-1;return l.type!==0&&(f=c.indexOf(l.doc.key),c=c.delete(l.doc.key)),l.type!==1&&(m=(c=c.add(l.doc)).indexOf(l.doc.key)),{type:vV(l.type),doc:d,oldIndex:f,newIndex:m}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},e}();Ku=function(){};bV=function(e){function t(n,i,r){var s=this;return(s=e.call(this)||this).jc=n,s.Wc=i,s.Gc=r,s.type="where",s}return Q(t,e),t.prototype._apply=function(n){var i=Fo(n.firestore),r=function(s,c,l,d,f,m,v){var y;if(f.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new P(T.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+m+"' queries on FieldPath.documentId().");if(m==="in"||m==="not-in"){F1(v,m);for(var _=[],I=0,E=v;I<E.length;I++){var C=E[I];_.push(L1(d,s,C))}y={arrayValue:{values:_}}}else y=L1(d,s,v)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||F1(v,m),y=yD(l,"where",v,m==="in"||m==="not-in");var k=kn.create(f,m,y);return function(L,B){if(B.g()){var et=Cy(L);if(et!==null&&!et.isEqual(B.field))throw new P(T.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+et.toString()+"' and '"+B.field.toString()+"'");var ut=xy(L);ut!==null&&TD(L,B.field,ut)}var F=function(Ot,Gn){for(var K=0,Wo=Ot.filters;K<Wo.length;K++){var x=Wo[K];if(Gn.indexOf(x.op)>=0)return x.op}return null}(L,function(Ot){switch(Ot){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(B.op));if(F!==null)throw F===B.op?new P(T.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+B.op.toString()+"' filter."):new P(T.INVALID_ARGUMENT,"Invalid query. You cannot use '"+B.op.toString()+"' filters with '"+F.toString()+"' filters.")}(s,k),k}(n._query,0,i,n.firestore._databaseId,this.jc,this.Wc,this.Gc);return new On(n.firestore,n.converter,function(s,c){var l=s.filters.concat([c]);return new Hi(s.path,s.collectionGroup,s.explicitOrderBy.slice(),l,s.limit,s.limitType,s.startAt,s.endAt)}(n._query,r))},t}(Ku),yV=function(e){function t(n,i){var r=this;return(r=e.call(this)||this).jc=n,r.zc=i,r.type="orderBy",r}return Q(t,e),t.prototype._apply=function(n){var i=function(r,s,c){if(r.startAt!==null)throw new P(T.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new P(T.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var l=new Zs(s,c);return function(d,f){if(xy(d)===null){var m=Cy(d);m!==null&&TD(d,m,f.field)}}(r,l),l}(n._query,this.jc,this.zc);return new On(n.firestore,n.converter,function(r,s){var c=r.explicitOrderBy.concat([s]);return new Hi(r.path,r.collectionGroup,c,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(n._query,i))},t}(Ku),P1=function(e){function t(n,i,r){var s=this;return(s=e.call(this)||this).type=n,s.Hc=i,s.Jc=r,s}return Q(t,e),t.prototype._apply=function(n){return new On(n.firestore,n.converter,Q1(n._query,this.Hc,this.Jc))},t}(Ku),M1=function(e){function t(n,i,r){var s=this;return(s=e.call(this)||this).type=n,s.Yc=i,s.Xc=r,s}return Q(t,e),t.prototype._apply=function(n){var i=CD(n,this.type,this.Yc,this.Xc);return new On(n.firestore,n.converter,function(r,s){return new Hi(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,s,r.endAt)}(n._query,i))},t}(Ku),N1=function(e){function t(n,i,r){var s=this;return(s=e.call(this)||this).type=n,s.Yc=i,s.Xc=r,s}return Q(t,e),t.prototype._apply=function(n){var i=CD(n,this.type,this.Yc,this.Xc);return new On(n.firestore,n.converter,function(r,s){return new Hi(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,s)}(n._query,i))},t}(Ku);s0=function(){function e(){}return e.prototype.convertValue=function(t,n){switch(n===void 0&&(n="none"),Ao(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ae(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(ea(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw X()}},e.prototype.convertObject=function(t,n){var i=this,r={};return Oo(t.fields,function(s,c){r[s]=i.convertValue(c,n)}),r},e.prototype.convertGeoPoint=function(t){return new $u(ae(t.latitude),ae(t.longitude))},e.prototype.convertArray=function(t,n){var i=this;return(t.values||[]).map(function(r){return i.convertValue(r,n)})},e.prototype.convertServerTimestamp=function(t,n){switch(n){case"previous":var i=G1(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Ru(t));default:return null}},e.prototype.convertTimestamp=function(t){var n=Or(t);return new Ge(n.seconds,n.nanos)},e.prototype.convertDocumentKey=function(t,n){var i=Ct.fromString(t);ot(IA(i));var r=new sf(i.get(1),i.get(3)),s=new J(i.popFirst(5));return r.isEqual(n)||ce("Document "+s+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),s},e}();_V=function(e){function t(n){var i=this;return(i=e.call(this)||this).firestore=n,i}return Q(t,e),t.prototype.convertBytes=function(n){return new ko(n)},t.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return new Gt(this.firestore,null,i)},t}(s0),wV=function(){function e(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Fo(t)}return e.prototype.set=function(t,n,i){this._verifyNotCommitted();var r=Ar(t,this._firestore),s=wf(r.converter,n,i),c=_f(this._dataReader,"WriteBatch.set",r._key,s,r.converter!==null,i);return this._mutations.push(c.toMutation(r._key,Fe.none())),this},e.prototype.update=function(t,n,i){for(var r=[],s=3;s<arguments.length;s++)r[s-3]=arguments[s];this._verifyNotCommitted();var c,l=Ar(t,this._firestore);return c=typeof(n=At(n))=="string"||n instanceof xi?i0(this._dataReader,"WriteBatch.update",l._key,n,i,r):n0(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(c.toMutation(l._key,Fe.exists(!0))),this},e.prototype.delete=function(t){this._verifyNotCommitted();var n=Ar(t,this._firestore);return this._mutations=this._mutations.concat(new Wu(n._key,Fe.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new P(T.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();So=function(e){function t(n){var i=this;return(i=e.call(this)||this).firestore=n,i}return Q(t,e),t.prototype.convertBytes=function(n){return new ko(n)},t.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return new Gt(this.firestore,null,i)},t}(s0);IV=function(e){function t(n,i){var r=this;return(r=e.call(this,n,i)||this)._firestore=n,r}return Q(t,e),t.prototype.get=function(n){var i=this,r=Ar(n,this._firestore),s=new So(this._firestore);return e.prototype.get.call(this,n).then(function(c){return new qi(i._firestore,s,r._key,c._document,new xo(!1,!1),r.converter)})},t}(function(){function e(t,n){this._firestore=t,this._transaction=n,this._dataReader=Fo(t)}return e.prototype.get=function(t){var n=this,i=Ar(t,this._firestore),r=new _V(this._firestore);return this._transaction.lookup([i._key]).then(function(s){if(!s||s.length!==1)return X();var c=s[0];if(c.isFoundDocument())return new ju(n._firestore,r,c.key,c,i.converter);if(c.isNoDocument())return new ju(n._firestore,r,i._key,null,i.converter);throw X()})},e.prototype.set=function(t,n,i){var r=Ar(t,this._firestore),s=wf(r.converter,n,i),c=_f(this._dataReader,"Transaction.set",r._key,s,r.converter!==null,i);return this._transaction.set(r._key,c),this},e.prototype.update=function(t,n,i){for(var r=[],s=3;s<arguments.length;s++)r[s-3]=arguments[s];var c,l=Ar(t,this._firestore);return c=typeof(n=At(n))=="string"||n instanceof xi?i0(this._dataReader,"Transaction.update",l._key,n,i,r):n0(this._dataReader,"Transaction.update",l._key,n),this._transaction.update(l._key,c),this},e.prototype.delete=function(t){var n=Ar(t,this._firestore);return this._transaction.delete(n._key),this},e}());a0=function(){function e(t){this._delegate=t}return e.fromBase64String=function(t){return B1(),new e(ko.fromBase64String(t))},e.fromUint8Array=function(t){return V1(),new e(ko.fromUint8Array(t))},e.prototype.toBase64=function(){return B1(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return V1(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),AD=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(t,n){return function(i,r){O1(i=Dt(i,ue));var s=Le(i),c=i._freezeSettings(),l=new vy;return k1(s,l,new iD(l,c.cacheSizeBytes,r?.forceOwnership))}(t._delegate,{forceOwnership:n})},e.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(n){O1(n=Dt(n,ue));var i=Le(n),r=n._freezeSettings(),s=new vy;return k1(i,s,new Z4(s,r.cacheSizeBytes))}(t._delegate)},e.prototype.clearIndexedDbPersistence=function(t){return function(n){var i=this;if(n._initialized&&!n._terminated)throw new P(T.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var r=new je;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return D(i,void 0,void 0,function(){var s;return A(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,function(l){return D(this,void 0,void 0,function(){var d;return A(this,function(f){switch(f.label){case 0:return ca.yt()?(d=l+"main",[4,ca.delete(d)]):[2,Promise.resolve()];case 1:return f.sent(),[2]}})})}(Ly(n._databaseId,n._persistenceKey))];case 1:return c.sent(),r.resolve(),[3,3];case 2:return s=c.sent(),r.reject(s),[3,3];case 3:return[2]}})})}),r.promise}(t._delegate)},e}(),c0=function(){function e(t,n,i){var r=this;this._delegate=n,this.Zc=i,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof sf||(this.tu=t)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){var n=this._delegate._getSettings();t.merge||n.host===t.host||$h("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},n),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,n,i){i===void 0&&(i={}),function(r,s,c,l){var d;l===void 0&&(l={});var f=(r=Dt(r,Fu))._getSettings();if(f.host!=="firestore.googleapis.com"&&f.host!==s&&$h("Host has been set in both settings() and useEmulator(), emulator host will be used"),r._setSettings(Object.assign(Object.assign({},f),{host:s+":"+c,ssl:!1})),l.mockUserToken){var m,v;if(typeof l.mockUserToken=="string")m=l.mockUserToken,v=Te.MOCK_USER;else{m=eh(l.mockUserToken,(d=r._app)===null||d===void 0?void 0:d.options.projectId);var y=l.mockUserToken.sub||l.mockUserToken.user_id;if(!y)throw new P(T.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Te(y)}r._credentials=new iV(new cD(m,v))}}(this._delegate,t,n,i)},e.prototype.enableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return D(n,void 0,void 0,function(){var i,r;return A(this,function(s){switch(s.label){case 0:return[4,w1(t)];case 1:return i=s.sent(),[4,I1(t)];case 2:return r=s.sent(),[2,(i.setNetworkEnabled(!0),function(c){var l=z(c);return l.Or.delete(0),Gu(l)}(r))]}})})})}(Le(Dt(this._delegate,ue)))},e.prototype.disableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return D(n,void 0,void 0,function(){var i,r;return A(this,function(s){switch(s.label){case 0:return[4,w1(t)];case 1:return i=s.sent(),[4,I1(t)];case 2:return r=s.sent(),[2,(i.setNetworkEnabled(!1),function(c){return D(this,void 0,void 0,function(){var l;return A(this,function(d){switch(d.label){case 0:return(l=z(c)).Or.add(0),[4,_a(l)];case 1:return d.sent(),l.Br.set("Offline"),[2]}})})}(r))]}})})})}(Le(Dt(this._delegate,ue)))},e.prototype.enablePersistence=function(t){var n=!1,i=!1;return t&&uD("synchronizeTabs",n=!!t.synchronizeTabs,"experimentalForceOwningTab",i=!!t.experimentalForceOwningTab),n?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,i)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var n=this,i=new je;return t.asyncQueue.enqueueAndForget(function(){return D(n,void 0,void 0,function(){var r;return A(this,function(s){switch(s.label){case 0:return r=B4,[4,aD(t)];case 1:return[2,r.apply(void 0,[s.sent(),i])]}})})}),i.promise}(Le(Dt(this._delegate,ue)))},e.prototype.onSnapshotsInSync=function(t){return function(n,i){return function(r,s){var c=this,l=new vf(s);return r.asyncQueue.enqueueAndForget(function(){return D(c,void 0,void 0,function(){var d;return A(this,function(f){switch(f.label){case 0:return d=function(m,v){z(m).Gr.add(v),v.next()},[4,pa(r)];case 1:return[2,d.apply(void 0,[f.sent(),l])]}})})}),function(){l.Wo(),r.asyncQueue.enqueueAndForget(function(){return D(c,void 0,void 0,function(){var d;return A(this,function(f){switch(f.label){case 0:return d=function(m,v){z(m).Gr.delete(v)},[4,pa(r)];case 1:return[2,d.apply(void 0,[f.sent(),l])]}})})})}}(Le(n=Dt(n,ue)),ma(i)?i:{next:i})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new P(T.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Uu(this,lD(this._delegate,t))}catch(n){throw We(n,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new kr(this,Gh(this._delegate,t))}catch(n){throw We(n,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new Xu(this,function(n,i){if(n=Dt(n,Fu),Jy("collectionGroup","collection id",i),i.indexOf("/")>=0)throw new P(T.INVALID_ARGUMENT,"Invalid collection ID '"+i+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new On(n,null,function(r){return new Hi(Ct.emptyPath(),r)}(i))}(this._delegate,t))}catch(n){throw We(n,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var n=this;return function(i,r){return function(s,c){var l=this,d=new je;return s.asyncQueue.enqueueAndForget(function(){return D(l,void 0,void 0,function(){var f;return A(this,function(m){switch(m.label){case 0:return[4,function(v){return bf(v).then(function(y){return y.datastore})}(s)];case 1:return f=m.sent(),new tV(s.asyncQueue,f,c,d).run(),[2]}})})}),d.promise}(Le(i),function(s){return r(new IV(i,s))})}(this._delegate,function(i){return t(new u0(n,i))})},e.prototype.batch=function(){var t=this;return Le(this._delegate),new l0(new wV(this._delegate,function(n){return Yu(t._delegate,n)}))},e.prototype.loadBundle=function(t){throw new P(T.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new P(T.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),If=function(e){function t(n){var i=this;return(i=e.call(this)||this).firestore=n,i}return Q(t,e),t.prototype.convertBytes=function(n){return new a0(new ko(n))},t.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return kr.eu(i,this.firestore,null)},t}(s0);u0=function(){function e(t,n){this._firestore=t,this._delegate=n,this._userDataWriter=new If(t)}return e.prototype.get=function(t){var n=this,i=Co(t);return this._delegate.get(i).then(function(r){return new ga(n._firestore,new qi(n._firestore._delegate,n._userDataWriter,r._key,r._document,r.metadata,i.converter))})},e.prototype.set=function(t,n,i){var r=Co(t);return i?(t0("Transaction.set",i),this._delegate.set(r,n,i)):this._delegate.set(r,n),this},e.prototype.update=function(t,n,i){for(var r,s=[],c=3;c<arguments.length;c++)s[c-3]=arguments[c];var l=Co(t);return arguments.length===2?this._delegate.update(l,n):(r=this._delegate).update.apply(r,Nt([l,n,i],s)),this},e.prototype.delete=function(t){var n=Co(t);return this._delegate.delete(n),this},e}(),l0=function(){function e(t){this._delegate=t}return e.prototype.set=function(t,n,i){var r=Co(t);return i?(t0("WriteBatch.set",i),this._delegate.set(r,n,i)):this._delegate.set(r,n),this},e.prototype.update=function(t,n,i){for(var r,s=[],c=3;c<arguments.length;c++)s[c-3]=arguments[c];var l=Co(t);return arguments.length===2?this._delegate.update(l,n):(r=this._delegate).update.apply(r,Nt([l,n,i],s)),this},e.prototype.delete=function(t){var n=Co(t);return this._delegate.delete(n),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),Ef=function(){function e(t,n,i){this._firestore=t,this._userDataWriter=n,this._delegate=i}return e.prototype.fromFirestore=function(t,n){var i=new Du(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new va(this._firestore,i),n??{})},e.prototype.toFirestore=function(t,n){return n?this._delegate.toFirestore(t,n):this._delegate.toFirestore(t)},e.nu=function(t,n){var i=e.su,r=i.get(t);r||(r=new WeakMap,i.set(t,r));var s=r.get(n);return s||(s=new e(t,new If(t),n),r.set(n,s)),s},e}();Ef.su=new WeakMap;kr=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new If(t)}return e.iu=function(t,n,i){if(t.length%2!=0)throw new P(T.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new Gt(n._delegate,i,new J(t)))},e.eu=function(t,n,i){return new e(n,new Gt(n._delegate,i,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Uu(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Uu(this.firestore,lD(this._delegate,t))}catch(n){throw We(n,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return(t=At(t))instanceof Gt&&dD(this._delegate,t)},e.prototype.set=function(t,n){n=t0("DocumentReference.set",n);try{return n?j1(this._delegate,t,n):j1(this._delegate,t)}catch(i){throw We(i,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,n){for(var i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];try{return arguments.length===1?U1(this._delegate,t):U1.apply(void 0,Nt([this._delegate,t,n],i))}catch(s){throw We(s,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Yu(Dt((t=this._delegate).firestore,ue),[new Wu(t._key,Fe.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var r=RD(n),s=kD(n,function(c){return new ga(t.firestore,new qi(t.firestore._delegate,t._userDataWriter,c._key,c._document,c.metadata,t._delegate.converter))});return SD(this._delegate,r,s)},e.prototype.get=function(t){var n=this;return(t?.source==="cache"?function(i){i=Dt(i,Gt);var r=Dt(i.firestore,ue),s=Le(r),c=new So(r);return function(l,d){var f=this,m=new je;return l.asyncQueue.enqueueAndForget(function(){return D(f,void 0,void 0,function(){var v;return A(this,function(y){switch(y.label){case 0:return v=function(_,I,E){return D(this,void 0,void 0,function(){var C,k;return A(this,function(L){switch(L.label){case 0:return L.trys.push([0,2,,3]),[4,function(B,et){var ut=z(B);return ut.persistence.runTransaction("read document","readonly",function(F){return ut.Mn.mn(F,et)})}(_,I)];case 1:return(k=L.sent()).isFoundDocument()?E.resolve(k):k.isNoDocument()?E.resolve(null):E.reject(new P(T.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return C=L.sent(),k=Ea(C,"Failed to get document '"+I+" from cache"),E.reject(k),[3,3];case 3:return[2]}})})},[4,sD(l)];case 1:return[2,v.apply(void 0,[y.sent(),d,m])]}})})}),m.promise}(s,i._key).then(function(l){return new qi(r,c,i._key,l,new xo(l!==null&&l.hasLocalMutations,!0),i.converter)})}(this._delegate):t?.source==="server"?function(i){i=Dt(i,Gt);var r=Dt(i.firestore,ue);return E1(Le(r),i._key,{source:"server"}).then(function(s){return yy(r,i,s)})}(this._delegate):function(i){i=Dt(i,Gt);var r=Dt(i.firestore,ue);return E1(Le(r),i._key).then(function(s){return yy(r,i,s)})}(this._delegate)).then(function(i){return new ga(n.firestore,new qi(n.firestore._delegate,n._userDataWriter,i._key,i._document,i.metadata,n._delegate.converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Ef.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();ga=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"ref",{get:function(){return new kr(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,n){return this._delegate.get(t,n)},e.prototype.isEqual=function(t){return ED(this._delegate,t._delegate)},e}(),va=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Q(t,e),t.prototype.data=function(n){return this._delegate.data(n)},t}(ga),Xu=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new If(t)}return e.prototype.where=function(t,n,i){try{return new e(this.firestore,Er(this._delegate,function(r,s,c){var l=s,d=cf("where",r);return new bV(d,l,c)}(t,n,i)))}catch(r){throw We(r,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Er(this._delegate,function(i,r){r===void 0&&(r="asc");var s=r,c=cf("orderBy",i);return new yV(c,s)}(t,n)))}catch(i){throw We(i,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Er(this._delegate,function(n){return D1("limit",n),new P1("limit",n,"F")}(t)))}catch(n){throw We(n,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Er(this._delegate,function(n){return D1("limitToLast",n),new P1("limitToLast",n,"L")}(t)))}catch(n){throw We(n,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Er(this._delegate,(function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];return new M1("startAt",i,!0)}).apply(void 0,t)))}catch(i){throw We(i,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Er(this._delegate,(function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];return new M1("startAfter",i,!1)}).apply(void 0,t)))}catch(i){throw We(i,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Er(this._delegate,(function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];return new N1("endBefore",i,!0)}).apply(void 0,t)))}catch(i){throw We(i,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Er(this._delegate,(function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];return new N1("endAt",i,!1)}).apply(void 0,t)))}catch(i){throw We(i,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return hD(this._delegate,t._delegate)},e.prototype.get=function(t){var n=this;return(t?.source==="cache"?function(i){i=Dt(i,On);var r=Dt(i.firestore,ue),s=Le(r),c=new So(r);return function(l,d){var f=this,m=new je;return l.asyncQueue.enqueueAndForget(function(){return D(f,void 0,void 0,function(){var v;return A(this,function(y){switch(y.label){case 0:return v=function(_,I,E){return D(this,void 0,void 0,function(){var C,k,L,B,et;return A(this,function(ut){switch(ut.label){case 0:return ut.trys.push([0,2,,3]),[4,nf(_,I,!0)];case 1:return et=ut.sent(),C=new ZA(I,et.Bn),k=C._o(et.documents),L=C.applyChanges(k,!1),E.resolve(L.snapshot),[3,3];case 2:return B=ut.sent(),et=Ea(B,"Failed to execute query '"+I+" against cache"),E.reject(et),[3,3];case 3:return[2]}})})},[4,sD(l)];case 1:return[2,v.apply(void 0,[y.sent(),d,m])]}})})}),m.promise}(s,i._query).then(function(l){return new Sr(r,c,i,l)})}(this._delegate):t?.source==="server"?function(i){i=Dt(i,On);var r=Dt(i.firestore,ue),s=Le(r),c=new So(r);return x1(s,i._query,{source:"server"}).then(function(l){return new Sr(r,c,i,l)})}(this._delegate):function(i){i=Dt(i,On);var r=Dt(i.firestore,ue),s=Le(r),c=new So(r);return xD(i._query),x1(s,i._query).then(function(l){return new Sr(r,c,i,l)})}(this._delegate)).then(function(i){return new uf(n.firestore,new Sr(n.firestore._delegate,n._userDataWriter,n._delegate,i._snapshot))})},e.prototype.onSnapshot=function(){for(var t=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var r=RD(n),s=kD(n,function(c){return new uf(t.firestore,new Sr(t.firestore._delegate,t._userDataWriter,t._delegate,c._snapshot))});return SD(this._delegate,r,s)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Ef.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),EV=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new va(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),uf=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"query",{get:function(){return new Xu(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(n){return new va(t._firestore,n)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var n=this;return this._delegate.docChanges(t).map(function(i){return new EV(n._firestore,i)})},e.prototype.forEach=function(t,n){var i=this;this._delegate.forEach(function(r){t.call(n,new va(i._firestore,r))})},e.prototype.isEqual=function(t){return ED(this._delegate,t._delegate)},e}(),Uu=function(e){function t(n,i){var r=this;return(r=e.call(this,n,i)||this).firestore=n,r._delegate=i,r}return Q(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new kr(this.firestore,n):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(n){try{return new kr(this.firestore,n===void 0?Gh(this._delegate):Gh(this._delegate,n))}catch(i){throw We(i,"doc()","CollectionReference.doc()")}},t.prototype.add=function(n){var i=this;return function(r,s){var c=Dt(r.firestore,ue),l=Gh(r),d=wf(r.converter,s);return Yu(c,[_f(Fo(r.firestore),"addDoc",l._key,d,r.converter!==null,{}).toMutation(l._key,Fe.exists(!1))]).then(function(){return l})}(this._delegate,n).then(function(r){return new kr(i.firestore,r)})},t.prototype.isEqual=function(n){return dD(this._delegate,n._delegate)},t.prototype.withConverter=function(n){return new t(this.firestore,n?this._delegate.withConverter(Ef.nu(this.firestore,n)):this._delegate.withConverter(null))},t}(Xu);OD=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._delegate=new(xi.bind.apply(xi,Nt([void 0],t)))}return e.documentId=function(){return new e(si.keyField().canonicalString())},e.prototype.isEqual=function(t){return(t=At(t))instanceof xi&&this._delegate._internalPath.isEqual(t._internalPath)},e}(),PD=function(){function e(t){this._delegate=t}return e.serverTimestamp=function(){var t=new dV("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new e0("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=(function(){for(var r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];return new hV("arrayUnion",r)}).apply(void 0,t);return i._methodName="FieldValue.arrayUnion",new e(i)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=(function(){for(var r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];return new fV("arrayRemove",r)}).apply(void 0,t);return i._methodName="FieldValue.arrayRemove",new e(i)},e.increment=function(t){var n=function(i){return new pV("increment",i)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}();});function CV(e){(function(t,n){t.INTERNAL.registerComponent(new br("firestore",function(i){var r=i.getProvider("app").getImmediate();return n(r,i.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},xV)))})(e,function(t,n){return new c0(t,new ue(t,n),new AD)}),e.registerVersion("@firebase/firestore","2.4.1")}var xV,ND=bn(()=>{"use strict";Bs();MD();ih();js();oh();ey();xV={Firestore:c0,GeoPoint:$u,Timestamp:Ge,Blob:a0,Transaction:u0,WriteBatch:l0,DocumentReference:kr,DocumentSnapshot:ga,Query:Xu,QueryDocumentSnapshot:va,QuerySnapshot:uf,CollectionReference:Uu,FieldPath:OD,FieldValue:PD,setLogLevel:DD,CACHE_SIZE_UNLIMITED:fD};CV(it)});var TV={};var LD=bn(()=>{"use strict";ND()});function h0(e){return"storage/"+e}function v0(){var e="An unknown error occurred, please check the error payload for server response.";return new le("unknown",e)}function PV(e){return new le("object-not-found","Object '"+e+"' does not exist.")}function MV(e){return new le("quota-exceeded","Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function NV(){var e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new le("unauthenticated",e)}function LV(){return new le("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function FV(e){return new le("unauthorized","User does not have permission to access '"+e+"'.")}function jV(){return new le("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function JD(){return new le("canceled","User canceled the upload/download.")}function UV(e){return new le("invalid-url","Invalid URL '"+e+"'.")}function VV(e){return new le("invalid-default-bucket","Invalid default bucket '"+e+"'.")}function BV(){return new le("no-default-bucket","No default bucket found. Did you set the '"+ZD+"' property when initializing the app?")}function tR(){return new le("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function zV(){return new le("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function qV(){return new le("no-download-url","The given file does not have any download URLs.")}function Ca(e){return new le("invalid-argument",e)}function eR(){return new le("app-deleted","The Firebase app was deleted.")}function nR(e){return new le("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Qu(e,t){return new le("invalid-format","String does not match format '"+e+"': "+t)}function Sf(e){throw new le("internal-error","Internal error: "+e)}function HV(e){return atob(e)}function iR(e,t){switch(e){case qn.RAW:return new f0(rR(t));case qn.BASE64:case qn.BASE64URL:return new f0(oR(e,t));case qn.DATA_URL:return new f0(GV(t),$V(t))}throw v0()}function rR(e){for(var t=[],n=0;n<e.length;n++){var i=e.charCodeAt(n);if(i<=127)t.push(i);else if(i<=2047)t.push(192|i>>6,128|i&63);else if((i&64512)===55296){var r=n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320;if(!r)t.push(239,191,189);else{var s=i,c=e.charCodeAt(++n);i=65536|(s&1023)<<10|c&1023,t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}}else(i&64512)===56320?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(t)}function WV(e){var t;try{t=decodeURIComponent(e)}catch{throw Qu(qn.DATA_URL,"Malformed data URL.")}return rR(t)}function oR(e,t){switch(e){case qn.BASE64:{var n=t.indexOf("-")!==-1,i=t.indexOf("_")!==-1;if(n||i){var r=n?"-":"_";throw Qu(e,"Invalid character '"+r+"' found: is it base64url encoded?")}break}case qn.BASE64URL:{var s=t.indexOf("+")!==-1,c=t.indexOf("/")!==-1;if(s||c){var r=s?"+":"/";throw Qu(e,"Invalid character '"+r+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}var l;try{l=HV(t)}catch{throw Qu(e,"Invalid character found")}for(var d=new Uint8Array(l.length),f=0;f<l.length;f++)d[f]=l.charCodeAt(f);return d}function GV(e){var t=new sR(e);return t.base64?oR(qn.BASE64,t.rest):WV(t.rest)}function $V(e){var t=new sR(e);return t.contentType}function KV(e,t){var n=e.length>=t.length;return n?e.substring(e.length-t.length)===t:!1}function p0(e){switch(e){case"running":case"pausing":case"canceling":return Ye.RUNNING;case"paused":return Ye.PAUSED;case"success":return Ye.SUCCESS;case"canceled":return Ye.CANCELED;case"error":return Ye.ERROR;default:return Ye.ERROR}}function QV(){return new XV}function tB(e,t,n){var i=1,r=null,s=!1,c=0;function l(){return c===2}var d=!1;function f(){for(var I=[],E=0;E<arguments.length;E++)I[E]=arguments[E];d||(d=!0,t.apply(null,I))}function m(I){r=setTimeout(function(){r=null,e(v,l())},I)}function v(I){for(var E=[],C=1;C<arguments.length;C++)E[C-1]=arguments[C];if(!d){if(I){f.call.apply(f,Nt([null,I],E));return}var k=l()||s;if(k){f.call.apply(f,Nt([null,I],E));return}i<64&&(i*=2);var L;c===1?(c=2,L=0):L=(i+Math.random())*1e3,m(L)}}var y=!1;function _(I){y||(y=!0,!d&&(r!==null?(I||(c=2),clearTimeout(r),m(0)):I||(c=1)))}return m(0),setTimeout(function(){s=!0,_(!0)},n),_}function eB(e){e(!1)}function nB(e){return e!==void 0}function iB(e){return typeof e=="function"}function rB(e){return typeof e=="object"&&!Array.isArray(e)}function Of(e){return typeof e=="string"||e instanceof String}function qD(e){return b0()&&e instanceof Blob}function b0(){return typeof Blob<"u"}function m0(e,t,n,i){if(i<t)throw Ca("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(i>n)throw Ca("Invalid value for '"+e+"'. Expected "+n+" or less.")}function Fr(e,t){var n=t.match(/^(\w+):\/\/.+/),i=n?.[1],r=t;return i==null&&(r="https://"+t),r+"/v0"+e}function aR(e){var t=encodeURIComponent,n="?";for(var i in e)if(e.hasOwnProperty(i)){var r=t(i)+"="+t(e[i]);n=n+r+"&"}return n=n.slice(0,-1),n}function sB(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function aB(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function cB(e,t){t&&(e["X-Firebase-GMPID"]=t)}function uB(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function lB(e,t,n,i,r,s){var c=aR(e.urlParams),l=e.url+c,d=Object.assign({},e.headers);return cB(d,t),sB(d,n),aB(d,s),uB(d,i),new oB(l,e.method,d,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,r)}function dB(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function hB(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=dB();if(n!==void 0){for(var i=new n,r=0;r<e.length;r++)i.append(e[r]);return i.getBlob()}else{if(b0())return new Blob(e);throw new le("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function fB(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}function _0(e){var t;try{t=JSON.parse(e)}catch{return null}return rB(t)?t:null}function pB(e){if(e.length===0)return null;var t=e.lastIndexOf("/");if(t===-1)return"";var n=e.slice(0,t);return n}function mB(e,t){var n=t.split("/").filter(function(i){return i.length>0}).join("/");return e.length===0?n:e+"/"+n}function cR(e){var t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}function gB(e,t){return t}function vB(e){return!Of(e)||e.length<2?e:cR(e)}function Pf(){if(Df)return Df;var e=[];e.push(new Ke("bucket")),e.push(new Ke("generation")),e.push(new Ke("metageneration")),e.push(new Ke("name","fullPath",!0));function t(s,c){return vB(c)}var n=new Ke("name");n.xform=t,e.push(n);function i(s,c){return c!==void 0?Number(c):c}var r=new Ke("size");return r.xform=i,e.push(r),e.push(new Ke("timeCreated")),e.push(new Ke("updated")),e.push(new Ke("md5Hash",null,!0)),e.push(new Ke("cacheControl",null,!0)),e.push(new Ke("contentDisposition",null,!0)),e.push(new Ke("contentEncoding",null,!0)),e.push(new Ke("contentLanguage",null,!0)),e.push(new Ke("contentType",null,!0)),e.push(new Ke("metadata","customMetadata",!0)),Df=e,Df}function bB(e,t){function n(){var i=e.bucket,r=e.fullPath,s=new Hn(i,r);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function yB(e,t,n){var i={};i.type="file";for(var r=n.length,s=0;s<r;s++){var c=n[s];i[c.local]=c.xform(i,t[c.server])}return bB(i,e),i}function uR(e,t,n){var i=_0(t);if(i===null)return null;var r=i;return yB(e,r,n)}function _B(e,t,n){var i=_0(t);if(i===null||!Of(i.downloadTokens))return null;var r=i.downloadTokens;if(r.length===0)return null;var s=encodeURIComponent,c=r.split(","),l=c.map(function(d){var f=e.bucket,m=e.fullPath,v="/b/"+s(f)+"/o/"+s(m),y=Fr(v,n),_=aR({alt:"media",token:d});return y+_});return l[0]}function w0(e,t){for(var n={},i=t.length,r=0;r<i;r++){var s=t[r];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}function wB(e,t,n){var i={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[HD])for(var r=0,s=n[HD];r<s.length;r++){var c=s[r],l=c.replace(/\/$/,""),d=e._makeStorageReference(new Hn(t,l));i.prefixes.push(d)}if(n[WD])for(var f=0,m=n[WD];f<m.length;f++){var v=m[f],d=e._makeStorageReference(new Hn(t,v.name));i.items.push(d)}return i}function IB(e,t,n){var i=_0(n);if(i===null)return null;var r=i;return wB(e,t,r)}function Ti(e){if(!e)throw v0()}function Mf(e,t){function n(i,r){var s=uR(e,r,t);return Ti(s!==null),s}return n}function EB(e,t){function n(i,r){var s=IB(e,t,r);return Ti(s!==null),s}return n}function xB(e,t){function n(i,r){var s=uR(e,r,t);return Ti(s!==null),_B(s,r,e.host)}return n}function Sa(e){function t(n,i){var r;return n.getStatus()===401?n.getResponseText().includes("Firebase App Check token is invalid")?r=LV():r=NV():n.getStatus()===402?r=MV(e.bucket):n.getStatus()===403?r=FV(e.path):r=i,r.serverResponse=i.serverResponse,r}return t}function Nf(e){var t=Sa(e);function n(i,r){var s=t(i,r);return i.getStatus()===404&&(s=PV(e.path)),s.serverResponse=r.serverResponse,s}return n}function lR(e,t,n){var i=t.fullServerUrl(),r=Fr(i,e.host),s="GET",c=e.maxOperationRetryTime,l=new Wi(r,s,Mf(e,n),c);return l.errorHandler=Nf(t),l}function CB(e,t,n,i,r){var s={};t.isRoot?s.prefix="":s.prefix=t.path+"/",n&&n.length>0&&(s.delimiter=n),i&&(s.pageToken=i),r&&(s.maxResults=r);var c=t.bucketOnlyServerUrl(),l=Fr(c,e.host),d="GET",f=e.maxOperationRetryTime,m=new Wi(l,d,EB(e,t.bucket),f);return m.urlParams=s,m.errorHandler=Sa(t),m}function TB(e,t,n){var i=t.fullServerUrl(),r=Fr(i,e.host),s="GET",c=e.maxOperationRetryTime,l=new Wi(r,s,xB(e,n),c);return l.errorHandler=Nf(t),l}function SB(e,t,n,i){var r=t.fullServerUrl(),s=Fr(r,e.host),c="PATCH",l=w0(n,i),d={"Content-Type":"application/json; charset=utf-8"},f=e.maxOperationRetryTime,m=new Wi(s,c,Mf(e,i),f);return m.headers=d,m.body=l,m.errorHandler=Nf(t),m}function AB(e,t){var n=t.fullServerUrl(),i=Fr(n,e.host),r="DELETE",s=e.maxOperationRetryTime;function c(d,f){}var l=new Wi(i,r,c,s);return l.successCodes=[200,204],l.errorHandler=Nf(t),l}function DB(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function dR(e,t,n){var i=Object.assign({},n);return i.fullPath=e.path,i.size=t.size(),i.contentType||(i.contentType=DB(null,t)),i}function RB(e,t,n,i,r){var s=t.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function l(){for(var B="",et=0;et<2;et++)B=B+Math.random().toString().slice(2);return B}var d=l();c["Content-Type"]="multipart/related; boundary="+d;var f=dR(t,i,r),m=w0(f,n),v="--"+d+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+m+`\r
--`+d+`\r
Content-Type: `+f.contentType+`\r
\r
`,y=`\r
--`+d+"--",_=y0.getBlob(v,i,y);if(_===null)throw tR();var I={name:f.fullPath},E=Fr(s,e.host),C="POST",k=e.maxUploadRetryTime,L=new Wi(E,C,Mf(e,n),k);return L.urlParams=I,L.headers=c,L.body=_.uploadData(),L.errorHandler=Sa(t),L}function I0(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch{Ti(!1)}var i=t||["active"];return Ti(!!n&&i.indexOf(n)!==-1),n}function kB(e,t,n,i,r){var s=t.bucketOnlyServerUrl(),c=dR(t,i,r),l={name:c.fullPath},d=Fr(s,e.host),f="POST",m={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+i.size(),"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},v=w0(c,n),y=e.maxUploadRetryTime;function _(E){I0(E);var C;try{C=E.getResponseHeader("X-Goog-Upload-URL")}catch{Ti(!1)}return Ti(Of(C)),C}var I=new Wi(d,f,_,y);return I.urlParams=l,I.headers=m,I.body=v,I.errorHandler=Sa(t),I}function OB(e,t,n,i){var r={"X-Goog-Upload-Command":"query"};function s(f){var m=I0(f,["active","final"]),v=null;try{v=f.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Ti(!1)}v||Ti(!1);var y=Number(v);return Ti(!isNaN(y)),new kf(y,i.size(),m==="final")}var c="POST",l=e.maxUploadRetryTime,d=new Wi(n,c,s,l);return d.headers=r,d.errorHandler=Sa(t),d}function PB(e,t,n,i,r,s,c,l){var d=new kf(0,0);if(c?(d.current=c.current,d.total=c.total):(d.current=0,d.total=i.size()),i.size()!==d.total)throw zV();var f=d.total-d.current,m=f;r>0&&(m=Math.min(m,r));var v=d.current,y=v+m,_=m===f?"upload, finalize":"upload",I={"X-Goog-Upload-Command":_,"X-Goog-Upload-Offset":""+d.current},E=i.slice(v,y);if(E===null)throw tR();function C(et,ut){var F=I0(et,["active","final"]),Ot=d.current+m,Gn=i.size(),K;return F==="final"?K=Mf(t,s)(et,ut):K=null,new kf(Ot,Gn,F==="final",K)}var k="POST",L=t.maxUploadRetryTime,B=new Wi(n,k,C,L);return B.headers=I,B.body=E.uploadData(),B.progressCallback=l||null,B.errorHandler=Sa(e),B}function xa(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then(function(){return e.apply(void 0,t)})}}function NB(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new hR(e,new y0(t),n)}function LB(e){var t={prefixes:[],items:[]};return fR(e,t).then(function(){return t})}function fR(e,t,n){return D(this,void 0,void 0,function(){var i,r,s,c;return A(this,function(l){switch(l.label){case 0:return i={pageToken:n},[4,pR(e,i)];case 1:return r=l.sent(),(s=t.prefixes).push.apply(s,r.prefixes),(c=t.items).push.apply(c,r.items),r.nextPageToken==null?[3,3]:[4,fR(e,t,r.nextPageToken)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function pR(e,t){return D(this,void 0,void 0,function(){var n,i;return A(this,function(r){switch(r.label){case 0:return t!=null&&typeof t.maxResults=="number"&&m0("options.maxResults",1,1e3,t.maxResults),n=t||{},i=CB(e.storage,e._location,"/",n.pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(i)];case 1:return[2,r.sent().getPromise()]}})})}function FB(e){return D(this,void 0,void 0,function(){var t;return A(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=lR(e.storage,e._location,Pf()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function jB(e,t){return D(this,void 0,void 0,function(){var n;return A(this,function(i){switch(i.label){case 0:return e._throwIfRoot("updateMetadata"),n=SB(e.storage,e._location,t,Pf()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,i.sent().getPromise()]}})})}function UB(e){return D(this,void 0,void 0,function(){var t;return A(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=TB(e.storage,e._location,Pf()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then(function(i){if(i===null)throw qV();return i})]}})})}function VB(e){return D(this,void 0,void 0,function(){var t;return A(this,function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=AB(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function mR(e,t){var n=mB(e._location.path,t),i=new Hn(e._location.bucket,n);return new Lf(e.storage,i)}function g0(e){return/^[A-Za-z]+:\/\//.test(e)}function BB(e,t){return new Lf(e,t)}function gR(e,t){if(e instanceof Ff){var n=e;if(n._bucket==null)throw BV();var i=new Lf(n,n._bucket);return t!=null?gR(i,t):i}else return t!==void 0?mR(e,t):e}function zB(e,t){if(t&&g0(t)){if(e instanceof Ff)return BB(e,t);throw Ca("To use ref(service, url), the first argument must be a Storage instance.")}else return gR(e,t)}function $D(e,t){var n=t?.[ZD];return n==null?null:Hn.makeFromBucketSpec(n,e)}function qB(e,t,n,i){i===void 0&&(i={}),e.host="http://"+t+":"+n;var r=i.mockUserToken;r&&(e._overrideAuthToken=typeof r=="string"?r:eh(r,e.app.options.projectId))}function HB(e,t,n){return e=At(e),NB(e,t,n)}function WB(e){return e=At(e),FB(e)}function GB(e,t){return e=At(e),jB(e,t)}function $B(e,t){return e=At(e),pR(e,t)}function KB(e){return e=At(e),LB(e)}function YB(e){return e=At(e),UB(e)}function XB(e){return e=At(e),VB(e)}function KD(e,t){return e=At(e),zB(e,t)}function QB(e,t){return mR(e,t)}function ZB(e,t,n,i){i===void 0&&(i={}),qB(e,t,n,i)}function i3(e,t){var n=t.instanceIdentifier,i=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal"),c=new JB(i,new Ff(i,r,s,new ZV,n,it.SDK_VERSION));return c}function r3(e){var t={TaskState:Ye,TaskEvent:YV,StringFormat:qn,Storage:Ff,Reference:Zu};e.INTERNAL.registerComponent(new br(n3,i3,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion(t3,e3)}var QD,ZD,kV,OV,le,qn,f0,sR,YV,Ye,Ta,XV,ZV,Hn,JV,oB,Af,y0,Ke,Df,HD,WD,Wi,kf,GD,MB,hR,Lf,Ff,Rf,YD,XD,Zu,JB,t3,e3,n3,vR=bn(()=>{"use strict";Bs();xc();js();ih();QD="firebasestorage.googleapis.com",ZD="storageBucket",kV=2*60*1e3,OV=10*60*1e3,le=function(e){Q(t,e);function t(n,i){var r=e.call(this,h0(n),"Firebase Storage: "+i+" ("+h0(n)+")")||this;return r.customData={serverResponse:null},r._baseMessage=r.message,Object.setPrototypeOf(r,t.prototype),r}return t.prototype._codeEquals=function(n){return h0(n)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(n){this.customData.serverResponse=n,this.customData.serverResponse?this.message=this._baseMessage+`
`+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(rb);qn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},f0=function(){function e(t,n){this.data=t,this.contentType=n||null}return e}();sR=function(){function e(t){this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(n===null)throw Qu(qn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var i=n[1]||null;i!=null&&(this.base64=KV(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}return e}();YV={STATE_CHANGED:"state_changed"},Ye={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};Ta=function(e){return e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT",e}(Ta||{});XV=function(){function e(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Ta.NO_ERROR,this.sendPromise_=new Promise(function(n){t.xhr_.addEventListener("abort",function(){t.errorCode_=Ta.ABORT,n()}),t.xhr_.addEventListener("error",function(){t.errorCode_=Ta.NETWORK_ERROR,n()}),t.xhr_.addEventListener("load",function(){n()})})}return e.prototype.send=function(t,n,i,r){if(this.sent_)throw Sf("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),r!==void 0)for(var s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw Sf("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw Sf("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw Sf("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},e.prototype.addUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)},e.prototype.removeUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)},e}();ZV=function(){function e(){}return e.prototype.createConnection=function(){return QV()},e}();Hn=function(){function e(t,n){this.bucket=t,this.path_=n}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return this.path.length===0},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},e.prototype.bucketOnlyServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var i;try{i=e.makeFromUrl(t,n)}catch{return new e(t,"")}if(i.path==="")return i;throw VV(t)},e.makeFromUrl=function(t,n){var i=null,r="([A-Za-z0-9.\\-_]+)";function s(K){K.path.charAt(K.path.length-1)==="/"&&(K.path_=K.path_.slice(0,-1))}var c="(/(.*))?$",l=new RegExp("^gs://"+r+c,"i"),d={bucket:1,path:3};function f(K){K.path_=decodeURIComponent(K.path)}for(var m="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",_=new RegExp("^https?://"+v+"/"+m+"/b/"+r+"/o"+y,"i"),I={bucket:1,path:3},E=n===QD?"(?:storage.googleapis.com|storage.cloud.google.com)":n,C="([^?#]*)",k=new RegExp("^https?://"+E+"/"+r+"/"+C,"i"),L={bucket:1,path:2},B=[{regex:l,indices:d,postModify:s},{regex:_,indices:I,postModify:f},{regex:k,indices:L,postModify:f}],et=0;et<B.length;et++){var ut=B[et],F=ut.regex.exec(t);if(F){var Ot=F[ut.indices.bucket],Gn=F[ut.indices.path];Gn||(Gn=""),i=new e(Ot,Gn),ut.postModify(i);break}}if(i==null)throw UV(t);return i},e}(),JV=function(){function e(t){this.promise_=Promise.reject(t)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){},e}();oB=function(){function e(t,n,i,r,s,c,l,d,f,m,v){var y=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=n,this.headers_=i,this.body_=r,this.successCodes_=s.slice(),this.additionalRetryCodes_=c.slice(),this.callback_=l,this.errorCallback_=d,this.progressCallback_=m,this.timeout_=f,this.pool_=v,this.promise_=new Promise(function(_,I){y.resolve_=_,y.reject_=I,y.start_()})}return e.prototype.start_=function(){var t=this;function n(r,s){if(s){r(!1,new Af(!1,null,!0));return}var c=t.pool_.createConnection();t.pendingConnection_=c;function l(d){var f=d.loaded,m=d.lengthComputable?d.total:-1;t.progressCallback_!==null&&t.progressCallback_(f,m)}t.progressCallback_!==null&&c.addUploadProgressListener(l),c.send(t.url_,t.method_,t.body_,t.headers_).then(function(){t.progressCallback_!==null&&c.removeUploadProgressListener(l),t.pendingConnection_=null;var d=c.getErrorCode()===Ta.NO_ERROR,f=c.getStatus();if(!d||t.isRetryStatusCode_(f)){var m=c.getErrorCode()===Ta.ABORT;r(!1,new Af(!1,null,m));return}var v=t.successCodes_.indexOf(f)!==-1;r(!0,new Af(v,c))})}function i(r,s){var c=t.resolve_,l=t.reject_,d=s.connection;if(s.wasSuccessCode)try{var f=t.callback_(d,d.getResponseText());nB(f)?c(f):c()}catch(v){l(v)}else if(d!==null){var m=v0();m.serverResponse=d.getResponseText(),t.errorCallback_?l(t.errorCallback_(d,m)):l(m)}else if(s.canceled){var m=t.appDelete_?eR():JD();l(m)}else{var m=jV();l(m)}}this.canceled_?i(!1,new Af(!1,null,!0)):this.backoffId_=tB(n,i,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&eB(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()},e.prototype.isRetryStatusCode_=function(t){var n=t>=500&&t<600,i=[408,429],r=i.indexOf(t)!==-1,s=this.additionalRetryCodes_.indexOf(t)!==-1;return n||r||s},e}(),Af=function(){function e(t,n,i){this.wasSuccessCode=t,this.connection=n,this.canceled=!!i}return e}();y0=function(){function e(t,n){var i=0,r="";qD(t)?(this.data_=t,i=t.size,r=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=r}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(qD(this.data_)){var i=this.data_,r=fB(i,t,n);return r===null?null:new e(r)}else{var s=new Uint8Array(this.data_.buffer,t,n-t);return new e(s,!0)}},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(b0()){var i=t.map(function(d){return d instanceof e?d.data_:d});return new e(hB.apply(null,i))}else{var r=t.map(function(d){return Of(d)?iR(qn.RAW,d).data:d.data_}),s=0;r.forEach(function(d){s+=d.byteLength});var c=new Uint8Array(s),l=0;return r.forEach(function(d){for(var f=0;f<d.length;f++)c[l++]=d[f]}),new e(c,!0)}},e.prototype.uploadData=function(){return this.data_},e}();Ke=function(){function e(t,n,i,r){this.server=t,this.local=n||t,this.writable=!!i,this.xform=r||gB}return e}(),Df=null;HD="prefixes",WD="items";Wi=function(){function e(t,n,i,r){this.url=t,this.method=n,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return e}();kf=function(){function e(t,n,i,r){this.current=t,this.total=n,this.finalized=!!i,this.metadata=r||null}return e}();GD=256*1024;MB=function(){function e(t,n,i){var r=iB(t)||n!=null||i!=null;if(r)this.next=t,this.error=n,this.complete=i;else{var s=t;this.next=s.next,this.error=s.error,this.complete=s.complete}}return e}();hR=function(){function e(t,n,i){var r=this;i===void 0&&(i=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=Pf(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(s){r._request=void 0,r._chunkMultiplier=1,s._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=s,r._transition("error"))},this._metadataErrorHandler=function(s){r._request=void 0,s._codeEquals("canceled")?r.completeTransitions_():(r._error=s,r._transition("error"))},this._promise=new Promise(function(s,c){r._resolve=s,r._reject=c,r._start()}),this._promise.then(null,function(){})}return e.prototype._makeProgressCallback=function(){var t=this,n=this._transferred;return function(i){return t._updateProgress(n+i)}},e.prototype._shouldDoResumable=function(t){return t.size()>256*1024},e.prototype._start=function(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(t){var n=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(i){var r=i[0],s=i[1];switch(n._state){case"running":t(r,s);break;case"canceling":n._transition("canceled");break;case"pausing":n._transition("paused");break}})},e.prototype._createResumable=function(){var t=this;this._resolveToken(function(n,i){var r=kB(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),s=t._ref.storage._makeRequest(r,n,i);t._request=s,s.getPromise().then(function(c){t._request=void 0,t._uploadUrl=c,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},e.prototype._fetchStatus=function(){var t=this,n=this._uploadUrl;this._resolveToken(function(i,r){var s=OB(t._ref.storage,t._ref._location,n,t._blob),c=t._ref.storage._makeRequest(s,i,r);t._request=c,c.getPromise().then(function(l){l=l,t._request=void 0,t._updateProgress(l.current),t._needToFetchStatus=!1,l.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},e.prototype._continueUpload=function(){var t=this,n=GD*this._chunkMultiplier,i=new kf(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken(function(s,c){var l;try{l=PB(t._ref._location,t._ref.storage,r,t._blob,n,t._mappings,i,t._makeProgressCallback())}catch(f){t._error=f,t._transition("error");return}var d=t._ref.storage._makeRequest(l,s,c);t._request=d,d.getPromise().then(function(f){t._increaseMultiplier(),t._request=void 0,t._updateProgress(f.current),f.finalized?(t._metadata=f.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},e.prototype._increaseMultiplier=function(){var t=GD*this._chunkMultiplier;t<32*1024*1024&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(n,i){var r=lR(t._ref.storage,t._ref._location,t._mappings),s=t._ref.storage._makeRequest(r,n,i);t._request=s,s.getPromise().then(function(c){t._request=void 0,t._metadata=c,t._transition("success")},t._metadataErrorHandler)})},e.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(n,i){var r=RB(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),s=t._ref.storage._makeRequest(r,n,i);t._request=s,s.getPromise().then(function(c){t._request=void 0,t._metadata=c,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},e.prototype._updateProgress=function(t){var n=this._transferred;this._transferred=t,this._transferred!==n&&this._notifyObservers()},e.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":this._state=t,this._request!==void 0&&this._request.cancel();break;case"pausing":this._state=t,this._request!==void 0&&this._request.cancel();break;case"running":var n=this._state==="paused";this._state=t,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=JD(),this._state=t,this._notifyObservers();break;case"error":this._state=t,this._notifyObservers();break;case"success":this._state=t,this._notifyObservers();break}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var t=p0(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(t,n,i,r){var s=this,c=new MB(n,i,r);return this._addObserver(c),function(){s._removeObserver(c)}},e.prototype.then=function(t,n){return this._promise.then(t,n)},e.prototype.catch=function(t){return this.then(null,t)},e.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},e.prototype._removeObserver=function(t){var n=this._observers.indexOf(t);n!==-1&&this._observers.splice(n,1)},e.prototype._notifyObservers=function(){var t=this;this._finishPromise();var n=this._observers.slice();n.forEach(function(i){t._notifyObserver(i)})},e.prototype._finishPromise=function(){if(this._resolve!==void 0){var t=!0;switch(p0(this._state)){case Ye.SUCCESS:xa(this._resolve.bind(null,this.snapshot))();break;case Ye.CANCELED:case Ye.ERROR:var n=this._reject;xa(n.bind(null,this._error))();break;default:t=!1;break}t&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(t){var n=p0(this._state);switch(n){case Ye.RUNNING:case Ye.PAUSED:t.next&&xa(t.next.bind(t,this.snapshot))();break;case Ye.SUCCESS:t.complete&&xa(t.complete.bind(t))();break;case Ye.CANCELED:case Ye.ERROR:t.error&&xa(t.error.bind(t,this._error))();break;default:t.error&&xa(t.error.bind(t,this._error))()}},e.prototype.resume=function(){var t=this._state==="paused"||this._state==="pausing";return t&&this._transition("running"),t},e.prototype.pause=function(){var t=this._state==="running";return t&&this._transition("pausing"),t},e.prototype.cancel=function(){var t=this._state==="running"||this._state==="pausing";return t&&this._transition("canceling"),t},e}();Lf=function(){function e(t,n){this._service=t,n instanceof Hn?this._location=n:this._location=Hn.makeFromUrl(n,t.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var t=new Hn(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return cR(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=pB(this._location.path);if(t===null)return null;var n=new Hn(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(t){if(this._location.path==="")throw nR(t)},e}();Ff=function(){function e(t,n,i,r,s,c){this.app=t,this._authProvider=n,this._appCheckProvider=i,this._pool=r,this._url=s,this._firebaseVersion=c,this._bucket=null,this._host=QD,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=kV,this._maxUploadRetryTime=OV,this._requests=new Set,s!=null?this._bucket=Hn.makeFromBucketSpec(s,this._host):this._bucket=$D(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._url!=null?this._bucket=Hn.makeFromBucketSpec(this._url,t):this._bucket=$D(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){m0("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){m0("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return D(this,void 0,void 0,function(){var t,n;return A(this,function(i){switch(i.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(t=this._authProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2]);case 1:if(n=i.sent(),n!==null)return[2,n.accessToken];i.label=2;case 2:return[2,null]}})})},e.prototype._getAppCheckToken=function(){return D(this,void 0,void 0,function(){var t,n;return A(this,function(i){switch(i.label){case 0:return t=this._appCheckProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:return n=i.sent(),[2,n.token];case 2:return[2,null]}})})},e.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear()),Promise.resolve()},e.prototype._makeStorageReference=function(t){return new Lf(this,t)},e.prototype._makeRequest=function(t,n,i){var r=this;if(this._deleted)return new JV(eR());var s=lB(t,this._appId,n,i,this._pool,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(function(){return r._requests.delete(s)},function(){return r._requests.delete(s)}),s},e.prototype.makeRequestWithTokens=function(t){return D(this,void 0,void 0,function(){var n,i,r;return A(this,function(s){switch(s.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return n=s.sent(),i=n[0],r=n[1],[2,this._makeRequest(t,i,r)]}})})},e}();Rf=function(){function e(t,n,i){this._delegate=t,this.task=n,this.ref=i}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}();YD=function(){function e(t,n){this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new Rf(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(t,n){var i=this;return this._delegate.then(function(r){if(t)return t(new Rf(r,i,i._ref))},n)},e.prototype.on=function(t,n,i,r){var s=this,c=void 0;return n&&(typeof n=="function"?c=function(l){return n(new Rf(l,s,s._ref))}:c={next:n.next?function(l){return n.next(new Rf(l,s,s._ref))}:void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(t,c,i||void 0,r||void 0)},e}(),XD=function(){function e(t,n){this._delegate=t,this._service=n}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(n){return new Zu(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(n){return new Zu(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}();Zu=function(){function e(t,n){this._delegate=t,this.storage=n}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){var n=QB(this._delegate,t);return new e(n,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t==null?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(t,n){return this._throwIfRoot("put"),new YD(HB(this._delegate,t,n),this)},e.prototype.putString=function(t,n,i){n===void 0&&(n=qn.RAW),this._throwIfRoot("putString");var r=iR(n,t),s=so({},i);return s.contentType==null&&r.contentType!=null&&(s.contentType=r.contentType),new YD(new hR(this._delegate,new y0(r.data,!0),s),this)},e.prototype.listAll=function(){var t=this;return KB(this._delegate).then(function(n){return new XD(n,t.storage)})},e.prototype.list=function(t){var n=this;return $B(this._delegate,t||void 0).then(function(i){return new XD(i,n.storage)})},e.prototype.getMetadata=function(){return WB(this._delegate)},e.prototype.updateMetadata=function(t){return GB(this._delegate,t)},e.prototype.getDownloadURL=function(){return YB(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),XB(this._delegate)},e.prototype._throwIfRoot=function(t){if(this._delegate._location.path==="")throw nR(t)},e}();JB=function(){function e(t,n){this.app=t,this._delegate=n}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(t){if(g0(t))throw Ca("ref() expected a child path but got a URL, use refFromURL instead.");return new Zu(KD(this._delegate,t),this)},e.prototype.refFromURL=function(t){if(!g0(t))throw Ca("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Hn.makeFromUrl(t,this._delegate.host)}catch{throw Ca("refFromUrl() expected a valid full URL but got an invalid one.")}return new Zu(KD(this._delegate,t),this)},e.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},e.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},e.prototype.useEmulator=function(t,n,i){i===void 0&&(i={}),ZB(this._delegate,t,n,i)},e}(),t3="@firebase/storage",e3="0.7.1";n3="storage";r3(it)});var o3={};var bR=bn(()=>{"use strict";vR()});var ev=class{};var Ts=class e{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(n=>{let i=n.indexOf(":");if(i>0){let r=n.slice(0,i),s=r.toLowerCase(),c=n.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(c):this.headers.set(s,[c])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,i)=>{this.setHeaderEntries(i,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,i])=>{this.setHeaderEntries(n,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){let n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){let n=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(t.name,n);let r=(t.op==="a"?this.headers.get(n):void 0)||[];r.push(...i),this.headers.set(n,r);break;case"d":let s=t.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let c=this.headers.get(n);if(!c)return;c=c.filter(l=>s.indexOf(l)===-1),c.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,c)}break}}setHeaderEntries(t,n){let i=(Array.isArray(n)?n:[n]).map(s=>s.toString()),r=t.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}};var nv=class{encodeKey(t){return Ux(t)}encodeValue(t){return Ux(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function RN(e,t){let n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(r=>{let s=r.indexOf("="),[c,l]=s==-1?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],d=n.get(c)||[];d.push(l),n.set(c,d)}),n}var kN=/%(\d[a-f0-9])/gi,ON={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ux(e){return encodeURIComponent(e).replace(kN,(t,n)=>ON[n]??t)}function Od(e){return`${e}`}var hr=class e{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new nv,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=RN(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{let i=t.fromObject[n],r=Array.isArray(i)?i.map(Od):[Od(i)];this.map.set(n,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){let n=[];return Object.keys(t).forEach(i=>{let r=t[i];Array.isArray(r)?r.forEach(s=>{n.push({param:i,value:s,op:"a"})}):n.push({param:i,value:r,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let n=this.encoder.encodeKey(t);return this.map.get(t).map(i=>n+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let n=(t.op==="a"?this.map.get(t.param):void 0)||[];n.push(Od(t.value)),this.map.set(t.param,n);break;case"d":if(t.value!==void 0){let i=this.map.get(t.param)||[],r=i.indexOf(Od(t.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var iv=class{constructor(){this.map=new Map}set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function PN(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Vx(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function Bx(e){return typeof Blob<"u"&&e instanceof Blob}function zx(e){return typeof FormData<"u"&&e instanceof FormData}function MN(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var Mc=class e{constructor(t,n,i,r){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase();let s;if(PN(this.method)||r?(this.body=i!==void 0?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new Ts,this.context??=new iv,!this.params)this.params=new hr,this.urlWithParams=n;else{let c=this.params.toString();if(c.length===0)this.urlWithParams=n;else{let l=n.indexOf("?"),d=l===-1?"?":l<n.length-1?"&":"";this.urlWithParams=n+d+c}}}serializeBody(){return this.body===null?null:Vx(this.body)||Bx(this.body)||zx(this.body)||MN(this.body)||typeof this.body=="string"?this.body:this.body instanceof hr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||zx(this.body)?null:Bx(this.body)?this.body.type||null:Vx(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof hr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(t={}){let n=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,s=t.body!==void 0?t.body:this.body,c=t.withCredentials!==void 0?t.withCredentials:this.withCredentials,l=t.reportProgress!==void 0?t.reportProgress:this.reportProgress,d=t.headers||this.headers,f=t.params||this.params,m=t.context??this.context;return t.setHeaders!==void 0&&(d=Object.keys(t.setHeaders).reduce((v,y)=>v.set(y,t.setHeaders[y]),d)),t.setParams&&(f=Object.keys(t.setParams).reduce((v,y)=>v.set(y,t.setParams[y]),f)),new e(n,i,s,{params:f,headers:d,context:m,reportProgress:l,responseType:r,withCredentials:c})}},qx=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(qx||{}),rv=class{constructor(t,n=Hx.Ok,i="OK"){this.headers=t.headers||new Ts,this.status=t.status!==void 0?t.status:n,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}};var ov=class e extends rv{constructor(t={}){super(t),this.type=qx.Response,this.body=t.body!==void 0?t.body:null}clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}};var Hx=function(e){return e[e.Continue=100]="Continue",e[e.SwitchingProtocols=101]="SwitchingProtocols",e[e.Processing=102]="Processing",e[e.EarlyHints=103]="EarlyHints",e[e.Ok=200]="Ok",e[e.Created=201]="Created",e[e.Accepted=202]="Accepted",e[e.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",e[e.NoContent=204]="NoContent",e[e.ResetContent=205]="ResetContent",e[e.PartialContent=206]="PartialContent",e[e.MultiStatus=207]="MultiStatus",e[e.AlreadyReported=208]="AlreadyReported",e[e.ImUsed=226]="ImUsed",e[e.MultipleChoices=300]="MultipleChoices",e[e.MovedPermanently=301]="MovedPermanently",e[e.Found=302]="Found",e[e.SeeOther=303]="SeeOther",e[e.NotModified=304]="NotModified",e[e.UseProxy=305]="UseProxy",e[e.Unused=306]="Unused",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.LengthRequired=411]="LengthRequired",e[e.PreconditionFailed=412]="PreconditionFailed",e[e.PayloadTooLarge=413]="PayloadTooLarge",e[e.UriTooLong=414]="UriTooLong",e[e.UnsupportedMediaType=415]="UnsupportedMediaType",e[e.RangeNotSatisfiable=416]="RangeNotSatisfiable",e[e.ExpectationFailed=417]="ExpectationFailed",e[e.ImATeapot=418]="ImATeapot",e[e.MisdirectedRequest=421]="MisdirectedRequest",e[e.UnprocessableEntity=422]="UnprocessableEntity",e[e.Locked=423]="Locked",e[e.FailedDependency=424]="FailedDependency",e[e.TooEarly=425]="TooEarly",e[e.UpgradeRequired=426]="UpgradeRequired",e[e.PreconditionRequired=428]="PreconditionRequired",e[e.TooManyRequests=429]="TooManyRequests",e[e.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",e[e.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout",e[e.HttpVersionNotSupported=505]="HttpVersionNotSupported",e[e.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",e[e.InsufficientStorage=507]="InsufficientStorage",e[e.LoopDetected=508]="LoopDetected",e[e.NotExtended=510]="NotExtended",e[e.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",e}(Hx||{});function tv(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}var Wx=(()=>{let t=class t{constructor(i){this.handler=i}request(i,r,s={}){let c;if(i instanceof Mc)c=i;else{let f;s.headers instanceof Ts?f=s.headers:f=new Ts(s.headers);let m;s.params&&(s.params instanceof hr?m=s.params:m=new hr({fromObject:s.params})),c=new Mc(i,r,s.body!==void 0?s.body:null,{headers:f,context:s.context,params:m,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let l=Y(c).pipe(sr(f=>this.handler.handle(f)));if(i instanceof Mc||s.observe==="events")return l;let d=l.pipe(fe(f=>f instanceof ov));switch(s.observe||"body"){case"body":switch(c.responseType){case"arraybuffer":return d.pipe(pt(f=>{if(f.body!==null&&!(f.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return f.body}));case"blob":return d.pipe(pt(f=>{if(f.body!==null&&!(f.body instanceof Blob))throw new Error("Response is not a Blob.");return f.body}));case"text":return d.pipe(pt(f=>{if(f.body!==null&&typeof f.body!="string")throw new Error("Response is not a string.");return f.body}));case"json":default:return d.pipe(pt(f=>f.body))}case"response":return d;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(i,r={}){return this.request("DELETE",i,r)}get(i,r={}){return this.request("GET",i,r)}head(i,r={}){return this.request("HEAD",i,r)}jsonp(i,r){return this.request("JSONP",i,{params:new hr().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(i,r={}){return this.request("OPTIONS",i,r)}patch(i,r,s={}){return this.request("PATCH",i,tv(s,r))}post(i,r,s={}){return this.request("POST",i,tv(s,r))}put(i,r,s={}){return this.request("PUT",i,tv(s,r))}};t.\u0275fac=function(r){return new(r||t)(R(ev))},t.\u0275prov=W({token:t,factory:t.\u0275fac});let e=t;return e})();var cv=class extends Dx{constructor(){super(...arguments),this.supportsDOMEvents=!0}},uv=class e extends cv{static makeCurrent(){Ax(new e)}onAndCancel(t,n,i){return t.addEventListener(n,i),()=>{t.removeEventListener(n,i)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=FN();return n==null?null:jN(n)}resetBaseElement(){Nc=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Px(document.cookie,t)}},Nc=null;function FN(){return Nc=Nc||document.querySelector("base"),Nc?Nc.getAttribute("href"):null}function jN(e){return new URL(e,document.baseURI).pathname}var lv=class{addToWindow(t){cr.getAngularTestability=(i,r=!0)=>{let s=t.findTestabilityInTree(i,r);if(s==null)throw new Vt(5103,!1);return s},cr.getAllAngularTestabilities=()=>t.getAllTestabilities(),cr.getAllAngularRootElements=()=>t.getAllRootElements();let n=i=>{let r=cr.getAllAngularTestabilities(),s=r.length,c=function(){s--,s==0&&i()};r.forEach(l=>{l.whenStable(c)})};cr.frameworkStabilizers||(cr.frameworkStabilizers=[]),cr.frameworkStabilizers.push(n)}findTestabilityInTree(t,n,i){if(n==null)return null;let r=t.getTestability(n);return r??(i?Dd().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},UN=(()=>{let t=class t{build(){return new XMLHttpRequest}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=W({token:t,factory:t.\u0275fac});let e=t;return e})(),dv=new dt(""),Yx=(()=>{let t=class t{constructor(i,r){this._zone=r,this._eventNameToPlugin=new Map,i.forEach(s=>{s.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,r,s){return this._findPluginFor(r).addEventListener(i,r,s)}getZone(){return this._zone}_findPluginFor(i){let r=this._eventNameToPlugin.get(i);if(r)return r;if(r=this._plugins.find(c=>c.supports(i)),!r)throw new Vt(5101,!1);return this._eventNameToPlugin.set(i,r),r}};t.\u0275fac=function(r){return new(r||t)(R(dv),R(ht))},t.\u0275prov=W({token:t,factory:t.\u0275fac});let e=t;return e})(),Pd=class{constructor(t){this._doc=t}},sv="ng-app-id",Xx=(()=>{let t=class t{constructor(i,r,s,c={}){this.doc=i,this.appId=r,this.nonce=s,this.platformId=c,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Jg(c),this.resetHostNodes()}addStyles(i){for(let r of i)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(i){for(let r of i)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let i=this.styleNodesInDOM;i&&(i.forEach(r=>r.remove()),i.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(let r of this.getAllStyles())this.addStyleToHost(i,r)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(let r of this.hostNodes)this.addStyleToHost(r,i)}onStyleRemoved(i){let r=this.styleRef;r.get(i)?.elements?.forEach(s=>s.remove()),r.delete(i)}collectServerRenderedStyles(){let i=this.doc.head?.querySelectorAll(`style[${sv}="${this.appId}"]`);if(i?.length){let r=new Map;return i.forEach(s=>{s.textContent!=null&&r.set(s.textContent,s)}),r}return null}changeUsageCount(i,r){let s=this.styleRef;if(s.has(i)){let c=s.get(i);return c.usage+=r,c.usage}return s.set(i,{usage:r,elements:[]}),r}getStyleElement(i,r){let s=this.styleNodesInDOM,c=s?.get(r);if(c?.parentNode===i)return s.delete(r),c.removeAttribute(sv),c;{let l=this.doc.createElement("style");return this.nonce&&l.setAttribute("nonce",this.nonce),l.textContent=r,this.platformIsServer&&l.setAttribute(sv,this.appId),i.appendChild(l),l}}addStyleToHost(i,r){let s=this.getStyleElement(i,r),c=this.styleRef,l=c.get(r)?.elements;l?l.push(s):c.set(r,{elements:[s],usage:1})}resetHostNodes(){let i=this.hostNodes;i.clear(),i.add(this.doc.head)}};t.\u0275fac=function(r){return new(r||t)(R(ct),R(Sc),R(Ac,8),R(ho))},t.\u0275prov=W({token:t,factory:t.\u0275fac});let e=t;return e})(),av={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},fv=/%COMP%/g,Qx="%COMP%",VN=`_nghost-${Qx}`,BN=`_ngcontent-${Qx}`,zN=!0,qN=new dt("",{providedIn:"root",factory:()=>zN});function HN(e){return BN.replace(fv,e)}function WN(e){return VN.replace(fv,e)}function Zx(e,t){return t.map(n=>n.replace(fv,e))}var Md=(()=>{let t=class t{constructor(i,r,s,c,l,d,f,m=null){this.eventManager=i,this.sharedStylesHost=r,this.appId=s,this.removeStylesOnCompDestroy=c,this.doc=l,this.platformId=d,this.ngZone=f,this.nonce=m,this.rendererByCompId=new Map,this.platformIsServer=Jg(d),this.defaultRenderer=new Lc(i,l,f,this.platformIsServer)}createRenderer(i,r){if(!i||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Cc.ShadowDom&&(r=ie(U({},r),{encapsulation:Cc.Emulated}));let s=this.getOrCreateRenderer(i,r);return s instanceof Nd?s.applyToHost(i):s instanceof Fc&&s.applyStyles(),s}getOrCreateRenderer(i,r){let s=this.rendererByCompId,c=s.get(r.id);if(!c){let l=this.doc,d=this.ngZone,f=this.eventManager,m=this.sharedStylesHost,v=this.removeStylesOnCompDestroy,y=this.platformIsServer;switch(r.encapsulation){case Cc.Emulated:c=new Nd(f,m,r,this.appId,v,l,d,y);break;case Cc.ShadowDom:return new hv(f,m,i,r,l,d,this.nonce,y);default:c=new Fc(f,m,r,v,l,d,y);break}s.set(r.id,c)}return c}ngOnDestroy(){this.rendererByCompId.clear()}};t.\u0275fac=function(r){return new(r||t)(R(Yx),R(Xx),R(Sc),R(qN),R(ct),R(ho),R(ht),R(Ac))},t.\u0275prov=W({token:t,factory:t.\u0275fac});let e=t;return e})(),Lc=class{constructor(t,n,i,r){this.eventManager=t,this.doc=n,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(av[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(Gx(t)?t.content:t).appendChild(n)}insertBefore(t,n,i){t&&(Gx(t)?t.content:t).insertBefore(n,i)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let i=typeof t=="string"?this.doc.querySelector(t):t;if(!i)throw new Vt(-5104,!1);return n||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,i,r){if(r){n=r+":"+n;let s=av[r];s?t.setAttributeNS(s,n,i):t.setAttribute(n,i)}else t.setAttribute(n,i)}removeAttribute(t,n,i){if(i){let r=av[i];r?t.removeAttributeNS(r,n):t.removeAttribute(`${i}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,i,r){r&(Dc.DashCase|Dc.Important)?t.style.setProperty(n,i,r&Dc.Important?"important":""):t.style[n]=i}removeStyle(t,n,i){i&Dc.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,i){t!=null&&(t[n]=i)}setValue(t,n){t.nodeValue=n}listen(t,n,i){if(typeof t=="string"&&(t=Dd().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(i))}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))===!1&&n.preventDefault()}}};function Gx(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var hv=class extends Lc{constructor(t,n,i,r,s,c,l,d){super(t,s,c,d),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let f=Zx(r.id,r.styles);for(let m of f){let v=document.createElement("style");l&&v.setAttribute("nonce",l),v.textContent=m,this.shadowRoot.appendChild(v)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,i){return super.insertBefore(this.nodeOrShadowRoot(t),n,i)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Fc=class extends Lc{constructor(t,n,i,r,s,c,l,d){super(t,s,c,l),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r,this.styles=d?Zx(d,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Nd=class extends Fc{constructor(t,n,i,r,s,c,l,d){let f=r+"-"+i.id;super(t,n,i,s,c,l,d,f),this.contentAttr=HN(f),this.hostAttr=WN(f)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let i=super.createElement(t,n);return super.setAttribute(i,this.contentAttr,""),i}},GN=(()=>{let t=class t extends Pd{constructor(i){super(i)}supports(i){return!0}addEventListener(i,r,s){return i.addEventListener(r,s,!1),()=>this.removeEventListener(i,r,s)}removeEventListener(i,r,s){return i.removeEventListener(r,s)}};t.\u0275fac=function(r){return new(r||t)(R(ct))},t.\u0275prov=W({token:t,factory:t.\u0275fac});let e=t;return e})(),$x=["alt","control","meta","shift"],$N={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},KN={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},YN=(()=>{let t=class t extends Pd{constructor(i){super(i)}supports(i){return t.parseEventName(i)!=null}addEventListener(i,r,s){let c=t.parseEventName(r),l=t.eventCallback(c.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Dd().onAndCancel(i,c.domEventName,l))}static parseEventName(i){let r=i.toLowerCase().split("."),s=r.shift();if(r.length===0||!(s==="keydown"||s==="keyup"))return null;let c=t._normalizeKey(r.pop()),l="",d=r.indexOf("code");if(d>-1&&(r.splice(d,1),l="code."),$x.forEach(m=>{let v=r.indexOf(m);v>-1&&(r.splice(v,1),l+=m+".")}),l+=c,r.length!=0||c.length===0)return null;let f={};return f.domEventName=s,f.fullKey=l,f}static matchEventFullKeyCode(i,r){let s=$N[i.key]||i.key,c="";return r.indexOf("code.")>-1&&(s=i.code,c="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),$x.forEach(l=>{if(l!==s){let d=KN[l];d(i)&&(c+=l+".")}}),c+=s,c===r)}static eventCallback(i,r,s){return c=>{t.matchEventFullKeyCode(c,i)&&s.runGuarded(()=>r(c))}}static _normalizeKey(i){return i==="esc"?"escape":i}};t.\u0275fac=function(r){return new(r||t)(R(ct))},t.\u0275prov=W({token:t,factory:t.\u0275fac});let e=t;return e})();function XN(){uv.makeCurrent()}function QN(){return new lo}function ZN(){return ix(document),document}var JN=[{provide:ho,useValue:Nx},{provide:rx,useValue:XN,multi:!0},{provide:ct,useFactory:ZN,deps:[]}],Jx=xx(Cx,"browser",JN),tL=new dt(""),eL=[{provide:Td,useClass:lv,deps:[]},{provide:wx,useClass:Sd,deps:[ht,Xg,Td]},{provide:Sd,useClass:Sd,deps:[ht,Xg,Td]}],nL=[{provide:nx,useValue:"root"},{provide:lo,useFactory:QN,deps:[]},{provide:dv,useClass:GN,multi:!0,deps:[ct,ht,ho]},{provide:dv,useClass:YN,multi:!0,deps:[ct]},Md,Xx,Yx,{provide:Ed,useExisting:Md},{provide:jx,useClass:UN,deps:[]},[]],tC=(()=>{let t=class t{constructor(i){}static withServerTransition(i){return{ngModule:t,providers:[{provide:Sc,useValue:i.appId}]}}};t.\u0275fac=function(r){return new(r||t)(R(tL,12))},t.\u0275mod=gt({type:t}),t.\u0275inj=mt({providers:[...nL,...eL],imports:[kd,Tx]});let e=t;return e})();var eC=(()=>{let t=class t{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}};t.\u0275fac=function(r){return new(r||t)(R(ct))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var pv=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=W({token:t,factory:function(r){let s=null;return r?s=new(r||t):s=R(iL),s},providedIn:"root"});let e=t;return e})(),iL=(()=>{let t=class t extends pv{constructor(i){super(),this._doc=i}sanitize(i,r){if(r==null)return null;switch(i){case En.NONE:return r;case En.HTML:return ws(r,"HTML")?_s(r):dx(this._doc,String(r)).toString();case En.STYLE:return ws(r,"Style")?_s(r):r;case En.SCRIPT:if(ws(r,"Script"))return _s(r);throw new Vt(5200,!1);case En.URL:return ws(r,"URL")?_s(r):lx(String(r));case En.RESOURCE_URL:if(ws(r,"ResourceURL"))return _s(r);throw new Vt(5201,!1);default:throw new Vt(5202,!1)}}bypassSecurityTrustHtml(i){return ox(i)}bypassSecurityTrustStyle(i){return sx(i)}bypassSecurityTrustScript(i){return ax(i)}bypassSecurityTrustUrl(i){return cx(i)}bypassSecurityTrustResourceUrl(i){return ux(i)}};t.\u0275fac=function(r){return new(r||t)(R(ct))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var ft="primary",Zc=Symbol("RouteTitle"),_v=class{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function ks(e){return new _v(e)}function oL(e,t,n){let i=n.path.split("/");if(i.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||i.length<e.length))return null;let r={};for(let s=0;s<i.length;s++){let c=i[s],l=e[s];if(c.startsWith(":"))r[c.substring(1)]=l;else if(c!==l.path)return null}return{consumed:e.slice(0,i.length),posParams:r}}function sL(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!yi(e[n],t[n]))return!1;return!0}function yi(e,t){let n=e?wv(e):void 0,i=t?wv(t):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let s=0;s<n.length;s++)if(r=n[s],!lC(e[r],t[r]))return!1;return!0}function wv(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function lC(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),i=[...t].sort();return n.every((r,s)=>i[s]===r)}else return e===t}function dC(e){return e.length>0?e[e.length-1]:null}function gr(e){return Fg(e)?e:Ix(e)?nn(Promise.resolve(e)):Y(e)}var aL={exact:fC,subset:pC},hC={exact:cL,subset:uL,ignored:()=>!0};function nC(e,t,n){return aL[n.paths](e.root,t.root,n.matrixParams)&&hC[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function cL(e,t){return yi(e,t)}function fC(e,t,n){if(!mo(e.segments,t.segments)||!jd(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let i in t.children)if(!e.children[i]||!fC(e.children[i],t.children[i],n))return!1;return!0}function uL(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>lC(e[n],t[n]))}function pC(e,t,n){return mC(e,t,t.segments,n)}function mC(e,t,n,i){if(e.segments.length>n.length){let r=e.segments.slice(0,n.length);return!(!mo(r,n)||t.hasChildren()||!jd(r,n,i))}else if(e.segments.length===n.length){if(!mo(e.segments,n)||!jd(e.segments,n,i))return!1;for(let r in t.children)if(!e.children[r]||!pC(e.children[r],t.children[r],i))return!1;return!0}else{let r=n.slice(0,e.segments.length),s=n.slice(e.segments.length);return!mo(e.segments,r)||!jd(e.segments,r,i)||!e.children[ft]?!1:mC(e.children[ft],t,s,i)}}function jd(e,t,n){return t.every((i,r)=>hC[n](e[r].parameters,i.parameters))}var fr=class{constructor(t=new St([],{}),n={},i=null){this.root=t,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap??=ks(this.queryParams),this._queryParamMap}toString(){return hL.serialize(this)}},St=class{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ud(this)}},po=class{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=ks(this.parameters),this._parameterMap}toString(){return vC(this)}};function lL(e,t){return mo(e,t)&&e.every((n,i)=>yi(n.parameters,t[i].parameters))}function mo(e,t){return e.length!==t.length?!1:e.every((n,i)=>n.path===t[i].path)}function dL(e,t){let n=[];return Object.entries(e.children).forEach(([i,r])=>{i===ft&&(n=n.concat(t(r,i)))}),Object.entries(e.children).forEach(([i,r])=>{i!==ft&&(n=n.concat(t(r,i)))}),n}var Jc=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=W({token:t,factory:()=>new Hc,providedIn:"root"});let e=t;return e})(),Hc=class{parse(t){let n=new Ev(t);return new fr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${jc(t.root,!0)}`,i=mL(t.queryParams),r=typeof t.fragment=="string"?`#${fL(t.fragment)}`:"";return`${n}${i}${r}`}},hL=new Hc;function Ud(e){return e.segments.map(t=>vC(t)).join("/")}function jc(e,t){if(!e.hasChildren())return Ud(e);if(t){let n=e.children[ft]?jc(e.children[ft],!1):"",i=[];return Object.entries(e.children).forEach(([r,s])=>{r!==ft&&i.push(`${r}:${jc(s,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}else{let n=dL(e,(i,r)=>r===ft?[jc(e.children[ft],!1)]:[`${r}:${jc(i,!1)}`]);return Object.keys(e.children).length===1&&e.children[ft]!=null?`${Ud(e)}/${n[0]}`:`${Ud(e)}/(${n.join("//")})`}}function gC(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ld(e){return gC(e).replace(/%3B/gi,";")}function fL(e){return encodeURI(e)}function Iv(e){return gC(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Vd(e){return decodeURIComponent(e)}function iC(e){return Vd(e.replace(/\+/g,"%20"))}function vC(e){return`${Iv(e.path)}${pL(e.parameters)}`}function pL(e){return Object.entries(e).map(([t,n])=>`;${Iv(t)}=${Iv(n)}`).join("")}function mL(e){let t=Object.entries(e).map(([n,i])=>Array.isArray(i)?i.map(r=>`${Ld(n)}=${Ld(r)}`).join("&"):`${Ld(n)}=${Ld(i)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var gL=/^[^\/()?;#]+/;function gv(e){let t=e.match(gL);return t?t[0]:""}var vL=/^[^\/()?;=#]+/;function bL(e){let t=e.match(vL);return t?t[0]:""}var yL=/^[^=?&#]+/;function _L(e){let t=e.match(yL);return t?t[0]:""}var wL=/^[^&#]+/;function IL(e){let t=e.match(wL);return t?t[0]:""}var Ev=class{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new St([],{}):new St([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(i[ft]=new St(t,n)),i}parseSegment(){let t=gv(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new Vt(4009,!1);return this.capture(t),new po(Vd(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=bL(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let r=gv(this.remaining);r&&(i=r,this.capture(i))}t[Vd(n)]=Vd(i)}parseQueryParam(t){let n=_L(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let c=IL(this.remaining);c&&(i=c,this.capture(i))}let r=iC(n),s=iC(i);if(t.hasOwnProperty(r)){let c=t[r];Array.isArray(c)||(c=[c],t[r]=c),c.push(s)}else t[r]=s}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=gv(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new Vt(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=ft);let c=this.parseChildren();n[s]=Object.keys(c).length===1?c[ft]:new St([],c),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new Vt(4011,!1)}};function bC(e){return e.segments.length>0?new St([],{[ft]:e}):e}function yC(e){let t={};for(let[i,r]of Object.entries(e.children)){let s=yC(r);if(i===ft&&s.segments.length===0&&s.hasChildren())for(let[c,l]of Object.entries(s.children))t[c]=l;else(s.segments.length>0||s.hasChildren())&&(t[i]=s)}let n=new St(e.segments,t);return EL(n)}function EL(e){if(e.numberOfChildren===1&&e.children[ft]){let t=e.children[ft];return new St(e.segments.concat(t.segments),t.children)}return e}function Os(e){return e instanceof fr}function xL(e,t,n=null,i=null){let r=_C(e);return wC(r,t,n,i)}function _C(e){let t;function n(s){let c={};for(let d of s.children){let f=n(d);c[d.outlet]=f}let l=new St(s.url,c);return s===e&&(t=l),l}let i=n(e.root),r=bC(i);return t??r}function wC(e,t,n,i){let r=e;for(;r.parent;)r=r.parent;if(t.length===0)return vv(r,r,r,n,i);let s=CL(t);if(s.toRoot())return vv(r,r,new St([],{}),n,i);let c=TL(s,r,e),l=c.processChildren?Bc(c.segmentGroup,c.index,s.commands):EC(c.segmentGroup,c.index,s.commands);return vv(r,c.segmentGroup,l,n,i)}function Bd(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function Wc(e){return typeof e=="object"&&e!=null&&e.outlets}function vv(e,t,n,i,r){let s={};i&&Object.entries(i).forEach(([d,f])=>{s[d]=Array.isArray(f)?f.map(m=>`${m}`):`${f}`});let c;e===t?c=n:c=IC(e,t,n);let l=bC(yC(c));return new fr(l,s,r)}function IC(e,t,n){let i={};return Object.entries(e.children).forEach(([r,s])=>{s===t?i[r]=n:i[r]=IC(s,t,n)}),new St(e.segments,i)}var zd=class{constructor(t,n,i){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=i,t&&i.length>0&&Bd(i[0]))throw new Vt(4003,!1);let r=i.find(Wc);if(r&&r!==dC(i))throw new Vt(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function CL(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new zd(!0,0,e);let t=0,n=!1,i=e.reduce((r,s,c)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let l={};return Object.entries(s.outlets).forEach(([d,f])=>{l[d]=typeof f=="string"?f.split("/"):f}),[...r,{outlets:l}]}if(s.segmentPath)return[...r,s.segmentPath]}return typeof s!="string"?[...r,s]:c===0?(s.split("/").forEach((l,d)=>{d==0&&l==="."||(d==0&&l===""?n=!0:l===".."?t++:l!=""&&r.push(l))}),r):[...r,s]},[]);return new zd(n,t,i)}var Ds=class{constructor(t,n,i){this.segmentGroup=t,this.processChildren=n,this.index=i}};function TL(e,t,n){if(e.isAbsolute)return new Ds(t,!0,0);if(!n)return new Ds(t,!1,NaN);if(n.parent===null)return new Ds(n,!0,0);let i=Bd(e.commands[0])?0:1,r=n.segments.length-1+i;return SL(n,r,e.numberOfDoubleDots)}function SL(e,t,n){let i=e,r=t,s=n;for(;s>r;){if(s-=r,i=i.parent,!i)throw new Vt(4005,!1);r=i.segments.length}return new Ds(i,!1,r-s)}function AL(e){return Wc(e[0])?e[0].outlets:{[ft]:e}}function EC(e,t,n){if(e??=new St([],{}),e.segments.length===0&&e.hasChildren())return Bc(e,t,n);let i=DL(e,t,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){let s=new St(e.segments.slice(0,i.pathIndex),{});return s.children[ft]=new St(e.segments.slice(i.pathIndex),e.children),Bc(s,0,r)}else return i.match&&r.length===0?new St(e.segments,{}):i.match&&!e.hasChildren()?xv(e,t,n):i.match?Bc(e,0,r):xv(e,t,n)}function Bc(e,t,n){if(n.length===0)return new St(e.segments,{});{let i=AL(n),r={};if(Object.keys(i).some(s=>s!==ft)&&e.children[ft]&&e.numberOfChildren===1&&e.children[ft].segments.length===0){let s=Bc(e.children[ft],t,n);return new St(e.segments,s.children)}return Object.entries(i).forEach(([s,c])=>{typeof c=="string"&&(c=[c]),c!==null&&(r[s]=EC(e.children[s],t,c))}),Object.entries(e.children).forEach(([s,c])=>{i[s]===void 0&&(r[s]=c)}),new St(e.segments,r)}}function DL(e,t,n){let i=0,r=t,s={match:!1,pathIndex:0,commandIndex:0};for(;r<e.segments.length;){if(i>=n.length)return s;let c=e.segments[r],l=n[i];if(Wc(l))break;let d=`${l}`,f=i<n.length-1?n[i+1]:null;if(r>0&&d===void 0)break;if(d&&f&&typeof f=="object"&&f.outlets===void 0){if(!oC(d,f,c))return s;i+=2}else{if(!oC(d,{},c))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function xv(e,t,n){let i=e.segments.slice(0,t),r=0;for(;r<n.length;){let s=n[r];if(Wc(s)){let d=RL(s.outlets);return new St(i,d)}if(r===0&&Bd(n[0])){let d=e.segments[t];i.push(new po(d.path,rC(n[0]))),r++;continue}let c=Wc(s)?s.outlets[ft]:`${s}`,l=r<n.length-1?n[r+1]:null;c&&l&&Bd(l)?(i.push(new po(c,rC(l))),r+=2):(i.push(new po(c,{})),r++)}return new St(i,{})}function RL(e){let t={};return Object.entries(e).forEach(([n,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(t[n]=xv(new St([],{}),0,i))}),t}function rC(e){let t={};return Object.entries(e).forEach(([n,i])=>t[n]=`${i}`),t}function oC(e,t,n){return e==n.path&&yi(t,n.parameters)}var zc="imperative",ye=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(ye||{}),Un=class{constructor(t,n){this.id=t,this.url=n}},Ps=class extends Un{constructor(t,n,i="imperative",r=null){super(t,n),this.type=ye.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ji=class extends Un{constructor(t,n,i){super(t,n),this.urlAfterRedirects=i,this.type=ye.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Cn=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(Cn||{}),qd=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(qd||{}),pr=class extends Un{constructor(t,n,i,r){super(t,n),this.reason=i,this.code=r,this.type=ye.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},mr=class extends Un{constructor(t,n,i,r){super(t,n),this.reason=i,this.code=r,this.type=ye.NavigationSkipped}},Gc=class extends Un{constructor(t,n,i,r){super(t,n),this.error=i,this.target=r,this.type=ye.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Hd=class extends Un{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=ye.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Cv=class extends Un{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=ye.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Tv=class extends Un{constructor(t,n,i,r,s){super(t,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=ye.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Sv=class extends Un{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=ye.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Av=class extends Un{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=ye.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Dv=class{constructor(t){this.route=t,this.type=ye.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Rv=class{constructor(t){this.route=t,this.type=ye.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},kv=class{constructor(t){this.snapshot=t,this.type=ye.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ov=class{constructor(t){this.snapshot=t,this.type=ye.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Pv=class{constructor(t){this.snapshot=t,this.type=ye.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Mv=class{constructor(t){this.snapshot=t,this.type=ye.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Wd=class{constructor(t,n,i){this.routerEvent=t,this.position=n,this.anchor=i,this.type=ye.Scroll}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},$c=class{},Kc=class{constructor(t){this.url=t}};var Nv=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new tu,this.attachRef=null}},tu=(()=>{let t=class t{constructor(){this.contexts=new Map}onChildOutletCreated(i,r){let s=this.getOrCreateContext(i);s.outlet=r,this.contexts.set(i,s)}onChildOutletDestroyed(i){let r=this.getContext(i);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let r=this.getContext(i);return r||(r=new Nv,this.contexts.set(i,r)),r}getContext(i){return this.contexts.get(i)||null}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Gd=class{constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=Lv(t,this._root);return n?n.children.map(i=>i.value):[]}firstChild(t){let n=Lv(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=Fv(t,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return Fv(t,this._root).map(n=>n.value)}};function Lv(e,t){if(e===t.value)return t;for(let n of t.children){let i=Lv(e,n);if(i)return i}return null}function Fv(e,t){if(e===t.value)return[t];for(let n of t.children){let i=Fv(e,n);if(i.length)return i.unshift(t),i}return[]}var xn=class{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function As(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var $d=class extends Gd{constructor(t,n){super(t),this.snapshot=n,$v(this,t)}toString(){return this.snapshot.toString()}};function xC(e){let t=kL(e),n=new en([new po("",{})]),i=new en({}),r=new en({}),s=new en({}),c=new en(""),l=new Ms(n,i,s,c,r,ft,e,t.root);return l.snapshot=t.root,new $d(new xn(l,[]),t)}function kL(e){let t={},n={},i={},r="",s=new Yc([],t,i,r,n,ft,e,null,{});return new Kd("",new xn(s,[]))}var Ms=class{constructor(t,n,i,r,s,c,l,d){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=c,this.component=l,this._futureSnapshot=d,this.title=this.dataSubject?.pipe(pt(f=>f[Zc]))??Y(void 0),this.url=t,this.params=n,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(pt(t=>ks(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(pt(t=>ks(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Gv(e,t,n="emptyOnly"){let i,{routeConfig:r}=e;return t!==null&&(n==="always"||r?.path===""||!t.component&&!t.routeConfig?.loadComponent)?i={params:U(U({},t.params),e.params),data:U(U({},t.data),e.data),resolve:U(U(U(U({},e.data),t.data),r?.data),e._resolvedData)}:i={params:U({},e.params),data:U({},e.data),resolve:U(U({},e.data),e._resolvedData??{})},r&&TC(r)&&(i.resolve[Zc]=r.title),i}var Yc=class{get title(){return this.data?.[Zc]}constructor(t,n,i,r,s,c,l,d,f){this.url=t,this.params=n,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=c,this.component=l,this.routeConfig=d,this._resolve=f}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ks(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ks(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(i=>i.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},Kd=class extends Gd{constructor(t,n){super(n),this.url=t,$v(this,n)}toString(){return CC(this._root)}};function $v(e,t){t.value._routerState=e,t.children.forEach(n=>$v(e,n))}function CC(e){let t=e.children.length>0?` { ${e.children.map(CC).join(", ")} } `:"";return`${e.value}${t}`}function bv(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,yi(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),yi(t.params,n.params)||e.paramsSubject.next(n.params),sL(t.url,n.url)||e.urlSubject.next(n.url),yi(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function jv(e,t){let n=yi(e.params,t.params)&&lL(e.url,t.url),i=!e.parent!=!t.parent;return n&&!i&&(!e.parent||jv(e.parent,t.parent))}function TC(e){return typeof e.title=="string"||e.title===null}var Kv=(()=>{let t=class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=ft,this.activateEvents=new an,this.deactivateEvents=new an,this.attachEvents=new an,this.detachEvents=new an,this.parentContexts=q(tu),this.location=q(Es),this.changeDetector=q(fo),this.environmentInjector=q(bs),this.inputBinder=q(Jd,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(i){if(i.name){let{firstChange:r,previousValue:s}=i.name;if(r)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Vt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Vt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Vt(4012,!1);this.location.detach();let i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,r){this.activated=i,this._activatedRoute=r,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){let i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,r){if(this.isActivated)throw new Vt(4013,!1);this._activatedRoute=i;let s=this.location,l=i.snapshot.component,d=this.parentContexts.getOrCreateContext(this.name).children,f=new Uv(i,d,s.injector);this.activated=s.createComponent(l,{index:s.length,injector:f,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=re({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ys]});let e=t;return e})(),Uv=class{constructor(t,n,i){this.route=t,this.childContexts=n,this.parent=i}get(t,n){return t===Ms?this.route:t===tu?this.childContexts:this.parent.get(t,n)}},Jd=new dt(""),sC=(()=>{let t=class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(i){this.unsubscribeFromRouteData(i),this.subscribeToRouteData(i)}unsubscribeFromRouteData(i){this.outletDataSubscriptions.get(i)?.unsubscribe(),this.outletDataSubscriptions.delete(i)}subscribeToRouteData(i){let{activatedRoute:r}=i,s=vs([r.queryParams,r.params,r.data]).pipe(_n(([c,l,d],f)=>(d=U(U(U({},c),l),d),f===0?Y(d):Promise.resolve(d)))).subscribe(c=>{if(!i.isActivated||!i.activatedComponentRef||i.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(i);return}let l=Sx(r.component);if(!l){this.unsubscribeFromRouteData(i);return}for(let{templateName:d}of l.inputs)i.activatedComponentRef.setInput(d,c[d])});this.outletDataSubscriptions.set(i,s)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=W({token:t,factory:t.\u0275fac});let e=t;return e})();function OL(e,t,n){let i=Xc(e,t._root,n?n._root:void 0);return new $d(i,t)}function Xc(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let i=n.value;i._futureSnapshot=t.value;let r=PL(e,t,n);return new xn(i,r)}else{if(e.shouldAttach(t.value)){let s=e.retrieve(t.value);if(s!==null){let c=s.route;return c.value._futureSnapshot=t.value,c.children=t.children.map(l=>Xc(e,l)),c}}let i=ML(t.value),r=t.children.map(s=>Xc(e,s));return new xn(i,r)}}function PL(e,t,n){return t.children.map(i=>{for(let r of n.children)if(e.shouldReuseRoute(i.value,r.value.snapshot))return Xc(e,i,r);return Xc(e,i)})}function ML(e){return new Ms(new en(e.url),new en(e.params),new en(e.queryParams),new en(e.fragment),new en(e.data),e.outlet,e.component,e)}var SC="ngNavigationCancelingError";function AC(e,t){let{redirectTo:n,navigationBehaviorOptions:i}=Os(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=DC(!1,Cn.Redirect);return r.url=n,r.navigationBehaviorOptions=i,r}function DC(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[SC]=!0,n.cancellationCode=t,n}function NL(e){return RC(e)&&Os(e.url)}function RC(e){return!!e&&e[SC]}var LL=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Et({type:t,selectors:[["ng-component"]],standalone:!0,features:[ke],decls:1,vars:0,template:function(r,s){r&1&&rt(0,"router-outlet")},dependencies:[Kv],encapsulation:2});let e=t;return e})();function FL(e,t){return e.providers&&!e._injector&&(e._injector=$g(e.providers,t,`Route: ${e.path}`)),e._injector??t}function Yv(e){let t=e.children&&e.children.map(Yv),n=t?ie(U({},e),{children:t}):U({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==ft&&(n.component=LL),n}function _i(e){return e.outlet||ft}function jL(e,t){let n=e.filter(i=>_i(i)===t);return n.push(...e.filter(i=>_i(i)!==t)),n}function eu(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var UL=(e,t,n,i)=>pt(r=>(new Vv(t,r.targetRouterState,r.currentRouterState,n,i).activate(e),r)),Vv=class{constructor(t,n,i,r,s){this.routeReuseStrategy=t,this.futureState=n,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(t){let n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,t),bv(this.futureState.root),this.activateChildRoutes(n,i,t)}deactivateChildRoutes(t,n,i){let r=As(n);t.children.forEach(s=>{let c=s.value.outlet;this.deactivateRoutes(s,r[c],i),delete r[c]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,n,i){let r=t.value,s=n?n.value:null;if(r===s)if(r.component){let c=i.getContext(r.outlet);c&&this.deactivateChildRoutes(t,n,c.children)}else this.deactivateChildRoutes(t,n,i);else s&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let i=n.getContext(t.value.outlet),r=i&&t.value.component?i.children:n,s=As(t);for(let c of Object.values(s))this.deactivateRouteAndItsChildren(c,r);if(i&&i.outlet){let c=i.outlet.detach(),l=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:c,route:t,contexts:l})}}deactivateRouteAndOutlet(t,n){let i=n.getContext(t.value.outlet),r=i&&t.value.component?i.children:n,s=As(t);for(let c of Object.values(s))this.deactivateRouteAndItsChildren(c,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,n,i){let r=As(n);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new Mv(s.value.snapshot))}),t.children.length&&this.forwardEvent(new Ov(t.value.snapshot))}activateRoutes(t,n,i){let r=t.value,s=n?n.value:null;if(bv(r),r===s)if(r.component){let c=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,n,c.children)}else this.activateChildRoutes(t,n,i);else if(r.component){let c=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let l=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),c.children.onOutletReAttached(l.contexts),c.attachRef=l.componentRef,c.route=l.route.value,c.outlet&&c.outlet.attach(l.componentRef,l.route.value),bv(l.route.value),this.activateChildRoutes(t,null,c.children)}else{let l=eu(r.snapshot);c.attachRef=null,c.route=r,c.injector=l,c.outlet&&c.outlet.activateWith(r,c.injector),this.activateChildRoutes(t,null,c.children)}}else this.activateChildRoutes(t,null,i)}},Yd=class{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Rs=class{constructor(t,n){this.component=t,this.route=n}};function VL(e,t,n){let i=e._root,r=t?t._root:null;return Uc(i,r,n,[i.value])}function BL(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function Ls(e,t){let n=Symbol(),i=t.get(e,n);return i===n?typeof e=="function"&&!ex(e)?e:t.get(e):i}function Uc(e,t,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=As(t);return e.children.forEach(c=>{zL(c,s[c.value.outlet],n,i.concat([c.value]),r),delete s[c.value.outlet]}),Object.entries(s).forEach(([c,l])=>qc(l,n.getContext(c),r)),r}function zL(e,t,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=e.value,c=t?t.value:null,l=n?n.getContext(e.value.outlet):null;if(c&&s.routeConfig===c.routeConfig){let d=qL(c,s,s.routeConfig.runGuardsAndResolvers);d?r.canActivateChecks.push(new Yd(i)):(s.data=c.data,s._resolvedData=c._resolvedData),s.component?Uc(e,t,l?l.children:null,i,r):Uc(e,t,n,i,r),d&&l&&l.outlet&&l.outlet.isActivated&&r.canDeactivateChecks.push(new Rs(l.outlet.component,c))}else c&&qc(t,l,r),r.canActivateChecks.push(new Yd(i)),s.component?Uc(e,null,l?l.children:null,i,r):Uc(e,null,n,i,r);return r}function qL(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!mo(e.url,t.url);case"pathParamsOrQueryParamsChange":return!mo(e.url,t.url)||!yi(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!jv(e,t)||!yi(e.queryParams,t.queryParams);case"paramsChange":default:return!jv(e,t)}}function qc(e,t,n){let i=As(e),r=e.value;Object.entries(i).forEach(([s,c])=>{r.component?t?qc(c,t.children.getContext(s),n):qc(c,null,n):qc(c,t,n)}),r.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new Rs(t.outlet.component,r)):n.canDeactivateChecks.push(new Rs(null,r)):n.canDeactivateChecks.push(new Rs(null,r))}function nu(e){return typeof e=="function"}function HL(e){return typeof e=="boolean"}function WL(e){return e&&nu(e.canLoad)}function GL(e){return e&&nu(e.canActivate)}function $L(e){return e&&nu(e.canActivateChild)}function KL(e){return e&&nu(e.canDeactivate)}function YL(e){return e&&nu(e.canMatch)}function kC(e){return e instanceof KE||e?.name==="EmptyError"}var Fd=Symbol("INITIAL_VALUE");function Ns(){return _n(e=>vs(e.map(t=>t.pipe(ve(1),Mi(Fd)))).pipe(pt(t=>{for(let n of t)if(n!==!0){if(n===Fd)return Fd;if(n===!1||n instanceof fr)return n}return!0}),fe(t=>t!==Fd),ve(1)))}function XL(e,t){return yn(n=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:c}}=n;return c.length===0&&s.length===0?Y(ie(U({},n),{guardsResult:!0})):QL(c,i,r,e).pipe(yn(l=>l&&HL(l)?ZL(i,s,e,t):Y(l)),pt(l=>ie(U({},n),{guardsResult:l})))})}function QL(e,t,n,i){return nn(e).pipe(yn(r=>iF(r.component,r.route,n,t,i)),ar(r=>r!==!0,!0))}function ZL(e,t,n,i){return nn(t).pipe(sr(r=>vd(tF(r.route.parent,i),JL(r.route,i),nF(e,r.path,n),eF(e,r.route,n))),ar(r=>r!==!0,!0))}function JL(e,t){return e!==null&&t&&t(new Pv(e)),Y(!0)}function tF(e,t){return e!==null&&t&&t(new kv(e)),Y(!0)}function eF(e,t,n){let i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||i.length===0)return Y(!0);let r=i.map(s=>co(()=>{let c=eu(t)??n,l=Ls(s,c),d=GL(l)?l.canActivate(t,e):ur(c,()=>l(t,e));return gr(d).pipe(ar())}));return Y(r).pipe(Ns())}function nF(e,t,n){let i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(c=>BL(c)).filter(c=>c!==null).map(c=>co(()=>{let l=c.guards.map(d=>{let f=eu(c.node)??n,m=Ls(d,f),v=$L(m)?m.canActivateChild(i,e):ur(f,()=>m(i,e));return gr(v).pipe(ar())});return Y(l).pipe(Ns())}));return Y(s).pipe(Ns())}function iF(e,t,n,i,r){let s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!s||s.length===0)return Y(!0);let c=s.map(l=>{let d=eu(t)??r,f=Ls(l,d),m=KL(f)?f.canDeactivate(e,t,n,i):ur(d,()=>f(e,t,n,i));return gr(m).pipe(ar())});return Y(c).pipe(Ns())}function rF(e,t,n,i){let r=t.canLoad;if(r===void 0||r.length===0)return Y(!0);let s=r.map(c=>{let l=Ls(c,e),d=WL(l)?l.canLoad(t,n):ur(e,()=>l(t,n));return gr(d)});return Y(s).pipe(Ns(),OC(i))}function OC(e){return $E(Yt(t=>{if(Os(t))throw AC(e,t)}),pt(t=>t===!0))}function oF(e,t,n,i){let r=t.canMatch;if(!r||r.length===0)return Y(!0);let s=r.map(c=>{let l=Ls(c,e),d=YL(l)?l.canMatch(t,n):ur(e,()=>l(t,n));return gr(d)});return Y(s).pipe(Ns(),OC(i))}var Qc=class{constructor(t){this.segmentGroup=t||null}},Xd=class extends Error{constructor(t){super(),this.urlTree=t}};function Ss(e){return ao(new Qc(e))}function sF(e){return ao(new Vt(4e3,!1))}function aF(e){return ao(DC(!1,Cn.GuardRejected))}var Bv=class{constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return Y(i);if(r.numberOfChildren>1||!r.children[ft])return sF(t.redirectTo);r=r.children[ft]}}applyRedirectCommands(t,n,i){let r=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,i);if(n.startsWith("/"))throw new Xd(r);return r}applyRedirectCreateUrlTree(t,n,i,r){let s=this.createSegmentGroup(t,n.root,i,r);return new fr(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let i={};return Object.entries(t).forEach(([r,s])=>{if(typeof s=="string"&&s.startsWith(":")){let l=s.substring(1);i[r]=n[l]}else i[r]=s}),i}createSegmentGroup(t,n,i,r){let s=this.createSegments(t,n.segments,i,r),c={};return Object.entries(n.children).forEach(([l,d])=>{c[l]=this.createSegmentGroup(t,d,i,r)}),new St(s,c)}createSegments(t,n,i,r){return n.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,i))}findPosParam(t,n,i){let r=i[n.path.substring(1)];if(!r)throw new Vt(4001,!1);return r}findOrReturn(t,n){let i=0;for(let r of n){if(r.path===t.path)return n.splice(i),r;i++}return t}},zv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function cF(e,t,n,i,r){let s=Xv(e,t,n);return s.matched?(i=FL(t,i),oF(i,t,n,r).pipe(pt(c=>c===!0?s:U({},zv)))):Y(s)}function Xv(e,t,n){if(t.path==="**")return uF(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?U({},zv):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let r=(t.matcher||oL)(n,e,t);if(!r)return U({},zv);let s={};Object.entries(r.posParams??{}).forEach(([l,d])=>{s[l]=d.path});let c=r.consumed.length>0?U(U({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:c,positionalParamSegments:r.posParams??{}}}function uF(e){return{matched:!0,parameters:e.length>0?dC(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function aC(e,t,n,i){return n.length>0&&hF(e,n,i)?{segmentGroup:new St(t,dF(i,new St(n,e.children))),slicedSegments:[]}:n.length===0&&fF(e,n,i)?{segmentGroup:new St(e.segments,lF(e,n,i,e.children)),slicedSegments:n}:{segmentGroup:new St(e.segments,e.children),slicedSegments:n}}function lF(e,t,n,i){let r={};for(let s of n)if(th(e,t,s)&&!i[_i(s)]){let c=new St([],{});r[_i(s)]=c}return U(U({},i),r)}function dF(e,t){let n={};n[ft]=t;for(let i of e)if(i.path===""&&_i(i)!==ft){let r=new St([],{});n[_i(i)]=r}return n}function hF(e,t,n){return n.some(i=>th(e,t,i)&&_i(i)!==ft)}function fF(e,t,n){return n.some(i=>th(e,t,i))}function th(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function pF(e,t,n,i){return _i(e)!==i&&(i===ft||!th(t,n,e))?!1:Xv(t,e,n).matched}function mF(e,t,n){return t.length===0&&!e.children[n]}var qv=class{};function gF(e,t,n,i,r,s,c="emptyOnly"){return new Hv(e,t,n,i,r,c,s).recognize()}var vF=31,Hv=class{constructor(t,n,i,r,s,c,l){this.injector=t,this.configLoader=n,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=c,this.urlSerializer=l,this.applyRedirects=new Bv(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new Vt(4002,`'${t.segmentGroup}'`)}recognize(){let t=aC(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(pt(n=>{let i=new Yc([],Object.freeze({}),Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,{},ft,this.rootComponentType,null,{}),r=new xn(i,n),s=new Kd("",r),c=xL(i,[],this.urlTree.queryParams,this.urlTree.fragment);return c.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(c),this.inheritParamsAndData(s._root,null),{state:s,tree:c}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t,ft).pipe(or(i=>{if(i instanceof Xd)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Qc?this.noMatchError(i):i}))}inheritParamsAndData(t,n){let i=t.value,r=Gv(i,n,this.paramsInheritanceStrategy);i.params=Object.freeze(r.params),i.data=Object.freeze(r.data),t.children.forEach(s=>this.inheritParamsAndData(s,i))}processSegmentGroup(t,n,i,r){return i.segments.length===0&&i.hasChildren()?this.processChildren(t,n,i):this.processSegment(t,n,i,i.segments,r,!0).pipe(pt(s=>s instanceof xn?[s]:[]))}processChildren(t,n,i){let r=[];for(let s of Object.keys(i.children))s==="primary"?r.unshift(s):r.push(s);return nn(r).pipe(sr(s=>{let c=i.children[s],l=jL(n,s);return this.processSegmentGroup(t,l,c,s)}),JE((s,c)=>(s.push(...c),s)),Bg(null),ZE(),yn(s=>{if(s===null)return Ss(i);let c=PC(s);return bF(c),Y(c)}))}processSegment(t,n,i,r,s,c){return nn(n).pipe(sr(l=>this.processSegmentAgainstRoute(l._injector??t,n,l,i,r,s,c).pipe(or(d=>{if(d instanceof Qc)return Y(null);throw d}))),ar(l=>!!l),or(l=>{if(kC(l))return mF(i,r,s)?Y(new qv):Ss(i);throw l}))}processSegmentAgainstRoute(t,n,i,r,s,c,l){return pF(i,r,s,c)?i.redirectTo===void 0?this.matchSegmentAgainstRoute(t,r,i,s,c):this.allowRedirects&&l?this.expandSegmentAgainstRouteUsingRedirect(t,r,n,i,s,c):Ss(r):Ss(r)}expandSegmentAgainstRouteUsingRedirect(t,n,i,r,s,c){let{matched:l,consumedSegments:d,positionalParamSegments:f,remainingSegments:m}=Xv(n,r,s);if(!l)return Ss(n);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>vF&&(this.allowRedirects=!1));let v=this.applyRedirects.applyRedirectCommands(d,r.redirectTo,f);return this.applyRedirects.lineralizeSegments(r,v).pipe(yn(y=>this.processSegment(t,i,n,y.concat(m),c,!1)))}matchSegmentAgainstRoute(t,n,i,r,s){let c=cF(n,i,r,t,this.urlSerializer);return i.path==="**"&&(n.children={}),c.pipe(_n(l=>l.matched?(t=i._injector??t,this.getChildConfig(t,i,r).pipe(_n(({routes:d})=>{let f=i._loadedInjector??t,{consumedSegments:m,remainingSegments:v,parameters:y}=l,_=new Yc(m,y,Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,_F(i),_i(i),i.component??i._loadedComponent??null,i,wF(i)),{segmentGroup:I,slicedSegments:E}=aC(n,m,v,d);if(E.length===0&&I.hasChildren())return this.processChildren(f,d,I).pipe(pt(k=>k===null?null:new xn(_,k)));if(d.length===0&&E.length===0)return Y(new xn(_,[]));let C=_i(i)===s;return this.processSegment(f,d,I,E,C?ft:s,!0).pipe(pt(k=>new xn(_,k instanceof xn?[k]:[])))}))):Ss(n)))}getChildConfig(t,n,i){return n.children?Y({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?Y({routes:n._loadedRoutes,injector:n._loadedInjector}):rF(t,n,i,this.urlSerializer).pipe(yn(r=>r?this.configLoader.loadChildren(t,n).pipe(Yt(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):aF(n))):Y({routes:[],injector:t})}};function bF(e){e.sort((t,n)=>t.value.outlet===ft?-1:n.value.outlet===ft?1:t.value.outlet.localeCompare(n.value.outlet))}function yF(e){let t=e.value.routeConfig;return t&&t.path===""}function PC(e){let t=[],n=new Set;for(let i of e){if(!yF(i)){t.push(i);continue}let r=t.find(s=>i.value.routeConfig===s.value.routeConfig);r!==void 0?(r.children.push(...i.children),n.add(r)):t.push(i)}for(let i of n){let r=PC(i.children);t.push(new xn(i.value,r))}return t.filter(i=>!n.has(i))}function _F(e){return e.data||{}}function wF(e){return e.resolve||{}}function IF(e,t,n,i,r,s){return yn(c=>gF(e,t,n,i,c.extractedUrl,r,s).pipe(pt(({state:l,tree:d})=>ie(U({},c),{targetSnapshot:l,urlAfterRedirects:d}))))}function EF(e,t){return yn(n=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return Y(n);let s=new Set(r.map(d=>d.route)),c=new Set;for(let d of s)if(!c.has(d))for(let f of MC(d))c.add(f);let l=0;return nn(c).pipe(sr(d=>s.has(d)?xF(d,i,e,t):(d.data=Gv(d,d.parent,e).resolve,Y(void 0))),Yt(()=>l++),qg(1),yn(d=>l===c.size?Y(n):rr))})}function MC(e){let t=e.children.map(n=>MC(n)).flat();return[e,...t]}function xF(e,t,n,i){let r=e.routeConfig,s=e._resolve;return r?.title!==void 0&&!TC(r)&&(s[Zc]=r.title),CF(s,e,t,i).pipe(pt(c=>(e._resolvedData=c,e.data=Gv(e,e.parent,n).resolve,null)))}function CF(e,t,n,i){let r=wv(e);if(r.length===0)return Y({});let s={};return nn(r).pipe(yn(c=>TF(e[c],t,n,i).pipe(ar(),Yt(l=>{s[c]=l}))),qg(1),QE(s),or(c=>kC(c)?rr:ao(c)))}function TF(e,t,n,i){let r=eu(t)??i,s=Ls(e,r),c=s.resolve?s.resolve(t,n):ur(r,()=>s(t,n));return gr(c)}function yv(e){return _n(t=>{let n=e(t);return n?nn(n).pipe(pt(()=>t)):Y(t)})}var NC=(()=>{let t=class t{buildTitle(i){let r,s=i.root;for(;s!==void 0;)r=this.getResolvedTitleForRoute(s)??r,s=s.children.find(c=>c.outlet===ft);return r}getResolvedTitleForRoute(i){return i.data[Zc]}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=W({token:t,factory:()=>q(SF),providedIn:"root"});let e=t;return e})(),SF=(()=>{let t=class t extends NC{constructor(i){super(),this.title=i}updateTitle(i){let r=this.buildTitle(i);r!==void 0&&this.title.setTitle(r)}};t.\u0275fac=function(r){return new(r||t)(R(eC))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),iu=new dt("",{providedIn:"root",factory:()=>({})}),Qd=new dt(""),Qv=(()=>{let t=class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=q(Ad)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return Y(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let r=gr(i.loadComponent()).pipe(pt(LC),Yt(c=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=c}),uo(()=>{this.componentLoaders.delete(i)})),s=new Lg(r,()=>new Tt).pipe(Ng());return this.componentLoaders.set(i,s),s}loadChildren(i,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Y({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let c=AF(r,this.compiler,i,this.onLoadEndListener).pipe(uo(()=>{this.childrenLoaders.delete(r)})),l=new Lg(c,()=>new Tt).pipe(Ng());return this.childrenLoaders.set(r,l),l}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function AF(e,t,n,i){return gr(e.loadChildren()).pipe(pt(LC),yn(r=>r instanceof gx||Array.isArray(r)?Y(r):nn(t.compileModuleAsync(r))),pt(r=>{i&&i(e);let s,c,l=!1;return Array.isArray(r)?(c=r,l=!0):(s=r.create(n).injector,c=s.get(Qd,[],{optional:!0,self:!0}).flat()),{routes:c.map(Yv),injector:s}}))}function DF(e){return e&&typeof e=="object"&&"default"in e}function LC(e){return DF(e)?e.default:e}var Zv=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=W({token:t,factory:()=>q(RF),providedIn:"root"});let e=t;return e})(),RF=(()=>{let t=class t{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,r){return i}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),FC=new dt(""),jC=new dt("");function kF(e,t,n){let i=e.get(jC),r=e.get(ct);return e.get(ht).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,Promise.resolve();let s,c=new Promise(f=>{s=f}),l=r.startViewTransition(()=>(s(),OF(e))),{onViewTransitionCreated:d}=i;return d&&ur(e,()=>d({transition:l,from:t,to:n})),c})}function OF(e){return new Promise(t=>{mx(t,{injector:e})})}var Jv=(()=>{let t=class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Tt,this.transitionAbortSubject=new Tt,this.configLoader=q(Qv),this.environmentInjector=q(bs),this.urlSerializer=q(Jc),this.rootContexts=q(tu),this.location=q(Fi),this.inputBindingEnabled=q(Jd,{optional:!0})!==null,this.titleStrategy=q(NC),this.options=q(iu,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=q(Zv),this.createViewTransition=q(FC,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Y(void 0),this.rootComponentType=null;let i=s=>this.events.next(new Dv(s)),r=s=>this.events.next(new Rv(s));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=i}complete(){this.transitions?.complete()}handleNavigationRequest(i){let r=++this.navigationId;this.transitions?.next(ie(U(U({},this.transitions.value),i),{id:r}))}setupNavigations(i,r,s){return this.transitions=new en({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:zc,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(fe(c=>c.id!==0),pt(c=>ie(U({},c),{extractedUrl:this.urlHandlingStrategy.extract(c.rawUrl)})),_n(c=>{let l=!1,d=!1;return Y(c).pipe(_n(f=>{if(this.navigationId>c.id)return this.cancelNavigationTransition(c,"",Cn.SupersededByNewNavigation),rr;this.currentTransition=c,this.currentNavigation={id:f.id,initialUrl:f.rawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?ie(U({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let m=!i.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),v=f.extras.onSameUrlNavigation??i.onSameUrlNavigation;if(!m&&v!=="reload"){let y="";return this.events.next(new mr(f.id,this.urlSerializer.serialize(f.rawUrl),y,qd.IgnoredSameUrlNavigation)),f.resolve(null),rr}if(this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return Y(f).pipe(_n(y=>{let _=this.transitions?.getValue();return this.events.next(new Ps(y.id,this.urlSerializer.serialize(y.extractedUrl),y.source,y.restoredState)),_!==this.transitions?.getValue()?rr:Promise.resolve(y)}),IF(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,this.paramsInheritanceStrategy),Yt(y=>{c.targetSnapshot=y.targetSnapshot,c.urlAfterRedirects=y.urlAfterRedirects,this.currentNavigation=ie(U({},this.currentNavigation),{finalUrl:y.urlAfterRedirects});let _=new Hd(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(_)}));if(m&&this.urlHandlingStrategy.shouldProcessUrl(f.currentRawUrl)){let{id:y,extractedUrl:_,source:I,restoredState:E,extras:C}=f,k=new Ps(y,this.urlSerializer.serialize(_),I,E);this.events.next(k);let L=xC(this.rootComponentType).snapshot;return this.currentTransition=c=ie(U({},f),{targetSnapshot:L,urlAfterRedirects:_,extras:ie(U({},C),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=_,Y(c)}else{let y="";return this.events.next(new mr(f.id,this.urlSerializer.serialize(f.extractedUrl),y,qd.IgnoredByUrlHandlingStrategy)),f.resolve(null),rr}}),Yt(f=>{let m=new Cv(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(m)}),pt(f=>(this.currentTransition=c=ie(U({},f),{guards:VL(f.targetSnapshot,f.currentSnapshot,this.rootContexts)}),c)),XL(this.environmentInjector,f=>this.events.next(f)),Yt(f=>{if(c.guardsResult=f.guardsResult,Os(f.guardsResult))throw AC(this.urlSerializer,f.guardsResult);let m=new Tv(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.events.next(m)}),fe(f=>f.guardsResult?!0:(this.cancelNavigationTransition(f,"",Cn.GuardRejected),!1)),yv(f=>{if(f.guards.canActivateChecks.length)return Y(f).pipe(Yt(m=>{let v=new Sv(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(v)}),_n(m=>{let v=!1;return Y(m).pipe(EF(this.paramsInheritanceStrategy,this.environmentInjector),Yt({next:()=>v=!0,complete:()=>{v||this.cancelNavigationTransition(m,"",Cn.NoDataFromResolver)}}))}),Yt(m=>{let v=new Av(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(v)}))}),yv(f=>{let m=v=>{let y=[];v.routeConfig?.loadComponent&&!v.routeConfig._loadedComponent&&y.push(this.configLoader.loadComponent(v.routeConfig).pipe(Yt(_=>{v.component=_}),pt(()=>{})));for(let _ of v.children)y.push(...m(_));return y};return vs(m(f.targetSnapshot.root)).pipe(Bg(null),ve(1))}),yv(()=>this.afterPreactivation()),_n(()=>{let{currentSnapshot:f,targetSnapshot:m}=c,v=this.createViewTransition?.(this.environmentInjector,f.root,m.root);return v?nn(v).pipe(pt(()=>c)):Y(c)}),pt(f=>{let m=OL(i.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return this.currentTransition=c=ie(U({},f),{targetRouterState:m}),this.currentNavigation.targetRouterState=m,c}),Yt(()=>{this.events.next(new $c)}),UL(this.rootContexts,i.routeReuseStrategy,f=>this.events.next(f),this.inputBindingEnabled),ve(1),Yt({next:f=>{l=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ji(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects))),this.titleStrategy?.updateTitle(f.targetRouterState.snapshot),f.resolve(!0)},complete:()=>{l=!0}}),Ni(this.transitionAbortSubject.pipe(Yt(f=>{throw f}))),uo(()=>{!l&&!d&&this.cancelNavigationTransition(c,"",Cn.SupersededByNewNavigation),this.currentTransition?.id===c.id&&(this.currentNavigation=null,this.currentTransition=null)}),or(f=>{if(d=!0,RC(f))this.events.next(new pr(c.id,this.urlSerializer.serialize(c.extractedUrl),f.message,f.cancellationCode)),NL(f)?this.events.next(new Kc(f.url)):c.resolve(!1);else{this.events.next(new Gc(c.id,this.urlSerializer.serialize(c.extractedUrl),f,c.targetSnapshot??void 0));try{c.resolve(i.errorHandler(f))}catch(m){this.options.resolveNavigationPromiseOnError?c.resolve(!1):c.reject(m)}}return rr}))}))}cancelNavigationTransition(i,r,s){let c=new pr(i.id,this.urlSerializer.serialize(i.extractedUrl),r,s);this.events.next(c),i.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function PF(e){return e!==zc}var MF=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=W({token:t,factory:()=>q(NF),providedIn:"root"});let e=t;return e})(),Wv=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},NF=(()=>{let t=class t extends Wv{};t.\u0275fac=(()=>{let i;return function(s){return(i||(i=Tc(t)))(s||t)}})(),t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),UC=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=W({token:t,factory:()=>q(LF),providedIn:"root"});let e=t;return e})(),LF=(()=>{let t=class t extends UC{constructor(){super(...arguments),this.location=q(Fi),this.urlSerializer=q(Jc),this.options=q(iu,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=q(Zv),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new fr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=xC(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(i){return this.location.subscribe(r=>{r.type==="popstate"&&i(r.url,r.state)})}handleRouterEvent(i,r){if(i instanceof Ps)this.stateMemento=this.createStateMemento();else if(i instanceof mr)this.rawUrlTree=r.initialUrl;else if(i instanceof Hd){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(s,r)}}else i instanceof $c?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):i instanceof pr&&(i.code===Cn.GuardRejected||i.code===Cn.NoDataFromResolver)?this.restoreHistory(r):i instanceof Gc?this.restoreHistory(r,!0):i instanceof ji&&(this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId)}setBrowserUrl(i,r){let s=this.urlSerializer.serialize(i);if(this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl){let c=this.browserPageId,l=U(U({},r.extras.state),this.generateNgRouterState(r.id,c));this.location.replaceState(s,"",l)}else{let c=U(U({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(s,"",c)}}restoreHistory(i,r=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,c=this.currentPageId-s;c!==0?this.location.historyGo(c):this.currentUrlTree===i.finalUrl&&c===0&&(this.resetState(i),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,r){return this.canceledNavigationResolution==="computed"?{navigationId:i,\u0275routerPageId:r}:{navigationId:i}}};t.\u0275fac=(()=>{let i;return function(s){return(i||(i=Tc(t)))(s||t)}})(),t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Vc=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(Vc||{});function VC(e,t){e.events.pipe(fe(n=>n instanceof ji||n instanceof pr||n instanceof Gc||n instanceof mr),pt(n=>n instanceof ji||n instanceof mr?Vc.COMPLETE:(n instanceof pr?n.code===Cn.Redirect||n.code===Cn.SupersededByNewNavigation:!1)?Vc.REDIRECTING:Vc.FAILED),fe(n=>n!==Vc.REDIRECTING),ve(1)).subscribe(()=>{t()})}function FF(e){throw e}var jF={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},UF={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},te=(()=>{let t=class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=q(Cd),this.stateManager=q(UC),this.options=q(iu,{optional:!0})||{},this.pendingTasks=q(vx),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=q(Jv),this.urlSerializer=q(Jc),this.location=q(Fi),this.urlHandlingStrategy=q(Zv),this._events=new Tt,this.errorHandler=this.options.errorHandler||FF,this.navigated=!1,this.routeReuseStrategy=q(MF),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=q(Qd,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!q(Jd,{optional:!0}),this.eventsSubscription=new Pi,this.isNgZoneEnabled=q(ht)instanceof ht&&ht.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:i=>{this.console.warn(i)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let i=this.navigationTransitions.events.subscribe(r=>{try{let s=this.navigationTransitions.currentTransition,c=this.navigationTransitions.currentNavigation;if(s!==null&&c!==null){if(this.stateManager.handleRouterEvent(r,c),r instanceof pr&&r.code!==Cn.Redirect&&r.code!==Cn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof ji)this.navigated=!0;else if(r instanceof Kc){let l=this.urlHandlingStrategy.merge(r.url,s.currentRawUrl),d={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||PF(s.source)};this.scheduleNavigation(l,zc,null,d,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}BF(r)&&this._events.next(r)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(i)}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),zc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((i,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(i,"popstate",r)},0)})}navigateToSyncWithBrowser(i,r,s){let c={replaceUrl:!0},l=s?.navigationId?s:null;if(s){let f=U({},s);delete f.navigationId,delete f.\u0275routerPageId,Object.keys(f).length!==0&&(c.state=f)}let d=this.parseUrl(i);this.scheduleNavigation(d,r,l,c)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(Yv),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(i,r={}){let{relativeTo:s,queryParams:c,fragment:l,queryParamsHandling:d,preserveFragment:f}=r,m=f?this.currentUrlTree.fragment:l,v=null;switch(d){case"merge":v=U(U({},this.currentUrlTree.queryParams),c);break;case"preserve":v=this.currentUrlTree.queryParams;break;default:v=c||null}v!==null&&(v=this.removeEmptyProps(v));let y;try{let _=s?s.snapshot:this.routerState.snapshot.root;y=_C(_)}catch{(typeof i[0]!="string"||!i[0].startsWith("/"))&&(i=[]),y=this.currentUrlTree.root}return wC(y,i,v,m??null)}navigateByUrl(i,r={skipLocationChange:!1}){let s=Os(i)?i:this.parseUrl(i),c=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(c,zc,null,r)}navigate(i,r={skipLocationChange:!1}){return VF(i),this.navigateByUrl(this.createUrlTree(i,r),r)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){try{return this.urlSerializer.parse(i)}catch{return this.urlSerializer.parse("/")}}isActive(i,r){let s;if(r===!0?s=U({},jF):r===!1?s=U({},UF):s=r,Os(i))return nC(this.currentUrlTree,i,s);let c=this.parseUrl(i);return nC(this.currentUrlTree,c,s)}removeEmptyProps(i){return Object.entries(i).reduce((r,[s,c])=>(c!=null&&(r[s]=c),r),{})}scheduleNavigation(i,r,s,c,l){if(this.disposed)return Promise.resolve(!1);let d,f,m;l?(d=l.resolve,f=l.reject,m=l.promise):m=new Promise((y,_)=>{d=y,f=_});let v=this.pendingTasks.add();return VC(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(v))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:i,extras:c,resolve:d,reject:f,promise:m,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),m.catch(y=>Promise.reject(y))}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function VF(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new Vt(4008,!1)}function BF(e){return!(e instanceof $c)&&!(e instanceof Kc)}var Zd=class{};var zF=(()=>{let t=class t{constructor(i,r,s,c,l){this.router=i,this.injector=s,this.preloadingStrategy=c,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(fe(i=>i instanceof ji),sr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,r){let s=[];for(let c of r){c.providers&&!c._injector&&(c._injector=$g(c.providers,i,`Route: ${c.path}`));let l=c._injector??i,d=c._loadedInjector??l;(c.loadChildren&&!c._loadedRoutes&&c.canLoad===void 0||c.loadComponent&&!c._loadedComponent)&&s.push(this.preloadConfig(l,c)),(c.children||c._loadedRoutes)&&s.push(this.processRoutes(d,c.children??c._loadedRoutes))}return nn(s).pipe(jg())}preloadConfig(i,r){return this.preloadingStrategy.preload(r,()=>{let s;r.loadChildren&&r.canLoad===void 0?s=this.loader.loadChildren(i,r):s=Y(null);let c=s.pipe(yn(l=>l===null?Y(void 0):(r._loadedRoutes=l.routes,r._loadedInjector=l.injector,this.processRoutes(l.injector??i,l.routes))));if(r.loadComponent&&!r._loadedComponent){let l=this.loader.loadComponent(r);return nn([c,l]).pipe(jg())}else return c})}};t.\u0275fac=function(r){return new(r||t)(R(te),R(Ad),R(bs),R(Zd),R(Qv))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),BC=new dt(""),qF=(()=>{let t=class t{constructor(i,r,s,c,l={}){this.urlSerializer=i,this.transitions=r,this.viewportScroller=s,this.zone=c,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration||="disabled",l.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof Ps?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof ji?(this.lastId=i.id,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.urlAfterRedirects).fragment)):i instanceof mr&&i.code===qd.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof Wd&&(i.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(i.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Wd(i,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};t.\u0275fac=function(r){Is()},t.\u0275prov=W({token:t,factory:t.\u0275fac});let e=t;return e})();function HF(e){return e.routerState.root}function ru(e,t){return{\u0275kind:e,\u0275providers:t}}function WF(){let e=q(sn);return t=>{let n=e.get(Pc);if(t!==n.components[0])return;let i=e.get(te),r=e.get(zC);e.get(tb)===1&&i.initialNavigation(),e.get(qC,null,Hg.Optional)?.setUpPreloading(),e.get(BC,null,Hg.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var zC=new dt("",{factory:()=>new Tt}),tb=new dt("",{providedIn:"root",factory:()=>1});function GF(){return ru(2,[{provide:tb,useValue:0},{provide:Qg,multi:!0,deps:[sn],useFactory:t=>{let n=t.get(Rx,Promise.resolve());return()=>n.then(()=>new Promise(i=>{let r=t.get(te),s=t.get(zC);VC(r,()=>{i(!0)}),t.get(Jv).afterPreactivation=()=>(i(!0),s.closed?Y(void 0):s),r.initialNavigation()}))}}])}function $F(){return ru(3,[{provide:Qg,multi:!0,useFactory:()=>{let t=q(te);return()=>{t.setUpLocationChangeListener()}}},{provide:tb,useValue:2}])}var qC=new dt("");function KF(e){return ru(0,[{provide:qC,useExisting:zF},{provide:Zd,useExisting:e}])}function YF(){return ru(8,[sC,{provide:Jd,useExisting:sC}])}function XF(e){let t=[{provide:FC,useValue:kF},{provide:jC,useValue:U({skipNextTransition:!!e?.skipInitialTransition},e)}];return ru(9,t)}var cC=new dt("ROUTER_FORROOT_GUARD"),QF=[Fi,{provide:Jc,useClass:Hc},te,tu,{provide:Ms,useFactory:HF,deps:[te]},Qv,[]],eb=(()=>{let t=class t{constructor(i){}static forRoot(i,r){return{ngModule:t,providers:[QF,[],{provide:Qd,multi:!0,useValue:i},{provide:cC,useFactory:e2,deps:[[te,new _d,new Wg]]},{provide:iu,useValue:r||{}},r?.useHash?JF():t2(),ZF(),r?.preloadingStrategy?KF(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?n2(r):[],r?.bindToComponentInputs?YF().\u0275providers:[],r?.enableViewTransitions?XF().\u0275providers:[],i2()]}}static forChild(i){return{ngModule:t,providers:[{provide:Qd,multi:!0,useValue:i}]}}};t.\u0275fac=function(r){return new(r||t)(R(cC,8))},t.\u0275mod=gt({type:t}),t.\u0275inj=mt({});let e=t;return e})();function ZF(){return{provide:BC,useFactory:()=>{let e=q(Fx),t=q(ht),n=q(iu),i=q(Jv),r=q(Jc);return n.scrollOffset&&e.setOffset(n.scrollOffset),new qF(r,i,e,t,n)}}}function JF(){return{provide:Zg,useClass:Ox}}function t2(){return{provide:Zg,useClass:kx}}function e2(e){return"guarded"}function n2(e){return[e.initialNavigation==="disabled"?$F().\u0275providers:[],e.initialNavigation==="enabledBlocking"?GF().\u0275providers:[]]}var uC=new dt("");function i2(){return[{provide:uC,useFactory:WF},{provide:Ex,multi:!0,useExisting:uC}]}var dn=(hT(),md(dT)),pe=class{static init(t){return dn.default.initializeApp(t),[]}static getFirestore(){return dn.default.firestore()}static _getFirestore(){return dn.default.firestore}static getAuth(){return dn.default.auth()}static getStorage(){return dn.default.storage()}static getFirestoreTimestamp(){return dn.default.firestore.Timestamp.now()}};pT();var Pe=class{constructor(){this.auth=pe.getAuth()}createAccountWith(t){return new Promise((n,i)=>{this.auth.createUserWithEmailAndPassword(t.email,t.password).then(r=>{try{t.onComplete(r)}catch{}n(r)}).catch(r=>{try{t.onFail(r)}catch{}i(r)})})}signInAnonymously(t){return new Promise((n,i)=>{this.auth.signInAnonymously().then(r=>{try{t.onComplete(r)}catch{}n(r)}).catch(r=>{try{t.onFail(r)}catch{}i(r)})})}signInWith(t){return new Promise((n,i)=>{t.provider?this.auth.signInWithPopup(this.getProvider(t.provider)).then(r=>{try{t.onComplete(r)}catch{}n(r)}).catch(r=>{try{t.onFail(r)}catch{}i(r)}):this.auth.signInWithEmailAndPassword(t.email,t.password).then(r=>{try{t.onComplete(r)}catch{}n(r)}).catch(r=>{try{t.onFail(r)}catch{}i(r)})})}getProvider(t){switch(t.toLowerCase()){case"google":return new dn.default.auth.GoogleAuthProvider;case"apple":return new dn.default.auth.OAuthProvider("apple.com");case"facebook":return new dn.default.auth.FacebookAuthProvider;case"yahoo":return new dn.default.auth.OAuthProvider("yahoo.com");case"github":return new dn.default.auth.GithubAuthProvider;case"twitter":return new dn.default.auth.TwitterAuthProvider;case"microsoft":return new dn.default.auth.OAuthProvider("microsoft.com")}}signOut(t){return new Promise((n,i)=>{t?this.auth.signOut().then(()=>{try{t.onComplete()}catch{}n()}).catch(()=>{try{t.onFail()}catch{}i(new Error("Failed to signout."))}):this.auth.signOut()})}listenToSignInStateChanges(t){this.auth.onAuthStateChanged(n=>{t(n)})}sendVerificationEmail(){try{this.validateIsSignedIn(),this.auth.currentUser.sendEmailVerification()}catch(t){console.error(`${t} User must be signed in to use the sendVerificaitonEmail() function.`)}}sendPasswordResetEmail(t){t.onComplete?this.auth.sendPasswordResetEmail(t.email).then(()=>t.onComplete(`Instructions to reset password was sent to ${t.email}.`)).catch(()=>t.onComplete("Failed to send password reset email.")):this.auth.sendPasswordResetEmail(t.email)}isEmailVerified(){try{return this.validateIsSignedIn(),this.auth.currentUser.emailVerified}catch(t){console.error(`User must be signed in to use the isEmailVerified() function. 
${t}`)}return!1}isSignedIn(){return this.auth.currentUser!=null||this.auth.currentUser!=null}validateIsSignedIn(){if(!this.isSignedIn())throw new Error("No user was signed in.")}getAuth(){return this.auth}checkSignInState(t){let n=this.getAuth().currentUser;try{t.whenChanged(n)}catch{}if(this.isSignedIn()){try{t.whenSignedIn(n)}catch{}if(this.isEmailVerified())try{t.whenSignedInAndEmailVerified(n)}catch{}else try{t.whenSignedInAndEmailNotVerified(n)}catch{}}else try{t.whenSignedOut(n)}catch{}}};var mT=(()=>{let t=class t{constructor(i){this.router=i,this.firebasetsAuth=new Pe}ngOnInit(){this.firebasetsAuth.getAuth().onAuthStateChanged(i=>{i?this.router.navigate(["feed"]):this.router.navigate([""])})}toLoginSubmit(i,r){let s=i.value,c=r.value;this.firebasetsAuth.signInWith({email:s,password:c,onComplete:l=>{this.router.navigate(["feed"])},onFail:l=>{alert("Email and password not match!")}})}toSignup(){this.router.navigate(["signup"])}toReset(){this.router.navigate(["reset"])}};t.\u0275fac=function(r){return new(r||t)(Z(te))},t.\u0275cmp=Et({type:t,selectors:[["app-login"]],decls:45,vars:0,consts:[["loginEmail",""],["loginPassword",""],[1,"session"],[1,"left"],["enable-background","new 0 0 300 302.5","version","1.1","viewBox","0 0 300 302.5",0,"xml","space","preserve","xmlns","http://www.w3.org/2000/svg"],["type","text/css"],["d","m126 302.2c-2.3 0.7-5.7 0.2-7.7-1.2l-105-71.6c-2-1.3-3.7-4.4-3.9-6.7l-9.4-126.7c-0.2-2.4 1.1-5.6 2.8-7.2l93.2-86.4c1.7-1.6 5.1-2.6 7.4-2.3l125.6 18.9c2.3 0.4 5.2 2.3 6.4 4.4l63.5 110.1c1.2 2 1.4 5.5 0.6 7.7l-46.4 118.3c-0.9 2.2-3.4 4.6-5.7 5.3l-121.4 37.4zm63.4-102.7c2.3-0.7 4.8-3.1 5.7-5.3l19.9-50.8c0.9-2.2 0.6-5.7-0.6-7.7l-27.3-47.3c-1.2-2-4.1-4-6.4-4.4l-53.9-8c-2.3-0.4-5.7 0.7-7.4 2.3l-40 37.1c-1.7 1.6-3 4.9-2.8 7.2l4.1 54.4c0.2 2.4 1.9 5.4 3.9 6.7l45.1 30.8c2 1.3 5.4 1.9 7.7 1.2l52-16.2z",1,"st01"],["action","","autocomplete","off",1,"log-in"],[1,"floating-label"],["placeholder","Email","type","email","name","email","id","email","autocomplete","off","required",""],["for","email"],[1,"icon"],["enable-background","new 0 0 100 100","version","1.1","viewBox","0 0 100 100",0,"xml","space","preserve","xmlns","http://www.w3.org/2000/svg"],["transform","translate(0 -952.36)"],["d","m17.5 977c-1.3 0-2.4 1.1-2.4 2.4v45.9c0 1.3 1.1 2.4 2.4 2.4h64.9c1.3 0 2.4-1.1 2.4-2.4v-45.9c0-1.3-1.1-2.4-2.4-2.4h-64.9zm2.4 4.8h60.2v1.2l-30.1 22-30.1-22v-1.2zm0 7l28.7 21c0.8 0.6 2 0.6 2.8 0l28.7-21v34.1h-60.2v-34.1z"],["width","100","height","100",1,"st0"],["placeholder","Password","type","password","name","password","id","password","autocomplete","off","required",""],["for","password"],["enable-background","new 0 0 24 24","version","1.1","viewBox","0 0 24 24",0,"xml","space","preserve","xmlns","http://www.w3.org/2000/svg"],["width","24","height","24",1,"st0"],["d","M19,21H5V9h14V21z M6,20h12V10H6V20z",1,"st1"],["d","M16.5,10h-1V7c0-1.9-1.6-3.5-3.5-3.5S8.5,5.1,8.5,7v3h-1V7c0-2.5,2-4.5,4.5-4.5s4.5,2,4.5,4.5V10z",1,"st1"],["d","m12 16.5c-0.8 0-1.5-0.7-1.5-1.5s0.7-1.5 1.5-1.5 1.5 0.7 1.5 1.5-0.7 1.5-1.5 1.5zm0-2c-0.3 0-0.5 0.2-0.5 0.5s0.2 0.5 0.5 0.5 0.5-0.2 0.5-0.5-0.2-0.5-0.5-0.5z",1,"st1"],["type","submit","onClick","return false;",3,"click"],["target","_blank",1,"discrete",2,"margin-bottom","-35px",3,"click"],["target","_blank",1,"discrete",3,"click"]],template:function(r,s){if(r&1){let c=dr();N(0,"body")(1,"div",2)(2,"div",3),rn(),N(3,"svg",4)(4,"style",5),nt(5," .st01 { fill: #fff; } "),V(),rt(6,"path",6),V()(),on(),N(7,"form",7)(8,"h4"),nt(9,"Login to "),N(10,"span"),nt(11,"1Thing."),V()(),N(12,"p"),nt(13,"Welcome back! Log in to your account to view feed today."),V(),N(14,"div",8),rt(15,"input",9,0),N(17,"label",10),nt(18,"Email:"),V(),N(19,"div",11),rn(),N(20,"svg",12)(21,"style",5),nt(22," .st0 { fill: none; } "),V(),N(23,"g",13),rt(24,"path",14),V(),rt(25,"rect",15),V()()(),on(),N(26,"div",8),rt(27,"input",16,1),N(29,"label",17),nt(30,"Password:"),V(),N(31,"div",11),rn(),N(32,"svg",18)(33,"style",5),nt(34," .st0 { fill: none; } .st1 { fill: #010101; } "),V(),rt(35,"rect",19)(36,"path",20)(37,"path",21)(38,"path",22),V()()(),on(),N(39,"button",23),be("click",function(){wn(c);let d=ln(16),f=ln(28);return In(s.toLoginSubmit(d,f))}),nt(40,"Log in"),V(),N(41,"a",24),be("click",function(){return wn(c),In(s.toSignup())}),nt(42,"Create an account"),V(),N(43,"a",25),be("click",function(){return wn(c),In(s.toReset())}),nt(44,"Reset Password"),V()()()()}},styles:[".all[_ngcontent-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,San Francisco,Helvetica,Arial,sans-serif;font-weight:300;margin:0}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100vh;width:100vw;margin:0;display:flex;align-items:flex-start;justify-content:flex-start;background:#f3f2f2}h4[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:#000;opacity:.85}label[_ngcontent-%COMP%]{font-size:12.5px;color:#000;opacity:.8;font-weight:400}form[_ngcontent-%COMP%]{padding:40px 30px 20px;background:#fefefe;display:flex;flex-direction:column;align-items:flex-start;width:300px}form[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:20px;color:#00000080}form[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#000;font-weight:700}form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:155%;font-size:14px;color:#000;opacity:.65;font-weight:400;max-width:200px;margin-bottom:40px}a.discrete[_ngcontent-%COMP%]{color:#0006;font-size:14px;border-bottom:solid 1px rgba(0,0,0,0);padding-bottom:4px;margin-left:auto;font-weight:300;transition:all .3s ease;margin-top:40px;cursor:pointer}a.discrete[_ngcontent-%COMP%]:hover{border-bottom:solid 1px rgba(0,0,0,.2)}button[_ngcontent-%COMP%]{-webkit-appearance:none;width:auto;min-width:100px;border-radius:24px;text-align:center;padding:15px 40px;margin-top:5px;background-color:#b08bf8;color:#fff;font-size:14px;margin-left:auto;font-weight:500;box-shadow:0 2px 6px -1px #00000021;border:none;transition:all .3s ease;outline:0}button[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 2px 6px -1px #b69de6a6}button[_ngcontent-%COMP%]:hover:active{transform:scale(.99)}input[_ngcontent-%COMP%]{font-size:16px;padding:20px 0;height:56px;border:none;border-bottom:solid 1px rgba(0,0,0,.1);background:#fff;width:280px;box-sizing:border-box;transition:all .3s linear;color:#000;font-weight:400;-webkit-appearance:none}input[_ngcontent-%COMP%]:focus{border-bottom:solid 1px #b69de6;outline:0;box-shadow:0 2px 6px -8px #b69de673}.floating-label[_ngcontent-%COMP%]{position:relative;margin-bottom:10px;width:100%}.floating-label[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;top:calc(50% - 7px);left:0;opacity:0;transition:all .3s ease;padding-left:44px}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:calc(100% - 44px);margin-left:auto;display:flex}.floating-label[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{position:absolute;top:0;left:-13px;height:56px;width:44px;display:flex}.floating-label[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:30px;width:30px;margin:auto;opacity:.15;transition:all .3s ease}.floating-label[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{transition:all .3s ease}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:-moz-placeholder-shown){padding:28px 0 12px}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:-ms-input-placeholder){padding:28px 0 12px}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:placeholder-shown){padding:28px 0 12px}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:-moz-placeholder-shown) + label[_ngcontent-%COMP%]{transform:translateY(-10px);opacity:.7}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:-ms-input-placeholder) + label[_ngcontent-%COMP%]{transform:translateY(-10px);opacity:.7}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:placeholder-shown) + label[_ngcontent-%COMP%]{transform:translateY(-10px);opacity:.7}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid:not(:-moz-placeholder-shown) + label[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{opacity:1}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid:not(:-ms-input-placeholder) + label[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{opacity:1}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid:not(:placeholder-shown) + label[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{opacity:1}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid:not(:-moz-placeholder-shown) + label[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#b69de6}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid:not(:-ms-input-placeholder) + label[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#b69de6}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid:not(:placeholder-shown) + label[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#b69de6}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:valid):not(:focus) + label[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%]{-webkit-animation-name:_ngcontent-%COMP%_shake-shake;animation-name:_ngcontent-%COMP%_shake-shake;-webkit-animation-duration:.3s;animation-duration:.3s}@-webkit-keyframes _ngcontent-%COMP%_shake-shake{0%{transform:translate(-3px)}20%{transform:translate(3px)}40%{transform:translate(-3px)}60%{transform:translate(3px)}80%{transform:translate(-3px)}to{transform:translate(0)}}.session[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:auto;height:auto;margin:auto;background:#fff;border-radius:4px;box-shadow:0 2px 6px -1px #0000001f}.left[_ngcontent-%COMP%]{width:220px;height:auto;min-height:100%;position:relative;background-image:url(https://images.pexels.com/photos/114979/pexels-photo-114979.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940);background-size:cover;border-top-left-radius:4px;border-bottom-left-radius:4px}.left[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:40px;width:auto;margin:20px}"]});let e=t;return e})();LD();var zn=class{constructor(){this.listeners=new Map}appendArray(t){return pe._getFirestore().FieldValue.arrayUnion(t)}increment(t){return pe._getFirestore().FieldValue.increment(t)}genDocId(){return pe.getFirestore().collection("TEMP").doc().id}all(t){let n=pe.getFirestore().batch();for(let i of t.operations)i.getOperation(n);return new Promise((i,r)=>{n.commit().then(()=>{try{t.onComplete()}catch{}i()}).catch(s=>{try{t.onFail(s)}catch{}r(s)})})}create(t){return new Promise((n,i)=>{if(t.data==null||t.data==null)throw new Error("Error creating data. Data is null or undefined.");if(this.isCollectionPath(t.path)){let r=this.genCollectionReference(t.path).doc();r.set(t.data).then(()=>{try{t.onComplete(r.id)}catch{}n(r.id)}).catch(s=>{try{t.onFail(s)}catch{}i(s)})}else if(this.isDocumentPath(t.path)){let r=this.genDocumentReference(t.path);r.set(t.data).then(()=>{try{t.onComplete(r.id)}catch{}n(r.id)}).catch(s=>{try{t.onFail(s)}catch{}i(s)})}})}delete(t){return new Promise((n,i)=>{this.checkDocumentPathValidity(t.path),this.genDocumentReference(t.path).delete().then(()=>{try{t.onComplete()}catch{}n()}).catch(r=>{try{t.onFail(r)}catch{}i(r)})})}update(t){return new Promise((n,i)=>{this.checkDocumentPathValidity(t.path);let r=this.genDocumentReference(t.path);r.update(t.data).then(()=>{try{t.onComplete(r)}catch{}n(r)}).catch(s=>{try{t.onFail(s)}catch{}i(s)})})}getCollection(t){let n=this.genCollectionReference(t.path);return(t.where!=null||t.where!=null)&&t.where.length>0?new Promise((i,r)=>{let s,c=Array(t.where)[0];for(let l=0;l<c.length;l++)s==null?s=c[l].getQuery(n):s=c[l].concatQuery(s);s.get().then(l=>{try{t.onComplete(l)}catch{}i(l)}).catch(l=>{try{t.onFail(l)}catch{}r(l)})}):new Promise((i,r)=>{n.get().then(s=>{try{t.onComplete(s)}catch{}i(s)}).catch(s=>{try{t.onFail(s)}catch{}r(s)})})}getDocument(t){return new Promise((n,i)=>{this.genDocumentReference(t.path).get().then(r=>{try{t.onComplete(r)}catch{}n(r)}).catch(r=>{try{t.onFail(r)}catch{}i(r)})})}listenToDocument(t){this.validateListenerName(t.name),this.addListener(t.name,this.genDocumentReference(t.path).onSnapshot(n=>{try{t.onUpdate(n)}catch{}}))}listenToCollection(t){this.validateListenerName(t.name);let n=this.genCollectionReference(t.path);if((t.where!=null||t.where!=null)&&t.where.length>0){let i,r=Array(t.where)[0];for(let s=0;s<r.length;s++)i==null?i=r[s].getQuery(n):i=r[s].concatQuery(i);this.addListener(t.name,i.onSnapshot(s=>{try{t.onUpdate(s)}catch{}}))}else this.addListener(t.name,n.onSnapshot(i=>{try{t.onUpdate(i)}catch{}}))}genCollectionReference(t){this.checkCollectionPathValidity(t);let n=Array(t)[0],i,r;for(let s=0;s<n.length;s++)s%2==0?i==null?i=pe.getFirestore().collection(n[s]):i=r.collection(n[s]):r=i.doc(n[s]);return i}genDocumentReference(t){this.checkDocumentPathValidity(t);let n=Array(t)[0],i,r;for(let s=0;s<n.length;s++)s%2==0?i==null?i=pe.getFirestore().collection(n[s]):i=r.collection(n[s]):r=i.doc(n[s]);return r}addListener(t,n){return this.listeners.set(t,n),n}stopListeningTo(t){try{this.listeners.get(t)(),this.listeners.delete(t)}catch{}}stopListeningToAll(){this.listeners.forEach((t,n,i)=>{this.stopListeningTo(n)})}validateListenerName(t){if(t==null||t==null||typeof t!="string"||t.trim().length<=0)throw"Listener name cannot be empty.";if(this.listeners.get(t)!=null)throw`Listener name: ${t} is already taken.`}checkCollectionPathValidity(t){if(t==null||t==null||t.length<=0||!this.isCollectionPath(t))throw"Not a valid path to a collection."}isCollectionPath(t){return Array(t)[0].length%2==1}checkDocumentPathValidity(t){if(t==null||t==null||t.length<=0||!this.isDocumentPath(t))throw"Not a valid path to a document."}isDocumentPath(t){return Array(t)[0].length%2==0}};var xf=class{constructor(t,n){this.field=t,this.direction=n}getQuery(t){return t.orderBy(this.field,this.direction)}concatQuery(t){return t.orderBy(this.field,this.direction)}},Cf=class{constructor(t){this.limit=t}getQuery(t){return t.limit(this.limit)}concatQuery(t){return t.limit(this.limit)}};var FD=(()=>{let t=class t{constructor(i){this.firestore=new zn,this.firebasetsAuth=new Pe,this.router=i}ToSubmitSignup(i,r,s,c,l){let d=i.value,f=r.value,m=s.value,v=c.value,y=l.value;this.isAMatch(v,y)?this.firebasetsAuth.createAccountWith({email:m,password:v,onComplete:_=>{let I=_.user;alert("Registered Successfully"),I?this.firestore.create({path:["Users",I.uid],data:{publicName:d,username:f},onComplete:E=>{alert("Profile Created"),i.value="",r.value="",this.router.navigate([""])},onFail:E=>{console.error("Firestore Error:",E),alert(E)}}):(console.error("User object is null."),alert("Failed to create profile. Please try again."))},onFail:_=>{console.error("Authentication Error:",_),alert("Failed to create profile. Please try again.")}}):alert("Passwords do not match.")}isAMatch(i,r){return i===r}toLogin(){this.router.navigate([""])}};t.\u0275fac=function(r){return new(r||t)(Z(te))},t.\u0275cmp=Et({type:t,selectors:[["app-signup"]],decls:80,vars:0,consts:[["signupName",""],["signupUsername",""],["signupEmail",""],["signupPassword",""],["signupConfirmPassword",""],[1,"session"],[1,"left"],["enable-background","new 0 0 300 302.5","version","1.1","viewBox","0 0 300 302.5",0,"xml","space","preserve","xmlns","http://www.w3.org/2000/svg"],["type","text/css"],["d","m126 302.2c-2.3 0.7-5.7 0.2-7.7-1.2l-105-71.6c-2-1.3-3.7-4.4-3.9-6.7l-9.4-126.7c-0.2-2.4 1.1-5.6 2.8-7.2l93.2-86.4c1.7-1.6 5.1-2.6 7.4-2.3l125.6 18.9c2.3 0.4 5.2 2.3 6.4 4.4l63.5 110.1c1.2 2 1.4 5.5 0.6 7.7l-46.4 118.3c-0.9 2.2-3.4 4.6-5.7 5.3l-121.4 37.4zm63.4-102.7c2.3-0.7 4.8-3.1 5.7-5.3l19.9-50.8c0.9-2.2 0.6-5.7-0.6-7.7l-27.3-47.3c-1.2-2-4.1-4-6.4-4.4l-53.9-8c-2.3-0.4-5.7 0.7-7.4 2.3l-40 37.1c-1.7 1.6-3 4.9-2.8 7.2l4.1 54.4c0.2 2.4 1.9 5.4 3.9 6.7l45.1 30.8c2 1.3 5.4 1.9 7.7 1.2l52-16.2z",1,"st01"],["action","","autocomplete","off",1,"log-in"],[1,"floating-label"],["placeholder","Name","type","text","name","text","id","Name","autocomplete","off","required",""],["for","username"],[1,"icon"],["enable-background","new 0 0 100 100","version","1.1","viewBox","0 0 100 100",0,"xml","space","preserve","xmlns","http://www.w3.org/2000/svg"],["transform","translate(0 -952.36)"],["d","m17.5 977c-1.3 0-2.4 1.1-2.4 2.4v45.9c0 1.3 1.1 2.4 2.4 2.4h64.9c1.3 0 2.4-1.1 2.4-2.4v-45.9c0-1.3-1.1-2.4-2.4-2.4h-64.9zm2.4 4.8h60.2v1.2l-30.1 22-30.1-22v-1.2zm0 7l28.7 21c0.8 0.6 2 0.6 2.8 0l28.7-21v34.1h-60.2v-34.1z"],["width","100","height","100",1,"st0"],["placeholder","Username","type","text","name","text","id","username","autocomplete","off","required",""],["placeholder","Email","type","email","name","email","id","email","autocomplete","off","required",""],["for","email"],["placeholder","Password","type","password","name","password","id","password","autocomplete","off","required",""],["for","password"],["enable-background","new 0 0 24 24","version","1.1","viewBox","0 0 24 24",0,"xml","space","preserve","xmlns","http://www.w3.org/2000/svg"],["width","24","height","24",1,"st0"],["d","M19,21H5V9h14V21z M6,20h12V10H6V20z",1,"st1"],["d","M16.5,10h-1V7c0-1.9-1.6-3.5-3.5-3.5S8.5,5.1,8.5,7v3h-1V7c0-2.5,2-4.5,4.5-4.5s4.5,2,4.5,4.5V10z",1,"st1"],["d","m12 16.5c-0.8 0-1.5-0.7-1.5-1.5s0.7-1.5 1.5-1.5 1.5 0.7 1.5 1.5-0.7 1.5-1.5 1.5zm0-2c-0.3 0-0.5 0.2-0.5 0.5s0.2 0.5 0.5 0.5 0.5-0.2 0.5-0.5-0.2-0.5-0.5-0.5z",1,"st1"],["placeholder","Comfirm Password","type","password","name","password_2","id","password_2","autocomplete","off","required",""],["for","password_2"],["type","submit","onClick","return false;",3,"click"],["target","_blank",1,"discrete",3,"click"]],template:function(r,s){if(r&1){let c=dr();N(0,"body")(1,"div",5)(2,"div",6),rn(),N(3,"svg",7)(4,"style",8),nt(5," .st01 { fill: #fff; } "),V(),rt(6,"path",9),V()(),on(),N(7,"form",10)(8,"h4"),nt(9,"Sign up, "),N(10,"span"),nt(11,"1Thing."),V()(),N(12,"p"),nt(13,"Join now for view feed today."),V(),N(14,"div",11),rt(15,"input",12,0),N(17,"label",13),nt(18,"Name - Lastname:"),V(),N(19,"div",14),rn(),N(20,"svg",15)(21,"style",8),nt(22," .st0 { fill: none; } "),V(),N(23,"g",16),rt(24,"path",17),V(),rt(25,"rect",18),V()()(),on(),N(26,"div",11),rt(27,"input",19,1),N(29,"label",13),nt(30,"Username:"),V(),N(31,"div",14),rn(),N(32,"svg",15)(33,"style",8),nt(34," .st0 { fill: none; } "),V(),N(35,"g",16),rt(36,"path",17),V(),rt(37,"rect",18),V()()(),on(),N(38,"div",11),rt(39,"input",20,2),N(41,"label",21),nt(42,"Email:"),V(),N(43,"div",14),rn(),N(44,"svg",15)(45,"style",8),nt(46," .st0 { fill: none; } "),V(),N(47,"g",16),rt(48,"path",17),V(),rt(49,"rect",18),V()()(),on(),N(50,"div",11),rt(51,"input",22,3),N(53,"label",23),nt(54,"Password:"),V(),N(55,"div",14),rn(),N(56,"svg",24)(57,"style",8),nt(58," .st0 { fill: none; } .st1 { fill: #010101; } "),V(),rt(59,"rect",25)(60,"path",26)(61,"path",27)(62,"path",28),V()()(),on(),N(63,"div",11),rt(64,"input",29,4),N(66,"label",30),nt(67,"Confirm Password:"),V(),N(68,"div",14),rn(),N(69,"svg",24)(70,"style",8),nt(71," .st0 { fill: none; } .st1 { fill: #010101; } "),V(),rt(72,"rect",25)(73,"path",26)(74,"path",27)(75,"path",28),V()()(),on(),N(76,"button",31),be("click",function(){wn(c);let d=ln(16),f=ln(28),m=ln(40),v=ln(52),y=ln(65);return In(s.ToSubmitSignup(d,f,m,v,y))}),nt(77,"Sign Up"),V(),N(78,"a",32),be("click",function(){return wn(c),In(s.toLogin())}),nt(79,"Back to Signin"),V()()()()}},styles:[".all[_ngcontent-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,San Francisco,Helvetica,Arial,sans-serif;font-weight:300;margin:0}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100vh;width:100vw;margin:0;display:flex;align-items:flex-start;justify-content:flex-start;background:#f3f2f2}h4[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:#000;opacity:.85}label[_ngcontent-%COMP%]{font-size:12.5px;color:#000;opacity:.8;font-weight:400}form[_ngcontent-%COMP%]{padding:40px 30px 20px;background:#fefefe;display:flex;flex-direction:column;align-items:flex-start;width:300px}form[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:20px;color:#00000080}form[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#000;font-weight:700}form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:155%;font-size:14px;color:#000;opacity:.65;font-weight:400;max-width:200px;margin-bottom:40px}a.discrete[_ngcontent-%COMP%]{color:#0006;font-size:14px;border-bottom:solid 1px rgba(0,0,0,0);padding-bottom:4px;margin-left:auto;font-weight:300;transition:all .3s ease;margin-top:40px;cursor:pointer}a.discrete[_ngcontent-%COMP%]:hover{border-bottom:solid 1px rgba(0,0,0,.2)}button[_ngcontent-%COMP%]{-webkit-appearance:none;width:auto;min-width:100px;border-radius:24px;text-align:center;padding:15px 40px;margin-top:5px;background-color:#b08bf8;color:#fff;font-size:14px;margin-left:auto;font-weight:500;box-shadow:0 2px 6px -1px #00000021;border:none;transition:all .3s ease;outline:0}button[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 2px 6px -1px #b69de6a6}button[_ngcontent-%COMP%]:hover:active{transform:scale(.99)}input[_ngcontent-%COMP%]{font-size:16px;padding:20px 0;height:56px;border:none;border-bottom:solid 1px rgba(0,0,0,.1);background:#fff;width:280px;box-sizing:border-box;transition:all .3s linear;color:#000;font-weight:400;-webkit-appearance:none}input[_ngcontent-%COMP%]:focus{border-bottom:solid 1px #b69de6;outline:0;box-shadow:0 2px 6px -8px #b69de673}.floating-label[_ngcontent-%COMP%]{position:relative;margin-bottom:10px;width:100%}.floating-label[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;top:calc(50% - 7px);left:0;opacity:0;transition:all .3s ease;padding-left:44px}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:calc(100% - 44px);margin-left:auto;display:flex}.floating-label[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{position:absolute;top:0;left:-13px;height:56px;width:44px;display:flex}.floating-label[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:30px;width:30px;margin:auto;opacity:.15;transition:all .3s ease}.floating-label[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{transition:all .3s ease}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:-moz-placeholder-shown){padding:28px 0 12px}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:-ms-input-placeholder){padding:28px 0 12px}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:placeholder-shown){padding:28px 0 12px}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:-moz-placeholder-shown) + label[_ngcontent-%COMP%]{transform:translateY(-10px);opacity:.7}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:-ms-input-placeholder) + label[_ngcontent-%COMP%]{transform:translateY(-10px);opacity:.7}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:placeholder-shown) + label[_ngcontent-%COMP%]{transform:translateY(-10px);opacity:.7}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid:not(:-moz-placeholder-shown) + label[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{opacity:1}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid:not(:-ms-input-placeholder) + label[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{opacity:1}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid:not(:placeholder-shown) + label[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{opacity:1}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid:not(:-moz-placeholder-shown) + label[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#b69de6}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid:not(:-ms-input-placeholder) + label[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#b69de6}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid:not(:placeholder-shown) + label[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#b69de6}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:valid):not(:focus) + label[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%]{-webkit-animation-name:_ngcontent-%COMP%_shake-shake;animation-name:_ngcontent-%COMP%_shake-shake;-webkit-animation-duration:.3s;animation-duration:.3s}@-webkit-keyframes _ngcontent-%COMP%_shake-shake{0%{transform:translate(-3px)}20%{transform:translate(3px)}40%{transform:translate(-3px)}60%{transform:translate(3px)}80%{transform:translate(-3px)}to{transform:translate(0)}}.session[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:auto;height:auto;margin:auto;background:#fff;border-radius:4px;box-shadow:0 2px 6px -1px #0000001f}.left[_ngcontent-%COMP%]{width:220px;height:auto;min-height:100%;position:relative;background-image:url(https://images.pexels.com/photos/114979/pexels-photo-114979.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940);background-size:cover;border-top-left-radius:4px;border-bottom-left-radius:4px}.left[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:40px;width:auto;margin:20px}"]});let e=t;return e})();var jD=(()=>{let t=class t{constructor(){this.firebasetsAuth=new Pe,this.router=new te}toLogin(){this.router.navigate([""])}toResetSubmit(i){let r=i.value;this.firebasetsAuth.sendPasswordResetEmail({email:r,onComplete:s=>{alert(`Reset Email sent to ${r}`),this.router.navigate([""])}})}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Et({type:t,selectors:[["app-resetemail"]],decls:29,vars:0,consts:[["resetEmail",""],[1,"session"],[1,"left"],["enable-background","new 0 0 300 302.5","version","1.1","viewBox","0 0 300 302.5",0,"xml","space","preserve","xmlns","http://www.w3.org/2000/svg"],["type","text/css"],["d","m126 302.2c-2.3 0.7-5.7 0.2-7.7-1.2l-105-71.6c-2-1.3-3.7-4.4-3.9-6.7l-9.4-126.7c-0.2-2.4 1.1-5.6 2.8-7.2l93.2-86.4c1.7-1.6 5.1-2.6 7.4-2.3l125.6 18.9c2.3 0.4 5.2 2.3 6.4 4.4l63.5 110.1c1.2 2 1.4 5.5 0.6 7.7l-46.4 118.3c-0.9 2.2-3.4 4.6-5.7 5.3l-121.4 37.4zm63.4-102.7c2.3-0.7 4.8-3.1 5.7-5.3l19.9-50.8c0.9-2.2 0.6-5.7-0.6-7.7l-27.3-47.3c-1.2-2-4.1-4-6.4-4.4l-53.9-8c-2.3-0.4-5.7 0.7-7.4 2.3l-40 37.1c-1.7 1.6-3 4.9-2.8 7.2l4.1 54.4c0.2 2.4 1.9 5.4 3.9 6.7l45.1 30.8c2 1.3 5.4 1.9 7.7 1.2l52-16.2z",1,"st01"],["action","","autocomplete","off",1,"log-in"],[1,"floating-label"],["placeholder","Email","type","email","name","email","id","email","autocomplete","off","required",""],["for","email"],[1,"icon"],["enable-background","new 0 0 100 100","version","1.1","viewBox","0 0 100 100",0,"xml","space","preserve","xmlns","http://www.w3.org/2000/svg"],["transform","translate(0 -952.36)"],["d","m17.5 977c-1.3 0-2.4 1.1-2.4 2.4v45.9c0 1.3 1.1 2.4 2.4 2.4h64.9c1.3 0 2.4-1.1 2.4-2.4v-45.9c0-1.3-1.1-2.4-2.4-2.4h-64.9zm2.4 4.8h60.2v1.2l-30.1 22-30.1-22v-1.2zm0 7l28.7 21c0.8 0.6 2 0.6 2.8 0l28.7-21v34.1h-60.2v-34.1z"],["width","100","height","100",1,"st0"],["type","submit","onClick","return false;",3,"click"],["target","_blank",1,"discrete",3,"click"]],template:function(r,s){if(r&1){let c=dr();N(0,"body")(1,"div",1)(2,"div",2),rn(),N(3,"svg",3)(4,"style",4),nt(5," .st01 { fill: #fff; } "),V(),rt(6,"path",5),V()(),on(),N(7,"form",6)(8,"h4")(9,"span"),nt(10,"Reset Password."),V()(),N(11,"p"),nt(12,"Put your E-mail and get reset password in your email. "),V(),N(13,"div",7),rt(14,"input",8,0),N(16,"label",9),nt(17,"Email:"),V(),N(18,"div",10),rn(),N(19,"svg",11)(20,"style",4),nt(21," .st0 { fill: none; } "),V(),N(22,"g",12),rt(23,"path",13),V(),rt(24,"rect",14),V()()(),on(),N(25,"button",15),be("click",function(){wn(c);let d=ln(15);return In(s.toResetSubmit(d))}),nt(26,"Reset"),V(),N(27,"a",16),be("click",function(){return wn(c),In(s.toLogin())}),nt(28,"Back to Login"),V()()()()}},styles:[".all[_ngcontent-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,San Francisco,Helvetica,Arial,sans-serif;font-weight:300;margin:0}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100vh;width:100vw;margin:0;display:flex;align-items:flex-start;justify-content:flex-start;background:#f3f2f2}h4[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:#000;opacity:.85}label[_ngcontent-%COMP%]{font-size:12.5px;color:#000;opacity:.8;font-weight:400}form[_ngcontent-%COMP%]{padding:40px 30px 20px;background:#fefefe;display:flex;flex-direction:column;align-items:flex-start;width:300px}form[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:20px;color:#00000080}form[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#000;font-weight:700}form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:155%;font-size:14px;color:#000;opacity:.65;font-weight:400;max-width:200px;margin-bottom:40px}a.discrete[_ngcontent-%COMP%]{color:#0006;font-size:14px;border-bottom:solid 1px rgba(0,0,0,0);padding-bottom:4px;margin-left:auto;font-weight:300;transition:all .3s ease;margin-top:40px;cursor:pointer}a.discrete[_ngcontent-%COMP%]:hover{border-bottom:solid 1px rgba(0,0,0,.2)}button[_ngcontent-%COMP%]{-webkit-appearance:none;width:auto;min-width:100px;border-radius:24px;text-align:center;padding:15px 40px;margin-top:5px;background-color:#b08bf8;color:#fff;font-size:14px;margin-left:auto;font-weight:500;box-shadow:0 2px 6px -1px #00000021;border:none;transition:all .3s ease;outline:0}button[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 2px 6px -1px #b69de6a6}button[_ngcontent-%COMP%]:hover:active{transform:scale(.99)}input[_ngcontent-%COMP%]{font-size:16px;padding:20px 0;height:56px;border:none;border-bottom:solid 1px rgba(0,0,0,.1);background:#fff;width:280px;box-sizing:border-box;transition:all .3s linear;color:#000;font-weight:400;-webkit-appearance:none}input[_ngcontent-%COMP%]:focus{border-bottom:solid 1px #b69de6;outline:0;box-shadow:0 2px 6px -8px #b69de673}.floating-label[_ngcontent-%COMP%]{position:relative;margin-bottom:10px;width:100%}.floating-label[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;top:calc(50% - 7px);left:0;opacity:0;transition:all .3s ease;padding-left:44px}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:calc(100% - 44px);margin-left:auto;display:flex}.floating-label[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{position:absolute;top:0;left:-13px;height:56px;width:44px;display:flex}.floating-label[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:30px;width:30px;margin:auto;opacity:.15;transition:all .3s ease}.floating-label[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{transition:all .3s ease}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:-moz-placeholder-shown){padding:28px 0 12px}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:-ms-input-placeholder){padding:28px 0 12px}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:placeholder-shown){padding:28px 0 12px}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:-moz-placeholder-shown) + label[_ngcontent-%COMP%]{transform:translateY(-10px);opacity:.7}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:-ms-input-placeholder) + label[_ngcontent-%COMP%]{transform:translateY(-10px);opacity:.7}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:placeholder-shown) + label[_ngcontent-%COMP%]{transform:translateY(-10px);opacity:.7}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid:not(:-moz-placeholder-shown) + label[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{opacity:1}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid:not(:-ms-input-placeholder) + label[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{opacity:1}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid:not(:placeholder-shown) + label[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{opacity:1}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid:not(:-moz-placeholder-shown) + label[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#b69de6}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid:not(:-ms-input-placeholder) + label[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#b69de6}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid:not(:placeholder-shown) + label[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#b69de6}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:valid):not(:focus) + label[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%]{-webkit-animation-name:_ngcontent-%COMP%_shake-shake;animation-name:_ngcontent-%COMP%_shake-shake;-webkit-animation-duration:.3s;animation-duration:.3s}@-webkit-keyframes _ngcontent-%COMP%_shake-shake{0%{transform:translate(-3px)}20%{transform:translate(3px)}40%{transform:translate(-3px)}60%{transform:translate(3px)}80%{transform:translate(-3px)}to{transform:translate(0)}}.session[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:auto;height:auto;margin:auto;background:#fff;border-radius:4px;box-shadow:0 2px 6px -1px #0000001f}.left[_ngcontent-%COMP%]{width:220px;height:auto;min-height:100%;position:relative;background-image:url(https://images.pexels.com/photos/114979/pexels-photo-114979.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940);background-size:cover;border-top-left-radius:4px;border-bottom-left-radius:4px}.left[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:40px;width:auto;margin:20px}"]});let e=t;return e})();function SV(e,t){if(e&1&&rt(0,"app-post",4),e&2){let n=t.$implicit;lr("postData",n)}}var Tf=(()=>{let t=class t{constructor(i){this.router=i,this.firestore=new zn,this.posts=[],this.firebasetsAuth=new Pe}ngOnInit(){this.firebasetsAuth.getAuth().onAuthStateChanged(i=>{i||this.router.navigate([""])}),this.getPosts()}getPosts(){this.firestore.getCollection({path:["Posts"],where:[new xf("timestamp","desc"),new Cf(10)],onComplete:i=>{i.docs.forEach(r=>{let s=r.data();this.posts.push(s)})},onFail:i=>{}})}};t.\u0275fac=function(r){return new(r||t)(Z(te))},t.\u0275cmp=Et({type:t,selectors:[["app-feed"]],decls:7,vars:1,consts:[[1,"navbar"],[1,"posts-container"],[3,"postData",4,"ngFor","ngForOf"],[1,"footer"],[3,"postData"]],template:function(r,s){r&1&&(N(0,"div",0),rt(1,"app-topbar"),V(),N(2,"div",1),rt(3,"app-postfeed"),V(),N(4,"div"),ti(5,SV,1,1,"app-post",2),V(),rt(6,"div",3)),r&2&&(jn(5),lr("ngForOf",s.posts))},styles:[".navbar[_ngcontent-%COMP%]{position:fixed;width:80%;margin:1.5em auto;z-index:1000;background-color:#fff;left:50%;transform:translate(-50%)}.feed-container[_ngcontent-%COMP%], .posts-container[_ngcontent-%COMP%]{padding-top:70px;margin:0 auto}.footer[_ngcontent-%COMP%]{padding-bottom:40px}"]});let e=t;return e})();var AV=[{path:"",component:mT},{path:"signup",component:FD},{path:"reset",component:jD},{path:"feed",component:Tf}],UD=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=gt({type:t}),t.\u0275inj=mt({imports:[eb.forRoot(AV),eb]});let e=t;return e})();var VD=(()=>{let t=class t{constructor(){this.auth=new Pe,this.router=new te}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Et({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(r,s){r&1&&rt(0,"router-outlet")},dependencies:[Kv]});let e=t;return e})();var DV="@",RV=(()=>{let t=class t{constructor(i,r,s,c,l){this.doc=i,this.delegate=r,this.zone=s,this.animationType=c,this.moduleImpl=l,this._rendererFactoryPromise=null,this.scheduler=q(fx,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-PXI4TLJ5.js")).catch(r=>{throw new Vt(5300,!1)}).then(({\u0275createEngine:r,\u0275AnimationRendererFactory:s})=>{this._engine=r(this.animationType,this.doc,this.scheduler);let c=new s(this.delegate,this._engine,this.zone);return this.delegate=c,c})}createRenderer(i,r){let s=this.delegate.createRenderer(i,r);if(s.\u0275type===0)return s;typeof s.throwOnSyntheticProps=="boolean"&&(s.throwOnSyntheticProps=!1);let c=new d0(s);return r?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(l=>{let d=l.createRenderer(i,r);c.use(d)}).catch(l=>{c.use(s)}),c}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};t.\u0275fac=function(r){Is()},t.\u0275prov=W({token:t,factory:t.\u0275fac});let e=t;return e})(),d0=class{constructor(t){this.delegate=t,this.replay=[],this.\u0275type=1}use(t){if(this.delegate=t,this.replay!==null){for(let n of this.replay)n(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,n){return this.delegate.createElement(t,n)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,n){this.delegate.appendChild(t,n)}insertBefore(t,n,i,r){this.delegate.insertBefore(t,n,i,r)}removeChild(t,n,i){this.delegate.removeChild(t,n,i)}selectRootElement(t,n){return this.delegate.selectRootElement(t,n)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,n,i,r){this.delegate.setAttribute(t,n,i,r)}removeAttribute(t,n,i){this.delegate.removeAttribute(t,n,i)}addClass(t,n){this.delegate.addClass(t,n)}removeClass(t,n){this.delegate.removeClass(t,n)}setStyle(t,n,i,r){this.delegate.setStyle(t,n,i,r)}removeStyle(t,n,i){this.delegate.removeStyle(t,n,i)}setProperty(t,n,i){this.shouldReplay(n)&&this.replay.push(r=>r.setProperty(t,n,i)),this.delegate.setProperty(t,n,i)}setValue(t,n){this.delegate.setValue(t,n)}listen(t,n,i){return this.shouldReplay(n)&&this.replay.push(r=>r.listen(t,n,i)),this.delegate.listen(t,n,i)}shouldReplay(t){return this.replay!==null&&t.startsWith(DV)}};function BD(e="animations"){return px("NgAsyncAnimations"),wd([{provide:Ed,useFactory:(t,n,i)=>new RV(t,n,i,e),deps:[ct,Md,ht]},{provide:Fn,useValue:e==="noop"?"NoopAnimations":"BrowserAnimations"}])}var zD={production:!0,firebaseConfig:{apiKey:"AIzaSyDQSvJxcPBsFa6sttkCEwookpEp9Ghxsio",authDomain:"thing-702bc.firebaseapp.com",projectId:"thing-702bc",storageBucket:"thing-702bc.appspot.com",messagingSenderId:"855219867760",appId:"1:855219867760:web:6c89ba7257b02a332ca4b5",measurementId:"G-VZ7L6RQT3V"}};bR();var jf=class{constructor(){this.listeners=new Map}downloadToLocalStorage(t){return new Promise((n,i)=>{if(t instanceof Array)this.getDownloadUrl({path:t,onComplete:r=>{n(r),window.open(r,"Download")},onFail:r=>{i(r)}});else try{window.open(t,"Download"),n()}catch(r){i(r)}})}upload(t){return new Promise((n,i)=>{let r=null,s=this.genStorageRef(t.path);r=t.data.metadata==null||t.data.metadata==null?s.put(t.data.data):s.put(t.data.data,t.data.metadata),r.on("state_changed",c=>{try{t.onUpload(c)}catch{}},c=>{i(c);try{t.onFail(c)}catch{}},()=>{s.getDownloadURL().then(c=>{n(c);try{t.onComplete(c)}catch{}})}),this.listeners.set(t.uploadName,r)})}deleteWithUrl(t){return new Promise((n,i)=>{pe.getStorage().refFromURL(t.url).delete().then(()=>{n();try{t.onComplete()}catch{}}).catch(s=>{i(s);try{t.onFail(s)}catch{}})})}delete(t){return new Promise((n,i)=>{this.genStorageRef(t.path).delete().then(()=>{n();try{t.onComplete()}catch{}}).catch(s=>{i(s);try{t.onFail(s)}catch{}})})}getDownloadUrl(t){return new Promise((n,i)=>{let r=this.genStorageRef(t.path);try{r.getDownloadURL().then(s=>{n(s);try{t.onComplete(s)}catch{}})}catch(s){i(s);try{t.onFail(s)}catch{}}})}genStorageRef(t){let n=pe.getStorage().ref();for(let i=0;i<t.length;i++)n=n.child(t[i]);return n}};var x0;try{x0=typeof Intl<"u"&&Intl.v8BreakIterator}catch{x0=!1}var $t=(()=>{let t=class t{constructor(i){this._platformId=i,this.isBrowser=this._platformId?Lx(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||x0)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};t.\u0275fac=function(r){return new(r||t)(R(ho))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Ju;function s3(){if(Ju==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ju=!0}))}finally{Ju=Ju||!1}return Ju}function Aa(e){return s3()?e:!!e.capture}var Uo;function yR(){if(Uo==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return Uo=!1,Uo;if("scrollBehavior"in document.documentElement.style)Uo=!0;else{let e=Element.prototype.scrollTo;e?Uo=!/\{\s*\[native code\]\s*\}/.test(e.toString()):Uo=!1}}return Uo}var E0;function a3(){if(E0==null){let e=typeof document<"u"?document.head:null;E0=!!(e&&(e.createShadowRoot||e.attachShadow))}return E0}function _R(e){if(a3()){let t=e.getRootNode?e.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function tl(){let e=typeof document<"u"&&document?document.activeElement:null;for(;e&&e.shadowRoot;){let t=e.shadowRoot.activeElement;if(t===e)break;e=t}return e}function ai(e){return e.composedPath?e.composedPath()[0]:e.target}function el(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Uf(e,...t){return t.length?t.some(n=>e[n]):e.altKey||e.shiftKey||e.ctrlKey||e.metaKey}function nl(e,t=0){return c3(e)?Number(e):t}function c3(e){return!isNaN(parseFloat(e))&&!isNaN(Number(e))}function Ra(e){return Array.isArray(e)?e:[e]}function ee(e){return e==null?"":typeof e=="string"?e:`${e}px`}function Gi(e){return e instanceof Bt?e.nativeElement:e}var u3=(()=>{let t=class t{create(i){return typeof MutationObserver>"u"?null:new MutationObserver(i)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var wR=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=gt({type:t}),t.\u0275inj=mt({providers:[u3]});let e=t;return e})();var IR=new Set,Vo,l3=(()=>{let t=class t{constructor(i,r){this._platform=i,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):h3}matchMedia(i){return(this._platform.WEBKIT||this._platform.BLINK)&&d3(i,this._nonce),this._matchMedia(i)}};t.\u0275fac=function(r){return new(r||t)(R($t),R(Ac,8))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function d3(e,t){if(!IR.has(e))try{Vo||(Vo=document.createElement("style"),t&&(Vo.nonce=t),Vo.setAttribute("type","text/css"),document.head.appendChild(Vo)),Vo.sheet&&(Vo.sheet.insertRule(`@media ${e} {body{ }}`,0),IR.add(e))}catch(n){console.error(n)}}function h3(e){return{matches:e==="all"||e==="",media:e,addListener:()=>{},removeListener:()=>{}}}var xR=(()=>{let t=class t{constructor(i,r){this._mediaMatcher=i,this._zone=r,this._queries=new Map,this._destroySubject=new Tt}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(i){return ER(Ra(i)).some(s=>this._registerQuery(s).mql.matches)}observe(i){let s=ER(Ra(i)).map(l=>this._registerQuery(l).observable),c=vs(s);return c=vd(c.pipe(ve(1)),c.pipe(yd(1),Vg(0))),c.pipe(pt(l=>{let d={matches:!1,breakpoints:{}};return l.forEach(({matches:f,query:m})=>{d.matches=d.matches||f,d.breakpoints[m]=f}),d}))}_registerQuery(i){if(this._queries.has(i))return this._queries.get(i);let r=this._mediaMatcher.matchMedia(i),c={observable:new Ic(l=>{let d=f=>this._zone.run(()=>l.next(f));return r.addListener(d),()=>{r.removeListener(d)}}).pipe(Mi(r),pt(({matches:l})=>({query:i,matches:l})),Ni(this._destroySubject)),mql:r};return this._queries.set(i,c),c}};t.\u0275fac=function(r){return new(r||t)(R(l3),R(ht))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function ER(e){return e.map(t=>t.split(",")).reduce((t,n)=>t.concat(n)).map(t=>t.trim())}var il=(()=>{let t=class t{constructor(i){this._platform=i}isDisabled(i){return i.hasAttribute("disabled")}isVisible(i){return p3(i)&&getComputedStyle(i).visibility==="visible"}isTabbable(i){if(!this._platform.isBrowser)return!1;let r=f3(I3(i));if(r&&(CR(r)===-1||!this.isVisible(r)))return!1;let s=i.nodeName.toLowerCase(),c=CR(i);return i.hasAttribute("contenteditable")?c!==-1:s==="iframe"||s==="object"||this._platform.WEBKIT&&this._platform.IOS&&!_3(i)?!1:s==="audio"?i.hasAttribute("controls")?c!==-1:!1:s==="video"?c===-1?!1:c!==null?!0:this._platform.FIREFOX||i.hasAttribute("controls"):i.tabIndex>=0}isFocusable(i,r){return w3(i)&&!this.isDisabled(i)&&(r?.ignoreVisibility||this.isVisible(i))}};t.\u0275fac=function(r){return new(r||t)(R($t))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function f3(e){try{return e.frameElement}catch{return null}}function p3(e){return!!(e.offsetWidth||e.offsetHeight||typeof e.getClientRects=="function"&&e.getClientRects().length)}function m3(e){let t=e.nodeName.toLowerCase();return t==="input"||t==="select"||t==="button"||t==="textarea"}function g3(e){return b3(e)&&e.type=="hidden"}function v3(e){return y3(e)&&e.hasAttribute("href")}function b3(e){return e.nodeName.toLowerCase()=="input"}function y3(e){return e.nodeName.toLowerCase()=="a"}function AR(e){if(!e.hasAttribute("tabindex")||e.tabIndex===void 0)return!1;let t=e.getAttribute("tabindex");return!!(t&&!isNaN(parseInt(t,10)))}function CR(e){if(!AR(e))return null;let t=parseInt(e.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}function _3(e){let t=e.nodeName.toLowerCase(),n=t==="input"&&e.type;return n==="text"||n==="password"||t==="select"||t==="textarea"}function w3(e){return g3(e)?!1:m3(e)||v3(e)||e.hasAttribute("contenteditable")||AR(e)}function I3(e){return e.ownerDocument&&e.ownerDocument.defaultView||window}var T0=class{get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}constructor(t,n,i,r,s=!1){this._element=t,this._checker=n,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}destroy(){let t=this._startAnchor,n=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),n&&(n.removeEventListener("focus",this.endAnchorListener),n.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(n=>{this._executeOnStable(()=>n(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(n=>{this._executeOnStable(()=>n(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(n=>{this._executeOnStable(()=>n(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){let n=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return t=="start"?n.length?n[0]:this._getFirstTabbableElement(this._element):n.length?n[n.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){let n=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(n){if(!this._checker.isFocusable(n)){let i=this._getFirstTabbableElement(n);return i?.focus(t),!!i}return n.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){let n=this._getRegionBoundary("start");return n&&n.focus(t),!!n}focusLastTabbableElement(t){let n=this._getRegionBoundary("end");return n&&n.focus(t),!!n}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let n=t.children;for(let i=0;i<n.length;i++){let r=n[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(n[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let n=t.children;for(let i=n.length-1;i>=0;i--){let r=n[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(n[i]):null;if(r)return r}return null}_createAnchor(){let t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,n){t?n.setAttribute("tabindex","0"):n.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(ve(1)).subscribe(t)}},zf=(()=>{let t=class t{constructor(i,r,s){this._checker=i,this._ngZone=r,this._document=s}create(i,r=!1){return new T0(i,this._checker,this._ngZone,this._document,r)}};t.\u0275fac=function(r){return new(r||t)(R(il),R(ht),R(ct))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function S0(e){return e.buttons===0||e.detail===0}function A0(e){let t=e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0];return!!t&&t.identifier===-1&&(t.radiusX==null||t.radiusX===1)&&(t.radiusY==null||t.radiusY===1)}var E3=new dt("cdk-input-modality-detector-options"),x3={ignoreKeys:[18,17,224,91,16]},DR=650,ka=Aa({passive:!0,capture:!0}),C3=(()=>{let t=class t{get mostRecentModality(){return this._modality.value}constructor(i,r,s,c){this._platform=i,this._mostRecentTarget=null,this._modality=new en(null),this._lastTouchMs=0,this._onKeydown=l=>{this._options?.ignoreKeys?.some(d=>d===l.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=ai(l))},this._onMousedown=l=>{Date.now()-this._lastTouchMs<DR||(this._modality.next(S0(l)?"keyboard":"mouse"),this._mostRecentTarget=ai(l))},this._onTouchstart=l=>{if(A0(l)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=ai(l)},this._options=U(U({},x3),c),this.modalityDetected=this._modality.pipe(yd(1)),this.modalityChanged=this.modalityDetected.pipe(zg()),i.isBrowser&&r.runOutsideAngular(()=>{s.addEventListener("keydown",this._onKeydown,ka),s.addEventListener("mousedown",this._onMousedown,ka),s.addEventListener("touchstart",this._onTouchstart,ka)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,ka),document.removeEventListener("mousedown",this._onMousedown,ka),document.removeEventListener("touchstart",this._onTouchstart,ka))}};t.\u0275fac=function(r){return new(r||t)(R($t),R(ht),R(ct),R(E3,8))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Bf=function(e){return e[e.IMMEDIATE=0]="IMMEDIATE",e[e.EVENTUAL=1]="EVENTUAL",e}(Bf||{}),T3=new dt("cdk-focus-monitor-default-options"),Vf=Aa({passive:!0,capture:!0}),Oa=(()=>{let t=class t{constructor(i,r,s,c,l){this._ngZone=i,this._platform=r,this._inputModalityDetector=s,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Tt,this._rootNodeFocusAndBlurListener=d=>{let f=ai(d);for(let m=f;m;m=m.parentElement)d.type==="focus"?this._onFocus(d,m):this._onBlur(d,m)},this._document=c,this._detectionMode=l?.detectionMode||Bf.IMMEDIATE}monitor(i,r=!1){let s=Gi(i);if(!this._platform.isBrowser||s.nodeType!==1)return Y();let c=_R(s)||this._getDocument(),l=this._elementInfo.get(s);if(l)return r&&(l.checkChildren=!0),l.subject;let d={checkChildren:r,subject:new Tt,rootNode:c};return this._elementInfo.set(s,d),this._registerGlobalListeners(d),d.subject}stopMonitoring(i){let r=Gi(i),s=this._elementInfo.get(r);s&&(s.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(s))}focusVia(i,r,s){let c=Gi(i),l=this._getDocument().activeElement;c===l?this._getClosestElementsInfo(c).forEach(([d,f])=>this._originChanged(d,r,f)):(this._setOrigin(r),typeof c.focus=="function"&&c.focus(s))}ngOnDestroy(){this._elementInfo.forEach((i,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(i){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(i)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:i&&this._isLastInteractionFromInputLabel(i)?"mouse":"program"}_shouldBeAttributedToTouch(i){return this._detectionMode===Bf.EVENTUAL||!!i?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(i,r){i.classList.toggle("cdk-focused",!!r),i.classList.toggle("cdk-touch-focused",r==="touch"),i.classList.toggle("cdk-keyboard-focused",r==="keyboard"),i.classList.toggle("cdk-mouse-focused",r==="mouse"),i.classList.toggle("cdk-program-focused",r==="program")}_setOrigin(i,r=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=i,this._originFromTouchInteraction=i==="touch"&&r,this._detectionMode===Bf.IMMEDIATE){clearTimeout(this._originTimeoutId);let s=this._originFromTouchInteraction?DR:1;this._originTimeoutId=setTimeout(()=>this._origin=null,s)}})}_onFocus(i,r){let s=this._elementInfo.get(r),c=ai(i);!s||!s.checkChildren&&r!==c||this._originChanged(r,this._getFocusOrigin(c),s)}_onBlur(i,r){let s=this._elementInfo.get(r);!s||s.checkChildren&&i.relatedTarget instanceof Node&&r.contains(i.relatedTarget)||(this._setClasses(r),this._emitOrigin(s,null))}_emitOrigin(i,r){i.subject.observers.length&&this._ngZone.run(()=>i.subject.next(r))}_registerGlobalListeners(i){if(!this._platform.isBrowser)return;let r=i.rootNode,s=this._rootNodeFocusListenerCount.get(r)||0;s||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,Vf),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,Vf)}),this._rootNodeFocusListenerCount.set(r,s+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Ni(this._stopInputModalityDetector)).subscribe(c=>{this._setOrigin(c,!0)}))}_removeGlobalListeners(i){let r=i.rootNode;if(this._rootNodeFocusListenerCount.has(r)){let s=this._rootNodeFocusListenerCount.get(r);s>1?this._rootNodeFocusListenerCount.set(r,s-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Vf),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Vf),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(i,r,s){this._setClasses(i,r),this._emitOrigin(s,r),this._lastFocusOrigin=r}_getClosestElementsInfo(i){let r=[];return this._elementInfo.forEach((s,c)=>{(c===i||s.checkChildren&&c.contains(i))&&r.push([c,s])}),r}_isLastInteractionFromInputLabel(i){let{_mostRecentTarget:r,mostRecentModality:s}=this._inputModalityDetector;if(s!=="mouse"||!r||r===i||i.nodeName!=="INPUT"&&i.nodeName!=="TEXTAREA"||i.disabled)return!1;let c=i.labels;if(c){for(let l=0;l<c.length;l++)if(c[l].contains(r))return!0}return!1}};t.\u0275fac=function(r){return new(r||t)(R(ht),R($t),R(C3),R(ct,8),R(T3,8))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Bo=function(e){return e[e.NONE=0]="NONE",e[e.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",e[e.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",e}(Bo||{}),TR="cdk-high-contrast-black-on-white",SR="cdk-high-contrast-white-on-black",C0="cdk-high-contrast-active",D0=(()=>{let t=class t{constructor(i,r){this._platform=i,this._document=r,this._breakpointSubscription=q(xR).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Bo.NONE;let i=this._document.createElement("div");i.style.backgroundColor="rgb(1,2,3)",i.style.position="absolute",this._document.body.appendChild(i);let r=this._document.defaultView||window,s=r&&r.getComputedStyle?r.getComputedStyle(i):null,c=(s&&s.backgroundColor||"").replace(/ /g,"");switch(i.remove(),c){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Bo.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Bo.BLACK_ON_WHITE}return Bo.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let i=this._document.body.classList;i.remove(C0,TR,SR),this._hasCheckedHighContrastMode=!0;let r=this.getHighContrastMode();r===Bo.BLACK_ON_WHITE?i.add(C0,TR):r===Bo.WHITE_ON_BLACK&&i.add(C0,SR)}}};t.\u0275fac=function(r){return new(r||t)(R($t),R(ct))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),RR=(()=>{let t=class t{constructor(i){i._applyBodyHighContrastModeCssClasses()}};t.\u0275fac=function(r){return new(r||t)(R(D0))},t.\u0275mod=gt({type:t}),t.\u0275inj=mt({imports:[wR]});let e=t;return e})();var S3=new dt("cdk-dir-doc",{providedIn:"root",factory:A3});function A3(){return q(ct)}var D3=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function R3(e){let t=e?.toLowerCase()||"";return t==="auto"&&typeof navigator<"u"&&navigator?.language?D3.test(navigator.language)?"rtl":"ltr":t==="rtl"?"rtl":"ltr"}var rl=(()=>{let t=class t{constructor(i){if(this.value="ltr",this.change=new an,i){let r=i.body?i.body.dir:null,s=i.documentElement?i.documentElement.dir:null;this.value=R3(r||s||"ltr")}}ngOnDestroy(){this.change.complete()}};t.\u0275fac=function(r){return new(r||t)(R(S3,8))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var jr=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=gt({type:t}),t.\u0275inj=mt({});let e=t;return e})();function O3(){return!0}var P3=new dt("mat-sanity-checks",{providedIn:"root",factory:O3}),Re=(()=>{let t=class t{constructor(i,r,s){this._sanityChecks=r,this._document=s,this._hasDoneGlobalChecks=!1,i._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(i){return el()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[i]}};t.\u0275fac=function(r){return new(r||t)(R(D0),R(P3,8),R(ct))},t.\u0275mod=gt({type:t}),t.\u0275inj=mt({imports:[jr,jr]});let e=t;return e})();var Wn=function(e){return e[e.FADING_IN=0]="FADING_IN",e[e.VISIBLE=1]="VISIBLE",e[e.FADING_OUT=2]="FADING_OUT",e[e.HIDDEN=3]="HIDDEN",e}(Wn||{}),M0=class{constructor(t,n,i,r=!1){this._renderer=t,this.element=n,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=Wn.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},kR=Aa({passive:!0,capture:!0}),N0=class{constructor(){this._events=new Map,this._delegateEventHandler=t=>{let n=ai(t);n&&this._events.get(t.type)?.forEach((i,r)=>{(r===n||r.contains(n))&&i.forEach(s=>s.handleEvent(t))})}}addHandler(t,n,i,r){let s=this._events.get(n);if(s){let c=s.get(i);c?c.add(r):s.set(i,new Set([r]))}else this._events.set(n,new Map([[i,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(n,this._delegateEventHandler,kR)})}removeHandler(t,n,i){let r=this._events.get(t);if(!r)return;let s=r.get(n);s&&(s.delete(i),s.size===0&&r.delete(n),r.size===0&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,kR)))}},OR={enterDuration:225,exitDuration:150},M3=800,PR=Aa({passive:!0,capture:!0}),MR=["mousedown","touchstart"],NR=["mouseup","mouseleave","touchend","touchcancel"],ol=class ol{constructor(t,n,i,r){this._target=t,this._ngZone=n,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Gi(i))}fadeInRipple(t,n,i={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=U(U({},OR),i.animation);i.centered&&(t=r.left+r.width/2,n=r.top+r.height/2);let c=i.radius||N3(t,n,r),l=t-r.left,d=n-r.top,f=s.enterDuration,m=document.createElement("div");m.classList.add("mat-ripple-element"),m.style.left=`${l-c}px`,m.style.top=`${d-c}px`,m.style.height=`${c*2}px`,m.style.width=`${c*2}px`,i.color!=null&&(m.style.backgroundColor=i.color),m.style.transitionDuration=`${f}ms`,this._containerElement.appendChild(m);let v=window.getComputedStyle(m),y=v.transitionProperty,_=v.transitionDuration,I=y==="none"||_==="0s"||_==="0s, 0s"||r.width===0&&r.height===0,E=new M0(this,m,i,I);m.style.transform="scale3d(1, 1, 1)",E.state=Wn.FADING_IN,i.persistent||(this._mostRecentTransientRipple=E);let C=null;return!I&&(f||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let k=()=>this._finishRippleTransition(E),L=()=>this._destroyRipple(E);m.addEventListener("transitionend",k),m.addEventListener("transitioncancel",L),C={onTransitionEnd:k,onTransitionCancel:L}}),this._activeRipples.set(E,C),(I||!f)&&this._finishRippleTransition(E),E}fadeOutRipple(t){if(t.state===Wn.FADING_OUT||t.state===Wn.HIDDEN)return;let n=t.element,i=U(U({},OR),t.config.animation);n.style.transitionDuration=`${i.exitDuration}ms`,n.style.opacity="0",t.state=Wn.FADING_OUT,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){let n=Gi(t);!this._platform.isBrowser||!n||n===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=n,MR.forEach(i=>{ol._eventManager.addHandler(this._ngZone,i,n,this)}))}handleEvent(t){t.type==="mousedown"?this._onMousedown(t):t.type==="touchstart"?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{NR.forEach(n=>{this._triggerElement.addEventListener(n,this,PR)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){t.state===Wn.FADING_IN?this._startFadeOutTransition(t):t.state===Wn.FADING_OUT&&this._destroyRipple(t)}_startFadeOutTransition(t){let n=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=Wn.VISIBLE,!i&&(!n||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){let n=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=Wn.HIDDEN,n!==null&&(t.element.removeEventListener("transitionend",n.onTransitionEnd),t.element.removeEventListener("transitioncancel",n.onTransitionCancel)),t.element.remove()}_onMousedown(t){let n=S0(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+M3;!this._target.rippleDisabled&&!n&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!A0(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let n=t.changedTouches;if(n)for(let i=0;i<n.length;i++)this.fadeInRipple(n[i].clientX,n[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{let n=t.state===Wn.VISIBLE||t.config.terminateOnPointerUp&&t.state===Wn.FADING_IN;!t.config.persistent&&n&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let t=this._triggerElement;t&&(MR.forEach(n=>ol._eventManager.removeHandler(n,t,this)),this._pointerUpEventsRegistered&&NR.forEach(n=>t.removeEventListener(n,this,PR)))}};ol._eventManager=new N0;var L0=ol;function N3(e,t,n){let i=Math.max(Math.abs(e-n.left),Math.abs(e-n.right)),r=Math.max(Math.abs(t-n.top),Math.abs(t-n.bottom));return Math.sqrt(i*i+r*r)}var UR=new dt("mat-ripple-global-options"),L3=(()=>{let t=class t{get disabled(){return this._disabled}set disabled(i){i&&this.fadeOutAllNonPersistent(),this._disabled=i,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(i){this._trigger=i,this._setupTriggerEventsIfEnabled()}constructor(i,r,s,c,l){this._elementRef=i,this._animationMode=l,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=c||{},this._rippleRenderer=new L0(this,r,i,s)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:U(U(U({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(i,r=0,s){return typeof i=="number"?this._rippleRenderer.fadeInRipple(i,r,U(U({},this.rippleConfig),s)):this._rippleRenderer.fadeInRipple(0,0,U(U({},this.rippleConfig),i))}};t.\u0275fac=function(r){return new(r||t)(Z(Bt),Z(ht),Z($t),Z(UR,8),Z(Fn,8))},t.\u0275dir=re({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(r,s){r&2&&cn("mat-ripple-unbounded",s.unbounded)},inputs:{color:[Wt.None,"matRippleColor","color"],unbounded:[Wt.None,"matRippleUnbounded","unbounded"],centered:[Wt.None,"matRippleCentered","centered"],radius:[Wt.None,"matRippleRadius","radius"],animation:[Wt.None,"matRippleAnimation","animation"],disabled:[Wt.None,"matRippleDisabled","disabled"],trigger:[Wt.None,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0});let e=t;return e})(),VR=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=gt({type:t}),t.\u0275inj=mt({imports:[Re,Re]});let e=t;return e})();var LR={capture:!0},FR=["focus","click","mouseenter","touchstart"],O0="mat-ripple-loader-uninitialized",P0="mat-ripple-loader-class-name",jR="mat-ripple-loader-centered",qf="mat-ripple-loader-disabled",BR=(()=>{let t=class t{constructor(){this._document=q(ct,{optional:!0}),this._animationMode=q(Fn,{optional:!0}),this._globalRippleOptions=q(UR,{optional:!0}),this._platform=q($t),this._ngZone=q(ht),this._hosts=new Map,this._onInteraction=i=>{if(!(i.target instanceof HTMLElement))return;let s=i.target.closest(`[${O0}]`);s&&this._createRipple(s)},this._ngZone.runOutsideAngular(()=>{for(let i of FR)this._document?.addEventListener(i,this._onInteraction,LR)})}ngOnDestroy(){let i=this._hosts.keys();for(let r of i)this.destroyRipple(r);for(let r of FR)this._document?.removeEventListener(r,this._onInteraction,LR)}configureRipple(i,r){i.setAttribute(O0,""),(r.className||!i.hasAttribute(P0))&&i.setAttribute(P0,r.className||""),r.centered&&i.setAttribute(jR,""),r.disabled&&i.setAttribute(qf,"")}getRipple(i){return this._hosts.get(i)||this._createRipple(i)}setDisabled(i,r){let s=this._hosts.get(i);if(s){s.disabled=r;return}r?i.setAttribute(qf,""):i.removeAttribute(qf)}_createRipple(i){if(!this._document)return;let r=this._hosts.get(i);if(r)return r;i.querySelector(".mat-ripple")?.remove();let s=this._document.createElement("span");s.classList.add("mat-ripple",i.getAttribute(P0)),i.append(s);let c=new L3(new Bt(s),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return c._isInitialized=!0,c.trigger=i,c.centered=i.hasAttribute(jR),c.disabled=i.hasAttribute(qf),this.attachRipple(i,c),c}attachRipple(i,r){i.removeAttribute(O0),this._hosts.set(i,r)}destroyRipple(i){let r=this._hosts.get(i);r&&(r.ngOnDestroy(),this._hosts.delete(i))}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var F3=["mat-button",""],j3=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],U3=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var V3=new dt("MAT_BUTTON_CONFIG");var B3=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],z3=(()=>{let t=class t{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(i){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,i)}get disableRipple(){return this._disableRipple}set disableRipple(i){this._disableRipple=i,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(i){this._disabled=i,this._updateRippleDisabled()}constructor(i,r,s,c){this._elementRef=i,this._platform=r,this._ngZone=s,this._animationMode=c,this._focusMonitor=q(Oa),this._rippleLoader=q(BR),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;let l=q(V3,{optional:!0}),d=i.nativeElement,f=d.classList;this.disabledInteractive=l?.disabledInteractive??!1,this._rippleLoader?.configureRipple(d,{className:"mat-mdc-button-ripple"});for(let{attribute:m,mdcClasses:v}of B3)d.hasAttribute(m)&&f.add(...v)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(i="program",r){i?this._focusMonitor.focusVia(this._elementRef.nativeElement,i,r):this._elementRef.nativeElement.focus(r)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}};t.\u0275fac=function(r){Is()},t.\u0275dir=re({type:t,inputs:{color:"color",disableRipple:[Wt.HasDecoratorInputTransform,"disableRipple","disableRipple",ni],disabled:[Wt.HasDecoratorInputTransform,"disabled","disabled",ni],ariaDisabled:[Wt.HasDecoratorInputTransform,"aria-disabled","ariaDisabled",ni],disabledInteractive:[Wt.HasDecoratorInputTransform,"disabledInteractive","disabledInteractive",ni]},features:[vi]});let e=t;return e})();var zR=(()=>{let t=class t extends z3{constructor(i,r,s,c){super(i,r,s,c)}};t.\u0275fac=function(r){return new(r||t)(Z(Bt),Z($t),Z(ht),Z(Fn,8))},t.\u0275cmp=Et({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(r,s){r&2&&(ei("disabled",s._getDisabledAttribute())("aria-disabled",s._getAriaDisabled()),kc(s.color?"mat-"+s.color:""),cn("mat-mdc-button-disabled",s.disabled)("mat-mdc-button-disabled-interactive",s.disabledInteractive)("_mat-animation-noopable",s._animationMode==="NoopAnimations")("mat-unthemed",!s.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[Li,ke],attrs:F3,ngContentSelectors:U3,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,s){r&1&&(bi(j3),rt(0,"span",0),un(1),N(2,"span",1),un(3,1),V(),un(4,2),rt(5,"span",2)(6,"span",3)),r&2&&cn("mdc-button__ripple",!s._isFab)("mdc-fab__ripple",s._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px);display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);font-weight:var(--mdc-text-button-label-text-weight);text-transform:var(--mdc-text-button-label-text-transform);height:var(--mdc-text-button-container-height);border-radius:var(--mdc-text-button-container-shape);padding:0 var(--mat-text-button-horizontal-padding, 8px)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);font-weight:var(--mdc-filled-button-label-text-weight);text-transform:var(--mdc-filled-button-label-text-transform);height:var(--mdc-filled-button-container-height);border-radius:var(--mdc-filled-button-container-shape);padding:0 var(--mat-filled-button-horizontal-padding, 16px)}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color)}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);font-weight:var(--mdc-protected-button-label-text-weight);text-transform:var(--mdc-protected-button-label-text-transform);height:var(--mdc-protected-button-container-height);border-radius:var(--mdc-protected-button-container-shape);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow)}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color)}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);font-weight:var(--mdc-outlined-button-label-text-weight);text-transform:var(--mdc-outlined-button-label-text-transform);height:var(--mdc-outlined-button-container-height);border-radius:var(--mdc-outlined-button-container-shape);padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width);padding:0 var(--mat-outlined-button-horizontal-padding, 15px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color)}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape)}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width))}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button-base{text-decoration:none}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0});let e=t;return e})();var qR=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=gt({type:t}),t.\u0275inj=mt({imports:[Re,VR,Re]});let e=t;return e})();var H3=["*"],Hf;function W3(){if(Hf===void 0&&(Hf=null,typeof window<"u")){let e=window;e.trustedTypes!==void 0&&(Hf=e.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return Hf}function sl(e){return W3()?.createHTML(e)||e}function HR(e){return Error(`Unable to find icon with the name "${e}"`)}function G3(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}function WR(e){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${e}".`)}function GR(e){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${e}".`)}var $i=class{constructor(t,n,i){this.url=t,this.svgText=n,this.options=i}},$3=(()=>{let t=class t{constructor(i,r,s,c){this._httpClient=i,this._sanitizer=r,this._errorHandler=c,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=s}addSvgIcon(i,r,s){return this.addSvgIconInNamespace("",i,r,s)}addSvgIconLiteral(i,r,s){return this.addSvgIconLiteralInNamespace("",i,r,s)}addSvgIconInNamespace(i,r,s,c){return this._addSvgIconConfig(i,r,new $i(s,null,c))}addSvgIconResolver(i){return this._resolvers.push(i),this}addSvgIconLiteralInNamespace(i,r,s,c){let l=this._sanitizer.sanitize(En.HTML,s);if(!l)throw GR(s);let d=sl(l);return this._addSvgIconConfig(i,r,new $i("",d,c))}addSvgIconSet(i,r){return this.addSvgIconSetInNamespace("",i,r)}addSvgIconSetLiteral(i,r){return this.addSvgIconSetLiteralInNamespace("",i,r)}addSvgIconSetInNamespace(i,r,s){return this._addSvgIconSetConfig(i,new $i(r,null,s))}addSvgIconSetLiteralInNamespace(i,r,s){let c=this._sanitizer.sanitize(En.HTML,r);if(!c)throw GR(r);let l=sl(c);return this._addSvgIconSetConfig(i,new $i("",l,s))}registerFontClassAlias(i,r=i){return this._fontCssClassesByAlias.set(i,r),this}classNameForFontAlias(i){return this._fontCssClassesByAlias.get(i)||i}setDefaultFontSetClass(...i){return this._defaultFontSetClass=i,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(i){let r=this._sanitizer.sanitize(En.RESOURCE_URL,i);if(!r)throw WR(i);let s=this._cachedIconsByUrl.get(r);return s?Y(Wf(s)):this._loadSvgIconFromConfig(new $i(i,null)).pipe(Yt(c=>this._cachedIconsByUrl.set(r,c)),pt(c=>Wf(c)))}getNamedSvgIcon(i,r=""){let s=$R(r,i),c=this._svgIconConfigs.get(s);if(c)return this._getSvgFromConfig(c);if(c=this._getIconConfigFromResolvers(r,i),c)return this._svgIconConfigs.set(s,c),this._getSvgFromConfig(c);let l=this._iconSetConfigs.get(r);return l?this._getSvgFromIconSetConfigs(i,l):ao(HR(s))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(i){return i.svgText?Y(Wf(this._svgElementFromConfig(i))):this._loadSvgIconFromConfig(i).pipe(pt(r=>Wf(r)))}_getSvgFromIconSetConfigs(i,r){let s=this._extractIconWithNameFromAnySet(i,r);if(s)return Y(s);let c=r.filter(l=>!l.svgText).map(l=>this._loadSvgIconSetFromConfig(l).pipe(or(d=>{let m=`Loading icon set URL: ${this._sanitizer.sanitize(En.RESOURCE_URL,l.url)} failed: ${d.message}`;return this._errorHandler.handleError(new Error(m)),Y(null)})));return YE(c).pipe(pt(()=>{let l=this._extractIconWithNameFromAnySet(i,r);if(!l)throw HR(i);return l}))}_extractIconWithNameFromAnySet(i,r){for(let s=r.length-1;s>=0;s--){let c=r[s];if(c.svgText&&c.svgText.toString().indexOf(i)>-1){let l=this._svgElementFromConfig(c),d=this._extractSvgIconFromSet(l,i,c.options);if(d)return d}}return null}_loadSvgIconFromConfig(i){return this._fetchIcon(i).pipe(Yt(r=>i.svgText=r),pt(()=>this._svgElementFromConfig(i)))}_loadSvgIconSetFromConfig(i){return i.svgText?Y(null):this._fetchIcon(i).pipe(Yt(r=>i.svgText=r))}_extractSvgIconFromSet(i,r,s){let c=i.querySelector(`[id="${r}"]`);if(!c)return null;let l=c.cloneNode(!0);if(l.removeAttribute("id"),l.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(l,s);if(l.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(l),s);let d=this._svgElementFromString(sl("<svg></svg>"));return d.appendChild(l),this._setSvgAttributes(d,s)}_svgElementFromString(i){let r=this._document.createElement("DIV");r.innerHTML=i;let s=r.querySelector("svg");if(!s)throw Error("<svg> tag not found");return s}_toSvgElement(i){let r=this._svgElementFromString(sl("<svg></svg>")),s=i.attributes;for(let c=0;c<s.length;c++){let{name:l,value:d}=s[c];l!=="id"&&r.setAttribute(l,d)}for(let c=0;c<i.childNodes.length;c++)i.childNodes[c].nodeType===this._document.ELEMENT_NODE&&r.appendChild(i.childNodes[c].cloneNode(!0));return r}_setSvgAttributes(i,r){return i.setAttribute("fit",""),i.setAttribute("height","100%"),i.setAttribute("width","100%"),i.setAttribute("preserveAspectRatio","xMidYMid meet"),i.setAttribute("focusable","false"),r&&r.viewBox&&i.setAttribute("viewBox",r.viewBox),i}_fetchIcon(i){let{url:r,options:s}=i,c=s?.withCredentials??!1;if(!this._httpClient)throw G3();if(r==null)throw Error(`Cannot fetch icon from URL "${r}".`);let l=this._sanitizer.sanitize(En.RESOURCE_URL,r);if(!l)throw WR(r);let d=this._inProgressUrlFetches.get(l);if(d)return d;let f=this._httpClient.get(l,{responseType:"text",withCredentials:c}).pipe(pt(m=>sl(m)),uo(()=>this._inProgressUrlFetches.delete(l)),tx());return this._inProgressUrlFetches.set(l,f),f}_addSvgIconConfig(i,r,s){return this._svgIconConfigs.set($R(i,r),s),this}_addSvgIconSetConfig(i,r){let s=this._iconSetConfigs.get(i);return s?s.push(r):this._iconSetConfigs.set(i,[r]),this}_svgElementFromConfig(i){if(!i.svgElement){let r=this._svgElementFromString(i.svgText);this._setSvgAttributes(r,i.options),i.svgElement=r}return i.svgElement}_getIconConfigFromResolvers(i,r){for(let s=0;s<this._resolvers.length;s++){let c=this._resolvers[s](r,i);if(c)return K3(c)?new $i(c.url,null,c.options):new $i(c,null)}}};t.\u0275fac=function(r){return new(r||t)(R(Wx,8),R(pv),R(ct,8),R(lo))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Wf(e){return e.cloneNode(!0)}function $R(e,t){return e+":"+t}function K3(e){return!!(e.url&&e.options)}var Y3=new dt("MAT_ICON_DEFAULT_OPTIONS"),X3=new dt("mat-icon-location",{providedIn:"root",factory:Q3});function Q3(){let e=q(ct),t=e?e.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}var KR=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Z3=KR.map(e=>`[${e}]`).join(", "),J3=/^url\(['"]?#(.*?)['"]?\)$/,Gf=(()=>{let t=class t{get color(){return this._color||this._defaultColor}set color(i){this._color=i}get svgIcon(){return this._svgIcon}set svgIcon(i){i!==this._svgIcon&&(i?this._updateSvgIcon(i):this._svgIcon&&this._clearSvgElement(),this._svgIcon=i)}get fontSet(){return this._fontSet}set fontSet(i){let r=this._cleanupFontValue(i);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(i){let r=this._cleanupFontValue(i);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}constructor(i,r,s,c,l,d){this._elementRef=i,this._iconRegistry=r,this._location=c,this._errorHandler=l,this.inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Pi.EMPTY,d&&(d.color&&(this.color=this._defaultColor=d.color),d.fontSet&&(this.fontSet=d.fontSet)),s||i.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(i){if(!i)return["",""];let r=i.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${i}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let i=this._elementsWithExternalReferences;if(i&&i.size){let r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(i){this._clearSvgElement();let r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(i),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(i)}_clearSvgElement(){let i=this._elementRef.nativeElement,r=i.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){let s=i.childNodes[r];(s.nodeType!==1||s.nodeName.toLowerCase()==="svg")&&s.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let i=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(s=>s.length>0);this._previousFontSetClass.forEach(s=>i.classList.remove(s)),r.forEach(s=>i.classList.add(s)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&i.classList.remove(this._previousFontIconClass),this.fontIcon&&i.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(i){return typeof i=="string"?i.trim().split(" ")[0]:i}_prependPathToReferences(i){let r=this._elementsWithExternalReferences;r&&r.forEach((s,c)=>{s.forEach(l=>{c.setAttribute(l.name,`url('${i}#${l.value}')`)})})}_cacheChildrenWithExternalReferences(i){let r=i.querySelectorAll(Z3),s=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let c=0;c<r.length;c++)KR.forEach(l=>{let d=r[c],f=d.getAttribute(l),m=f?f.match(J3):null;if(m){let v=s.get(d);v||(v=[],s.set(d,v)),v.push({name:l,value:m[1]})}})}_updateSvgIcon(i){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),i){let[r,s]=this._splitIconName(i);r&&(this._svgNamespace=r),s&&(this._svgName=s),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(s,r).pipe(ve(1)).subscribe(c=>this._setSvgElement(c),c=>{let l=`Error retrieving icon ${r}:${s}! ${c.message}`;this._errorHandler.handleError(new Error(l))})}}};t.\u0275fac=function(r){return new(r||t)(Z(Bt),Z($3),Gg("aria-hidden"),Z(X3),Z(lo),Z(Y3,8))},t.\u0275cmp=Et({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(r,s){r&2&&(ei("data-mat-icon-type",s._usingFontIcon()?"font":"svg")("data-mat-icon-name",s._svgName||s.fontIcon)("data-mat-icon-namespace",s._svgNamespace||s.fontSet)("fontIcon",s._usingFontIcon()?s.fontIcon:null),kc(s.color?"mat-"+s.color:""),cn("mat-icon-inline",s.inline)("mat-icon-no-color",s.color!=="primary"&&s.color!=="accent"&&s.color!=="warn"))},inputs:{color:"color",inline:[Wt.HasDecoratorInputTransform,"inline","inline",ni],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],standalone:!0,features:[vi,ke],ngContentSelectors:H3,decls:1,vars:0,template:function(r,s){r&1&&(bi(),un(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0});let e=t;return e})(),YR=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=gt({type:t}),t.\u0275inj=mt({imports:[Re,Re]});let e=t;return e})();var tz=["*"];var ez=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],nz=["[mat-card-avatar], [matCardAvatar]",`mat-card-title, mat-card-subtitle,
      [mat-card-title], [mat-card-subtitle],
      [matCardTitle], [matCardSubtitle]`,"*"],iz=new dt("MAT_CARD_CONFIG"),$f=(()=>{let t=class t{constructor(i){this.appearance=i?.appearance||"raised"}};t.\u0275fac=function(r){return new(r||t)(Z(iz,8))},t.\u0275cmp=Et({type:t,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(r,s){r&2&&cn("mat-mdc-card-outlined",s.appearance==="outlined")("mdc-card--outlined",s.appearance==="outlined")},inputs:{appearance:"appearance"},exportAs:["matCard"],standalone:!0,features:[ke],ngContentSelectors:tz,decls:1,vars:0,template:function(r,s){r&1&&(bi(),un(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation)}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0});let e=t;return e})(),QR=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=re({type:t,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"],standalone:!0});let e=t;return e})();var ZR=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=re({type:t,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"],standalone:!0});let e=t;return e})();var Kf=(()=>{let t=class t{constructor(){this.align="start"}};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=re({type:t,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-mdc-card-actions","mdc-card__actions"],hostVars:2,hostBindings:function(r,s){r&2&&cn("mat-mdc-card-actions-align-end",s.align==="end")},inputs:{align:"align"},exportAs:["matCardActions"],standalone:!0});let e=t;return e})(),JR=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Et({type:t,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],standalone:!0,features:[ke],ngContentSelectors:nz,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(r,s){r&1&&(bi(ez),un(0),N(1,"div",0),un(2,1),V(),un(3,2))},encapsulation:2,changeDetection:0});let e=t;return e})();var tk=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=re({type:t,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-mdc-card-image","mdc-card__media"],standalone:!0});let e=t;return e})();var ek=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=gt({type:t}),t.\u0275inj=mt({imports:[Re,kd,Re]});let e=t;return e})();function rz(e,t){e&1&&(N(0,"div",10),rt(1,"img",11),V())}var ik=(()=>{let t=class t{constructor(){this.selectedImageFile=null,this.auth=new Pe,this.firestore=new zn,this.storage=new jf,this.router=new te}ngOnInit(){}onPostClick(i){let r=i.value;r.length<=0||(this.selectedImageFile?this.uploadImagePost(r):this.uploadPost(r))}uploadImagePost(i){let r=this.firestore.genDocId();this.storage.upload({uploadName:"upload Image Post",path:["Posts",r,"image"],data:{data:this.selectedImageFile},onComplete:s=>{let c=this.auth?.getAuth().currentUser;c&&this.firestore.create({path:["Posts",r],data:{comment:i,creatorId:c.uid,imageUrl:s,timestamp:pe.getFirestoreTimestamp()},onComplete:l=>{alert("upload text/photo success!"),window.location.reload()},onFail:l=>{alert(l)}})},onFail:s=>{alert(s)}})}uploadPost(i){let r=this.auth?.getAuth().currentUser;r&&this.firestore.create({path:["Posts"],data:{comment:i,creatorId:r.uid,timestamp:pe.getFirestoreTimestamp()},onComplete:s=>{alert("upload text success!"),window.location.reload()},onFail:s=>{alert(s)}})}onPhotoSelected(i){if(this.selectedImageFile=i.files[0],!this.selectedImageFile)return;let r=new FileReader;r.readAsDataURL(this.selectedImageFile),r.addEventListener("loadend",s=>{let c=r.result.toString(),l=document.getElementById("post-preview-image");c&&(l.src=c)})}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Et({type:t,selectors:[["app-postfeed"]],decls:18,vars:1,consts:[["commentInput",""],["photoSelector",""],[1,"w3-container"],["placeholder","Type Message..."],["id","post-preview",4,"ngIf"],["align","end"],["mat-button","","color","warn"],["for","photo-upload"],["id","photo-upload","type","file","accept","image/*",3,"change"],["mat-flat-button","","color","warn",3,"click"],["id","post-preview"],["id","post-preview-image"]],template:function(r,s){if(r&1){let c=dr();N(0,"div",2)(1,"mat-card")(2,"mat-card-header")(3,"mat-card-title"),nt(4,"Create Post"),V()(),N(5,"div"),rt(6,"textarea",3,0),V(),ti(8,rz,2,0,"div",4),N(9,"mat-card-actions",5)(10,"button",6)(11,"label",7)(12,"input",8,1),be("change",function(){wn(c);let d=ln(13);return In(s.onPhotoSelected(d))}),V(),N(14,"mat-icon"),nt(15,"insert_photo"),V()()(),N(16,"button",9),be("click",function(){wn(c);let d=ln(7);return In(s.onPostClick(d))}),nt(17,"Post"),V()()()()}r&2&&(jn(8),lr("ngIf",s.selectedImageFile))},dependencies:[Rd,zR,Gf,$f,Kf,JR,QR],styles:["#photo-upload[_ngcontent-%COMP%]{display:none}textarea[_ngcontent-%COMP%]{font-size:1.5em;padding:1em;resize:none;width:250px;min-height:200px;border:none;outline:none}#post-preview[_ngcontent-%COMP%]{text-align:left;margin-top:1em;margin-left:1.5em}#post-preview-image[_ngcontent-%COMP%]{object-fit:cover;object-position:center;width:150px;height:100px;max-width:100%;max-height:300px;border-radius:1em;border:1px dashed gray}mat-card[_ngcontent-%COMP%]{display:flex;margin-top:50px;margin-right:30%;margin-left:30%;background:#fff;border-radius:20px;box-shadow:0 2px 6px -1px #00000067}"]});let e=t;return e})();function oz(e,t){if(e&1&&rt(0,"img",2),e&2){let n=Yg();bx("src",n.postData==null?null:n.postData.imageUrl,hx)}}var rk=(()=>{let t=class t{constructor(){this.firestore=new zn}ngOnInit(){this.getCreatorInfo()}getCreatorInfo(){this.firestore.getDocument({path:["Users",this.postData.creatorId],onComplete:i=>{let r=i.data();this.creatorName=r.publicName,this.creatorUsername=r.username}})}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Et({type:t,selectors:[["app-post"]],inputs:{postData:"postData"},decls:13,vars:3,consts:[["mat-card-image","",3,"src",4,"ngIf"],["color","warn",1,"action-item"],["mat-card-image","",3,"src"]],template:function(r,s){r&1&&(N(0,"mat-card"),ti(1,oz,1,1,"img",0),N(2,"mat-card-content")(3,"b"),nt(4),V(),nt(5),V(),N(6,"mat-card-actions")(7,"mat-icon",1),nt(8,"chat_bubble_outline"),V(),N(9,"mat-icon",1),nt(10,"favorite_border"),V(),N(11,"mat-icon",1),nt(12,"save"),V()()()),r&2&&(jn(),lr("ngIf",s.postData==null?null:s.postData.imageUrl),jn(3),yx(s.creatorUsername),jn(),Oc(" ",s.postData==null?null:s.postData.comment," "))},dependencies:[Rd,Gf,$f,Kf,ZR,tk],styles:[".action-item[_ngcontent-%COMP%]{margin-left:.5em;cursor:pointer}mat-card[_ngcontent-%COMP%]{display:flex;margin-top:40px;margin-right:30%;margin-left:30%;background:#fff;border-radius:20px;box-shadow:0 2px 6px -1px #00000067}mat-card-header[_ngcontent-%COMP%]{padding:1.25em}mat-card-content[_ngcontent-%COMP%]{padding-left:1.25em;padding-top:-.25em}img[_ngcontent-%COMP%]{border-radius:5px;margin:20px}"]});let e=t;return e})();var ok=(()=>{let t=class t{constructor(i){this.router=i,this.auth=new Pe,this.firestore=new zn,this.userDocument=null,this.auth?.listenToSignInStateChanges(r=>{this.auth.checkSignInState({whenSignedIn:s=>{this.getUserProfile()},whenSignedOut:s=>{},whenSignedInAndEmailNotVerified:s=>{},whenSignedInAndEmailVerified:s=>{},whenChanged:s=>{}})})}getUserProfile(){this.firestore.listenToDocument({name:"Getting Document",path:["Users",this.auth?.getAuth()?.currentUser?.uid||"{}"],onUpdate:i=>{this.userDocument=i.data()}})}toLogout(){this.auth.signOut(),this.router.navigate([""])}getProfile(){return this.userDocument?.username}};t.\u0275fac=function(r){return new(r||t)(Z(te))},t.\u0275cmp=Et({type:t,selectors:[["app-topbar"]],decls:10,vars:1,consts:[[1,"navbar"],[1,"logo"],["src","https://static-00.iconduck.com/assets.00/oneplus-icon-2048x2048-4hadrx88.png",2,"height","30px"],[1,"nav-links"],[3,"click"]],template:function(r,s){r&1&&(N(0,"nav",0)(1,"div",1),rt(2,"img",2),V(),N(3,"ul",3)(4,"li")(5,"a"),nt(6),V()(),N(7,"li")(8,"a",4),be("click",function(){return s.toLogout()}),nt(9,"logout"),V()()()()),r&2&&(jn(6),Oc("Hello, ",s.userDocument==null?null:s.userDocument.username,""))},styles:[".navbar[_ngcontent-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,San Francisco,Helvetica,Arial,sans-serif;background:linear-gradient(to right,#9796f0,#fbc7d4);padding:20px;border-radius:20px;box-shadow:0 2px 6px -1px #00000067}.navbar[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{margin-top:-8px;text-align:left;justify-content:center;position:absolute}.nav-links[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;justify-content:right;text-align:right}.nav-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline;margin-right:20px}.nav-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{margin-right:0}.nav-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#444;font-weight:700}.nav-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff}"]});let e=t;return e})();var sk=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=gt({type:t}),t.\u0275inj=mt({imports:[Re,Re]});let e=t;return e})();var sz=20,ck=(()=>{let t=class t{constructor(i,r,s){this._ngZone=i,this._platform=r,this._scrolled=new Tt,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=s}register(i){this.scrollContainers.has(i)||this.scrollContainers.set(i,i.elementScrolled().subscribe(()=>this._scrolled.next(i)))}deregister(i){let r=this.scrollContainers.get(i);r&&(r.unsubscribe(),this.scrollContainers.delete(i))}scrolled(i=sz){return this._platform.isBrowser?new Ic(r=>{this._globalSubscription||this._addGlobalListener();let s=i>0?this._scrolled.pipe(Ug(i)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{s.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Y()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((i,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(i,r){let s=this.getAncestorScrollContainers(i);return this.scrolled(r).pipe(fe(c=>!c||s.indexOf(c)>-1))}getAncestorScrollContainers(i){let r=[];return this.scrollContainers.forEach((s,c)=>{this._scrollableContainsElement(c,i)&&r.push(c)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(i,r){let s=Gi(r),c=i.getElementRef().nativeElement;do if(s==c)return!0;while(s=s.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let i=this._getWindow();return XE(i.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}};t.\u0275fac=function(r){return new(r||t)(R(ht),R($t),R(ct,8))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var az=20,F0=(()=>{let t=class t{constructor(i,r,s){this._platform=i,this._change=new Tt,this._changeListener=c=>{this._change.next(c)},this._document=s,r.runOutsideAngular(()=>{if(i.isBrowser){let c=this._getWindow();c.addEventListener("resize",this._changeListener),c.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let i=this._getWindow();i.removeEventListener("resize",this._changeListener),i.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let i={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),i}getViewportRect(){let i=this.getViewportScrollPosition(),{width:r,height:s}=this.getViewportSize();return{top:i.top,left:i.left,bottom:i.top+s,right:i.left+r,height:s,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let i=this._document,r=this._getWindow(),s=i.documentElement,c=s.getBoundingClientRect(),l=-c.top||i.body.scrollTop||r.scrollY||s.scrollTop||0,d=-c.left||i.body.scrollLeft||r.scrollX||s.scrollLeft||0;return{top:l,left:d}}change(i=az){return i>0?this._change.pipe(Ug(i)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let i=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:i.innerWidth,height:i.innerHeight}:{width:0,height:0}}};t.\u0275fac=function(r){return new(r||t)(R($t),R(ht),R(ct,8))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var ak=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=gt({type:t}),t.\u0275inj=mt({});let e=t;return e})(),j0=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=gt({type:t}),t.\u0275inj=mt({imports:[jr,ak,jr,ak]});let e=t;return e})();var al=class{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;t!=null&&(this._attachedHost=null,t.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},Pa=class extends al{constructor(t,n,i,r,s){super(),this.component=t,this.viewContainerRef=n,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=s}},Ma=class extends al{constructor(t,n,i,r){super(),this.templateRef=t,this.viewContainerRef=n,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,n=this.context){return this.context=n,super.attach(t)}detach(){return this.context=void 0,super.detach()}},U0=class extends al{constructor(t){super(),this.element=t instanceof Bt?t.nativeElement:t}},Na=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){if(t instanceof Pa)return this._attachedPortal=t,this.attachComponentPortal(t);if(t instanceof Ma)return this._attachedPortal=t,this.attachTemplatePortal(t);if(this.attachDomPortal&&t instanceof U0)return this._attachedPortal=t,this.attachDomPortal(t)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var Xf=class extends Na{constructor(t,n,i,r,s){super(),this.outletElement=t,this._componentFactoryResolver=n,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=c=>{this._document;let l=c.element;l.parentNode;let d=this._document.createComment("dom-portal");l.parentNode.insertBefore(d,l),this.outletElement.appendChild(l),this._attachedPortal=c,super.setDisposeFn(()=>{d.parentNode&&d.parentNode.replaceChild(l,d)})},this._document=s}attachComponentPortal(t){let i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||sn.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let n=t.viewContainerRef,i=n.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=n.indexOf(i);r!==-1&&n.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}};var cl=(()=>{let t=class t extends Na{constructor(i,r,s){super(),this._componentFactoryResolver=i,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new an,this.attachDomPortal=c=>{this._document;let l=c.element;l.parentNode;let d=this._document.createComment("dom-portal");c.setAttachedHost(this),l.parentNode.insertBefore(d,l),this._getRootNode().appendChild(l),this._attachedPortal=c,super.setDisposeFn(()=>{d.parentNode&&d.parentNode.replaceChild(l,d)})},this._document=s}get portal(){return this._attachedPortal}set portal(i){this.hasAttached()&&!i&&!this._isInitialized||(this.hasAttached()&&super.detach(),i&&super.attach(i),this._attachedPortal=i||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(i){i.setAttachedHost(this);let r=i.viewContainerRef!=null?i.viewContainerRef:this._viewContainerRef,c=(i.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(i.component),l=r.createComponent(c,r.length,i.injector||r.injector,i.projectableNodes||void 0);return r!==this._viewContainerRef&&this._getRootNode().appendChild(l.hostView.rootNodes[0]),super.setDisposeFn(()=>l.destroy()),this._attachedPortal=i,this._attachedRef=l,this.attached.emit(l),l}attachTemplatePortal(i){i.setAttachedHost(this);let r=this._viewContainerRef.createEmbeddedView(i.templateRef,i.context,{injector:i.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=i,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){let i=this._viewContainerRef.element.nativeElement;return i.nodeType===i.ELEMENT_NODE?i:i.parentNode}};t.\u0275fac=function(r){return new(r||t)(Z(Id),Z(Es),Z(ct))},t.\u0275dir=re({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[Wt.None,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[Li]});let e=t;return e})();var zo=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=gt({type:t}),t.\u0275inj=mt({});let e=t;return e})();var uk=yR(),V0=class{constructor(t,n){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=n}attach(){}enable(){if(this._canBeEnabled()){let t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=ee(-this._previousScrollPosition.left),t.style.top=ee(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let t=this._document.documentElement,n=this._document.body,i=t.style,r=n.style,s=i.scrollBehavior||"",c=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),uk&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),uk&&(i.scrollBehavior=s,r.scrollBehavior=c)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let n=this._document.body,i=this._viewportRuler.getViewportSize();return n.scrollHeight>i.height||n.scrollWidth>i.width}};var B0=class{constructor(t,n,i,r){this._scrollDispatcher=t,this._ngZone=n,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(this._scrollSubscription)return;let t=this._scrollDispatcher.scrolled(0).pipe(fe(n=>!n||!this._overlayRef.overlayElement.contains(n.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{let n=this._viewportRuler.getViewportScrollPosition().top;Math.abs(n-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},Qf=class{enable(){}disable(){}attach(){}};function z0(e,t){return t.some(n=>{let i=e.bottom<n.top,r=e.top>n.bottom,s=e.right<n.left,c=e.left>n.right;return i||r||s||c})}function lk(e,t){return t.some(n=>{let i=e.top<n.top,r=e.bottom>n.bottom,s=e.left<n.left,c=e.right>n.right;return i||r||s||c})}var q0=class{constructor(t,n,i,r){this._scrollDispatcher=t,this._viewportRuler=n,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(!this._scrollSubscription){let t=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(t).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let n=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();z0(n,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},uz=(()=>{let t=class t{constructor(i,r,s,c){this._scrollDispatcher=i,this._viewportRuler=r,this._ngZone=s,this.noop=()=>new Qf,this.close=l=>new B0(this._scrollDispatcher,this._ngZone,this._viewportRuler,l),this.block=()=>new V0(this._viewportRuler,this._document),this.reposition=l=>new q0(this._scrollDispatcher,this._viewportRuler,this._ngZone,l),this._document=c}};t.\u0275fac=function(r){return new(r||t)(R(ck),R(F0),R(ht),R(ct))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),ul=class{constructor(t){if(this.scrollStrategy=new Qf,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){let n=Object.keys(t);for(let i of n)t[i]!==void 0&&(this[i]=t[i])}}};var H0=class{constructor(t,n){this.connectionPair=t,this.scrollableViewProperties=n}};var mk=(()=>{let t=class t{constructor(i){this._attachedOverlays=[],this._document=i}ngOnDestroy(){this.detach()}add(i){this.remove(i),this._attachedOverlays.push(i)}remove(i){let r=this._attachedOverlays.indexOf(i);r>-1&&this._attachedOverlays.splice(r,1),this._attachedOverlays.length===0&&this.detach()}};t.\u0275fac=function(r){return new(r||t)(R(ct))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),lz=(()=>{let t=class t extends mk{constructor(i,r){super(i),this._ngZone=r,this._keydownListener=s=>{let c=this._attachedOverlays;for(let l=c.length-1;l>-1;l--)if(c[l]._keydownEvents.observers.length>0){let d=c[l]._keydownEvents;this._ngZone?this._ngZone.run(()=>d.next(s)):d.next(s);break}}}add(i){super.add(i),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}};t.\u0275fac=function(r){return new(r||t)(R(ct),R(ht,8))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),dz=(()=>{let t=class t extends mk{constructor(i,r,s){super(i),this._platform=r,this._ngZone=s,this._cursorStyleIsSet=!1,this._pointerDownListener=c=>{this._pointerDownEventTarget=ai(c)},this._clickListener=c=>{let l=ai(c),d=c.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:l;this._pointerDownEventTarget=null;let f=this._attachedOverlays.slice();for(let m=f.length-1;m>-1;m--){let v=f[m];if(v._outsidePointerEvents.observers.length<1||!v.hasAttached())continue;if(v.overlayElement.contains(l)||v.overlayElement.contains(d))break;let y=v._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>y.next(c)):y.next(c)}}}add(i){if(super.add(i),!this._isAttached){let r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let i=this._document.body;i.removeEventListener("pointerdown",this._pointerDownListener,!0),i.removeEventListener("click",this._clickListener,!0),i.removeEventListener("auxclick",this._clickListener,!0),i.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(i.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(i){i.addEventListener("pointerdown",this._pointerDownListener,!0),i.addEventListener("click",this._clickListener,!0),i.addEventListener("auxclick",this._clickListener,!0),i.addEventListener("contextmenu",this._clickListener,!0)}};t.\u0275fac=function(r){return new(r||t)(R(ct),R($t),R(ht,8))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),La=(()=>{let t=class t{constructor(i,r){this._platform=r,this._document=i}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let i="cdk-overlay-container";if(this._platform.isBrowser||el()){let s=this._document.querySelectorAll(`.${i}[platform="server"], .${i}[platform="test"]`);for(let c=0;c<s.length;c++)s[c].remove()}let r=this._document.createElement("div");r.classList.add(i),el()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}};t.\u0275fac=function(r){return new(r||t)(R(ct),R($t))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Ki=class{constructor(t,n,i,r,s,c,l,d,f,m=!1){this._portalOutlet=t,this._host=n,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=c,this._document=l,this._location=d,this._outsideClickDispatcher=f,this._animationsDisabled=m,this._backdropElement=null,this._backdropClick=new Tt,this._attachments=new Tt,this._detachments=new Tt,this._locationChanges=Pi.EMPTY,this._backdropClickHandler=v=>this._backdropClick.next(v),this._backdropTransitionendHandler=v=>{this._disposeBackdrop(v.target)},this._keydownEvents=new Tt,this._outsidePointerEvents=new Tt,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let n=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(ve(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof n?.onDestroy=="function"&&n.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),n}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){let t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=U(U({},this._config),t),this._updateElementSize()}setDirection(t){this._config=ie(U({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){let t=this._config.direction;return t?typeof t=="string"?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let t=this._pane.style;t.width=ee(this._config.width),t.height=ee(this._config.height),t.minWidth=ee(this._config.minWidth),t.minHeight=ee(this._config.minHeight),t.maxWidth=ee(this._config.maxWidth),t.maxHeight=ee(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){let t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t=this._backdropElement;if(t){if(this._animationsDisabled){this._disposeBackdrop(t);return}t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,n,i){let r=Ra(n||[]).filter(s=>!!s);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{let t=this._ngZone.onStable.pipe(Ni(bd(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){let t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},dk="cdk-overlay-connected-position-bounding-box",hz=/([A-Za-z%]+)$/,W0=class{get positions(){return this._preferredPositions}constructor(t,n,i,r,s){this._viewportRuler=n,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Tt,this._resizeSubscription=Pi.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._overlayRef&&this._overlayRef,this._validatePositions(),t.hostElement.classList.add(dk),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._originRect,n=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[],c;for(let l of this._preferredPositions){let d=this._getOriginPoint(t,r,l),f=this._getOverlayPoint(d,n,l),m=this._getOverlayFit(f,n,i,l);if(m.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(l,d);return}if(this._canFitWithFlexibleDimensions(m,f,i)){s.push({position:l,origin:d,overlayRect:n,boundingBoxRect:this._calculateBoundingBoxRect(d,l)});continue}(!c||c.overlayFit.visibleArea<m.visibleArea)&&(c={overlayFit:m,overlayPoint:f,originPoint:d,position:l,overlayRect:n})}if(s.length){let l=null,d=-1;for(let f of s){let m=f.boundingBoxRect.width*f.boundingBoxRect.height*(f.position.weight||1);m>d&&(d=m,l=f)}this._isPushed=!1,this._applyPosition(l.position,l.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(c.position,c.originPoint);return}this._applyPosition(c.position,c.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&qo(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(dk),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let n=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,n)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,t.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,n,i){let r;if(i.originX=="center")r=t.left+t.width/2;else{let c=this._isRtl()?t.right:t.left,l=this._isRtl()?t.left:t.right;r=i.originX=="start"?c:l}n.left<0&&(r-=n.left);let s;return i.originY=="center"?s=t.top+t.height/2:s=i.originY=="top"?t.top:t.bottom,n.top<0&&(s-=n.top),{x:r,y:s}}_getOverlayPoint(t,n,i){let r;i.overlayX=="center"?r=-n.width/2:i.overlayX==="start"?r=this._isRtl()?-n.width:0:r=this._isRtl()?0:-n.width;let s;return i.overlayY=="center"?s=-n.height/2:s=i.overlayY=="top"?0:-n.height,{x:t.x+r,y:t.y+s}}_getOverlayFit(t,n,i,r){let s=fk(n),{x:c,y:l}=t,d=this._getOffset(r,"x"),f=this._getOffset(r,"y");d&&(c+=d),f&&(l+=f);let m=0-c,v=c+s.width-i.width,y=0-l,_=l+s.height-i.height,I=this._subtractOverflows(s.width,m,v),E=this._subtractOverflows(s.height,y,_),C=I*E;return{visibleArea:C,isCompletelyWithinViewport:s.width*s.height===C,fitsInViewportVertically:E===s.height,fitsInViewportHorizontally:I==s.width}}_canFitWithFlexibleDimensions(t,n,i){if(this._hasFlexibleDimensions){let r=i.bottom-n.y,s=i.right-n.x,c=hk(this._overlayRef.getConfig().minHeight),l=hk(this._overlayRef.getConfig().minWidth),d=t.fitsInViewportVertically||c!=null&&c<=r,f=t.fitsInViewportHorizontally||l!=null&&l<=s;return d&&f}return!1}_pushOverlayOnScreen(t,n,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};let r=fk(n),s=this._viewportRect,c=Math.max(t.x+r.width-s.width,0),l=Math.max(t.y+r.height-s.height,0),d=Math.max(s.top-i.top-t.y,0),f=Math.max(s.left-i.left-t.x,0),m=0,v=0;return r.width<=s.width?m=f||-c:m=t.x<this._viewportMargin?s.left-i.left-t.x:0,r.height<=s.height?v=d||-l:v=t.y<this._viewportMargin?s.top-i.top-t.y:0,this._previousPushAmount={x:m,y:v},{x:t.x+m,y:t.y+v}}_applyPosition(t,n){if(this._setTransformOrigin(t),this._setOverlayElementStyles(n,t),this._setBoundingBoxStyles(n,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._positionChanges.observers.length){let i=this._getScrollVisibility();if(t!==this._lastPosition||!this._lastScrollVisibility||!fz(this._lastScrollVisibility,i)){let r=new H0(t,i);this._positionChanges.next(r)}this._lastScrollVisibility=i}this._lastPosition=t,this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;let n=this._boundingBox.querySelectorAll(this._transformOriginSelector),i,r=t.overlayY;t.overlayX==="center"?i="center":this._isRtl()?i=t.overlayX==="start"?"right":"left":i=t.overlayX==="start"?"left":"right";for(let s=0;s<n.length;s++)n[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,n){let i=this._viewportRect,r=this._isRtl(),s,c,l;if(n.overlayY==="top")c=t.y,s=i.height-c+this._viewportMargin;else if(n.overlayY==="bottom")l=i.height-t.y+this._viewportMargin*2,s=i.height-l+this._viewportMargin;else{let _=Math.min(i.bottom-t.y+i.top,t.y),I=this._lastBoundingBoxSize.height;s=_*2,c=t.y-_,s>I&&!this._isInitialRender&&!this._growAfterOpen&&(c=t.y-I/2)}let d=n.overlayX==="start"&&!r||n.overlayX==="end"&&r,f=n.overlayX==="end"&&!r||n.overlayX==="start"&&r,m,v,y;if(f)y=i.width-t.x+this._viewportMargin*2,m=t.x-this._viewportMargin;else if(d)v=t.x,m=i.right-t.x;else{let _=Math.min(i.right-t.x+i.left,t.x),I=this._lastBoundingBoxSize.width;m=_*2,v=t.x-_,m>I&&!this._isInitialRender&&!this._growAfterOpen&&(v=t.x-I/2)}return{top:c,left:v,bottom:l,right:y,width:m,height:s}}_setBoundingBoxStyles(t,n){let i=this._calculateBoundingBoxRect(t,n);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));let r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{let s=this._overlayRef.getConfig().maxHeight,c=this._overlayRef.getConfig().maxWidth;r.height=ee(i.height),r.top=ee(i.top),r.bottom=ee(i.bottom),r.width=ee(i.width),r.left=ee(i.left),r.right=ee(i.right),n.overlayX==="center"?r.alignItems="center":r.alignItems=n.overlayX==="end"?"flex-end":"flex-start",n.overlayY==="center"?r.justifyContent="center":r.justifyContent=n.overlayY==="bottom"?"flex-end":"flex-start",s&&(r.maxHeight=ee(s)),c&&(r.maxWidth=ee(c))}this._lastBoundingBoxSize=i,qo(this._boundingBox.style,r)}_resetBoundingBoxStyles(){qo(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){qo(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,n){let i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,c=this._overlayRef.getConfig();if(r){let m=this._viewportRuler.getViewportScrollPosition();qo(i,this._getExactOverlayY(n,t,m)),qo(i,this._getExactOverlayX(n,t,m))}else i.position="static";let l="",d=this._getOffset(n,"x"),f=this._getOffset(n,"y");d&&(l+=`translateX(${d}px) `),f&&(l+=`translateY(${f}px)`),i.transform=l.trim(),c.maxHeight&&(r?i.maxHeight=ee(c.maxHeight):s&&(i.maxHeight="")),c.maxWidth&&(r?i.maxWidth=ee(c.maxWidth):s&&(i.maxWidth="")),qo(this._pane.style,i)}_getExactOverlayY(t,n,i){let r={top:"",bottom:""},s=this._getOverlayPoint(n,this._overlayRect,t);if(this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),t.overlayY==="bottom"){let c=this._document.documentElement.clientHeight;r.bottom=`${c-(s.y+this._overlayRect.height)}px`}else r.top=ee(s.y);return r}_getExactOverlayX(t,n,i){let r={left:"",right:""},s=this._getOverlayPoint(n,this._overlayRect,t);this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i));let c;if(this._isRtl()?c=t.overlayX==="end"?"left":"right":c=t.overlayX==="end"?"right":"left",c==="right"){let l=this._document.documentElement.clientWidth;r.right=`${l-(s.x+this._overlayRect.width)}px`}else r.left=ee(s.x);return r}_getScrollVisibility(){let t=this._getOriginRect(),n=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:lk(t,i),isOriginOutsideView:z0(t,i),isOverlayClipped:lk(n,i),isOverlayOutsideView:z0(n,i)}}_subtractOverflows(t,...n){return n.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){let t=this._document.documentElement.clientWidth,n=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+n-this._viewportMargin,width:t-2*this._viewportMargin,height:n-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,n){return n==="x"?t.offsetX==null?this._offsetX:t.offsetX:t.offsetY==null?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Ra(t).forEach(n=>{n!==""&&this._appliedPanelClasses.indexOf(n)===-1&&(this._appliedPanelClasses.push(n),this._pane.classList.add(n))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){let t=this._origin;if(t instanceof Bt)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();let n=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+n,height:i,width:n}}};function qo(e,t){for(let n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function hk(e){if(typeof e!="number"&&e!=null){let[t,n]=e.split(hz);return!n||n==="px"?parseFloat(t):null}return e||null}function fk(e){return{top:Math.floor(e.top),right:Math.floor(e.right),bottom:Math.floor(e.bottom),left:Math.floor(e.left),width:Math.floor(e.width),height:Math.floor(e.height)}}function fz(e,t){return e===t?!0:e.isOriginClipped===t.isOriginClipped&&e.isOriginOutsideView===t.isOriginOutsideView&&e.isOverlayClipped===t.isOverlayClipped&&e.isOverlayOutsideView===t.isOverlayOutsideView}var pk="cdk-global-overlay-wrapper",G0=class{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){let n=t.getConfig();this._overlayRef=t,this._width&&!n.width&&t.updateSize({width:this._width}),this._height&&!n.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(pk),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let t=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:c,maxHeight:l}=i,d=(r==="100%"||r==="100vw")&&(!c||c==="100%"||c==="100vw"),f=(s==="100%"||s==="100vh")&&(!l||l==="100%"||l==="100vh"),m=this._xPosition,v=this._xOffset,y=this._overlayRef.getConfig().direction==="rtl",_="",I="",E="";d?E="flex-start":m==="center"?(E="center",y?I=v:_=v):y?m==="left"||m==="end"?(E="flex-end",_=v):(m==="right"||m==="start")&&(E="flex-start",I=v):m==="left"||m==="start"?(E="flex-start",_=v):(m==="right"||m==="end")&&(E="flex-end",I=v),t.position=this._cssPosition,t.marginLeft=d?"0":_,t.marginTop=f?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=d?"0":I,n.justifyContent=E,n.alignItems=f?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let t=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement,i=n.style;n.classList.remove(pk),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}},pz=(()=>{let t=class t{constructor(i,r,s,c){this._viewportRuler=i,this._document=r,this._platform=s,this._overlayContainer=c}global(){return new G0}flexibleConnectedTo(i){return new W0(i,this._viewportRuler,this._document,this._platform,this._overlayContainer)}};t.\u0275fac=function(r){return new(r||t)(R(F0),R(ct),R($t),R(La))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),mz=0,ci=(()=>{let t=class t{constructor(i,r,s,c,l,d,f,m,v,y,_,I){this.scrollStrategies=i,this._overlayContainer=r,this._componentFactoryResolver=s,this._positionBuilder=c,this._keyboardDispatcher=l,this._injector=d,this._ngZone=f,this._document=m,this._directionality=v,this._location=y,this._outsideClickDispatcher=_,this._animationsModuleType=I}create(i){let r=this._createHostElement(),s=this._createPaneElement(r),c=this._createPortalOutlet(s),l=new ul(i);return l.direction=l.direction||this._directionality.value,new Ki(c,r,s,l,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations")}position(){return this._positionBuilder}_createPaneElement(i){let r=this._document.createElement("div");return r.id=`cdk-overlay-${mz++}`,r.classList.add("cdk-overlay-pane"),i.appendChild(r),r}_createHostElement(){let i=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalOutlet(i){return this._appRef||(this._appRef=this._injector.get(Pc)),new Xf(i,this._componentFactoryResolver,this._appRef,this._injector,this._document)}};t.\u0275fac=function(r){return new(r||t)(R(uz),R(La),R(Id),R(pz),R(lz),R(sn),R(ht),R(ct),R(rl),R(Fi),R(dz),R(Fn,8))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var gz=new dt("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let e=q(ci);return()=>e.scrollStrategies.reposition()}});function vz(e){return()=>e.scrollStrategies.reposition()}var bz={provide:gz,deps:[ci],useFactory:vz},Zf=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=gt({type:t}),t.\u0275inj=mt({providers:[ci,bz],imports:[jr,zo,j0,j0]});let e=t;return e})();function yz(e,t){}var Ho=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}};var Y0=(()=>{let t=class t extends Na{constructor(i,r,s,c,l,d,f,m){super(),this._elementRef=i,this._focusTrapFactory=r,this._config=c,this._interactivityChecker=l,this._ngZone=d,this._overlayRef=f,this._focusMonitor=m,this._platform=q($t),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=q(fo),this.attachDomPortal=v=>{this._portalOutlet.hasAttached();let y=this._portalOutlet.attachDomPortal(v);return this._contentAttached(),y},this._document=s,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(i){this._ariaLabelledByQueue.push(i),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(i){let r=this._ariaLabelledByQueue.indexOf(i);r>-1&&(this._ariaLabelledByQueue.splice(r,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(i){this._portalOutlet.hasAttached();let r=this._portalOutlet.attachComponentPortal(i);return this._contentAttached(),r}attachTemplatePortal(i){this._portalOutlet.hasAttached();let r=this._portalOutlet.attachTemplatePortal(i);return this._contentAttached(),r}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(i,r){this._interactivityChecker.isFocusable(i)||(i.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let s=()=>{i.removeEventListener("blur",s),i.removeEventListener("mousedown",s),i.removeAttribute("tabindex")};i.addEventListener("blur",s),i.addEventListener("mousedown",s)})),i.focus(r)}_focusByCssSelector(i,r){let s=this._elementRef.nativeElement.querySelector(i);s&&this._forceFocus(s,r)}_trapFocus(){let i=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||i.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElementWhenReady().then(r=>{r||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus);break}}_restoreFocus(){let i=this._config.restoreFocus,r=null;if(typeof i=="string"?r=this._document.querySelector(i):typeof i=="boolean"?r=i?this._elementFocusedBeforeDialogWasOpened:null:i&&(r=i),this._config.restoreFocus&&r&&typeof r.focus=="function"){let s=tl(),c=this._elementRef.nativeElement;(!s||s===this._document.body||s===c||c.contains(s))&&(this._focusMonitor?(this._focusMonitor.focusVia(r,this._closeInteractionType),this._closeInteractionType=null):r.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){let i=this._elementRef.nativeElement,r=tl();return i===r||i.contains(r)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=tl()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}};t.\u0275fac=function(r){return new(r||t)(Z(Bt),Z(zf),Z(ct,8),Z(Ho),Z(il),Z(ht),Z(Ki),Z(Oa))},t.\u0275cmp=Et({type:t,selectors:[["cdk-dialog-container"]],viewQuery:function(r,s){if(r&1&&xd(cl,7),r&2){let c;xs(c=Cs())&&(s._portalOutlet=c.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(r,s){r&2&&ei("id",s._config.id||null)("role",s._config.role)("aria-modal",s._config.ariaModal)("aria-labelledby",s._config.ariaLabel?null:s._ariaLabelledByQueue[0])("aria-label",s._config.ariaLabel)("aria-describedby",s._config.ariaDescribedBy||null)},standalone:!0,features:[Li,ke],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(r,s){r&1&&ti(0,yz,0,0,"ng-template",0)},dependencies:[cl],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2});let e=t;return e})(),ll=class{constructor(t,n){this.overlayRef=t,this.config=n,this.closed=new Tt,this.disableClose=n.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=n.id,this.keydownEvents.subscribe(i=>{i.keyCode===27&&!this.disableClose&&!Uf(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=t.detachments().subscribe(()=>{n.closeOnOverlayDetachments!==!1&&this.close()})}close(t,n){if(this.containerInstance){let i=this.closed;this.containerInstance._closeInteractionType=n?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(t),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",n=""){return this.overlayRef.updateSize({width:t,height:n}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}},_z=new dt("DialogScrollStrategy",{providedIn:"root",factory:()=>{let e=q(ci);return()=>e.scrollStrategies.block()}}),wz=new dt("DialogData"),Iz=new dt("DefaultDialogConfig");var Ez=0,X0=(()=>{let t=class t{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(i,r,s,c,l,d){this._overlay=i,this._injector=r,this._defaultOptions=s,this._parentDialog=c,this._overlayContainer=l,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Tt,this._afterOpenedAtThisLevel=new Tt,this._ariaHiddenElements=new Map,this.afterAllClosed=co(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Mi(void 0))),this._scrollStrategy=d}open(i,r){let s=this._defaultOptions||new Ho;r=U(U({},s),r),r.id=r.id||`cdk-dialog-${Ez++}`,r.id&&this.getDialogById(r.id);let c=this._getOverlayConfig(r),l=this._overlay.create(c),d=new ll(l,r),f=this._attachContainer(l,d,r);return d.containerInstance=f,this._attachDialogContent(i,d,f,r),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(d),d.closed.subscribe(()=>this._removeOpenDialog(d,!0)),this.afterOpened.next(d),d}closeAll(){$0(this.openDialogs,i=>i.close())}getDialogById(i){return this.openDialogs.find(r=>r.id===i)}ngOnDestroy(){$0(this._openDialogsAtThisLevel,i=>{i.config.closeOnDestroy===!1&&this._removeOpenDialog(i,!1)}),$0(this._openDialogsAtThisLevel,i=>i.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(i){let r=new ul({positionStrategy:i.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:i.scrollStrategy||this._scrollStrategy(),panelClass:i.panelClass,hasBackdrop:i.hasBackdrop,direction:i.direction,minWidth:i.minWidth,minHeight:i.minHeight,maxWidth:i.maxWidth,maxHeight:i.maxHeight,width:i.width,height:i.height,disposeOnNavigation:i.closeOnNavigation});return i.backdropClass&&(r.backdropClass=i.backdropClass),r}_attachContainer(i,r,s){let c=s.injector||s.viewContainerRef?.injector,l=[{provide:Ho,useValue:s},{provide:ll,useValue:r},{provide:Ki,useValue:i}],d;s.container?typeof s.container=="function"?d=s.container:(d=s.container.type,l.push(...s.container.providers(s))):d=Y0;let f=new Pa(d,s.viewContainerRef,sn.create({parent:c||this._injector,providers:l}),s.componentFactoryResolver);return i.attach(f).instance}_attachDialogContent(i,r,s,c){if(i instanceof Rc){let l=this._createInjector(c,r,s,void 0),d={$implicit:c.data,dialogRef:r};c.templateContext&&(d=U(U({},d),typeof c.templateContext=="function"?c.templateContext():c.templateContext)),s.attachTemplatePortal(new Ma(i,null,d,l))}else{let l=this._createInjector(c,r,s,this._injector),d=s.attachComponentPortal(new Pa(i,c.viewContainerRef,l,c.componentFactoryResolver));r.componentRef=d,r.componentInstance=d.instance}}_createInjector(i,r,s,c){let l=i.injector||i.viewContainerRef?.injector,d=[{provide:wz,useValue:i.data},{provide:ll,useValue:r}];return i.providers&&(typeof i.providers=="function"?d.push(...i.providers(r,i,s)):d.push(...i.providers)),i.direction&&(!l||!l.get(rl,null,{optional:!0}))&&d.push({provide:rl,useValue:{value:i.direction,change:Y()}}),sn.create({parent:l||c,providers:d})}_removeOpenDialog(i,r){let s=this.openDialogs.indexOf(i);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((c,l)=>{c?l.setAttribute("aria-hidden",c):l.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),r&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){let i=this._overlayContainer.getContainerElement();if(i.parentElement){let r=i.parentElement.children;for(let s=r.length-1;s>-1;s--){let c=r[s];c!==i&&c.nodeName!=="SCRIPT"&&c.nodeName!=="STYLE"&&!c.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(c,c.getAttribute("aria-hidden")),c.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let i=this._parentDialog;return i?i._getAfterAllClosed():this._afterAllClosedAtThisLevel}};t.\u0275fac=function(r){return new(r||t)(R(ci),R(sn),R(Iz,8),R(t,12),R(La),R(_z))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function $0(e,t){let n=e.length;for(;n--;)t(e[n])}var vk=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=gt({type:t}),t.\u0275inj=mt({providers:[X0],imports:[Zf,zo,RR,zo]});let e=t;return e})();function xz(e,t){}var dl=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}},Q0="mdc-dialog--open",bk="mdc-dialog--opening",yk="mdc-dialog--closing",Cz=150,Tz=75,Sz=(()=>{let t=class t extends Y0{constructor(i,r,s,c,l,d,f,m,v){super(i,r,s,c,l,d,f,v),this._animationMode=m,this._animationStateChanged=new an,this._animationsEnabled=this._animationMode!=="NoopAnimations",this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?wk(this._config.enterAnimationDuration)??Cz:0,this._exitAnimationDuration=this._animationsEnabled?wk(this._config.exitAnimationDuration)??Tz:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(_k,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(bk,Q0)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(Q0),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(Q0),this._animationsEnabled?(this._hostElement.style.setProperty(_k,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(yk)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(i){this._actionSectionCount+=i,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(bk,yk)}_waitForAnimationToComplete(i,r){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(r,i)}_requestAnimationFrame(i){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(i):i()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(i){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:i})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(i){let r=super.attachComponentPortal(i);return r.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),r}};t.\u0275fac=function(r){return new(r||t)(Z(Bt),Z(zf),Z(ct,8),Z(dl),Z(il),Z(ht),Z(Ki),Z(Fn,8),Z(Oa))},t.\u0275cmp=Et({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(r,s){r&2&&(Kg("id",s._config.id),ei("aria-modal",s._config.ariaModal)("role",s._config.role)("aria-labelledby",s._config.ariaLabel?null:s._ariaLabelledByQueue[0])("aria-label",s._config.ariaLabel)("aria-describedby",s._config.ariaDescribedBy||null),cn("_mat-animation-noopable",!s._animationsEnabled)("mat-mdc-dialog-container-with-actions",s._actionSectionCount>0))},standalone:!0,features:[Li,ke],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(r,s){r&1&&(N(0,"div",0)(1,"div",1),ti(2,xz,0,0,"ng-template",2),V()())},dependencies:[cl],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0;transform:scale(0.8)}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--closing .mdc-dialog__surface{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{opacity:1}.mdc-dialog--open .mdc-dialog__surface{transform:none}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{width:100%;height:100%}.mat-mdc-dialog-component-host{display:contents}.mat-mdc-dialog-container{--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition:opacity linear var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container .mdc-dialog__surface{transition:transform var(--mat-dialog-transition-duration, 0ms) 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container,.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__surface{transition:none}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-title{padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2});let e=t;return e})(),_k="--mat-dialog-transition-duration";function wk(e){return e==null?null:typeof e=="number"?e:e.endsWith("ms")?nl(e.substring(0,e.length-2)):e.endsWith("s")?nl(e.substring(0,e.length-1))*1e3:e==="0"?0:null}var Jf=function(e){return e[e.OPEN=0]="OPEN",e[e.CLOSING=1]="CLOSING",e[e.CLOSED=2]="CLOSED",e}(Jf||{}),Z0=class{constructor(t,n,i){this._ref=t,this._containerInstance=i,this._afterOpened=new Tt,this._beforeClosed=new Tt,this._state=Jf.OPEN,this.disableClose=n.disableClose,this.id=t.id,t.addPanelClass("mat-mdc-dialog-panel"),i._animationStateChanged.pipe(fe(r=>r.state==="opened"),ve(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(fe(r=>r.state==="closed"),ve(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),bd(this.backdropClick(),this.keydownEvents().pipe(fe(r=>r.keyCode===27&&!this.disableClose&&!Uf(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),Az(this,r.type==="keydown"?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(fe(n=>n.state==="closing"),ve(1)).subscribe(n=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),n.totalTime+100)}),this._state=Jf.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let n=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?n.left(t.left):n.right(t.right):n.centerHorizontally(),t&&(t.top||t.bottom)?t.top?n.top(t.top):n.bottom(t.bottom):n.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",n=""){return this._ref.updateSize(t,n),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=Jf.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function Az(e,t,n){return e._closeInteractionType=t,e.close(n)}var Dz=new dt("MatMdcDialogData"),Rz=new dt("mat-mdc-dialog-default-options"),kz=new dt("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let e=q(ci);return()=>e.scrollStrategies.block()}});var Oz=0,Pz=(()=>{let t=class t{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let i=this._parentDialog;return i?i._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(i,r,s,c,l,d,f,m){this._overlay=i,this._defaultOptions=c,this._scrollStrategy=l,this._parentDialog=d,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Tt,this._afterOpenedAtThisLevel=new Tt,this.dialogConfigClass=dl,this.afterAllClosed=co(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Mi(void 0))),this._dialog=r.get(X0),this._dialogRefConstructor=Z0,this._dialogContainerType=Sz,this._dialogDataToken=Dz}open(i,r){let s;r=U(U({},this._defaultOptions||new dl),r),r.id=r.id||`mat-mdc-dialog-${Oz++}`,r.scrollStrategy=r.scrollStrategy||this._scrollStrategy();let c=this._dialog.open(i,ie(U({},r),{positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:r},{provide:Ho,useValue:r}]},templateContext:()=>({dialogRef:s}),providers:(l,d,f)=>(s=new this._dialogRefConstructor(l,r,f),s.updatePosition(r?.position),[{provide:this._dialogContainerType,useValue:f},{provide:this._dialogDataToken,useValue:d.data},{provide:this._dialogRefConstructor,useValue:s}])}));return s.componentRef=c.componentRef,s.componentInstance=c.componentInstance,this.openDialogs.push(s),this.afterOpened.next(s),s.afterClosed().subscribe(()=>{let l=this.openDialogs.indexOf(s);l>-1&&(this.openDialogs.splice(l,1),this.openDialogs.length||this._getAfterAllClosed().next())}),s}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(i){return this.openDialogs.find(r=>r.id===i)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(i){let r=i.length;for(;r--;)i[r].close()}};t.\u0275fac=function(r){return new(r||t)(R(ci),R(sn),R(Fi,8),R(Rz,8),R(kz),R(t,12),R(La),R(Fn,8))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Ik=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=gt({type:t}),t.\u0275inj=mt({providers:[Pz],imports:[vk,Zf,zo,Re,Re]});let e=t;return e})();var Ek=(()=>{let t=class t{constructor(){pe.init(zD.firebaseConfig)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=gt({type:t,bootstrap:[VD]}),t.\u0275inj=mt({providers:[BD()],imports:[tC,UD,sk,qR,Ik,YR,ek]});let e=t;return e})();_x(Tf,[Mx,ik,rk,ok],[]);Jx().bootstrapModule(Ek).catch(e=>console.error(e));
