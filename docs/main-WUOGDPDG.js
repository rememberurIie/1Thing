import{$ as gp,$a as Tp,A as Tt,Aa as bp,B as _c,Ba as na,C as Be,Ca as Ip,D as hp,Da as Nc,E as Db,Ea as Kb,F as fp,Fa as Dc,G as li,Ga as Gb,H as uo,Ha as be,I as co,Ia as $b,J as dp,Ja as Wb,K as lo,Ka as Qb,L as xb,La as Ep,M as Ac,Ma as Yb,N as dr,Na as B,O as pp,Oa as $,P as kb,Pa as gt,Q as Pb,Qa as ho,R as Mb,Ra as bn,S as wn,Sa as In,T as Lb,Ta as ot,U as ue,Ua as Xb,V as jt,Va as xc,W as pr,Wa as Jb,X as It,Xa as kc,Y as gr,Ya as Pc,Z as Fb,Za as Sp,_ as ce,_a as Zb,a as W,aa as Et,ab as tI,b as we,ba as J,bb as Cp,ca as mp,cb as Mc,d as yn,da as Ub,db as eI,e as IN,ea as Js,eb as _p,f as up,fa as an,fb as nI,g as Ab,ga as mr,gb as rI,h as Ob,ha as jb,hb as iI,i as cp,ia as Oc,ib as Lc,j as lp,ja as Vb,jb as oI,k as ci,ka as Zs,kb as sI,l as sn,la as vr,lb as ze,m as fr,ma as qb,mb as aI,n as G,na as Pn,nb as Ap,o as Qs,oa as Mn,ob as uI,p as R,pa as xe,pb as cI,q as O,qa as ke,qb as ra,r as Tc,ra as vp,rb as lI,s as Ys,sa as yp,sb as hI,t as Rt,ta as wp,tb as fI,u as Cc,ua as ta,ub as Op,v as qe,va as Bb,vb as dI,w as tt,wa as Rc,wb as pI,x as Xs,xa as zb,y as Rb,ya as ea,z as Nb,za as Hb}from"./chunk-5PDDTNPZ.js";function mE(e){return So(void 0,e)}function So(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(var i in t)!t.hasOwnProperty(i)||!Gx(i)||(e[i]=So(e[i],t[i]));return e}function Gx(e){return e!=="__proto__"}function yE(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},i=t||"demo-project",o=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var u=Qs({iss:"https://securetoken.google.com/"+i,aud:i,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},e),l="";return[pE(JSON.stringify(n)),pE(JSON.stringify(u)),l].join(".")}function Er(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wE(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Er())}function Tg(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bE(){return typeof self=="object"&&self.self===self}function IE(){var e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function EE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function SE(){return Er().indexOf("Electron/")>=0}function TE(){var e=Er();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function CE(){return Er().indexOf("MSAppHost/")>=0}function _E(){return!Tg()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Qx(e,t){return e.replace(Yx,function(n,i){var o=t[i];return o!=null?String(o):"<"+i+"?>"})}function Cg(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function AE(e,t){var n=new Xx(e,t);return n.subscribe.bind(n)}function Jx(e,t){if(typeof e!="object"||e===null)return!1;for(var n=0,i=t;n<i.length;n++){var o=i[n];if(o in e&&typeof e[o]=="function")return!0}return!1}function Sg(){}function Vt(e){return e&&e._delegate?e._delegate:e}var gE,zx,Hx,Kx,pE,vE,$x,Wx,ol,Yx,mF,Xx,vF,Oa=yn(()=>{"use strict";Cc();gE=function(e){for(var t=[],n=0,i=0;i<e.length;i++){var o=e.charCodeAt(i);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},zx=function(e){for(var t=[],n=0,i=0;n<e.length;){var o=e[n++];if(o<128)t[i++]=String.fromCharCode(o);else if(o>191&&o<224){var a=e[n++];t[i++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){var a=e[n++],u=e[n++],l=e[n++],f=((o&7)<<18|(a&63)<<12|(u&63)<<6|l&63)-65536;t[i++]=String.fromCharCode(55296+(f>>10)),t[i++]=String.fromCharCode(56320+(f&1023))}else{var a=e[n++],u=e[n++];t[i++]=String.fromCharCode((o&15)<<12|(a&63)<<6|u&63)}}return t.join("")},Hx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[],o=0;o<e.length;o+=3){var a=e[o],u=o+1<e.length,l=u?e[o+1]:0,f=o+2<e.length,p=f?e[o+2]:0,m=a>>2,y=(a&3)<<4|l>>4,w=(l&15)<<2|p>>6,I=p&63;f||(I=64,u||(w=64)),i.push(n[m],n[y],n[w],n[I])}return i.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(gE(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):zx(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[],o=0;o<e.length;){var a=n[e.charAt(o++)],u=o<e.length,l=u?n[e.charAt(o)]:0;++o;var f=o<e.length,p=f?n[e.charAt(o)]:64;++o;var m=o<e.length,y=m?n[e.charAt(o)]:64;if(++o,a==null||l==null||p==null||y==null)throw Error();var w=a<<2|l>>4;if(i.push(w),p!==64){var I=l<<4&240|p>>2;if(i.push(I),y!==64){var E=p<<6&192|y;i.push(E)}}}return i},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Kx=function(e){var t=gE(e);return Hx.encodeByteArray(t,!0)},pE=function(e){return Kx(e).replace(/\./g,"")};vE=function(){function e(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,i){t.resolve=n,t.reject=i})}return e.prototype.wrapCallback=function(t){var n=this;return function(i,o){i?n.reject(i):n.resolve(o),typeof t=="function"&&(n.promise.catch(function(){}),t.length===1?t(i):t(i,o))}},e}();$x="FirebaseError",Wx=function(e){G(t,e);function t(n,i,o){var a=e.call(this,i)||this;return a.code=n,a.customData=o,a.name=$x,Object.setPrototypeOf(a,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(a,ol.prototype.create),a}return t}(Error),ol=function(){function e(t,n,i){this.service=t,this.serviceName=n,this.errors=i}return e.prototype.create=function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=n[0]||{},a=this.service+"/"+t,u=this.errors[t],l=u?Qx(u,o):"Error",f=this.serviceName+": "+l+" ("+a+").",p=new Wx(a,f,o);return p},e}();Yx=/\{\$([^}]+)}/g;mF=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(t,n){n||(n=0);var i=this.W_;if(typeof t=="string")for(var o=0;o<16;o++)i[o]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(var o=0;o<16;o++)i[o]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(var o=16;o<80;o++){var a=i[o-3]^i[o-8]^i[o-14]^i[o-16];i[o]=(a<<1|a>>>31)&4294967295}for(var u=this.chain_[0],l=this.chain_[1],f=this.chain_[2],p=this.chain_[3],m=this.chain_[4],y,w,o=0;o<80;o++){o<40?o<20?(y=p^l&(f^p),w=1518500249):(y=l^f^p,w=1859775393):o<60?(y=l&f|p&(l|f),w=2400959708):(y=l^f^p,w=3395469782);var a=(u<<5|u>>>27)+y+m+w+i[o]&4294967295;m=p,p=f,f=(l<<30|l>>>2)&4294967295,l=u,u=a}this.chain_[0]=this.chain_[0]+u&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+p&4294967295,this.chain_[4]=this.chain_[4]+m&4294967295},e.prototype.update=function(t,n){if(t!=null){n===void 0&&(n=t.length);for(var i=n-this.blockSize,o=0,a=this.buf_,u=this.inbuf_;o<n;){if(u===0)for(;o<=i;)this.compress_(t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<n;)if(a[u]=t.charCodeAt(o),++u,++o,u===this.blockSize){this.compress_(a),u=0;break}}else for(;o<n;)if(a[u]=t[o],++u,++o,u===this.blockSize){this.compress_(a),u=0;break}}this.inbuf_=u,this.total_+=n}},e.prototype.digest=function(){var t=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);for(var o=0,i=0;i<5;i++)for(var a=24;a>=0;a-=8)t[o]=this.chain_[i]>>a&255,++o;return t},e}();Xx=function(){function e(t,n){var i=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(i)}).catch(function(o){i.error(o)})}return e.prototype.next=function(t){this.forEachObserver(function(n){n.next(t)})},e.prototype.error=function(t){this.forEachObserver(function(n){n.error(t)}),this.close(t)},e.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},e.prototype.subscribe=function(t,n,i){var o=this,a;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");Jx(t,["next","error","complete"])?a=t:a={next:t,error:n,complete:i},a.next===void 0&&(a.next=Sg),a.error===void 0&&(a.error=Sg),a.complete===void 0&&(a.complete=Sg);var u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{o.finalError?a.error(o.finalError):a.complete()}catch{}}),this.observers.push(a),u},e.prototype.unsubscribeOne=function(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},e.prototype.forEachObserver=function(t){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,t)},e.prototype.sendOne=function(t,n){var i=this;this.task.then(function(){if(i.observers!==void 0&&i.observers[t]!==void 0)try{n(i.observers[t])}catch(o){typeof console<"u"&&console.error&&console.error(o)}})},e.prototype.close=function(t){var n=this;this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},e}();vF=4*60*60*1e3;});function tk(e){return e===di?void 0:e}function ek(e){return e.instantiationMode==="EAGER"}var To,di,Zx,OE,_g=yn(()=>{"use strict";Cc();Oa();To=function(){function e(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},e.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},e.prototype.setServiceProps=function(t){return this.serviceProps=t,this},e.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},e}();di="[DEFAULT]";Zx=function(){function e(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(t){var n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){var i=new vE;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{var o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise},e.prototype.getImmediate=function(t){var n,i=this.normalizeInstanceIdentifier(t?.identifier),o=(n=t?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error("Service "+this.name+" is not available")}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(t){var n,i;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,!!this.shouldAutoInitialize()){if(ek(t))try{this.getOrInitializeService({instanceIdentifier:di})}catch{}try{for(var o=Tc(this.instancesDeferred.entries()),a=o.next();!a.done;a=o.next()){var u=Ys(a.value,2),l=u[0],f=u[1],p=this.normalizeInstanceIdentifier(l);try{var m=this.getOrInitializeService({instanceIdentifier:p});f.resolve(m)}catch{}}}catch(y){n={error:y}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}}},e.prototype.clearInstance=function(t){t===void 0&&(t=di),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},e.prototype.delete=function(){return R(this,void 0,void 0,function(){var t;return O(this,function(n){switch(n.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Rt(Rt([],Ys(t.filter(function(i){return"INTERNAL"in i}).map(function(i){return i.INTERNAL.delete()}))),Ys(t.filter(function(i){return"_delete"in i}).map(function(i){return i._delete()}))))];case 1:return n.sent(),[2]}})})},e.prototype.isComponentSet=function(){return this.component!=null},e.prototype.isInitialized=function(t){return t===void 0&&(t=di),this.instances.has(t)},e.prototype.getOptions=function(t){return t===void 0&&(t=di),this.instancesOptions.get(t)||{}},e.prototype.initialize=function(t){var n,i;t===void 0&&(t={});var o=t.options,a=o===void 0?{}:o,u=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(u))throw Error(this.name+"("+u+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var l=this.getOrInitializeService({instanceIdentifier:u,options:a});try{for(var f=Tc(this.instancesDeferred.entries()),p=f.next();!p.done;p=f.next()){var m=Ys(p.value,2),y=m[0],w=m[1],I=this.normalizeInstanceIdentifier(y);u===I&&w.resolve(l)}}catch(E){n={error:E}}finally{try{p&&!p.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}return l},e.prototype.onInit=function(t,n){var i,o=this.normalizeInstanceIdentifier(n),a=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;a.add(t),this.onInitCallbacks.set(o,a);var u=this.instances.get(o);return u&&t(u,o),function(){a.delete(t)}},e.prototype.invokeOnInitCallbacks=function(t,n){var i,o,a=this.onInitCallbacks.get(n);if(a)try{for(var u=Tc(a),l=u.next();!l.done;l=u.next()){var f=l.value;try{f(t,n)}catch{}}}catch(p){i={error:p}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}},e.prototype.getOrInitializeService=function(t){var n=t.instanceIdentifier,i=t.options,o=i===void 0?{}:i,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:tk(n),options:o}),this.instances.set(n,a),this.instancesOptions.set(n,o),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch{}return a||null},e.prototype.normalizeInstanceIdentifier=function(t){return t===void 0&&(t=di),this.component?this.component.multipleInstances?t:di:t},e.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},e}();OE=function(){function e(t){this.name=t,this.providers=new Map}return e.prototype.addComponent=function(t){var n=this.getProvider(t.name);if(n.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);n.setComponent(t)},e.prototype.addOrOverwriteComponent=function(t){var n=this.getProvider(t.name);n.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},e.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var n=new Zx(t,this);return this.providers.set(t,n),n},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}()});function En(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var i=Array(e),o=0,t=0;t<n;t++)for(var a=arguments[t],u=0,l=a.length;u<l;u++,o++)i[o]=a[u];return i}function NE(e){Ag.forEach(function(t){t.setLogLevel(e)})}function DE(e,t){for(var n=function(u){var l=null;t&&t.level&&(l=RE[t.level]),e===null?u.userLogHandler=null:u.userLogHandler=function(f,p){for(var m=[],y=2;y<arguments.length;y++)m[y-2]=arguments[y];var w=m.map(function(I){if(I==null)return null;if(typeof I=="string")return I;if(typeof I=="number"||typeof I=="boolean")return I.toString();if(I instanceof Error)return I.message;try{return JSON.stringify(I)}catch{return null}}).filter(function(I){return I}).join(" ");p>=(l??f.logLevel)&&e({level:dt[p].toLowerCase(),message:w,args:m,type:f.name})}},i=0,o=Ag;i<o.length;i++){var a=o[i];n(a)}}var pi,Ag,dt,RE,nk,rk,ik,sl,al=yn(()=>{"use strict";Ag=[],dt=function(e){return e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",e}(dt||{}),RE={debug:dt.DEBUG,verbose:dt.VERBOSE,info:dt.INFO,warn:dt.WARN,error:dt.ERROR,silent:dt.SILENT},nk=dt.INFO,rk=(pi={},pi[dt.DEBUG]="log",pi[dt.VERBOSE]="log",pi[dt.INFO]="info",pi[dt.WARN]="warn",pi[dt.ERROR]="error",pi),ik=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=new Date().toISOString(),a=rk[t];if(a)console[a].apply(console,En(["["+o+"]  "+e.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}},sl=function(){function e(t){this.name=t,this._logLevel=nk,this._logHandler=ik,this._userLogHandler=null,Ag.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in dt))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(t){this._logLevel=typeof t=="string"?RE[t]:t},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,En([this,dt.DEBUG],t)),this._logHandler.apply(this,En([this,dt.DEBUG],t))},e.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,En([this,dt.VERBOSE],t)),this._logHandler.apply(this,En([this,dt.VERBOSE],t))},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,En([this,dt.INFO],t)),this._logHandler.apply(this,En([this,dt.INFO],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,En([this,dt.WARN],t)),this._logHandler.apply(this,En([this,dt.WARN],t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,En([this,dt.ERROR],t)),this._logHandler.apply(this,En([this,dt.ERROR],t))},e}()});function Ik(e){var t={},n=new Map,i={__esModule:!0,initializeApp:u,app:a,registerVersion:p,setLogLevel:NE,onLog:m,apps:null,SDK_VERSION:bk,INTERNAL:{registerComponent:f,removeApp:o,components:n,useAsService:y}};i.default=i,Object.defineProperty(i,"apps",{get:l});function o(w){delete t[w]}function a(w){if(w=w||cl,!Cg(t,w))throw Co.create("no-app",{appName:w});return t[w]}a.App=e;function u(w,I){if(I===void 0&&(I={}),typeof I!="object"||I===null){var E=I;I={name:E}}var T=I;T.name===void 0&&(T.name=cl);var A=T.name;if(typeof A!="string"||!A)throw Co.create("bad-app-name",{appName:String(A)});if(Cg(t,A))throw Co.create("duplicate-app",{appName:A});var x=new e(w,T,i);return t[A]=x,x}function l(){return Object.keys(t).map(function(w){return t[w]})}function f(w){var I=w.name;if(n.has(I))return _o.debug("There were multiple attempts to register component "+I+"."),w.type==="PUBLIC"?i[I]:null;if(n.set(I,w),w.type==="PUBLIC"){var E=function(F){if(F===void 0&&(F=a()),typeof F[I]!="function")throw Co.create("invalid-app-argument",{appName:I});return F[I]()};w.serviceProps!==void 0&&So(E,w.serviceProps),i[I]=E,e.prototype[I]=function(){for(var F=[],j=0;j<arguments.length;j++)F[j]=arguments[j];var nt=this._getService.bind(this,I);return nt.apply(this,w.multipleInstances?F:[])}}for(var T=0,A=Object.keys(t);T<A.length;T++){var x=A[T];t[x]._addComponent(w)}return w.type==="PUBLIC"?i[I]:null}function p(w,I,E){var T,A=(T=wk[w])!==null&&T!==void 0?T:w;E&&(A+="-"+E);var x=A.match(/\s|\//),F=I.match(/\s|\//);if(x||F){var j=['Unable to register library "'+A+'" with version "'+I+'":'];x&&j.push('library name "'+A+'" contains illegal characters (whitespace or "/")'),x&&F&&j.push("and"),F&&j.push('version name "'+I+'" contains illegal characters (whitespace or "/")'),_o.warn(j.join(" "));return}f(new To(A+"-version",function(){return{library:A,version:I}},"VERSION"))}function m(w,I){if(w!==null&&typeof w!="function")throw Co.create("invalid-log-argument");DE(w,I)}function y(w,I){if(I==="serverAuth")return null;var E=I;return E}return i}function kE(){var e=Ik(ul);e.INTERNAL=Qs(Qs({},e.INTERNAL),{createFirebaseNamespace:kE,extendNamespace:t,createSubscribe:AE,ErrorFactory:ol,deepExtend:So});function t(n){So(e,n)}return e}function Sk(e){var t=e.getComponent();return t?.type==="VERSION"}function Tk(e,t){e.INTERNAL.registerComponent(new To("platform-logger",function(n){return new Ek(n)},"PRIVATE")),e.registerVersion(xE,sk,t),e.registerVersion("fire-js","")}var Sr,ok,Co,xE,sk,ak,uk,ck,lk,hk,fk,dk,pk,gk,mk,vk,yk,le,cl,wk,_o,ul,bk,Rg,Ek,Og,Ck,PE,Q,Ra=yn(()=>{"use strict";Cc();Oa();_g();al();ok=(Sr={},Sr["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Sr["bad-app-name"]="Illegal App name: '{$appName}",Sr["duplicate-app"]="Firebase App named '{$appName}' already exists",Sr["app-deleted"]="Firebase App named '{$appName}' already deleted",Sr["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Sr["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Sr),Co=new ol("app","Firebase",ok),xE="@firebase/app",sk="0.6.30",ak="@firebase/analytics",uk="@firebase/app-check",ck="@firebase/auth",lk="@firebase/database",hk="@firebase/functions",fk="@firebase/installations",dk="@firebase/messaging",pk="@firebase/performance",gk="@firebase/remote-config",mk="@firebase/storage",vk="@firebase/firestore",yk="firebase-wrapper";cl="[DEFAULT]",wk=(le={},le[xE]="fire-core",le[ak]="fire-analytics",le[uk]="fire-app-check",le[ck]="fire-auth",le[lk]="fire-rtdb",le[hk]="fire-fn",le[fk]="fire-iid",le[dk]="fire-fcm",le[pk]="fire-perf",le[gk]="fire-rc",le[mk]="fire-gcs",le[vk]="fire-fst",le["fire-js"]="fire-js",le[yk]="fire-js-all",le);_o=new sl("@firebase/app");ul=function(){function e(t,n,i){var o=this;this.firebase_=i,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=mE(t),this.container=new OE(n.name),this._addComponent(new To("app",function(){return o},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(a){return o._addComponent(a)})}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var t=this;return new Promise(function(n){t.checkDestroyed_(),n()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(n){return n.delete()}))}).then(function(){t.isDeleted_=!0})},e.prototype._getService=function(t,n){var i;n===void 0&&(n=cl),this.checkDestroyed_();var o=this.container.getProvider(t);return!o.isInitialized()&&((i=o.getComponent())===null||i===void 0?void 0:i.instantiationMode)==="EXPLICIT"&&o.initialize(),o.getImmediate({identifier:n})},e.prototype._removeServiceInstance=function(t,n){n===void 0&&(n=cl),this.container.getProvider(t).clearInstance(n)},e.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(n){_o.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,n)}},e.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Co.create("app-deleted",{appName:this.name_})},e}();ul.prototype.name&&ul.prototype.options||ul.prototype.delete||console.log("dc");bk="8.10.0";Rg=kE();Ek=function(){function e(t){this.container=t}return e.prototype.getPlatformInfoString=function(){var t=this.container.getProviders();return t.map(function(n){if(Sk(n)){var i=n.getImmediate();return i.library+"/"+i.version}else return null}).filter(function(n){return n}).join(" ")},e}();bE()&&self.firebase!==void 0&&(_o.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `),Og=self.firebase.SDK_VERSION,Og&&Og.indexOf("LITE")>=0&&_o.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `));Ck=Rg.initializeApp;Rg.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Tg()&&_o.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),Ck.apply(void 0,e)};PE=Rg;Tk(PE);Q=PE});var LE={};IN(LE,{default:()=>Q});var _k,ME,FE=yn(()=>{"use strict";Ra();Ra();_k="firebase",ME="8.10.1";Q.registerVersion(_k,ME,"app");Q.SDK_VERSION=ME});var UE=yn(()=>{"use strict";Ra();(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(r,s,c){r!=Array.prototype&&r!=Object.prototype&&(r[s]=c.value)};function n(r){r=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,r];for(var s=0;s<r.length;++s){var c=r[s];if(c&&c.Math==Math)return c}return globalThis}var i=n(this);function o(r,s){if(s){var c=i;r=r.split(".");for(var h=0;h<r.length-1;h++){var d=r[h];d in c||(c[d]={}),c=c[d]}r=r[r.length-1],h=c[r],s=s(h),s!=h&&s!=null&&t(c,r,{configurable:!0,writable:!0,value:s})}}function a(r){var s=0;return function(){return s<r.length?{done:!1,value:r[s++]}:{done:!0}}}function u(r){var s=typeof Symbol<"u"&&Symbol.iterator&&r[Symbol.iterator];return s?s.call(r):{next:a(r)}}o("Promise",function(r){function s(v){this.b=0,this.c=void 0,this.a=[];var b=this.f();try{v(b.resolve,b.reject)}catch(_){b.reject(_)}}function c(){this.a=null}function h(v){return v instanceof s?v:new s(function(b){b(v)})}if(r)return r;c.prototype.b=function(v){if(this.a==null){this.a=[];var b=this;this.c(function(){b.g()})}this.a.push(v)};var d=i.setTimeout;c.prototype.c=function(v){d(v,0)},c.prototype.g=function(){for(;this.a&&this.a.length;){var v=this.a;this.a=[];for(var b=0;b<v.length;++b){var _=v[b];v[b]=null;try{_()}catch(N){this.f(N)}}}this.a=null},c.prototype.f=function(v){this.c(function(){throw v})},s.prototype.f=function(){function v(N){return function(Z){_||(_=!0,N.call(b,Z))}}var b=this,_=!1;return{resolve:v(this.m),reject:v(this.g)}},s.prototype.m=function(v){if(v===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(v instanceof s)this.s(v);else{t:switch(typeof v){case"object":var b=v!=null;break t;case"function":b=!0;break t;default:b=!1}b?this.v(v):this.h(v)}},s.prototype.v=function(v){var b=void 0;try{b=v.then}catch(_){this.g(_);return}typeof b=="function"?this.u(b,v):this.h(v)},s.prototype.g=function(v){this.i(2,v)},s.prototype.h=function(v){this.i(1,v)},s.prototype.i=function(v,b){if(this.b!=0)throw Error("Cannot settle("+v+", "+b+"): Promise already settled in state"+this.b);this.b=v,this.c=b,this.l()},s.prototype.l=function(){if(this.a!=null){for(var v=0;v<this.a.length;++v)g.b(this.a[v]);this.a=null}};var g=new c;return s.prototype.s=function(v){var b=this.f();v.Ra(b.resolve,b.reject)},s.prototype.u=function(v,b){var _=this.f();try{v.call(b,_.resolve,_.reject)}catch(N){_.reject(N)}},s.prototype.then=function(v,b){function _(ft,Yt){return typeof ft=="function"?function(Wn){try{N(ft(Wn))}catch(ap){Z(ap)}}:Yt}var N,Z,yt=new s(function(ft,Yt){N=ft,Z=Yt});return this.Ra(_(v,N),_(b,Z)),yt},s.prototype.catch=function(v){return this.then(void 0,v)},s.prototype.Ra=function(v,b){function _(){switch(N.b){case 1:v(N.c);break;case 2:b(N.c);break;default:throw Error("Unexpected state: "+N.b)}}var N=this;this.a==null?g.b(_):this.a.push(_)},s.resolve=h,s.reject=function(v){return new s(function(b,_){_(v)})},s.race=function(v){return new s(function(b,_){for(var N=u(v),Z=N.next();!Z.done;Z=N.next())h(Z.value).Ra(b,_)})},s.all=function(v){var b=u(v),_=b.next();return _.done?h([]):new s(function(N,Z){function yt(Wn){return function(ap){ft[Wn]=ap,Yt--,Yt==0&&N(ft)}}var ft=[],Yt=0;do ft.push(void 0),Yt++,h(_.value).Ra(yt(ft.length-1),Z),_=b.next();while(!_.done)})},s});var l=l||{},f=this||self,p=/^[\w+/_-]+[=]{0,2}$/,m=null;function y(r){return(r=r.querySelector&&r.querySelector("script[nonce]"))&&(r=r.nonce||r.getAttribute("nonce"))&&p.test(r)?r:""}function w(){}function I(r){var s=typeof r;return s!="object"?s:r?Array.isArray(r)?"array":s:"null"}function E(r){var s=I(r);return s=="array"||s=="object"&&typeof r.length=="number"}function T(r){return I(r)=="function"}function A(r){var s=typeof r;return s=="object"&&r!=null||s=="function"}function x(r){return Object.prototype.hasOwnProperty.call(r,F)&&r[F]||(r[F]=++j)}var F="closure_uid_"+(1e9*Math.random()>>>0),j=0;function nt(r,s,c){return r.call.apply(r.bind,arguments)}function ut(r,s,c){if(!r)throw Error();if(2<arguments.length){var h=Array.prototype.slice.call(arguments,2);return function(){var d=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(d,h),r.apply(s,d)}}return function(){return r.apply(s,arguments)}}function M(r,s,c){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?M=nt:M=ut,M.apply(null,arguments)}function _t(r,s){var c=Array.prototype.slice.call(arguments,1);return function(){var h=c.slice();return h.push.apply(h,arguments),r.apply(this,h)}}var cs=Date.now;function X(r,s){function c(){}c.prototype=s.prototype,r.bb=s.prototype,r.prototype=new c,r.prototype.constructor=r}function Li(r){return r}function S(r,s,c){this.code=ls+r,this.message=s||m_[r]||"",this.a=c||null}X(S,Error),S.prototype.w=function(){var r={code:this.code,message:this.message};return this.a&&(r.serverResponse=this.a),r},S.prototype.toJSON=function(){return this.w()};function kv(r){var s=r&&r.code;return s?new S(s.substring(ls.length),r.message,r.serverResponse):null}var ls="auth/",m_={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},_h={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function hs(r){for(var s in _h)if(_h[s].id===r)return r=_h[s],{firebaseEndpoint:r.Ua,secureTokenEndpoint:r.$a,identityPlatformEndpoint:r.Xa};return null}var fs;fs=hs("__EID__")?"__EID__":void 0;function Pv(r){if(!r)return!1;try{return!!r.$goog_Thenable}catch{return!1}}function Fe(r){if(Error.captureStackTrace)Error.captureStackTrace(this,Fe);else{var s=Error().stack;s&&(this.stack=s)}r&&(this.message=String(r))}X(Fe,Error),Fe.prototype.name="CustomError";function Ah(r,s){r=r.split("%s");for(var c="",h=r.length-1,d=0;d<h;d++)c+=r[d]+(d<s.length?s[d]:"%s");Fe.call(this,c+r[h])}X(Ah,Fe),Ah.prototype.name="AssertionError";function Fi(r,s){throw new Ah("Failure"+(r?": "+r:""),Array.prototype.slice.call(arguments,1))}function Oh(r,s){this.c=r,this.f=s,this.b=0,this.a=null}Oh.prototype.get=function(){if(0<this.b){this.b--;var r=this.a;this.a=r.next,r.next=null}else r=this.c();return r};function Mv(r,s){r.f(s),100>r.b&&(r.b++,s.next=r.a,r.a=s)}function Lv(){this.b=this.a=null}var Fv=new Oh(function(){return new Rh},function(r){r.reset()});Lv.prototype.add=function(r,s){var c=Fv.get();c.set(r,s),this.b?this.b.next=c:this.a=c,this.b=c};function v_(){var r=ly,s=null;return r.a&&(s=r.a,r.a=r.a.next,r.a||(r.b=null),s.next=null),s}function Rh(){this.next=this.b=this.a=null}Rh.prototype.set=function(r,s){this.a=r,this.b=s,this.next=null},Rh.prototype.reset=function(){this.next=this.b=this.a=null};var Uv=Array.prototype.indexOf?function(r,s){return Array.prototype.indexOf.call(r,s,void 0)}:function(r,s){if(typeof r=="string")return typeof s!="string"||s.length!=1?-1:r.indexOf(s,0);for(var c=0;c<r.length;c++)if(c in r&&r[c]===s)return c;return-1},Dt=Array.prototype.forEach?function(r,s,c){Array.prototype.forEach.call(r,s,c)}:function(r,s,c){for(var h=r.length,d=typeof r=="string"?r.split(""):r,g=0;g<h;g++)g in d&&s.call(c,d[g],g,r)};function y_(r,s){for(var c=typeof r=="string"?r.split(""):r,h=r.length-1;0<=h;--h)h in c&&s.call(void 0,c[h],h,r)}var w_=Array.prototype.filter?function(r,s){return Array.prototype.filter.call(r,s,void 0)}:function(r,s){for(var c=r.length,h=[],d=0,g=typeof r=="string"?r.split(""):r,v=0;v<c;v++)if(v in g){var b=g[v];s.call(void 0,b,v,r)&&(h[d++]=b)}return h},Iu=Array.prototype.map?function(r,s){return Array.prototype.map.call(r,s,void 0)}:function(r,s){for(var c=r.length,h=Array(c),d=typeof r=="string"?r.split(""):r,g=0;g<c;g++)g in d&&(h[g]=s.call(void 0,d[g],g,r));return h},b_=Array.prototype.some?function(r,s){return Array.prototype.some.call(r,s,void 0)}:function(r,s){for(var c=r.length,h=typeof r=="string"?r.split(""):r,d=0;d<c;d++)if(d in h&&s.call(void 0,h[d],d,r))return!0;return!1};function I_(r){t:{for(var s=tO,c=r.length,h=typeof r=="string"?r.split(""):r,d=0;d<c;d++)if(d in h&&s.call(void 0,h[d],d,r)){s=d;break t}s=-1}return 0>s?null:typeof r=="string"?r.charAt(s):r[s]}function zn(r,s){return 0<=Uv(r,s)}function Eu(r,s){s=Uv(r,s);var c;return(c=0<=s)&&Array.prototype.splice.call(r,s,1),c}function hn(r,s){var c=0;y_(r,function(h,d){s.call(void 0,h,d,r)&&Array.prototype.splice.call(r,d,1).length==1&&c++})}function Nh(r){return Array.prototype.concat.apply([],arguments)}function Br(r){var s=r.length;if(0<s){for(var c=Array(s),h=0;h<s;h++)c[h]=r[h];return c}return[]}var jv=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]},E_=/&/g,S_=/</g,T_=/>/g,C_=/"/g,__=/'/g,A_=/\x00/g,O_=/[\x00&<>"']/;function St(r,s){return r.indexOf(s)!=-1}function Dh(r,s){return r<s?-1:r>s?1:0}var Ui;t:{var Vv=f.navigator;if(Vv){var qv=Vv.userAgent;if(qv){Ui=qv;break t}}Ui=""}function $t(r){return St(Ui,r)}function Bv(r,s){for(var c in r)s.call(void 0,r[c],c,r)}function zr(r){for(var s in r)return!1;return!0}function rr(r){var s={},c;for(c in r)s[c]=r[c];return s}var zv="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ae(r,s){for(var c,h,d=1;d<arguments.length;d++){h=arguments[d];for(c in h)r[c]=h[c];for(var g=0;g<zv.length;g++)c=zv[g],Object.prototype.hasOwnProperty.call(h,c)&&(r[c]=h[c])}}function Hv(r,s){t:{try{var c=r&&r.ownerDocument,h=c&&(c.defaultView||c.parentWindow);if(h=h||f,h.Element&&h.Location){var d=h;break t}}catch{}d=null}if(d&&typeof d[s]<"u"&&(!r||!(r instanceof d[s])&&(r instanceof d.Location||r instanceof d.Element))){if(A(r))try{var g=r.constructor.displayName||r.constructor.name||Object.prototype.toString.call(r)}catch{g="<object could not be stringified>"}else g=r===void 0?"undefined":r===null?"null":typeof r;Fi("Argument is not a %s (or a non-Element, non-Location mock); got: %s",s,g)}}function _n(r,s){this.a=r===Su&&s||"",this.b=Kv}_n.prototype.ta=!0,_n.prototype.sa=function(){return this.a},_n.prototype.toString=function(){return"Const{"+this.a+"}"};function xh(r){return r instanceof _n&&r.constructor===_n&&r.b===Kv?r.a:(Fi("expected object of type Const, got '"+r+"'"),"type_error:Const")}var Kv={},Su={},Tu;function Gv(){if(Tu===void 0){var r=null,s=f.trustedTypes;if(s&&s.createPolicy){try{r=s.createPolicy("goog#html",{createHTML:Li,createScript:Li,createScriptURL:Li})}catch(c){f.console&&f.console.error(c.message)}Tu=r}else Tu=r}return Tu}function ji(r,s){this.a=s===Wv?r:""}ji.prototype.ta=!0,ji.prototype.sa=function(){return this.a.toString()},ji.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function $v(r){return r instanceof ji&&r.constructor===ji?r.a:(Fi("expected object of type TrustedResourceUrl, got '"+r+"' of type "+I(r)),"type_error:TrustedResourceUrl")}function kh(r,s){var c=xh(r);if(!N_.test(c))throw Error("Invalid TrustedResourceUrl format: "+c);return r=c.replace(R_,function(h,d){if(!Object.prototype.hasOwnProperty.call(s,d))throw Error('Found marker, "'+d+'", in format string, "'+c+'", but no valid label mapping found in args: '+JSON.stringify(s));return h=s[d],h instanceof _n?xh(h):encodeURIComponent(String(h))}),D_(r)}var R_=/%{(\w+)}/g,N_=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Wv={};function D_(r){var s=Gv();return r=s?s.createScriptURL(r):r,new ji(r,Wv)}function Oe(r,s){this.a=s===ds?r:""}Oe.prototype.ta=!0,Oe.prototype.sa=function(){return this.a.toString()},Oe.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function Cu(r){return r instanceof Oe&&r.constructor===Oe?r.a:(Fi("expected object of type SafeUrl, got '"+r+"' of type "+I(r)),"type_error:SafeUrl")}var x_=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,k_=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Qv=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Yv(r){if(r instanceof Oe)return r;if(r=typeof r=="object"&&r.ta?r.sa():String(r),Qv.test(r))r=new Oe(r,ds);else{r=String(r),r=r.replace(/(%0A|%0D)/g,"");var s=r.match(k_);r=s&&x_.test(s[1])?new Oe(r,ds):null}return r}function Xv(r){return r instanceof Oe?r:(r=typeof r=="object"&&r.ta?r.sa():String(r),Qv.test(r)||(r="about:invalid#zClosurez"),new Oe(r,ds))}var ds={},Jv=new Oe("about:invalid#zClosurez",ds);function Vi(r,s,c){this.a=c===Zv?r:""}Vi.prototype.ta=!0,Vi.prototype.sa=function(){return this.a.toString()},Vi.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function P_(r){return r instanceof Vi&&r.constructor===Vi?r.a:(Fi("expected object of type SafeHtml, got '"+r+"' of type "+I(r)),"type_error:SafeHtml")}var Zv={};function M_(r,s){Hv(r,"HTMLScriptElement"),r.src=$v(s),(s=r.ownerDocument&&r.ownerDocument.defaultView)&&s!=f?s=y(s.document):(m===null&&(m=y(f.document)),s=m),s&&r.setAttribute("nonce",s)}function ty(r,s,c,h){return r=r instanceof Oe?r:Xv(r),s=s||f,c=c instanceof _n?xh(c):c||"",s.open(Cu(r),c,h,void 0)}function ey(r,s){for(var c=r.split("%s"),h="",d=Array.prototype.slice.call(arguments,1);d.length&&1<c.length;)h+=c.shift()+d.shift();return h+c.join("%s")}function Ph(r){return O_.test(r)&&(r.indexOf("&")!=-1&&(r=r.replace(E_,"&amp;")),r.indexOf("<")!=-1&&(r=r.replace(S_,"&lt;")),r.indexOf(">")!=-1&&(r=r.replace(T_,"&gt;")),r.indexOf('"')!=-1&&(r=r.replace(C_,"&quot;")),r.indexOf("'")!=-1&&(r=r.replace(__,"&#39;")),r.indexOf("\0")!=-1&&(r=r.replace(A_,"&#0;"))),r}function Mh(r){return Mh[" "](r),r}Mh[" "]=w;function L_(r,s){var c=V_;return Object.prototype.hasOwnProperty.call(c,r)?c[r]:c[r]=s(r)}var F_=$t("Opera"),fn=$t("Trident")||$t("MSIE"),ny=$t("Edge"),U_=ny||fn,ry=$t("Gecko")&&!(St(Ui.toLowerCase(),"webkit")&&!$t("Edge"))&&!($t("Trident")||$t("MSIE"))&&!$t("Edge"),j_=St(Ui.toLowerCase(),"webkit")&&!$t("Edge");function iy(){var r=f.document;return r?r.documentMode:void 0}var _u;t:{var Lh="",Fh=function(){var r=Ui;if(ry)return/rv:([^\);]+)(\)|;)/.exec(r);if(ny)return/Edge\/([\d\.]+)/.exec(r);if(fn)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r);if(j_)return/WebKit\/(\S+)/.exec(r);if(F_)return/(?:Version)[ \/]?(\S+)/.exec(r)}();if(Fh&&(Lh=Fh?Fh[1]:""),fn){var Uh=iy();if(Uh!=null&&Uh>parseFloat(Lh)){_u=String(Uh);break t}}_u=Lh}var V_={};function oy(r){return L_(r,function(){for(var s=0,c=jv(String(_u)).split("."),h=jv(String(r)).split("."),d=Math.max(c.length,h.length),g=0;s==0&&g<d;g++){var v=c[g]||"",b=h[g]||"";do{if(v=/(\d*)(\D*)(.*)/.exec(v)||["","","",""],b=/(\d*)(\D*)(.*)/.exec(b)||["","","",""],v[0].length==0&&b[0].length==0)break;s=Dh(v[1].length==0?0:parseInt(v[1],10),b[1].length==0?0:parseInt(b[1],10))||Dh(v[2].length==0,b[2].length==0)||Dh(v[2],b[2]),v=v[3],b=b[3]}while(s==0)}return 0<=s})}var jh;if(f.document&&fn){var sy=iy();jh=sy||parseInt(_u,10)||void 0}else jh=void 0;var ir=jh;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var q_=!fn||9<=Number(ir);function ps(r){var s=document;return typeof r=="string"?s.getElementById(r):r}function ay(r,s){Bv(s,function(c,h){c&&typeof c=="object"&&c.ta&&(c=c.sa()),h=="style"?r.style.cssText=c:h=="class"?r.className=c:h=="for"?r.htmlFor=c:uy.hasOwnProperty(h)?r.setAttribute(uy[h],c):h.lastIndexOf("aria-",0)==0||h.lastIndexOf("data-",0)==0?r.setAttribute(h,c):r[h]=c})}var uy={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function B_(r,s,c){var h=arguments,d=document,g=String(h[0]),v=h[1];if(!q_&&v&&(v.name||v.type)){if(g=["<",g],v.name&&g.push(' name="',Ph(v.name),'"'),v.type){g.push(' type="',Ph(v.type),'"');var b={};Ae(b,v),delete b.type,v=b}g.push(">"),g=g.join("")}return g=Au(d,g),v&&(typeof v=="string"?g.className=v:Array.isArray(v)?g.className=v.join(" "):ay(g,v)),2<h.length&&z_(d,g,h),g}function z_(r,s,c){function h(b){b&&s.appendChild(typeof b=="string"?r.createTextNode(b):b)}for(var d=2;d<c.length;d++){var g=c[d];if(!E(g)||A(g)&&0<g.nodeType)h(g);else{t:{if(g&&typeof g.length=="number"){if(A(g)){var v=typeof g.item=="function"||typeof g.item=="string";break t}if(T(g)){v=typeof g.item=="function";break t}}v=!1}Dt(v?Br(g):g,h)}}}function Au(r,s){return s=String(s),r.contentType==="application/xhtml+xml"&&(s=s.toLowerCase()),r.createElement(s)}function cy(r){f.setTimeout(function(){throw r},0)}var Vh;function H_(){var r=f.MessageChannel;if(typeof r>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!$t("Presto")&&(r=function(){var d=Au(document,"IFRAME");d.style.display="none",document.documentElement.appendChild(d);var g=d.contentWindow;d=g.document,d.open(),d.close();var v="callImmediate"+Math.random(),b=g.location.protocol=="file:"?"*":g.location.protocol+"//"+g.location.host;d=M(function(_){(b=="*"||_.origin==b)&&_.data==v&&this.port1.onmessage()},this),g.addEventListener("message",d,!1),this.port1={},this.port2={postMessage:function(){g.postMessage(v,b)}}}),typeof r<"u"&&!$t("Trident")&&!$t("MSIE")){var s=new r,c={},h=c;return s.port1.onmessage=function(){if(c.next!==void 0){c=c.next;var d=c.Hb;c.Hb=null,d()}},function(d){h.next={Hb:d},h=h.next,s.port2.postMessage(0)}}return function(d){f.setTimeout(d,0)}}function Ou(r,s){Ru||K_(),qh||(Ru(),qh=!0),ly.add(r,s)}var Ru;function K_(){if(f.Promise&&f.Promise.resolve){var r=f.Promise.resolve(void 0);Ru=function(){r.then(hy)}}else Ru=function(){var s=hy;!T(f.setImmediate)||f.Window&&f.Window.prototype&&!$t("Edge")&&f.Window.prototype.setImmediate==f.setImmediate?(Vh||(Vh=H_()),Vh(s)):f.setImmediate(s)}}var qh=!1,ly=new Lv;function hy(){for(var r;r=v_();){try{r.a.call(r.b)}catch(s){cy(s)}Mv(Fv,r)}qh=!1}function at(r,s){if(this.a=Hr,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,r!=w)try{var c=this;r.call(s,function(h){Kr(c,gs,h)},function(h){if(!(h instanceof qi))try{throw h instanceof Error?h:Error("Promise rejected.")}catch{}Kr(c,Hn,h)})}catch(h){Kr(this,Hn,h)}}var Hr=0,gs=2,Hn=3;function fy(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}fy.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var dy=new Oh(function(){return new fy},function(r){r.reset()});function Bh(r,s,c){var h=dy.get();return h.g=r,h.b=s,h.f=c,h}function K(r){if(r instanceof at)return r;var s=new at(w);return Kr(s,gs,r),s}function At(r){return new at(function(s,c){c(r)})}function py(r,s,c){yy(r,s,c,null)||Ou(_t(s,r))}function G_(r){return new at(function(s,c){var h=r.length,d=[];if(h)for(var g=function(N,Z){h--,d[N]=Z,h==0&&s(d)},v=function(N){c(N)},b=0,_;b<r.length;b++)_=r[b],py(_,_t(g,b),v);else s(d)})}function gy(r){return new at(function(s){var c=r.length,h=[];if(c)for(var d=function(b,_,N){c--,h[b]=_?{Qb:!0,value:N}:{Qb:!1,reason:N},c==0&&s(h)},g=0,v;g<r.length;g++)v=r[g],py(v,_t(d,g,!0),_t(d,g,!1));else s(h)})}at.prototype.then=function(r,s,c){return vy(this,T(r)?r:null,T(s)?s:null,c)},at.prototype.$goog_Thenable=!0,e=at.prototype,e.oa=function(r,s){return r=Bh(r,r,s),r.c=!0,zh(this,r),this},e.o=function(r,s){return vy(this,null,r,s)},e.cancel=function(r){if(this.a==Hr){var s=new qi(r);Ou(function(){my(this,s)},this)}};function my(r,s){if(r.a==Hr)if(r.c){var c=r.c;if(c.b){for(var h=0,d=null,g=null,v=c.b;v&&(v.c||(h++,v.a==r&&(d=v),!(d&&1<h)));v=v.next)d||(g=v);d&&(c.a==Hr&&h==1?my(c,s):(g?(h=g,h.next==c.f&&(c.f=h),h.next=h.next.next):by(c),Iy(c,d,Hn,s)))}r.c=null}else Kr(r,Hn,s)}function zh(r,s){r.b||r.a!=gs&&r.a!=Hn||wy(r),r.f?r.f.next=s:r.b=s,r.f=s}function vy(r,s,c,h){var d=Bh(null,null,null);return d.a=new at(function(g,v){d.g=s?function(b){try{var _=s.call(h,b);g(_)}catch(N){v(N)}}:g,d.b=c?function(b){try{var _=c.call(h,b);_===void 0&&b instanceof qi?v(b):g(_)}catch(N){v(N)}}:v}),d.a.c=r,zh(r,d),d.a}e.$c=function(r){this.a=Hr,Kr(this,gs,r)},e.ad=function(r){this.a=Hr,Kr(this,Hn,r)};function Kr(r,s,c){r.a==Hr&&(r===c&&(s=Hn,c=new TypeError("Promise cannot resolve to itself")),r.a=1,yy(c,r.$c,r.ad,r)||(r.i=c,r.a=s,r.c=null,wy(r),s!=Hn||c instanceof qi||W_(r,c)))}function yy(r,s,c,h){if(r instanceof at)return zh(r,Bh(s||w,c||null,h)),!0;if(Pv(r))return r.then(s,c,h),!0;if(A(r))try{var d=r.then;if(T(d))return $_(r,d,s,c,h),!0}catch(g){return c.call(h,g),!0}return!1}function $_(r,s,c,h,d){function g(_){b||(b=!0,h.call(d,_))}function v(_){b||(b=!0,c.call(d,_))}var b=!1;try{s.call(r,v,g)}catch(_){g(_)}}function wy(r){r.h||(r.h=!0,Ou(r.gc,r))}function by(r){var s=null;return r.b&&(s=r.b,r.b=s.next,s.next=null),r.b||(r.f=null),s}e.gc=function(){for(var r;r=by(this);)Iy(this,r,this.a,this.i);this.h=!1};function Iy(r,s,c,h){if(c==Hn&&s.b&&!s.c)for(;r&&r.g;r=r.c)r.g=!1;if(s.a)s.a.c=null,Ey(s,c,h);else try{s.c?s.g.call(s.f):Ey(s,c,h)}catch(d){Sy.call(null,d)}Mv(dy,s)}function Ey(r,s,c){s==gs?r.g.call(r.f,c):r.b&&r.b.call(r.f,c)}function W_(r,s){r.g=!0,Ou(function(){r.g&&Sy.call(null,s)})}var Sy=cy;function qi(r){Fe.call(this,r)}X(qi,Fe),qi.prototype.name="cancel";function Nu(){Hh!=0&&(Ty[x(this)]=this),this.ya=this.ya,this.pa=this.pa}var Hh=0,Ty={};Nu.prototype.ya=!1;function Cy(r){if(!r.ya&&(r.ya=!0,r.Da(),Hh!=0)){var s=x(r);if(Hh!=0&&r.pa&&0<r.pa.length)throw Error(r+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Ty[s]}}Nu.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Q_=Object.freeze||function(r){return r},_y=!fn||9<=Number(ir),Y_=fn&&!oy("9"),X_=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var r=!1,s=Object.defineProperty({},"passive",{get:function(){r=!0}});try{f.addEventListener("test",w,s),f.removeEventListener("test",w,s)}catch{}return r}();function Re(r,s){this.type=r,this.b=this.target=s,this.defaultPrevented=!1}Re.prototype.preventDefault=function(){this.defaultPrevented=!0};function Gr(r,s){if(Re.call(this,r?r.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,r){var c=this.type=r.type,h=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.b=s,s=r.relatedTarget){if(ry){t:{try{Mh(s.nodeName);var d=!0;break t}catch{}d=!1}d||(s=null)}}else c=="mouseover"?s=r.fromElement:c=="mouseout"&&(s=r.toElement);this.relatedTarget=s,h?(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0):(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType=typeof r.pointerType=="string"?r.pointerType:J_[r.pointerType]||"",this.a=r,r.defaultPrevented&&this.preventDefault()}}X(Gr,Re);var J_=Q_({2:"touch",3:"pen",4:"mouse"});Gr.prototype.preventDefault=function(){Gr.bb.preventDefault.call(this);var r=this.a;if(r.preventDefault)r.preventDefault();else if(r.returnValue=!1,Y_)try{(r.ctrlKey||112<=r.keyCode&&123>=r.keyCode)&&(r.keyCode=-1)}catch{}},Gr.prototype.g=function(){return this.a};var ms="closure_listenable_"+(1e6*Math.random()|0),Z_=0;function tA(r,s,c,h,d){this.listener=r,this.proxy=null,this.src=s,this.type=c,this.capture=!!h,this.Wa=d,this.key=++Z_,this.wa=this.Qa=!1}function Du(r){r.wa=!0,r.listener=null,r.proxy=null,r.src=null,r.Wa=null}function xu(r){this.src=r,this.a={},this.b=0}xu.prototype.add=function(r,s,c,h,d){var g=r.toString();r=this.a[g],r||(r=this.a[g]=[],this.b++);var v=Gh(r,s,h,d);return-1<v?(s=r[v],c||(s.Qa=!1)):(s=new tA(s,this.src,g,!!h,d),s.Qa=c,r.push(s)),s};function Kh(r,s){var c=s.type;c in r.a&&Eu(r.a[c],s)&&(Du(s),r.a[c].length==0&&(delete r.a[c],r.b--))}function Gh(r,s,c,h){for(var d=0;d<r.length;++d){var g=r[d];if(!g.wa&&g.listener==s&&g.capture==!!c&&g.Wa==h)return d}return-1}var $h="closure_lm_"+(1e6*Math.random()|0),Wh={},Ay=0;function en(r,s,c,h,d){if(h&&h.once)Qh(r,s,c,h,d);else if(Array.isArray(s))for(var g=0;g<s.length;g++)en(r,s[g],c,h,d);else c=Xh(c),r&&r[ms]?ky(r,s,c,A(h)?!!h.capture:!!h,d):Oy(r,s,c,!1,h,d)}function Oy(r,s,c,h,d,g){if(!s)throw Error("Invalid event type");var v=A(d)?!!d.capture:!!d,b=ku(r);if(b||(r[$h]=b=new xu(r)),c=b.add(s,c,h,v,g),!c.proxy){if(h=eA(),c.proxy=h,h.src=r,h.listener=c,r.addEventListener)X_||(d=v),d===void 0&&(d=!1),r.addEventListener(s.toString(),h,d);else if(r.attachEvent)r.attachEvent(Ny(s.toString()),h);else if(r.addListener&&r.removeListener)r.addListener(h);else throw Error("addEventListener and attachEvent are unavailable.");Ay++}}function eA(){var r=nA,s=_y?function(c){return r.call(s.src,s.listener,c)}:function(c){if(c=r.call(s.src,s.listener,c),!c)return c};return s}function Qh(r,s,c,h,d){if(Array.isArray(s))for(var g=0;g<s.length;g++)Qh(r,s[g],c,h,d);else c=Xh(c),r&&r[ms]?Jh(r,s,c,A(h)?!!h.capture:!!h,d):Oy(r,s,c,!0,h,d)}function Ue(r,s,c,h,d){if(Array.isArray(s))for(var g=0;g<s.length;g++)Ue(r,s[g],c,h,d);else h=A(h)?!!h.capture:!!h,c=Xh(c),r&&r[ms]?(r=r.v,s=String(s).toString(),s in r.a&&(g=r.a[s],c=Gh(g,c,h,d),-1<c&&(Du(g[c]),Array.prototype.splice.call(g,c,1),g.length==0&&(delete r.a[s],r.b--)))):r&&(r=ku(r))&&(s=r.a[s.toString()],r=-1,s&&(r=Gh(s,c,h,d)),(c=-1<r?s[r]:null)&&Ry(c))}function Ry(r){if(typeof r!="number"&&r&&!r.wa){var s=r.src;if(s&&s[ms])Kh(s.v,r);else{var c=r.type,h=r.proxy;s.removeEventListener?s.removeEventListener(c,h,r.capture):s.detachEvent?s.detachEvent(Ny(c),h):s.addListener&&s.removeListener&&s.removeListener(h),Ay--,(c=ku(s))?(Kh(c,r),c.b==0&&(c.src=null,s[$h]=null)):Du(r)}}}function Ny(r){return r in Wh?Wh[r]:Wh[r]="on"+r}function Dy(r,s,c,h){var d=!0;if((r=ku(r))&&(s=r.a[s.toString()]))for(s=s.concat(),r=0;r<s.length;r++){var g=s[r];g&&g.capture==c&&!g.wa&&(g=xy(g,h),d=d&&g!==!1)}return d}function xy(r,s){var c=r.listener,h=r.Wa||r.src;return r.Qa&&Ry(r),c.call(h,s)}function nA(r,s){if(r.wa)return!0;if(!_y){if(!s)t:{s=["window","event"];for(var c=f,h=0;h<s.length;h++)if(c=c[s[h]],c==null){s=null;break t}s=c}if(h=s,s=new Gr(h,this),c=!0,!(0>h.keyCode||h.returnValue!=null)){t:{var d=!1;if(h.keyCode==0)try{h.keyCode=-1;break t}catch{d=!0}(d||h.returnValue==null)&&(h.returnValue=!0)}for(h=[],d=s.b;d;d=d.parentNode)h.push(d);for(r=r.type,d=h.length-1;0<=d;d--){s.b=h[d];var g=Dy(h[d],r,!0,s);c=c&&g}for(d=0;d<h.length;d++)s.b=h[d],g=Dy(h[d],r,!1,s),c=c&&g}return c}return xy(r,new Gr(s,this))}function ku(r){return r=r[$h],r instanceof xu?r:null}var Yh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xh(r){return T(r)?r:(r[Yh]||(r[Yh]=function(s){return r.handleEvent(s)}),r[Yh])}function ve(){Nu.call(this),this.v=new xu(this),this.bc=this,this.hb=null}X(ve,Nu),ve.prototype[ms]=!0,ve.prototype.addEventListener=function(r,s,c,h){en(this,r,s,c,h)},ve.prototype.removeEventListener=function(r,s,c,h){Ue(this,r,s,c,h)},ve.prototype.dispatchEvent=function(r){var s,c=this.hb;if(c)for(s=[];c;c=c.hb)s.push(c);c=this.bc;var h=r.type||r;if(typeof r=="string")r=new Re(r,c);else if(r instanceof Re)r.target=r.target||c;else{var d=r;r=new Re(h,c),Ae(r,d)}if(d=!0,s)for(var g=s.length-1;0<=g;g--){var v=r.b=s[g];d=Pu(v,h,!0,r)&&d}if(v=r.b=c,d=Pu(v,h,!0,r)&&d,d=Pu(v,h,!1,r)&&d,s)for(g=0;g<s.length;g++)v=r.b=s[g],d=Pu(v,h,!1,r)&&d;return d},ve.prototype.Da=function(){if(ve.bb.Da.call(this),this.v){var r=this.v,s=0,c;for(c in r.a){for(var h=r.a[c],d=0;d<h.length;d++)++s,Du(h[d]);delete r.a[c],r.b--}}this.hb=null};function ky(r,s,c,h,d){r.v.add(String(s),c,!1,h,d)}function Jh(r,s,c,h,d){r.v.add(String(s),c,!0,h,d)}function Pu(r,s,c,h){if(s=r.v.a[String(s)],!s)return!0;s=s.concat();for(var d=!0,g=0;g<s.length;++g){var v=s[g];if(v&&!v.wa&&v.capture==c){var b=v.listener,_=v.Wa||v.src;v.Qa&&Kh(r.v,v),d=b.call(_,h)!==!1&&d}}return d&&!h.defaultPrevented}function Zh(r,s,c){if(T(r))c&&(r=M(r,c));else if(r&&typeof r.handleEvent=="function")r=M(r.handleEvent,r);else throw Error("Invalid listener argument");return 2147483647<Number(s)?-1:f.setTimeout(r,s||0)}function Bi(r){var s=null;return new at(function(c,h){s=Zh(function(){c(void 0)},r),s==-1&&h(Error("Failed to schedule timer."))}).o(function(c){throw f.clearTimeout(s),c})}function Py(r){if(r.X&&typeof r.X=="function")return r.X();if(typeof r=="string")return r.split("");if(E(r)){for(var s=[],c=r.length,h=0;h<c;h++)s.push(r[h]);return s}s=[],c=0;for(h in r)s[c++]=r[h];return s}function My(r){if(r.Y&&typeof r.Y=="function")return r.Y();if(!r.X||typeof r.X!="function"){if(E(r)||typeof r=="string"){var s=[];r=r.length;for(var c=0;c<r;c++)s.push(c);return s}s=[],c=0;for(var h in r)s[c++]=h;return s}}function rA(r,s){if(r.forEach&&typeof r.forEach=="function")r.forEach(s,void 0);else if(E(r)||typeof r=="string")Dt(r,s,void 0);else for(var c=My(r),h=Py(r),d=h.length,g=0;g<d;g++)s.call(void 0,h[g],c&&c[g],r)}function zi(r,s){this.b={},this.a=[],this.c=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var h=0;h<c;h+=2)this.set(arguments[h],arguments[h+1])}else if(r)if(r instanceof zi)for(c=r.Y(),h=0;h<c.length;h++)this.set(c[h],r.get(c[h]));else for(h in r)this.set(h,r[h])}e=zi.prototype,e.X=function(){tf(this);for(var r=[],s=0;s<this.a.length;s++)r.push(this.b[this.a[s]]);return r},e.Y=function(){return tf(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0};function tf(r){if(r.c!=r.a.length){for(var s=0,c=0;s<r.a.length;){var h=r.a[s];$r(r.b,h)&&(r.a[c++]=h),s++}r.a.length=c}if(r.c!=r.a.length){var d={};for(c=s=0;s<r.a.length;)h=r.a[s],$r(d,h)||(r.a[c++]=h,d[h]=1),s++;r.a.length=c}}e.get=function(r,s){return $r(this.b,r)?this.b[r]:s},e.set=function(r,s){$r(this.b,r)||(this.c++,this.a.push(r)),this.b[r]=s},e.forEach=function(r,s){for(var c=this.Y(),h=0;h<c.length;h++){var d=c[h],g=this.get(d);r.call(s,g,d,this)}};function $r(r,s){return Object.prototype.hasOwnProperty.call(r,s)}var Ly=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function iA(r,s){if(r){r=r.split("&");for(var c=0;c<r.length;c++){var h=r[c].indexOf("="),d=null;if(0<=h){var g=r[c].substring(0,h);d=r[c].substring(h+1)}else g=r[c];s(g,d?decodeURIComponent(d.replace(/\+/g," ")):"")}}}function or(r,s){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var c;r instanceof or?(this.i=s!==void 0?s:r.i,vs(this,r.c),this.l=r.l,this.a=r.a,ys(this,r.g),this.f=r.f,ef(this,Vy(r.b)),this.h=r.h):r&&(c=String(r).match(Ly))?(this.i=!!s,vs(this,c[1]||"",!0),this.l=ws(c[2]||""),this.a=ws(c[3]||"",!0),ys(this,c[4]),this.f=ws(c[5]||"",!0),ef(this,c[6]||"",!0),this.h=ws(c[7]||"")):(this.i=!!s,this.b=new Wr(null,this.i))}or.prototype.toString=function(){var r=[],s=this.c;s&&r.push(bs(s,Fy,!0),":");var c=this.a;return(c||s=="file")&&(r.push("//"),(s=this.l)&&r.push(bs(s,Fy,!0),"@"),r.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.g,c!=null&&r.push(":",String(c))),(c=this.f)&&(this.a&&c.charAt(0)!="/"&&r.push("/"),r.push(bs(c,c.charAt(0)=="/"?aA:sA,!0))),(c=this.b.toString())&&r.push("?",c),(c=this.h)&&r.push("#",bs(c,cA)),r.join("")},or.prototype.resolve=function(r){var s=new or(this),c=!!r.c;c?vs(s,r.c):c=!!r.l,c?s.l=r.l:c=!!r.a,c?s.a=r.a:c=r.g!=null;var h=r.f;if(c)ys(s,r.g);else if(c=!!r.f){if(h.charAt(0)!="/")if(this.a&&!this.f)h="/"+h;else{var d=s.f.lastIndexOf("/");d!=-1&&(h=s.f.substr(0,d+1)+h)}if(d=h,d==".."||d==".")h="";else if(St(d,"./")||St(d,"/.")){h=d.lastIndexOf("/",0)==0,d=d.split("/");for(var g=[],v=0;v<d.length;){var b=d[v++];b=="."?h&&v==d.length&&g.push(""):b==".."?((1<g.length||g.length==1&&g[0]!="")&&g.pop(),h&&v==d.length&&g.push("")):(g.push(b),h=!0)}h=g.join("/")}else h=d}return c?s.f=h:c=r.b.toString()!=="",c?ef(s,Vy(r.b)):c=!!r.h,c&&(s.h=r.h),s};function vs(r,s,c){r.c=c?ws(s,!0):s,r.c&&(r.c=r.c.replace(/:$/,""))}function ys(r,s){if(s){if(s=Number(s),isNaN(s)||0>s)throw Error("Bad port number "+s);r.g=s}else r.g=null}function ef(r,s,c){s instanceof Wr?(r.b=s,lA(r.b,r.i)):(c||(s=bs(s,uA)),r.b=new Wr(s,r.i))}function Lt(r,s,c){r.b.set(s,c)}function nn(r,s){return r.b.get(s)}function Ne(r){return r instanceof or?new or(r):new or(r,void 0)}function Mu(r,s,c,h){var d=new or(null,void 0);return r&&vs(d,r),s&&(d.a=s),c&&ys(d,c),h&&(d.f=h),d}function ws(r,s){return r?s?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function bs(r,s,c){return typeof r=="string"?(r=encodeURI(r).replace(s,oA),c&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function oA(r){return r=r.charCodeAt(0),"%"+(r>>4&15).toString(16)+(r&15).toString(16)}var Fy=/[#\/\?@]/g,sA=/[#\?:]/g,aA=/[#\?]/g,uA=/[#\?@]/g,cA=/#/g;function Wr(r,s){this.b=this.a=null,this.c=r||null,this.f=!!s}function sr(r){r.a||(r.a=new zi,r.b=0,r.c&&iA(r.c,function(s,c){r.add(decodeURIComponent(s.replace(/\+/g," ")),c)}))}function Uy(r){var s=My(r);if(typeof s>"u")throw Error("Keys are undefined");var c=new Wr(null,void 0);r=Py(r);for(var h=0;h<s.length;h++){var d=s[h],g=r[h];Array.isArray(g)?jy(c,d,g):c.add(d,g)}return c}e=Wr.prototype,e.add=function(r,s){sr(this),this.c=null,r=Hi(this,r);var c=this.a.get(r);return c||this.a.set(r,c=[]),c.push(s),this.b+=1,this};function An(r,s){sr(r),s=Hi(r,s),$r(r.a.b,s)&&(r.c=null,r.b-=r.a.get(s).length,r=r.a,$r(r.b,s)&&(delete r.b[s],r.c--,r.a.length>2*r.c&&tf(r)))}e.clear=function(){this.a=this.c=null,this.b=0};function nf(r,s){return sr(r),s=Hi(r,s),$r(r.a.b,s)}e.forEach=function(r,s){sr(this),this.a.forEach(function(c,h){Dt(c,function(d){r.call(s,d,h,this)},this)},this)},e.Y=function(){sr(this);for(var r=this.a.X(),s=this.a.Y(),c=[],h=0;h<s.length;h++)for(var d=r[h],g=0;g<d.length;g++)c.push(s[h]);return c},e.X=function(r){sr(this);var s=[];if(typeof r=="string")nf(this,r)&&(s=Nh(s,this.a.get(Hi(this,r))));else{r=this.a.X();for(var c=0;c<r.length;c++)s=Nh(s,r[c])}return s},e.set=function(r,s){return sr(this),this.c=null,r=Hi(this,r),nf(this,r)&&(this.b-=this.a.get(r).length),this.a.set(r,[s]),this.b+=1,this},e.get=function(r,s){return r?(r=this.X(r),0<r.length?String(r[0]):s):s};function jy(r,s,c){An(r,s),0<c.length&&(r.c=null,r.a.set(Hi(r,s),Br(c)),r.b+=c.length)}e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var r=[],s=this.a.Y(),c=0;c<s.length;c++){var h=s[c],d=encodeURIComponent(String(h));h=this.X(h);for(var g=0;g<h.length;g++){var v=d;h[g]!==""&&(v+="="+encodeURIComponent(String(h[g]))),r.push(v)}}return this.c=r.join("&")};function Vy(r){var s=new Wr;return s.c=r.c,r.a&&(s.a=new zi(r.a),s.b=r.b),s}function Hi(r,s){return s=String(s),r.f&&(s=s.toLowerCase()),s}function lA(r,s){s&&!r.f&&(sr(r),r.c=null,r.a.forEach(function(c,h){var d=h.toLowerCase();h!=d&&(An(this,h),jy(this,d,c))},r)),r.f=s}function qy(r){var s=[];return rf(new hA,r,s),s.join("")}function hA(){}function rf(r,s,c){if(s==null)c.push("null");else{if(typeof s=="object"){if(Array.isArray(s)){var h=s;s=h.length,c.push("[");for(var d="",g=0;g<s;g++)c.push(d),rf(r,h[g],c),d=",";c.push("]");return}if(s instanceof String||s instanceof Number||s instanceof Boolean)s=s.valueOf();else{c.push("{"),d="";for(h in s)Object.prototype.hasOwnProperty.call(s,h)&&(g=s[h],typeof g!="function"&&(c.push(d),zy(h,c),c.push(":"),rf(r,g,c),d=","));c.push("}");return}}switch(typeof s){case"string":zy(s,c);break;case"number":c.push(isFinite(s)&&!isNaN(s)?String(s):"null");break;case"boolean":c.push(String(s));break;case"function":c.push("null");break;default:throw Error("Unknown type: "+typeof s)}}}var By={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},fA=/\uffff/.test("\uFFFF")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function zy(r,s){s.push('"',r.replace(fA,function(c){var h=By[c];return h||(h="\\u"+(c.charCodeAt(0)|65536).toString(16).substr(1),By[c]=h),h}),'"')}function of(){var r=te();return fn&&!!ir&&ir==11||/Edge\/\d+/.test(r)}function Is(){return f.window&&f.window.location.href||self&&self.location&&self.location.href||""}function Hy(r,s){s=s||f.window;var c="about:blank";r&&(c=Cu(Yv(r)||Jv)),s.location.href=c}function Ky(r,s){var c=[],h;for(h in r)h in s?typeof r[h]!=typeof s[h]?c.push(h):typeof r[h]=="object"&&r[h]!=null&&s[h]!=null?0<Ky(r[h],s[h]).length&&c.push(h):r[h]!==s[h]&&c.push(h):c.push(h);for(h in s)h in r||c.push(h);return c}function dA(){var r=te();return r=Ki(r)!=Qy?null:(r=r.match(/\sChrome\/(\d+)/i))&&r.length==2?parseInt(r[1],10):null,r&&30>r?!1:!fn||!ir||9<ir}function Gy(r){return r=(r||te()).toLowerCase(),!!(r.match(/android/)||r.match(/webos/)||r.match(/iphone|ipad|ipod/)||r.match(/blackberry/)||r.match(/windows phone/)||r.match(/iemobile/))}function Qr(r){r=r||f.window;try{r.close()}catch{}}function $y(r,s,c){var h=Math.floor(1e9*Math.random()).toString();s=s||500,c=c||600;var d=(window.screen.availHeight-c)/2,g=(window.screen.availWidth-s)/2;s={width:s,height:c,top:0<d?d:0,left:0<g?g:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},c=te().toLowerCase(),h&&(s.target=h,St(c,"crios/")&&(s.target="_blank")),Ki(te())==uf&&(r=r||"http://localhost",s.scrollbars=!0),c=r||"",(r=s)||(r={}),h=window,s=c instanceof Oe?c:Yv(typeof c.href<"u"?c.href:String(c))||Jv,c=r.target||c.target,d=[];for(v in r)switch(v){case"width":case"height":case"top":case"left":d.push(v+"="+r[v]);break;case"target":case"noopener":case"noreferrer":break;default:d.push(v+"="+(r[v]?1:0))}var v=d.join(",");if(($t("iPhone")&&!$t("iPod")&&!$t("iPad")||$t("iPad")||$t("iPod"))&&h.navigator&&h.navigator.standalone&&c&&c!="_self"?(v=Au(document,"A"),Hv(v,"HTMLAnchorElement"),s=s instanceof Oe?s:Xv(s),v.href=Cu(s),v.setAttribute("target",c),r.noreferrer&&v.setAttribute("rel","noreferrer"),r=document.createEvent("MouseEvent"),r.initMouseEvent("click",!0,!0,h,1),v.dispatchEvent(r),v={}):r.noreferrer?(v=ty("",h,c,v),r=Cu(s),v&&(U_&&St(r,";")&&(r="'"+r.replace(/'/g,"%27")+"'"),v.opener=null,r='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Ph(r)+'">',r=(h=Gv())?h.createHTML(r):r,r=new Vi(r,null,Zv),h=v.document)&&(h.write(P_(r)),h.close())):(v=ty(s,h,c,v))&&r.noopener&&(v.opener=null),v)try{v.focus()}catch{}return v}function pA(r){return new at(function(s){function c(){Bi(2e3).then(function(){if(!r||r.closed)s();else return c()})}return c()})}var gA=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mA=/^[^@]+@[^@]+$/;function Lu(){var r=null;return new at(function(s){f.document.readyState=="complete"?s():(r=function(){s()},Qh(window,"load",r))}).o(function(s){throw Ue(window,"load",r),s})}function vA(){return sf(void 0)?Lu().then(function(){return new at(function(r,s){var c=f.document,h=setTimeout(function(){s(Error("Cordova framework is not ready."))},1e3);c.addEventListener("deviceready",function(){clearTimeout(h),r()},!1)})}):At(Error("Cordova must run in an Android or iOS file scheme."))}function sf(r){return r=r||te(),!($i()!=="file:"&&$i()!=="ionic:"||!r.toLowerCase().match(/iphone|ipad|ipod|android/))}function af(){var r=f.window;try{return!(!r||r==r.top)}catch{return!1}}function dn(){return typeof f.WorkerGlobalScope<"u"&&typeof f.importScripts=="function"}function On(){return Q.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Q.INTERNAL.hasOwnProperty("node")?"Node":dn()?"Worker":"Browser"}function Wy(){var r=On();return r==="ReactNative"||r==="Node"}function yA(){for(var r=50,s=[];0<r;)s.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),r--;return s.join("")}var uf="Firefox",Qy="Chrome";function Ki(r){var s=r.toLowerCase();if(St(s,"opera/")||St(s,"opr/")||St(s,"opios/"))return"Opera";if(St(s,"iemobile"))return"IEMobile";if(St(s,"msie")||St(s,"trident/"))return"IE";if(St(s,"edge/"))return"Edge";if(St(s,"firefox/"))return uf;if(St(s,"silk/"))return"Silk";if(St(s,"blackberry"))return"Blackberry";if(St(s,"webos"))return"Webos";if(!St(s,"safari/")||St(s,"chrome/")||St(s,"crios/")||St(s,"android"))if(!St(s,"chrome/")&&!St(s,"crios/")||St(s,"edge/")){if(St(s,"android"))return"Android";if((r=r.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&r.length==2)return r[1]}else return Qy;else return"Safari";return"Other"}var Yy={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Gi(r,s){s=s||[];var c=[],h={},d;for(d in Yy)h[Yy[d]]=!0;for(d=0;d<s.length;d++)typeof h[s[d]]<"u"&&(delete h[s[d]],c.push(s[d]));return c.sort(),s=c,s.length||(s=["FirebaseCore-web"]),c=On(),c==="Browser"?(h=te(),c=Ki(h)):c==="Worker"&&(h=te(),c=Ki(h)+"-"+c),c+"/JsCore/"+r+"/"+s.join(",")}function te(){return f.navigator&&f.navigator.userAgent||""}function Ot(r,s){r=r.split("."),s=s||f;for(var c=0;c<r.length&&typeof s=="object"&&s!=null;c++)s=s[r[c]];return c!=r.length&&(s=void 0),s}function cf(){try{var r=f.localStorage,s=Xr();if(r)return r.setItem(s,"1"),r.removeItem(s),of()?!!f.indexedDB:!0}catch{return dn()&&!!f.indexedDB}return!1}function Yr(){return(Fu()||$i()==="chrome-extension:"||sf())&&!Wy()&&cf()&&!dn()}function Fu(){return $i()==="http:"||$i()==="https:"}function $i(){return f.location&&f.location.protocol||null}function Es(r){return r=r||te(),!(Gy(r)||Ki(r)==uf)}function Ss(r){return typeof r>"u"?null:qy(r)}function Xy(r){var s={},c;for(c in r)r.hasOwnProperty(c)&&r[c]!==null&&r[c]!==void 0&&(s[c]=r[c]);return s}function Wi(r){if(r!==null)return JSON.parse(r)}function Xr(r){return r||Math.floor(1e9*Math.random()).toString()}function Jy(r){return r=r||te(),!(Ki(r)=="Safari"||r.toLowerCase().match(/iphone|ipad|ipod/))}function Zy(){var r=f.___jsl;if(r&&r.H){for(var s in r.H)if(r.H[s].r=r.H[s].r||[],r.H[s].L=r.H[s].L||[],r.H[s].r=r.H[s].L.concat(),r.CP)for(var c=0;c<r.CP.length;c++)r.CP[c]=null}}function ar(r,s){if(r>s)throw Error("Short delay should be less than long delay!");this.a=r,this.c=s,r=te(),s=On(),this.b=Gy(r)||s==="ReactNative"}ar.prototype.get=function(){var r=f.navigator;return!(r&&typeof r.onLine=="boolean"&&(Fu()||$i()==="chrome-extension:"||typeof r.connection<"u"))||r.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function lf(){var r=f.document;return r&&typeof r.visibilityState<"u"?r.visibilityState=="visible":!0}function wA(){var r=f.document,s=null;return lf()||!r?K():new at(function(c){s=function(){lf()&&(r.removeEventListener("visibilitychange",s,!1),c())},r.addEventListener("visibilitychange",s,!1)}).o(function(c){throw r.removeEventListener("visibilitychange",s,!1),c})}function Ts(r){try{var s=new Date(parseInt(r,10));if(!isNaN(s.getTime())&&!/[^0-9]/.test(r))return s.toUTCString()}catch{}return null}function t0(){return!(!Ot("fireauth.oauthhelper",f)&&!Ot("fireauth.iframe",f))}function bA(){var r=f.navigator;return r&&r.serviceWorker&&r.serviceWorker.controller||null}function IA(){var r=f.navigator;return r&&r.serviceWorker?K().then(function(){return r.serviceWorker.ready}).then(function(s){return s.active||null}).o(function(){return null}):K(null)}var e0={};function hf(r){e0[r]||(e0[r]=!0,typeof console<"u"&&typeof console.warn=="function"&&console.warn(r))}var ff;try{var df={};Object.defineProperty(df,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(df,"abcd",{configurable:!0,enumerable:!0,value:2}),ff=df.abcd==2}catch{ff=!1}function q(r,s,c){ff?Object.defineProperty(r,s,{configurable:!0,enumerable:!0,value:c}):r[s]=c}function ye(r,s){if(s)for(var c in s)s.hasOwnProperty(c)&&q(r,c,s[c])}function Rn(r){var s={};return ye(s,r),s}function EA(r){var s={},c;for(c in r)r.hasOwnProperty(c)&&(s[c]=r[c]);return s}function SA(r,s){if(!s||!s.length)return!0;if(!r)return!1;for(var c=0;c<s.length;c++){var h=r[s[c]];if(h==null||h==="")return!1}return!0}function pf(r){var s=r;if(typeof r=="object"&&r!=null){s="length"in r?[]:{};for(var c in r)q(s,c,pf(r[c]))}return s}function gf(r){var s=r&&(r[wf]?"phone":null);if(s&&r&&r[yf]){q(this,"uid",r[yf]),q(this,"displayName",r[n0]||null);var c=null;r[vf]&&(c=new Date(r[vf]).toUTCString()),q(this,"enrollmentTime",c),q(this,"factorId",s)}else throw new S("internal-error","Internal assert: invalid MultiFactorInfo object")}gf.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function mf(r){try{var s=new Cs(r)}catch{s=null}return s}var n0="displayName",vf="enrolledAt",yf="mfaEnrollmentId",wf="phoneInfo";function Cs(r){gf.call(this,r),q(this,"phoneNumber",r[wf])}X(Cs,gf),Cs.prototype.w=function(){var r=Cs.bb.w.call(this);return r.phoneNumber=this.phoneNumber,r};function TA(r){var s={},c=r[CA],h=r[AA],d=r[OA];if(r=mf(r[_A]),!d||d!=Uu&&d!=_s&&!c||d==_s&&!h||d==bf&&!r)throw Error("Invalid checkActionCode response!");d==_s?(s[i0]=c||null,s[o0]=c||null,s[r0]=h):(s[i0]=h||null,s[o0]=h||null,s[r0]=c||null),s[RA]=r||null,q(this,DA,d),q(this,NA,pf(s))}var bf="REVERT_SECOND_FACTOR_ADDITION",Uu="EMAIL_SIGNIN",_s="VERIFY_AND_CHANGE_EMAIL",CA="email",_A="mfaInfo",AA="newEmail",OA="requestType",r0="email",i0="fromEmail",RA="multiFactorInfo",o0="previousEmail",NA="data",DA="operation";function If(r){r=Ne(r);var s=nn(r,s0)||null,c=nn(r,a0)||null,h=nn(r,u0)||null;if(h=h&&MA[h]||null,!s||!c||!h)throw new S("argument-error",s0+", "+a0+"and "+u0+" are required in a valid action code URL.");ye(this,{apiKey:s,operation:h,code:c,continueUrl:nn(r,xA)||null,languageCode:nn(r,kA)||null,tenantId:nn(r,PA)||null})}var s0="apiKey",a0="oobCode",xA="continueUrl",kA="languageCode",u0="mode",PA="tenantId",MA={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:bf,signIn:Uu,verifyAndChangeEmail:_s,verifyEmail:"VERIFY_EMAIL"};function c0(r){try{return new If(r)}catch{return null}}function ju(r){var s=r[LA];if(typeof s>"u")throw new S("missing-continue-uri");if(typeof s!="string"||typeof s=="string"&&!s.length)throw new S("invalid-continue-uri");this.h=s,this.b=this.a=null,this.g=!1;var c=r[l0];if(c&&typeof c=="object"){s=c[g0];var h=c[d0];if(c=c[p0],typeof s=="string"&&s.length){if(this.a=s,typeof h<"u"&&typeof h!="boolean")throw new S("argument-error",d0+" property must be a boolean when specified.");if(this.g=!!h,typeof c<"u"&&(typeof c!="string"||typeof c=="string"&&!c.length))throw new S("argument-error",p0+" property must be a non empty string when specified.");this.b=c||null}else{if(typeof s<"u")throw new S("argument-error",g0+" property must be a non empty string when specified.");if(typeof h<"u"||typeof c<"u")throw new S("missing-android-pkg-name")}}else if(typeof c<"u")throw new S("argument-error",l0+" property must be a non null object when specified.");if(this.f=null,(s=r[f0])&&typeof s=="object"){if(s=s[m0],typeof s=="string"&&s.length)this.f=s;else if(typeof s<"u")throw new S("argument-error",m0+" property must be a non empty string when specified.")}else if(typeof s<"u")throw new S("argument-error",f0+" property must be a non null object when specified.");if(s=r[Ef],typeof s<"u"&&typeof s!="boolean")throw new S("argument-error",Ef+" property must be a boolean when specified.");if(this.c=!!s,r=r[h0],typeof r<"u"&&(typeof r!="string"||typeof r=="string"&&!r.length))throw new S("argument-error",h0+" property must be a non empty string when specified.");this.i=r||null}var l0="android",h0="dynamicLinkDomain",Ef="handleCodeInApp",f0="iOS",LA="url",d0="installApp",p0="minimumVersion",g0="packageName",m0="bundleId";function Vu(r){var s={};s.continueUrl=r.h,s.canHandleCodeInApp=r.c,(s.androidPackageName=r.a)&&(s.androidMinimumVersion=r.b,s.androidInstallApp=r.g),s.iOSBundleId=r.f,s.dynamicLinkDomain=r.i;for(var c in s)s[c]===null&&delete s[c];return s}function FA(r){return Iu(r,function(s){return s=s.toString(16),1<s.length?s:"0"+s}).join("")}var As=null;function UA(r){var s=[];return jA(r,function(c){s.push(c)}),s}function jA(r,s){function c(_){for(;h<r.length;){var N=r.charAt(h++),Z=As[N];if(Z!=null)return Z;if(!/^[\s\xa0]*$/.test(N))throw Error("Unknown base64 encoding at char: "+N)}return _}VA();for(var h=0;;){var d=c(-1),g=c(0),v=c(64),b=c(64);if(b===64&&d===-1)break;s(d<<2|g>>4),v!=64&&(s(g<<4&240|v>>2),b!=64&&s(v<<6&192|b))}}function VA(){if(!As){As={};for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),s=["+/=","+/","-_=","-_.","-_"],c=0;5>c;c++)for(var h=r.concat(s[c].split("")),d=0;d<h.length;d++){var g=h[d];As[g]===void 0&&(As[g]=d)}}}function qu(r){var s=v0(r);if(!(s&&s.sub&&s.iss&&s.aud&&s.exp))throw Error("Invalid JWT");this.h=r,this.a=s.exp,this.i=s.sub,r=Date.now()/1e3,this.g=s.iat||(r>this.a?this.a:r),this.b=s.provider_id||s.firebase&&s.firebase.sign_in_provider||null,this.f=s.firebase&&s.firebase.tenant||null,this.c=!!s.is_anonymous||this.b=="anonymous"}qu.prototype.T=function(){return this.f},qu.prototype.l=function(){return this.c},qu.prototype.toString=function(){return this.h};function Bu(r){try{return new qu(r)}catch{return null}}function v0(r){if(!r||(r=r.split("."),r.length!=3))return null;r=r[1];for(var s=(4-r.length%4)%4,c=0;c<s;c++)r+=".";try{var h=UA(r);for(r=[],c=s=0;s<h.length;){var d=h[s++];if(128>d)r[c++]=String.fromCharCode(d);else if(191<d&&224>d){var g=h[s++];r[c++]=String.fromCharCode((d&31)<<6|g&63)}else if(239<d&&365>d){g=h[s++];var v=h[s++],b=h[s++],_=((d&7)<<18|(g&63)<<12|(v&63)<<6|b&63)-65536;r[c++]=String.fromCharCode(55296+(_>>10)),r[c++]=String.fromCharCode(56320+(_&1023))}else g=h[s++],v=h[s++],r[c++]=String.fromCharCode((d&15)<<12|(g&63)<<6|v&63)}return JSON.parse(r.join(""))}catch{}return null}var y0="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),zu=["client_id","response_type","scope","redirect_uri","state"],Sf={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:zu},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:zu},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:zu},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:y0},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Tf(r){for(var s in Sf)if(Sf[s].fa==r)return Sf[s];return null}function w0(r){var s={};s["facebook.com"]=I0,s["google.com"]=S0,s["github.com"]=E0,s["twitter.com"]=T0;var c=r&&r[b0];try{if(c)return s[c]?new s[c](r):new Nn(r);if(typeof r[Cf]<"u")return new _f(r)}catch{}return null}var Cf="idToken",b0="providerId";function _f(r){var s=r[b0];if(!s&&r[Cf]){var c=Bu(r[Cf]);c&&c.b&&(s=c.b)}if(!s)throw Error("Invalid additional user info!");(s=="anonymous"||s=="custom")&&(s=null),c=!1,typeof r.isNewUser<"u"?c=!!r.isNewUser:r.kind==="identitytoolkit#SignupNewUserResponse"&&(c=!0),q(this,"providerId",s),q(this,"isNewUser",c)}function Nn(r){_f.call(this,r),r=Wi(r.rawUserInfo||"{}"),q(this,"profile",pf(r||{}))}X(Nn,_f);function I0(r){if(Nn.call(this,r),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}X(I0,Nn);function E0(r){if(Nn.call(this,r),this.providerId!="github.com")throw Error("Invalid provider ID!");q(this,"username",this.profile&&this.profile.login||null)}X(E0,Nn);function S0(r){if(Nn.call(this,r),this.providerId!="google.com")throw Error("Invalid provider ID!")}X(S0,Nn);function T0(r){if(Nn.call(this,r),this.providerId!="twitter.com")throw Error("Invalid provider ID!");q(this,"username",r.screenName||null)}X(T0,Nn);function C0(r){var s=Ne(r),c=nn(s,"link"),h=nn(Ne(c),"link");return s=nn(s,"deep_link_id"),nn(Ne(s),"link")||s||h||c||r}function Hu(r,s){if(!r&&!s)throw new S("internal-error","Internal assert: no raw session string available");if(r&&s)throw new S("internal-error","Internal assert: unable to determine the session type");this.a=r||null,this.b=s||null,this.type=this.a?Os:Ku}var Os="enroll",Ku="signin";Hu.prototype.Ha=function(){return this.a?K(this.a):K(this.b)},Hu.prototype.w=function(){return this.type==Os?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function Qi(){}Qi.prototype.ka=function(){},Qi.prototype.b=function(){},Qi.prototype.c=function(){},Qi.prototype.w=function(){};function Yi(r,s){return r.then(function(c){if(c[mn]){var h=Bu(c[mn]);if(!h||s!=h.i)throw new S("user-mismatch");return c}throw new S("user-mismatch")}).o(function(c){throw c&&c.code&&c.code==ls+"user-not-found"?new S("user-mismatch"):c})}function Jr(r,s){if(s)this.a=s;else throw new S("internal-error","failed to construct a credential");q(this,"providerId",r),q(this,"signInMethod",r)}Jr.prototype.ka=function(r){return Yf(r,Af(this))},Jr.prototype.b=function(r,s){var c=Af(this);return c.idToken=s,Xf(r,c)},Jr.prototype.c=function(r,s){return Yi(Jf(r,Af(this)),s)};function Af(r){return{pendingToken:r.a,requestUri:"http://localhost"}}Jr.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function qA(r){if(r&&r.providerId&&r.signInMethod&&r.providerId.indexOf("saml.")==0&&r.pendingToken)try{return new Jr(r.providerId,r.pendingToken)}catch{}return null}function Kn(r,s,c){if(this.a=null,s.idToken||s.accessToken)s.idToken&&q(this,"idToken",s.idToken),s.accessToken&&q(this,"accessToken",s.accessToken),s.nonce&&!s.pendingToken&&q(this,"nonce",s.nonce),s.pendingToken&&(this.a=s.pendingToken);else if(s.oauthToken&&s.oauthTokenSecret)q(this,"accessToken",s.oauthToken),q(this,"secret",s.oauthTokenSecret);else throw new S("internal-error","failed to construct a credential");q(this,"providerId",r),q(this,"signInMethod",c)}Kn.prototype.ka=function(r){return Yf(r,Of(this))},Kn.prototype.b=function(r,s){var c=Of(this);return c.idToken=s,Xf(r,c)},Kn.prototype.c=function(r,s){var c=Of(this);return Yi(Jf(r,c),s)};function Of(r){var s={};return r.idToken&&(s.id_token=r.idToken),r.accessToken&&(s.access_token=r.accessToken),r.secret&&(s.oauth_token_secret=r.secret),s.providerId=r.providerId,r.nonce&&!r.a&&(s.nonce=r.nonce),s={postBody:Uy(s).toString(),requestUri:"http://localhost"},r.a&&(delete s.postBody,s.pendingToken=r.a),s}Kn.prototype.w=function(){var r={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(r.oauthIdToken=this.idToken),this.accessToken&&(r.oauthAccessToken=this.accessToken),this.secret&&(r.oauthTokenSecret=this.secret),this.nonce&&(r.nonce=this.nonce),this.a&&(r.pendingToken=this.a),r};function BA(r){if(r&&r.providerId&&r.signInMethod){var s={idToken:r.oauthIdToken,accessToken:r.oauthTokenSecret?null:r.oauthAccessToken,oauthTokenSecret:r.oauthTokenSecret,oauthToken:r.oauthTokenSecret&&r.oauthAccessToken,nonce:r.nonce,pendingToken:r.pendingToken};try{return new Kn(r.providerId,s,r.signInMethod)}catch{}}return null}function Zr(r,s){this.Qc=s||[],ye(this,{providerId:r,isOAuthProvider:!0}),this.Jb={},this.qb=(Tf(r)||{}).Ja||null,this.pb=null}Zr.prototype.Ka=function(r){return this.Jb=rr(r),this};function _0(r){if(typeof r!="string"||r.indexOf("saml.")!=0)throw new S("argument-error",'SAML provider IDs must be prefixed with "saml."');Zr.call(this,r,[])}X(_0,Zr);function je(r){Zr.call(this,r,zu),this.a=[]}X(je,Zr),je.prototype.Ca=function(r){return zn(this.a,r)||this.a.push(r),this},je.prototype.Rb=function(){return Br(this.a)},je.prototype.credential=function(r,s){var c;if(A(r)?c={idToken:r.idToken||null,accessToken:r.accessToken||null,nonce:r.rawNonce||null}:c={idToken:r||null,accessToken:s||null},!c.idToken&&!c.accessToken)throw new S("argument-error","credential failed: must provide the ID token and/or the access token.");return new Kn(this.providerId,c,this.providerId)};function ti(){je.call(this,"facebook.com")}X(ti,je),q(ti,"PROVIDER_ID","facebook.com"),q(ti,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function A0(r){if(!r)throw new S("argument-error","credential failed: expected 1 argument (the OAuth access token).");var s=r;return A(r)&&(s=r.accessToken),new ti().credential({accessToken:s})}function ei(){je.call(this,"github.com")}X(ei,je),q(ei,"PROVIDER_ID","github.com"),q(ei,"GITHUB_SIGN_IN_METHOD","github.com");function O0(r){if(!r)throw new S("argument-error","credential failed: expected 1 argument (the OAuth access token).");var s=r;return A(r)&&(s=r.accessToken),new ei().credential({accessToken:s})}function ni(){je.call(this,"google.com"),this.Ca("profile")}X(ni,je),q(ni,"PROVIDER_ID","google.com"),q(ni,"GOOGLE_SIGN_IN_METHOD","google.com");function R0(r,s){var c=r;return A(r)&&(c=r.idToken,s=r.accessToken),new ni().credential({idToken:c,accessToken:s})}function Xi(){Zr.call(this,"twitter.com",y0)}X(Xi,Zr),q(Xi,"PROVIDER_ID","twitter.com"),q(Xi,"TWITTER_SIGN_IN_METHOD","twitter.com");function N0(r,s){var c=r;if(A(c)||(c={oauthToken:r,oauthTokenSecret:s}),!c.oauthToken||!c.oauthTokenSecret)throw new S("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Kn("twitter.com",c,"twitter.com")}function ur(r,s,c){this.a=r,this.f=s,q(this,"providerId","password"),q(this,"signInMethod",c===rn.EMAIL_LINK_SIGN_IN_METHOD?rn.EMAIL_LINK_SIGN_IN_METHOD:rn.EMAIL_PASSWORD_SIGN_IN_METHOD)}ur.prototype.ka=function(r){return this.signInMethod==rn.EMAIL_LINK_SIGN_IN_METHOD?ct(r,AO,{email:this.a,oobCode:this.f}):ct(r,iw,{email:this.a,password:this.f})},ur.prototype.b=function(r,s){return this.signInMethod==rn.EMAIL_LINK_SIGN_IN_METHOD?ct(r,OO,{idToken:s,email:this.a,oobCode:this.f}):ct(r,rw,{idToken:s,email:this.a,password:this.f})},ur.prototype.c=function(r,s){return Yi(this.ka(r),s)},ur.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function zA(r){return r&&r.email&&r.password?new ur(r.email,r.password,r.signInMethod):null}function rn(){ye(this,{providerId:"password",isOAuthProvider:!1})}function D0(r,s){if(s=Rf(s),!s)throw new S("argument-error","Invalid email link!");return new ur(r,s.code,rn.EMAIL_LINK_SIGN_IN_METHOD)}function Rf(r){return r=C0(r),(r=c0(r))&&r.operation===Uu?r:null}ye(rn,{PROVIDER_ID:"password"}),ye(rn,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),ye(rn,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function cr(r){if(!(r.fb&&r.eb||r.La&&r.ea))throw new S("internal-error");this.a=r,q(this,"providerId","phone"),this.fa="phone",q(this,"signInMethod","phone")}cr.prototype.ka=function(r){return r.gb(Rs(this))},cr.prototype.b=function(r,s){var c=Rs(this);return c.idToken=s,ct(r,WO,c)},cr.prototype.c=function(r,s){var c=Rs(this);return c.operation="REAUTH",r=ct(r,QO,c),Yi(r,s)},cr.prototype.w=function(){var r={providerId:"phone"};return this.a.fb&&(r.verificationId=this.a.fb),this.a.eb&&(r.verificationCode=this.a.eb),this.a.La&&(r.temporaryProof=this.a.La),this.a.ea&&(r.phoneNumber=this.a.ea),r};function HA(r){if(r&&r.providerId==="phone"&&(r.verificationId&&r.verificationCode||r.temporaryProof&&r.phoneNumber)){var s={};return Dt(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(c){r[c]&&(s[c]=r[c])}),new cr(s)}return null}function Rs(r){return r.a.La&&r.a.ea?{temporaryProof:r.a.La,phoneNumber:r.a.ea}:{sessionInfo:r.a.fb,code:r.a.eb}}function Gn(r){try{this.a=r||Q.auth()}catch{throw new S("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}ye(this,{providerId:"phone",isOAuthProvider:!1})}Gn.prototype.gb=function(r,s){var c=this.a.a;return K(s.verify()).then(function(h){if(typeof h!="string")throw new S("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(s.type){case"recaptcha":var d=A(r)?r.session:null,g=A(r)?r.phoneNumber:r,v;return d&&d.type==Os?v=d.Ha().then(function(b){return yO(c,{idToken:b,phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:h}})}):d&&d.type==Ku?v=d.Ha().then(function(b){return wO(c,{mfaPendingCredential:b,mfaEnrollmentId:r.multiFactorHint&&r.multiFactorHint.uid||r.multiFactorUid,phoneSignInInfo:{recaptchaToken:h}})}):v=vO(c,{phoneNumber:g,recaptchaToken:h}),v.then(function(b){return typeof s.reset=="function"&&s.reset(),b},function(b){throw typeof s.reset=="function"&&s.reset(),b});default:throw new S("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function x0(r,s){if(!r)throw new S("missing-verification-id");if(!s)throw new S("missing-verification-code");return new cr({fb:r,eb:s})}ye(Gn,{PROVIDER_ID:"phone"}),ye(Gn,{PHONE_SIGN_IN_METHOD:"phone"});function Nf(r){if(r.temporaryProof&&r.phoneNumber)return new cr({La:r.temporaryProof,ea:r.phoneNumber});var s=r&&r.providerId;if(!s||s==="password")return null;var c=r&&r.oauthAccessToken,h=r&&r.oauthTokenSecret,d=r&&r.nonce,g=r&&r.oauthIdToken,v=r&&r.pendingToken;try{switch(s){case"google.com":return R0(g,c);case"facebook.com":return A0(c);case"github.com":return O0(c);case"twitter.com":return N0(c,h);default:return c||h||g||v?v?s.indexOf("saml.")==0?new Jr(s,v):new Kn(s,{pendingToken:v,idToken:r.oauthIdToken,accessToken:r.oauthAccessToken},s):new je(s).credential({idToken:g,accessToken:c,rawNonce:d}):null}}catch{return null}}function Df(r){if(!r.isOAuthProvider)throw new S("invalid-oauth-provider")}function pn(r,s,c,h,d,g,v){if(this.c=r,this.b=s||null,this.g=c||null,this.f=h||null,this.i=g||null,this.h=v||null,this.a=d||null,this.g||this.a){if(this.g&&this.a)throw new S("invalid-auth-event");if(this.g&&!this.f)throw new S("invalid-auth-event")}else throw new S("invalid-auth-event")}pn.prototype.getUid=function(){var r=[];return r.push(this.c),this.b&&r.push(this.b),this.f&&r.push(this.f),this.h&&r.push(this.h),r.join("-")},pn.prototype.T=function(){return this.h},pn.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function k0(r){return r=r||{},r.type?new pn(r.type,r.eventId,r.urlResponse,r.sessionId,r.error&&kv(r.error),r.postBody,r.tenantId):null}function KA(){this.b=null,this.a=[]}var xf=null;function GA(r){var s=xf;s.a.push(r),s.b||(s.b=function(c){for(var h=0;h<s.a.length;h++)s.a[h](c)},r=Ot("universalLinks.subscribe",f),typeof r=="function"&&r(null,s.b))}function kf(r){var s="unauthorized-domain",c=void 0,h=Ne(r);r=h.a,h=h.c,h=="chrome-extension"?c=ey("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",r):h=="http"||h=="https"?c=ey("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",r):s="operation-not-supported-in-this-environment",S.call(this,s,c)}X(kf,S);function Ns(r,s,c){S.call(this,r,c),r=s||{},r.Kb&&q(this,"email",r.Kb),r.ea&&q(this,"phoneNumber",r.ea),r.credential&&q(this,"credential",r.credential),r.$b&&q(this,"tenantId",r.$b)}X(Ns,S),Ns.prototype.w=function(){var r={code:this.code,message:this.message};this.email&&(r.email=this.email),this.phoneNumber&&(r.phoneNumber=this.phoneNumber),this.tenantId&&(r.tenantId=this.tenantId);var s=this.credential&&this.credential.w();return s&&Ae(r,s),r},Ns.prototype.toJSON=function(){return this.w()};function Gu(r){if(r.code){var s=r.code||"";s.indexOf(ls)==0&&(s=s.substring(ls.length));var c={credential:Nf(r),$b:r.tenantId};if(r.email)c.Kb=r.email;else if(r.phoneNumber)c.ea=r.phoneNumber;else if(!c.credential)return new S(s,r.message||void 0);return new Ns(s,c,r.message)}return null}function Ds(){}Ds.prototype.c=null;function P0(r){return r.c||(r.c=r.b())}var Pf;function $u(){}X($u,Ds),$u.prototype.a=function(){var r=M0(this);return r?new ActiveXObject(r):new XMLHttpRequest},$u.prototype.b=function(){var r={};return M0(this)&&(r[0]=!0,r[1]=!0),r};function M0(r){if(!r.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var s=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<s.length;c++){var h=s[c];try{return new ActiveXObject(h),r.f=h}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return r.f}Pf=new $u;function Wu(){}X(Wu,Ds),Wu.prototype.a=function(){var r=new XMLHttpRequest;if("withCredentials"in r)return r;if(typeof XDomainRequest<"u")return new L0;throw Error("Unsupported browser")},Wu.prototype.b=function(){return{}};function L0(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=M(this.qc,this),this.a.onerror=M(this.Tb,this),this.a.onprogress=M(this.rc,this),this.a.ontimeout=M(this.vc,this)}e=L0.prototype,e.open=function(r,s,c){if(c!=null&&!c)throw Error("Only async requests are supported.");this.a.open(r,s)},e.send=function(r){if(r)if(typeof r=="string")this.a.send(r);else throw Error("Only string data is supported");else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(r){return r.toLowerCase()=="content-type"?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Mf(this,4)},e.Tb=function(){this.status=500,this.response=this.responseText="",Mf(this,4)},e.vc=function(){this.Tb()},e.rc=function(){this.status=200,Mf(this,1)};function Mf(r,s){r.readyState=s,r.onreadystatechange&&r.onreadystatechange()}e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function Lf(r,s,c){this.reset(r,s,c,void 0,void 0)}Lf.prototype.a=null;var $A=0;Lf.prototype.reset=function(r,s,c,h,d){typeof d=="number"||$A++,h||cs(),delete this.a};function Ff(r){this.f=r,this.b=this.c=this.a=null}function xs(r,s){this.name=r,this.value=s}xs.prototype.toString=function(){return this.name};var F0=new xs("SEVERE",1e3),Uf=new xs("WARNING",900),WA=new xs("CONFIG",700),QA=new xs("FINE",500);function U0(r){return r.c?r.c:r.a?U0(r.a):(Fi("Root logger has no level set."),null)}Ff.prototype.log=function(r,s,c){if(r.value>=U0(this).value)for(T(s)&&(s=s()),r=new Lf(r,String(s),this.f),c&&(r.a=c),c=this;c;)c=c.a};var jf={},Qu=null;function Vf(r){Qu||(Qu=new Ff(""),jf[""]=Qu,Qu.c=WA);var s;if(!(s=jf[r])){s=new Ff(r);var c=r.lastIndexOf("."),h=r.substr(c+1);c=Vf(r.substr(0,c)),c.b||(c.b={}),c.b[h]=s,s.a=c,jf[r]=s}return s}function on(r,s){r&&r.log(QA,s,void 0)}function Yu(r){this.f=r}X(Yu,Ds),Yu.prototype.a=function(){return new Xu(this.f)},Yu.prototype.b=function(r){return function(){return r}}({});function Xu(r){ve.call(this),this.u=r,this.h=void 0,this.readyState=qf,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=Vf("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}X(Xu,ve);var qf=0;e=Xu.prototype,e.open=function(r,s){if(this.readyState!=qf)throw this.abort(),Error("Error reopening a connection");this.s=r,this.f=s,this.readyState=1,Ps(this)},e.send=function(r){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var s={headers:this.l,method:this.s,credentials:this.h,cache:void 0};r&&(s.body=r),this.u.fetch(new Request(this.f,s)).then(this.uc.bind(this),this.Va.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,ks(this)),this.readyState=qf},e.uc=function(r){this.a&&(this.g=r,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=r.headers,this.readyState=2,Ps(this)),this.a&&(this.readyState=3,Ps(this),this.a&&(this.responseType==="arraybuffer"?r.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):typeof f.ReadableStream<"u"&&"body"in r?(this.response=this.responseText="",this.c=r.body.getReader(),this.m=new TextDecoder,j0(this)):r.text().then(this.tc.bind(this),this.Va.bind(this)))))};function j0(r){r.c.read().then(r.pc.bind(r)).catch(r.Va.bind(r))}e.pc=function(r){if(this.a){var s=this.m.decode(r.value?r.value:new Uint8Array(0),{stream:!r.done});s&&(this.response=this.responseText+=s),r.done?ks(this):Ps(this),this.readyState==3&&j0(this)}},e.tc=function(r){this.a&&(this.response=this.responseText=r,ks(this))},e.sc=function(r){this.a&&(this.response=r,ks(this))},e.Va=function(r){var s=this.i;s&&s.log(Uf,"Failed to fetch url "+this.f,r instanceof Error?r:Error(r)),this.a&&ks(this)};function ks(r){r.readyState=4,r.g=null,r.c=null,r.m=null,Ps(r)}e.setRequestHeader=function(r,s){this.l.append(r,s)},e.getResponseHeader=function(r){return this.b?this.b.get(r.toLowerCase())||"":((r=this.i)&&r.log(Uf,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var r=this.i;return r&&r.log(Uf,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}r=[];for(var s=this.b.entries(),c=s.next();!c.done;)c=c.value,r.push(c[0]+": "+c[1]),c=s.next();return r.join(`\r
`)};function Ps(r){r.onreadystatechange&&r.onreadystatechange.call(r)}Object.defineProperty(Xu.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(r){this.h=r?"include":"same-origin"}});function Ms(r){ve.call(this),this.headers=new zi,this.D=r||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=V0,this.u=this.S=!1}X(Ms,ve);var V0="";Ms.prototype.b=Vf("goog.net.XhrIo");var YA=/^https?$/i,XA=["POST","PUT"];function JA(r,s,c,h,d){if(r.a)throw Error("[goog.net.XhrIo] Object is active with another request="+r.l+"; newUri="+s);c=c?c.toUpperCase():"GET",r.l=s,r.h="",r.P=c,r.J=!1,r.c=!0,r.a=r.D?r.D.a():Pf.a(),r.C=r.D?P0(r.D):P0(Pf),r.a.onreadystatechange=M(r.Wb,r);try{on(r.b,$n(r,"Opening Xhr")),r.N=!0,r.a.open(c,String(s),!0),r.N=!1}catch(v){on(r.b,$n(r,"Error opening Xhr: "+v.message)),q0(r,v);return}s=h||"";var g=new zi(r.headers);d&&rA(d,function(v,b){g.set(b,v)}),d=I_(g.Y()),h=f.FormData&&s instanceof f.FormData,!zn(XA,c)||d||h||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),g.forEach(function(v,b){this.a.setRequestHeader(b,v)},r),r.m&&(r.a.responseType=r.m),"withCredentials"in r.a&&r.a.withCredentials!==r.S&&(r.a.withCredentials=r.S);try{H0(r),0<r.g&&(r.u=ZA(r.a),on(r.b,$n(r,"Will abort after "+r.g+"ms if incomplete, xhr2 "+r.u)),r.u?(r.a.timeout=r.g,r.a.ontimeout=M(r.Ma,r)):r.s=Zh(r.Ma,r.g,r)),on(r.b,$n(r,"Sending request")),r.i=!0,r.a.send(s),r.i=!1}catch(v){on(r.b,$n(r,"Send error: "+v.message)),q0(r,v)}}function ZA(r){return fn&&oy(9)&&typeof r.timeout=="number"&&r.ontimeout!==void 0}function tO(r){return r.toLowerCase()=="content-type"}e=Ms.prototype,e.Ma=function(){typeof l<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",on(this.b,$n(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function q0(r,s){r.c=!1,r.a&&(r.f=!0,r.a.abort(),r.f=!1),r.h=s,B0(r),Ju(r)}function B0(r){r.J||(r.J=!0,r.dispatchEvent("complete"),r.dispatchEvent("error"))}e.abort=function(){this.a&&this.c&&(on(this.b,$n(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ju(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Ju(this,!0)),Ms.bb.Da.call(this)},e.Wb=function(){this.ya||(this.N||this.i||this.f?z0(this):this.Jc())},e.Jc=function(){z0(this)};function z0(r){if(r.c&&typeof l<"u"){if(r.C[1]&&Ls(r)==4&&Zu(r)==2)on(r.b,$n(r,"Local request error detected and ignored"));else if(r.i&&Ls(r)==4)Zh(r.Wb,0,r);else if(r.dispatchEvent("readystatechange"),Ls(r)==4){on(r.b,$n(r,"Request complete")),r.c=!1;try{var s=Zu(r);t:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break t;default:c=!1}var h;if(!(h=c)){var d;if(d=s===0){var g=String(r.l).match(Ly)[1]||null;if(!g&&f.self&&f.self.location){var v=f.self.location.protocol;g=v.substr(0,v.length-1)}d=!YA.test(g?g.toLowerCase():"")}h=d}if(h)r.dispatchEvent("complete"),r.dispatchEvent("success");else{try{var b=2<Ls(r)?r.a.statusText:""}catch(_){on(r.b,"Can not get status: "+_.message),b=""}r.h=b+" ["+Zu(r)+"]",B0(r)}}finally{Ju(r)}}}}function Ju(r,s){if(r.a){H0(r);var c=r.a,h=r.C[0]?w:null;r.a=null,r.C=null,s||r.dispatchEvent("ready");try{c.onreadystatechange=h}catch(d){(r=r.b)&&r.log(F0,"Problem encountered resetting onreadystatechange: "+d.message,void 0)}}}function H0(r){r.a&&r.u&&(r.a.ontimeout=null),r.s&&(f.clearTimeout(r.s),r.s=null)}function Ls(r){return r.a?r.a.readyState:0}function Zu(r){try{return 2<Ls(r)?r.a.status:-1}catch{return-1}}function eO(r){try{return r.a?r.a.responseText:""}catch(s){return on(r.b,"Can not get responseText: "+s.message),""}}e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case V0:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var r=this.b;return r&&r.log(F0,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(s){return on(this.b,"Can not get response: "+s.message),null}};function $n(r,s){return s+" ["+r.P+" "+r.l+" "+Zu(r)+"]"}function ri(r){var s=iO;this.g=[],this.u=s,this.s=r||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}ri.prototype.cancel=function(r){if(this.a)this.c instanceof ri&&this.c.cancel();else{if(this.b){var s=this.b;delete this.b,r?s.cancel(r):(s.l--,0>=s.l&&s.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(r=new Us(this),tc(this),Fs(this,!1,r))}},ri.prototype.m=function(r,s){this.i=!1,Fs(this,r,s)};function Fs(r,s,c){r.a=!0,r.c=c,r.f=!s,G0(r)}function tc(r){if(r.a){if(!r.v)throw new ec(r);r.v=!1}}function nO(r,s){Bf(r,null,s,void 0)}function Bf(r,s,c,h){r.g.push([s,c,h]),r.a&&G0(r)}ri.prototype.then=function(r,s,c){var h,d,g=new at(function(v,b){h=v,d=b});return Bf(this,h,function(v){v instanceof Us?g.cancel():d(v)}),g.then(r,s,c)},ri.prototype.$goog_Thenable=!0;function K0(r){return b_(r.g,function(s){return T(s[1])})}function G0(r){if(r.h&&r.a&&K0(r)){var s=r.h,c=nc[s];c&&(f.clearTimeout(c.a),delete nc[s]),r.h=0}r.b&&(r.b.l--,delete r.b),s=r.c;for(var h=c=!1;r.g.length&&!r.i;){var d=r.g.shift(),g=d[0],v=d[1];if(d=d[2],g=r.f?v:g)try{var b=g.call(d||r.s,s);b!==void 0&&(r.f=r.f&&(b==s||b instanceof Error),r.c=s=b),(Pv(s)||typeof f.Promise=="function"&&s instanceof f.Promise)&&(h=!0,r.i=!0)}catch(_){s=_,r.f=!0,K0(r)||(c=!0)}}r.c=s,h&&(b=M(r.m,r,!0),h=M(r.m,r,!1),s instanceof ri?(Bf(s,b,h),s.C=!0):s.then(b,h)),c&&(s=new $0(s),nc[s.a]=s,r.h=s.a)}function ec(){Fe.call(this)}X(ec,Fe),ec.prototype.message="Deferred has already fired",ec.prototype.name="AlreadyCalledError";function Us(){Fe.call(this)}X(Us,Fe),Us.prototype.message="Deferred was canceled",Us.prototype.name="CanceledError";function $0(r){this.a=f.setTimeout(M(this.c,this),0),this.b=r}$0.prototype.c=function(){throw delete nc[this.a],this.b};var nc={};function zf(r){var s={},c=s.document||document,h=$v(r).toString(),d=Au(document,"SCRIPT"),g={Xb:d,Ma:void 0},v=new ri(g),b=null,_=s.timeout!=null?s.timeout:5e3;return 0<_&&(b=window.setTimeout(function(){rc(d,!0);var N=new Hf(sO,"Timeout reached for loading script "+h);tc(v),Fs(v,!1,N)},_),g.Ma=b),d.onload=d.onreadystatechange=function(){d.readyState&&d.readyState!="loaded"&&d.readyState!="complete"||(rc(d,s.xd||!1,b),tc(v),Fs(v,!0,null))},d.onerror=function(){rc(d,!0,b);var N=new Hf(oO,"Error while loading script "+h);tc(v),Fs(v,!1,N)},g=s.attributes||{},Ae(g,{type:"text/javascript",charset:"UTF-8"}),ay(d,g),M_(d,r),rO(c).appendChild(d),v}function rO(r){var s;return(s=(r||document).getElementsByTagName("HEAD"))&&s.length!=0?s[0]:r.documentElement}function iO(){if(this&&this.Xb){var r=this.Xb;r&&r.tagName=="SCRIPT"&&rc(r,!0,this.Ma)}}function rc(r,s,c){c!=null&&f.clearTimeout(c),r.onload=w,r.onerror=w,r.onreadystatechange=w,s&&window.setTimeout(function(){r&&r.parentNode&&r.parentNode.removeChild(r)},0)}var oO=0,sO=1;function Hf(r,s){var c="Jsloader error (code #"+r+")";s&&(c+=": "+s),Fe.call(this,c),this.code=r}X(Hf,Fe);function ic(r){this.f=r}X(ic,Ds),ic.prototype.a=function(){return new this.f},ic.prototype.b=function(){return{}};function gn(r,s,c){if(this.c=r,r=s||{},this.l=r.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=r.secureTokenTimeout||aO,this.g=rr(r.secureTokenHeaders||uO),this.h=r.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=r.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=r.firebaseTimeout||cO,this.a=rr(r.firebaseHeaders||lO),c&&(this.a["X-Client-Version"]=c,this.g["X-Client-Version"]=c),c=On()=="Node",c=f.XMLHttpRequest||c&&Q.INTERNAL.node&&Q.INTERNAL.node.XMLHttpRequest,!c&&!dn())throw new S("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,dn()?this.f=new Yu(self):Wy()?this.f=new ic(c):this.f=new Wu,this.b=null}var Kf,mn="idToken",aO=new ar(3e4,6e4),uO={"Content-Type":"application/x-www-form-urlencoded"},cO=new ar(3e4,6e4),lO={"Content-Type":"application/json"};function W0(r,s){s?r.a["X-Firebase-Locale"]=s:delete r.a["X-Firebase-Locale"]}function oc(r,s){s&&(r.l=Gf("https://securetoken.googleapis.com/v1/token",s),r.h=Gf("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",s),r.i=Gf("https://identitytoolkit.googleapis.com/v2/",s))}function Gf(r,s){return r=Ne(r),s=Ne(s.url),r.f=r.a+r.f,vs(r,s.c),r.a=s.a,ys(r,s.g),r.toString()}function Q0(r,s){s?(r.a["X-Client-Version"]=s,r.g["X-Client-Version"]=s):(delete r.a["X-Client-Version"],delete r.g["X-Client-Version"])}gn.prototype.T=function(){return this.b};function Y0(r,s,c,h,d,g,v){dA()||dn()?r=M(r.u,r):(Kf||(Kf=new at(function(b,_){fO(b,_)})),r=M(r.s,r)),r(s,c,h,d,g,v)}gn.prototype.u=function(r,s,c,h,d,g){if(dn()&&(typeof f.fetch>"u"||typeof f.Headers>"u"||typeof f.Request>"u"))throw new S("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var v=new Ms(this.f);if(g){v.g=Math.max(0,g);var b=setTimeout(function(){v.dispatchEvent("timeout")},g)}ky(v,"complete",function(){b&&clearTimeout(b);var _=null;try{_=JSON.parse(eO(this))||null}catch{_=null}s&&s(_)}),Jh(v,"ready",function(){b&&clearTimeout(b),Cy(this)}),Jh(v,"timeout",function(){b&&clearTimeout(b),Cy(this),s&&s(null)}),JA(v,r,c,h,d)};var hO=new _n(Su,"https://apis.google.com/js/client.js?onload=%{onload}"),X0="__fcb"+Math.floor(1e6*Math.random()).toString();function fO(r,s){if(((window.gapi||{}).client||{}).request)r();else{f[X0]=function(){((window.gapi||{}).client||{}).request?r():s(Error("CORS_UNSUPPORTED"))};var c=kh(hO,{onload:X0});nO(zf(c),function(){s(Error("CORS_UNSUPPORTED"))})}}gn.prototype.s=function(r,s,c,h,d){var g=this;Kf.then(function(){window.gapi.client.setApiKey(g.c);var v=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:r,method:c,body:h,headers:d,authType:"none",callback:function(b){window.gapi.auth.setToken(v),s&&s(b)}})}).o(function(v){s&&s({error:{message:v&&v.message||"CORS_UNSUPPORTED"}})})};function dO(r,s){return new at(function(c,h){s.grant_type=="refresh_token"&&s.refresh_token||s.grant_type=="authorization_code"&&s.code?Y0(r,r.l+"?key="+encodeURIComponent(r.c),function(d){d?d.error?h(td(d)):d.access_token&&d.refresh_token?c(d):h(new S("internal-error")):h(new S("network-request-failed"))},"POST",Uy(s).toString(),r.g,r.m.get()):h(new S("internal-error"))})}function J0(r,s,c,h,d,g,v){var b=Ne(s+c);Lt(b,"key",r.c),v&&Lt(b,"cb",Date.now().toString());var _=h=="GET";if(_)for(var N in d)d.hasOwnProperty(N)&&Lt(b,N,d[N]);return new at(function(Z,yt){Y0(r,b.toString(),function(ft){ft?ft.error?yt(td(ft,g||{})):Z(ft):yt(new S("network-request-failed"))},h,_?void 0:qy(Xy(d)),r.a,r.v.get())})}function ii(r){if(r=r.email,typeof r!="string"||!mA.test(r))throw new S("invalid-email")}function Z0(r){"email"in r&&ii(r)}function pO(r,s){return ct(r,TO,{identifier:s,continueUri:Fu()?Is():"http://localhost"}).then(function(c){return c.signinMethods||[]})}function gO(r){return ct(r,LO,{}).then(function(s){return s.authorizedDomains||[]})}function De(r){if(!r[mn])throw r.mfaPendingCredential?new S("multi-factor-auth-required",null,rr(r)):new S("internal-error")}function $f(r){if(r.phoneNumber||r.temporaryProof){if(!r.phoneNumber||!r.temporaryProof)throw new S("internal-error")}else{if(!r.sessionInfo)throw new S("missing-verification-id");if(!r.code)throw new S("missing-verification-code")}}gn.prototype.Ab=function(){return ct(this,VO,{})},gn.prototype.Cb=function(r,s){return ct(this,nw,{idToken:r,email:s})},gn.prototype.Db=function(r,s){return ct(this,rw,{idToken:r,password:s})};var mO={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};e=gn.prototype,e.Eb=function(r,s){var c={idToken:r},h=[];return Bv(mO,function(d,g){var v=s[g];v===null?h.push(d):g in s&&(c[g]=v)}),h.length&&(c.deleteAttribute=h),ct(this,nw,c)},e.wb=function(r,s){return r={requestType:"PASSWORD_RESET",email:r},Ae(r,s),ct(this,MO,r)},e.xb=function(r,s){return r={requestType:"EMAIL_SIGNIN",email:r},Ae(r,s),ct(this,xO,r)},e.vb=function(r,s){return r={requestType:"VERIFY_EMAIL",idToken:r},Ae(r,s),ct(this,kO,r)},e.Fb=function(r,s,c){return r={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:r,newEmail:s},Ae(r,c),ct(this,PO,r)};function vO(r,s){return ct(r,jO,s)}e.gb=function(r){return ct(this,$O,r)};function yO(r,s){return ct(r,qO,s).then(function(c){return c.phoneSessionInfo.sessionInfo})}function tw(r){if(!r.phoneVerificationInfo)throw new S("internal-error");if(!r.phoneVerificationInfo.sessionInfo)throw new S("missing-verification-id");if(!r.phoneVerificationInfo.code)throw new S("missing-verification-code")}function wO(r,s){return ct(r,BO,s).then(function(c){return c.phoneResponseInfo.sessionInfo})}function bO(r,s,c){return ct(r,_O,{idToken:s,deleteProvider:c})}function Wf(r){if(!r.requestUri||!r.sessionId&&!r.postBody&&!r.pendingToken)throw new S("internal-error")}function Qf(r,s){return s.oauthIdToken&&s.providerId&&s.providerId.indexOf("oidc.")==0&&!s.pendingToken&&(r.sessionId?s.nonce=r.sessionId:r.postBody&&(r=new Wr(r.postBody),nf(r,"nonce")&&(s.nonce=r.get("nonce")))),s}function ew(r){var s=null;if(r.needConfirmation?(r.code="account-exists-with-different-credential",s=Gu(r)):r.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(r.code="credential-already-in-use",s=Gu(r)):r.errorMessage=="EMAIL_EXISTS"?(r.code="email-already-in-use",s=Gu(r)):r.errorMessage&&(s=ow(r.errorMessage)),s)throw s;De(r)}function Yf(r,s){return s.returnIdpCredential=!0,ct(r,zO,s)}function Xf(r,s){return s.returnIdpCredential=!0,ct(r,KO,s)}function Jf(r,s){return s.returnIdpCredential=!0,s.autoCreate=!1,ct(r,HO,s)}function Zf(r){if(!r.oobCode)throw new S("invalid-action-code")}e.ob=function(r,s){return ct(this,UO,{oobCode:r,newPassword:s})},e.Sa=function(r){return ct(this,EO,{oobCode:r})},e.kb=function(r){return ct(this,IO,{oobCode:r})};var IO={endpoint:"setAccountInfo",A:Zf,Z:"email",B:!0},EO={endpoint:"resetPassword",A:Zf,G:function(r){var s=r.requestType;if(!s||!r.email&&s!="EMAIL_SIGNIN"&&s!="VERIFY_AND_CHANGE_EMAIL")throw new S("internal-error")},B:!0},SO={endpoint:"signupNewUser",A:function(r){if(ii(r),!r.password)throw new S("weak-password")},G:De,V:!0,B:!0},TO={endpoint:"createAuthUri",B:!0},CO={endpoint:"deleteAccount",O:["idToken"]},_O={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(r){if(!Array.isArray(r.deleteProvider))throw new S("internal-error")}},AO={endpoint:"emailLinkSignin",O:["email","oobCode"],A:ii,G:De,V:!0,B:!0},OO={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:ii,G:De,V:!0},RO={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:tw,G:De,B:!0,Na:!0},NO={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:tw,G:De,B:!0,Na:!0},DO={endpoint:"getAccountInfo"},xO={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(r){if(r.requestType!="EMAIL_SIGNIN")throw new S("internal-error");ii(r)},Z:"email",B:!0},kO={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(r){if(r.requestType!="VERIFY_EMAIL")throw new S("internal-error")},Z:"email",B:!0},PO={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(r){if(r.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new S("internal-error")},Z:"email",B:!0},MO={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(r){if(r.requestType!="PASSWORD_RESET")throw new S("internal-error");ii(r)},Z:"email",B:!0},LO={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},FO={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(r){if(!r.recaptchaSiteKey)throw new S("internal-error")}},UO={endpoint:"resetPassword",A:Zf,Z:"email",B:!0},jO={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},nw={endpoint:"setAccountInfo",O:["idToken"],A:Z0,V:!0},rw={endpoint:"setAccountInfo",O:["idToken"],A:function(r){if(Z0(r),!r.password)throw new S("weak-password")},G:De,V:!0},VO={endpoint:"signupNewUser",G:De,V:!0,B:!0},qO={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(r){if(!r.phoneEnrollmentInfo)throw new S("internal-error");if(!r.phoneEnrollmentInfo.phoneNumber)throw new S("missing-phone-number");if(!r.phoneEnrollmentInfo.recaptchaToken)throw new S("missing-app-credential")},G:function(r){if(!r.phoneSessionInfo||!r.phoneSessionInfo.sessionInfo)throw new S("internal-error")},B:!0,Na:!0},BO={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(r){if(!r.phoneSignInInfo||!r.phoneSignInInfo.recaptchaToken)throw new S("missing-app-credential")},G:function(r){if(!r.phoneResponseInfo||!r.phoneResponseInfo.sessionInfo)throw new S("internal-error")},B:!0,Na:!0},zO={endpoint:"verifyAssertion",A:Wf,Za:Qf,G:ew,V:!0,B:!0},HO={endpoint:"verifyAssertion",A:Wf,Za:Qf,G:function(r){if(r.errorMessage&&r.errorMessage=="USER_NOT_FOUND")throw new S("user-not-found");if(r.errorMessage)throw ow(r.errorMessage);De(r)},V:!0,B:!0},KO={endpoint:"verifyAssertion",A:function(r){if(Wf(r),!r.idToken)throw new S("internal-error")},Za:Qf,G:ew,V:!0},GO={endpoint:"verifyCustomToken",A:function(r){if(!r.token)throw new S("invalid-custom-token")},G:De,V:!0,B:!0},iw={endpoint:"verifyPassword",A:function(r){if(ii(r),!r.password)throw new S("wrong-password")},G:De,V:!0,B:!0},$O={endpoint:"verifyPhoneNumber",A:$f,G:De,B:!0},WO={endpoint:"verifyPhoneNumber",A:function(r){if(!r.idToken)throw new S("internal-error");$f(r)},G:function(r){if(r.temporaryProof)throw r.code="credential-already-in-use",Gu(r);De(r)}},QO={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:$f,G:De,B:!0},YO={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(r){if(!!r[mn]^!!r.refreshToken)throw new S("internal-error")},B:!0,Na:!0};function ct(r,s,c){if(!SA(c,s.O))return At(new S("internal-error"));var h=!!s.Na,d=s.Vb||"POST",g;return K(c).then(s.A).then(function(){return s.V&&(c.returnSecureToken=!0),s.B&&r.b&&typeof c.tenantId>"u"&&(c.tenantId=r.b),h?J0(r,r.i,s.endpoint,d,c,s.Ib,s.mb||!1):J0(r,r.h,s.endpoint,d,c,s.Ib,s.mb||!1)}).then(function(v){return g=v,s.Za?s.Za(c,g):g}).then(s.G).then(function(){if(!s.Z)return g;if(!(s.Z in g))throw new S("internal-error");return g[s.Z]})}function ow(r){return td({error:{errors:[{message:r}],code:400,message:r}})}function td(r,s){var c=(r.error&&r.error.errors&&r.error.errors[0]||{}).reason||"",h={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(c=h[c]?new S(h[c]):null)return c;c=r.error&&r.error.message||"",h={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},Ae(h,s||{}),s=(s=c.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<s.length?s[1]:void 0;for(var d in h)if(c.indexOf(d)===0)return new S(h[d],s);return!s&&r&&(s=Ss(r)),new S("internal-error",s)}function XO(r){this.b=r,this.a=null,this.sb=JO(this)}function JO(r){return iR().then(function(){return new at(function(s,c){Ot("gapi.iframes.getContext")().open({where:document.body,url:r.b,messageHandlersFilter:Ot("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(h){function d(){clearTimeout(g),s()}r.a=h,r.a.restyle({setHideOnLeave:!1});var g=setTimeout(function(){c(Error("Network Error"))},rR.get());h.ping(d).then(d,function(){c(Error("Network Error"))})})})})}function ZO(r,s){return r.sb.then(function(){return new at(function(c){r.a.send(s.type,s,c,Ot("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function tR(r,s){r.sb.then(function(){r.a.register("authEvent",s,Ot("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var eR=new _n(Su,"https://apis.google.com/js/api.js?onload=%{onload}"),nR=new ar(3e4,6e4),rR=new ar(5e3,15e3),sc=null;function iR(){return sc||(sc=new at(function(r,s){function c(){Zy(),Ot("gapi.load")("gapi.iframes",{callback:r,ontimeout:function(){Zy(),s(Error("Network Error"))},timeout:nR.get()})}if(Ot("gapi.iframes.Iframe"))r();else if(Ot("gapi.load"))c();else{var h="__iframefcb"+Math.floor(1e6*Math.random()).toString();f[h]=function(){Ot("gapi.load")?c():s(Error("Network Error"))},h=kh(eR,{onload:h}),K(zf(h)).o(function(){s(Error("Network Error"))})}}).o(function(r){throw sc=null,r}))}function sw(r,s,c,h){this.l=r,this.h=s,this.i=c,this.g=h,this.f=null,this.g?(r=Ne(this.g.url),r=Mu(r.c,r.a,r.g,"/emulator/auth/iframe")):r=Mu("https",this.l,null,"/__/auth/iframe"),this.a=r,Lt(this.a,"apiKey",this.h),Lt(this.a,"appName",this.i),this.b=null,this.c=[]}sw.prototype.toString=function(){return this.f?Lt(this.a,"v",this.f):An(this.a.b,"v"),this.b?Lt(this.a,"eid",this.b):An(this.a.b,"eid"),this.c.length?Lt(this.a,"fw",this.c.join(",")):An(this.a.b,"fw"),this.a.toString()};function ed(r,s,c,h,d,g){this.u=r,this.s=s,this.c=c,this.m=h,this.v=g,this.i=this.g=this.l=null,this.a=d,this.h=this.f=null}ed.prototype.zb=function(r){return this.h=r,this},ed.prototype.toString=function(){if(this.v){var r=Ne(this.v.url);r=Mu(r.c,r.a,r.g,"/emulator/auth/handler")}else r=Mu("https",this.u,null,"/__/auth/handler");if(Lt(r,"apiKey",this.s),Lt(r,"appName",this.c),Lt(r,"authType",this.m),this.a.isOAuthProvider){var s=this.a;try{var c=Q.app(this.c).auth().la()}catch{c=null}s.pb=c,Lt(r,"providerId",this.a.providerId),c=this.a,s=Xy(c.Jb);for(var h in s)s[h]=s[h].toString();h=c.Qc,s=rr(s);for(var d=0;d<h.length;d++){var g=h[d];g in s&&delete s[g]}c.qb&&c.pb&&!s[c.qb]&&(s[c.qb]=c.pb),zr(s)||Lt(r,"customParameters",Ss(s))}if(typeof this.a.Rb=="function"&&(c=this.a.Rb(),c.length&&Lt(r,"scopes",c.join(","))),this.l?Lt(r,"redirectUrl",this.l):An(r.b,"redirectUrl"),this.g?Lt(r,"eventId",this.g):An(r.b,"eventId"),this.i?Lt(r,"v",this.i):An(r.b,"v"),this.b)for(var v in this.b)this.b.hasOwnProperty(v)&&!nn(r,v)&&Lt(r,v,this.b[v]);return this.h?Lt(r,"tid",this.h):An(r.b,"tid"),this.f?Lt(r,"eid",this.f):An(r.b,"eid"),v=nd(this.c),v.length&&Lt(r,"fw",v.join(",")),r.toString()};function nd(r){try{return Q.app(r).auth().Ga()}catch{return[]}}function aw(r,s,c,h,d,g){this.s=r,this.g=s,this.b=c,this.f=g,this.c=h||null,this.i=d||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function uw(r){var s=Is();return gO(r).then(function(c){t:{var h=Ne(s),d=h.c;h=h.a;for(var g=0;g<c.length;g++){var v=c[g],b=h,_=d;if(v.indexOf("chrome-extension://")==0?b=Ne(v).a==b&&_=="chrome-extension":_!="http"&&_!="https"?b=!1:gA.test(v)?b=b==v:(v=v.split(".").join("\\."),b=new RegExp("^(.+\\."+v+"|"+v+")$","i").test(b)),b){c=!0;break t}}c=!1}if(!c)throw new kf(Is())})}function cw(r){return r.m||(r.m=Lu().then(function(){if(!r.u){var s=r.c,c=r.i,h=nd(r.b),d=new sw(r.s,r.g,r.b,r.f);d.f=s,d.b=c,d.c=Br(h||[]),r.u=d.toString()}r.v=new XO(r.u),oR(r)})),r.m}e=aw.prototype,e.Pb=function(r,s,c){var h=new S("popup-closed-by-user"),d=new S("web-storage-unsupported"),g=this,v=!1;return this.ma().then(function(){sR(g).then(function(b){b||(r&&Qr(r),s(d),v=!0)})}).o(function(){}).then(function(){if(!v)return pA(r)}).then(function(){if(!v)return Bi(c).then(function(){s(h)})})},e.Yb=function(){var r=te();return!Es(r)&&!Jy(r)},e.Ub=function(){return!1},e.Nb=function(r,s,c,h,d,g,v,b){if(!r)return At(new S("popup-blocked"));if(v&&!Es())return this.ma().o(function(N){Qr(r),d(N)}),h(),K();this.a||(this.a=uw(lw(this)));var _=this;return this.a.then(function(){var N=_.ma().o(function(Z){throw Qr(r),d(Z),Z});return h(),N}).then(function(){if(Df(c),!v){var N=js(_.s,_.g,_.b,s,c,null,g,_.c,void 0,_.i,b,_.f);Hy(N,r)}}).o(function(N){throw N.code=="auth/network-request-failed"&&(_.a=null),N})};function lw(r){return r.l||(r.C=r.c?Gi(r.c,nd(r.b)):null,r.l=new gn(r.g,hs(r.i),r.C),r.f&&oc(r.l,r.f)),r.l}e.Ob=function(r,s,c,h){this.a||(this.a=uw(lw(this)));var d=this;return this.a.then(function(){Df(s);var g=js(d.s,d.g,d.b,r,s,Is(),c,d.c,void 0,d.i,h,d.f);Hy(g)}).o(function(g){throw g.code=="auth/network-request-failed"&&(d.a=null),g})},e.ma=function(){var r=this;return cw(this).then(function(){return r.v.sb}).o(function(){throw r.a=null,new S("network-request-failed")})},e.ac=function(){return!0};function js(r,s,c,h,d,g,v,b,_,N,Z,yt){return r=new ed(r,s,c,h,d,yt),r.l=g,r.g=v,r.i=b,r.b=rr(_||null),r.f=N,r.zb(Z).toString()}function oR(r){if(!r.v)throw Error("IfcHandler must be initialized!");tR(r.v,function(s){var c={};if(s&&s.authEvent){var h=!1;for(s=k0(s.authEvent),c=0;c<r.h.length;c++)h=r.h[c](s)||h;return c={},c.status=h?"ACK":"ERROR",K(c)}return c.status="ERROR",K(c)})}function sR(r){var s={type:"webStorageSupport"};return cw(r).then(function(){return ZO(r.v,s)}).then(function(c){if(c&&c.length&&typeof c[0].webStorageSupport<"u")return c[0].webStorageSupport;throw Error()})}e.Ea=function(r){this.h.push(r)},e.Ta=function(r){hn(this.h,function(s){return s==r})};function hw(r){if(this.a=r||Q.INTERNAL.reactNative&&Q.INTERNAL.reactNative.AsyncStorage,!this.a)throw new S("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}e=hw.prototype,e.get=function(r){return K(this.a.getItem(r)).then(function(s){return s&&Wi(s)})},e.set=function(r,s){return K(this.a.setItem(r,Ss(s)))},e.U=function(r){return K(this.a.removeItem(r))},e.ca=function(){},e.ia=function(){};function fw(r){this.b=r,this.a={},this.f=M(this.c,this)}var dw=[];function aR(){var r=dn()?self:null;if(Dt(dw,function(c){c.b==r&&(s=c)}),!s){var s=new fw(r);dw.push(s)}return s}fw.prototype.c=function(r){var s=r.data.eventType,c=r.data.eventId,h=this.a[s];if(h&&0<h.length){r.ports[0].postMessage({status:"ack",eventId:c,eventType:s,response:null});var d=[];Dt(h,function(g){d.push(K().then(function(){return g(r.origin,r.data.data)}))}),gy(d).then(function(g){var v=[];Dt(g,function(b){v.push({fulfilled:b.Qb,value:b.value,reason:b.reason?b.reason.message:void 0})}),Dt(v,function(b){for(var _ in b)typeof b[_]>"u"&&delete b[_]}),r.ports[0].postMessage({status:"done",eventId:c,eventType:s,response:v})})}};function pw(r,s,c){zr(r.a)&&r.b.addEventListener("message",r.f),typeof r.a[s]>"u"&&(r.a[s]=[]),r.a[s].push(c)}function gw(r){this.a=r}gw.prototype.postMessage=function(r,s){this.a.postMessage(r,s)};function mw(r){this.c=r,this.b=!1,this.a=[]}function vw(r,s,c,h){var d,g=c||{},v,b,_,N=null;if(r.b)return At(Error("connection_unavailable"));var Z=h?800:50,yt=typeof MessageChannel<"u"?new MessageChannel:null;return new at(function(ft,Yt){yt?(d=Math.floor(Math.random()*Math.pow(10,20)).toString(),yt.port1.start(),b=setTimeout(function(){Yt(Error("unsupported_event"))},Z),v=function(Wn){Wn.data.eventId===d&&(Wn.data.status==="ack"?(clearTimeout(b),_=setTimeout(function(){Yt(Error("timeout"))},3e3)):Wn.data.status==="done"?(clearTimeout(_),typeof Wn.data.response<"u"?ft(Wn.data.response):Yt(Error("unknown_error"))):(clearTimeout(b),clearTimeout(_),Yt(Error("invalid_response"))))},N={messageChannel:yt,onMessage:v},r.a.push(N),yt.port1.addEventListener("message",v),r.c.postMessage({eventType:s,eventId:d,data:g},[yt.port2])):Yt(Error("connection_unavailable"))}).then(function(ft){return rd(r,N),ft}).o(function(ft){throw rd(r,N),ft})}function rd(r,s){if(s){var c=s.messageChannel,h=s.onMessage;c&&(c.port1.removeEventListener("message",h),c.port1.close()),hn(r.a,function(d){return d==s})}}mw.prototype.close=function(){for(;0<this.a.length;)rd(this,this.a[0]);this.b=!0};function yw(){if(!sd())throw new S("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=f.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var r=this;dn()&&self?(this.v=aR(),pw(this.v,"keyChanged",function(s,c){return Iw(r).then(function(h){return 0<h.length&&Dt(r.a,function(d){d(h)}),{keyProcessed:zn(h,c.key)}})}),pw(this.v,"ping",function(){return K(["keyChanged"])})):IA().then(function(s){(r.h=s)&&(r.g=new mw(new gw(s)),vw(r.g,"ping",null,!0).then(function(c){c[0].fulfilled&&zn(c[0].value,"keyChanged")&&(r.s=!0)}).o(function(){}))})}var id;function uR(r){return new at(function(s,c){var h=r.m.deleteDatabase("firebaseLocalStorageDb");h.onsuccess=function(){s()},h.onerror=function(d){c(Error(d.target.error))}})}function ww(r){return new at(function(s,c){var h=r.m.open("firebaseLocalStorageDb",1);h.onerror=function(d){try{d.preventDefault()}catch{}c(Error(d.target.error))},h.onupgradeneeded=function(d){d=d.target.result;try{d.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(g){c(g)}},h.onsuccess=function(d){d=d.target.result,d.objectStoreNames.contains("firebaseLocalStorage")?s(d):uR(r).then(function(){return ww(r)}).then(function(g){s(g)}).o(function(g){c(g)})}})}function od(r){return r.i||(r.i=ww(r)),r.i}function ac(r,s){function c(d,g){od(r).then(s).then(d).o(function(v){if(3<++h)g(v);else return od(r).then(function(b){return b.close(),r.i=void 0,c(d,g)}).o(function(b){g(b)})})}var h=0;return new at(c)}function sd(){try{return!!f.indexedDB}catch{return!1}}function Vs(r){return r.objectStore("firebaseLocalStorage")}function qs(r,s){return r.transaction(["firebaseLocalStorage"],s?"readwrite":"readonly")}function Ji(r){return new at(function(s,c){r.onsuccess=function(h){h&&h.target?s(h.target.result):s()},r.onerror=function(h){c(h.target.error)}})}e=yw.prototype,e.set=function(r,s){var c=this,h=!1;return ac(this,function(d){return d=Vs(qs(d,!0)),Ji(d.get(r))}).then(function(d){return ac(c,function(g){if(g=Vs(qs(g,!0)),d)return d.value=s,Ji(g.put(d));c.b++,h=!0;var v={};return v.fbase_key=r,v.value=s,Ji(g.add(v))})}).then(function(){return c.c[r]=s,bw(c,r)}).oa(function(){h&&c.b--})};function bw(r,s){return r.g&&r.h&&bA()===r.h?vw(r.g,"keyChanged",{key:s},r.s).then(function(){}).o(function(){}):K()}e.get=function(r){return ac(this,function(s){return Ji(Vs(qs(s,!1)).get(r))}).then(function(s){return s&&s.value})},e.U=function(r){var s=this,c=!1;return ac(this,function(h){return c=!0,s.b++,Ji(Vs(qs(h,!0)).delete(r))}).then(function(){return delete s.c[r],bw(s,r)}).oa(function(){c&&s.b--})};function Iw(r){return od(r).then(function(s){var c=Vs(qs(s,!1));return c.getAll?Ji(c.getAll()):new at(function(h,d){var g=[],v=c.openCursor();v.onsuccess=function(b){(b=b.target.result)?(g.push(b.value),b.continue()):h(g)},v.onerror=function(b){d(b.target.error)}})}).then(function(s){var c={},h=[];if(r.b==0){for(h=0;h<s.length;h++)c[s[h].fbase_key]=s[h].value;h=Ky(r.c,c),r.c=c}return h})}e.ca=function(r){this.a.length==0&&cR(this),this.a.push(r)},e.ia=function(r){hn(this.a,function(s){return s==r}),this.a.length==0&&Ew(this)};function cR(r){function s(){r.f=setTimeout(function(){r.l=Iw(r).then(function(c){0<c.length&&Dt(r.a,function(h){h(c)})}).then(function(){s()}).o(function(c){c.message!="STOP_EVENT"&&s()})},800)}Ew(r),s()}function Ew(r){r.l&&r.l.cancel("STOP_EVENT"),r.f&&(clearTimeout(r.f),r.f=null)}function Sw(r){var s=this,c=null;this.a=[],this.type="indexedDB",this.c=r,this.b=K().then(function(){if(sd()){var h=Xr(),d="__sak"+h;return id||(id=new yw),c=id,c.set(d,h).then(function(){return c.get(d)}).then(function(g){if(g!==h)throw Error("indexedDB not supported!");return c.U(d)}).then(function(){return c}).o(function(){return s.c})}return s.c}).then(function(h){return s.type=h.type,h.ca(function(d){Dt(s.a,function(g){g(d)})}),h})}e=Sw.prototype,e.get=function(r){return this.b.then(function(s){return s.get(r)})},e.set=function(r,s){return this.b.then(function(c){return c.set(r,s)})},e.U=function(r){return this.b.then(function(s){return s.U(r)})},e.ca=function(r){this.a.push(r)},e.ia=function(r){hn(this.a,function(s){return s==r})};function Bs(){this.a={},this.type="inMemory"}e=Bs.prototype,e.get=function(r){return K(this.a[r])},e.set=function(r,s){return this.a[r]=s,K()},e.U=function(r){return delete this.a[r],K()},e.ca=function(){},e.ia=function(){};function uc(){if(!lR())throw On()=="Node"?new S("internal-error","The LocalStorage compatibility library was not found."):new S("web-storage-unsupported");this.a=Tw()||Q.INTERNAL.node.localStorage,this.type="localStorage"}function Tw(){try{var r=f.localStorage,s=Xr();return r&&(r.setItem(s,"1"),r.removeItem(s)),r}catch{return null}}function lR(){var r=On()=="Node";if(r=Tw()||r&&Q.INTERNAL.node&&Q.INTERNAL.node.localStorage,!r)return!1;try{return r.setItem("__sak","1"),r.removeItem("__sak"),!0}catch{return!1}}e=uc.prototype,e.get=function(r){var s=this;return K().then(function(){var c=s.a.getItem(r);return Wi(c)})},e.set=function(r,s){var c=this;return K().then(function(){var h=Ss(s);h===null?c.U(r):c.a.setItem(r,h)})},e.U=function(r){var s=this;return K().then(function(){s.a.removeItem(r)})},e.ca=function(r){f.window&&en(f.window,"storage",r)},e.ia=function(r){f.window&&Ue(f.window,"storage",r)};function ad(){this.type="nullStorage"}e=ad.prototype,e.get=function(){return K(null)},e.set=function(){return K()},e.U=function(){return K()},e.ca=function(){},e.ia=function(){};function ud(){if(!hR())throw On()=="Node"?new S("internal-error","The SessionStorage compatibility library was not found."):new S("web-storage-unsupported");this.a=Cw()||Q.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Cw(){try{var r=f.sessionStorage,s=Xr();return r&&(r.setItem(s,"1"),r.removeItem(s)),r}catch{return null}}function hR(){var r=On()=="Node";if(r=Cw()||r&&Q.INTERNAL.node&&Q.INTERNAL.node.sessionStorage,!r)return!1;try{return r.setItem("__sak","1"),r.removeItem("__sak"),!0}catch{return!1}}e=ud.prototype,e.get=function(r){var s=this;return K().then(function(){var c=s.a.getItem(r);return Wi(c)})},e.set=function(r,s){var c=this;return K().then(function(){var h=Ss(s);h===null?c.U(r):c.a.setItem(r,h)})},e.U=function(r){var s=this;return K().then(function(){s.a.removeItem(r)})},e.ca=function(){},e.ia=function(){};function fR(){var r={};r.Browser=dR,r.Node=pR,r.ReactNative=gR,r.Worker=mR,this.a=r[On()]}var cd,dR={F:uc,cb:ud},pR={F:uc,cb:ud},gR={F:hw,cb:ad},mR={F:uc,cb:ad},Zi={rd:"local",NONE:"none",td:"session"};function vR(r){var s=new S("invalid-persistence-type"),c=new S("unsupported-persistence-type");t:{for(h in Zi)if(Zi[h]==r){var h=!0;break t}h=!1}if(!h||typeof r!="string")throw s;switch(On()){case"ReactNative":if(r==="session")throw c;break;case"Node":if(r!=="none")throw c;break;case"Worker":if(r==="session"||!sd()&&r!=="none")throw c;break;default:if(!cf()&&r!=="none")throw c}}function _w(){var r=!!(!Jy(te())&&af()),s=Es(),c=cf();this.m=r,this.h=s,this.l=c,this.a={},cd||(cd=new fR),r=cd;try{this.g=!of()&&t0()||!f.indexedDB?new r.a.F:new Sw(dn()?new Bs:new r.a.F)}catch{this.g=new Bs,this.h=!0}try{this.i=new r.a.cb}catch{this.i=new Bs}this.v=new Bs,this.f=M(this.Zb,this),this.b={}}var ld;function zs(){return ld||(ld=new _w),ld}function oi(r,s){switch(s){case"session":return r.i;case"none":return r.v;default:return r.g}}function to(r,s){return"firebase:"+r.name+(s?":"+s:"")}function yR(r,s,c){var h=to(s,c),d=oi(r,s.F);return r.get(s,c).then(function(g){var v=null;try{v=Wi(f.localStorage.getItem(h))}catch{}if(v&&!g)return f.localStorage.removeItem(h),r.set(s,v,c);v&&g&&d.type!="localStorage"&&f.localStorage.removeItem(h)})}e=_w.prototype,e.get=function(r,s){return oi(this,r.F).get(to(r,s))};function eo(r,s,c){return c=to(s,c),s.F=="local"&&(r.b[c]=null),oi(r,s.F).U(c)}e.set=function(r,s,c){var h=to(r,c),d=this,g=oi(this,r.F);return g.set(h,s).then(function(){return g.get(h)}).then(function(v){r.F=="local"&&(d.b[h]=v)})},e.addListener=function(r,s,c){r=to(r,s),this.l&&(this.b[r]=f.localStorage.getItem(r)),zr(this.a)&&(oi(this,"local").ca(this.f),this.h||(of()||!t0())&&f.indexedDB||!this.l||wR(this)),this.a[r]||(this.a[r]=[]),this.a[r].push(c)},e.removeListener=function(r,s,c){r=to(r,s),this.a[r]&&(hn(this.a[r],function(h){return h==c}),this.a[r].length==0&&delete this.a[r]),zr(this.a)&&(oi(this,"local").ia(this.f),hd(this))};function wR(r){hd(r),r.c=setInterval(function(){for(var s in r.a){var c=f.localStorage.getItem(s),h=r.b[s];c!=h&&(r.b[s]=c,c=new Gr({type:"storage",key:s,target:window,oldValue:h,newValue:c,a:!0}),r.Zb(c))}},1e3)}function hd(r){r.c&&(clearInterval(r.c),r.c=null)}e.Zb=function(r){if(r&&r.g){var s=r.a.key;if(s==null)for(var c in this.a){var h=this.b[c];typeof h>"u"&&(h=null);var d=f.localStorage.getItem(c);d!==h&&(this.b[c]=d,this.nb(c))}else if(s.indexOf("firebase:")==0&&this.a[s]){if(typeof r.a.a<"u"?oi(this,"local").ia(this.f):hd(this),this.m){if(c=f.localStorage.getItem(s),h=r.a.newValue,h!==c)h!==null?f.localStorage.setItem(s,h):f.localStorage.removeItem(s);else if(this.b[s]===h&&typeof r.a.a>"u")return}var g=this;c=function(){(typeof r.a.a<"u"||g.b[s]!==f.localStorage.getItem(s))&&(g.b[s]=f.localStorage.getItem(s),g.nb(s))},fn&&ir&&ir==10&&f.localStorage.getItem(s)!==r.a.newValue&&r.a.newValue!==r.a.oldValue?setTimeout(c,10):c()}}else Dt(r,M(this.nb,this))},e.nb=function(r){this.a[r]&&Dt(this.a[r],function(s){s()})};function bR(r){this.a=r,this.b=zs()}var fd={name:"authEvent",F:"local"};function IR(r){return r.b.get(fd,r.a).then(function(s){return k0(s)})}function ER(){this.a=zs()}function SR(){this.b=-1}function cc(r,s){this.b=Aw,this.f=f.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=r,this.h=s,this.l=f.Int32Array?new Int32Array(64):Array(64),lc===void 0&&(f.Int32Array?lc=new Int32Array(Nw):lc=Nw),this.reset()}var lc;X(cc,SR);for(var Aw=64,TR=Aw-1,Ow=[],dd=0;dd<TR;dd++)Ow[dd]=0;var Rw=Nh(128,Ow);cc.prototype.reset=function(){this.g=this.c=0,this.a=f.Int32Array?new Int32Array(this.h):Br(this.h)};function pd(r){for(var s=r.f,c=r.l,h=0,d=0;d<s.length;)c[h++]=s[d]<<24|s[d+1]<<16|s[d+2]<<8|s[d+3],d=4*h;for(s=16;64>s;s++){d=c[s-15]|0,h=c[s-2]|0;var g=(c[s-16]|0)+((d>>>7|d<<25)^(d>>>18|d<<14)^d>>>3)|0,v=(c[s-7]|0)+((h>>>17|h<<15)^(h>>>19|h<<13)^h>>>10)|0;c[s]=g+v|0}h=r.a[0]|0,d=r.a[1]|0;var b=r.a[2]|0,_=r.a[3]|0,N=r.a[4]|0,Z=r.a[5]|0,yt=r.a[6]|0;for(g=r.a[7]|0,s=0;64>s;s++){var ft=((h>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10))+(h&d^h&b^d&b)|0;v=N&Z^~N&yt,g=g+((N>>>6|N<<26)^(N>>>11|N<<21)^(N>>>25|N<<7))|0,v=v+(lc[s]|0)|0,v=g+(v+(c[s]|0)|0)|0,g=yt,yt=Z,Z=N,N=_+v|0,_=b,b=d,d=h,h=v+ft|0}r.a[0]=r.a[0]+h|0,r.a[1]=r.a[1]+d|0,r.a[2]=r.a[2]+b|0,r.a[3]=r.a[3]+_|0,r.a[4]=r.a[4]+N|0,r.a[5]=r.a[5]+Z|0,r.a[6]=r.a[6]+yt|0,r.a[7]=r.a[7]+g|0}function gd(r,s,c){c===void 0&&(c=s.length);var h=0,d=r.c;if(typeof s=="string")for(;h<c;)r.f[d++]=s.charCodeAt(h++),d==r.b&&(pd(r),d=0);else if(E(s))for(;h<c;){var g=s[h++];if(!(typeof g=="number"&&0<=g&&255>=g&&g==(g|0)))throw Error("message must be a byte array");r.f[d++]=g,d==r.b&&(pd(r),d=0)}else throw Error("message must be string or array");r.c=d,r.g+=c}var Nw=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Dw(){cc.call(this,8,CR)}X(Dw,cc);var CR=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function xw(r,s,c,h,d,g){this.v=r,this.i=s,this.l=c,this.m=h||null,this.u=d||null,this.s=g,this.h=s+":"+c,this.C=new ER,this.g=new bR(this.h),this.f=null,this.b=[],this.a=this.c=null}function hc(r){return new S("invalid-cordova-configuration",r)}e=xw.prototype,e.ma=function(){return this.Ia?this.Ia:this.Ia=vA().then(function(){if(typeof Ot("universalLinks.subscribe",f)!="function")throw hc("cordova-universal-links-plugin-fix is not installed");if(typeof Ot("BuildInfo.packageName",f)>"u")throw hc("cordova-plugin-buildinfo is not installed");if(typeof Ot("cordova.plugins.browsertab.openUrl",f)!="function")throw hc("cordova-plugin-browsertab is not installed");if(typeof Ot("cordova.InAppBrowser.open",f)!="function")throw hc("cordova-plugin-inappbrowser is not installed")},function(){throw new S("cordova-not-ready")})};function _R(){for(var r=20,s=[];0<r;)s.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),r--;return s.join("")}function AR(r){var s=new Dw;gd(s,r),r=[];var c=8*s.g;56>s.c?gd(s,Rw,56-s.c):gd(s,Rw,s.b-(s.c-56));for(var h=63;56<=h;h--)s.f[h]=c&255,c/=256;for(pd(s),h=c=0;h<s.i;h++)for(var d=24;0<=d;d-=8)r[c++]=s.a[h]>>d&255;return FA(r)}e.Pb=function(r,s){return s(new S("operation-not-supported-in-this-environment")),K()},e.Nb=function(){return At(new S("operation-not-supported-in-this-environment"))},e.ac=function(){return!1},e.Yb=function(){return!0},e.Ub=function(){return!0},e.Ob=function(r,s,c,h){if(this.c)return At(new S("redirect-operation-pending"));var d=this,g=f.document,v=null,b=null,_=null,N=null;return this.c=K().then(function(){return Df(s),Pw(d)}).then(function(){return OR(d,r,s,c,h)}).then(function(){return new at(function(Z,yt){b=function(){var ft=Ot("cordova.plugins.browsertab.close",f);return Z(),typeof ft=="function"&&ft(),d.a&&typeof d.a.close=="function"&&(d.a.close(),d.a=null),!1},d.Ea(b),_=function(){v||(v=Bi(2e3).then(function(){yt(new S("redirect-cancelled-by-user"))}))},N=function(){lf()&&_()},g.addEventListener("resume",_,!1),te().toLowerCase().match(/android/)||g.addEventListener("visibilitychange",N,!1)}).o(function(Z){return md(d).then(function(){throw Z})})}).oa(function(){_&&g.removeEventListener("resume",_,!1),N&&g.removeEventListener("visibilitychange",N,!1),v&&v.cancel(),b&&d.Ta(b),d.c=null})};function OR(r,s,c,h,d){var g=_R(),v=new pn(s,h,null,g,new S("no-auth-event"),null,d),b=Ot("BuildInfo.packageName",f);if(typeof b!="string")throw new S("invalid-cordova-configuration");var _=Ot("BuildInfo.displayName",f),N={};if(te().toLowerCase().match(/iphone|ipad|ipod/))N.ibi=b;else if(te().toLowerCase().match(/android/))N.apn=b;else return At(new S("operation-not-supported-in-this-environment"));_&&(N.appDisplayName=_),g=AR(g),N.sessionId=g;var Z=js(r.v,r.i,r.l,s,c,null,h,r.m,N,r.u,d,r.s);return r.ma().then(function(){var yt=r.h;return r.C.a.set(fd,v.w(),yt)}).then(function(){var yt=Ot("cordova.plugins.browsertab.isAvailable",f);if(typeof yt!="function")throw new S("invalid-cordova-configuration");var ft=null;yt(function(Yt){if(Yt){if(ft=Ot("cordova.plugins.browsertab.openUrl",f),typeof ft!="function")throw new S("invalid-cordova-configuration");ft(Z)}else{if(ft=Ot("cordova.InAppBrowser.open",f),typeof ft!="function")throw new S("invalid-cordova-configuration");Yt=te(),r.a=ft(Z,Yt.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||Yt.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function kw(r,s){for(var c=0;c<r.b.length;c++)try{r.b[c](s)}catch{}}function Pw(r){return r.f||(r.f=r.ma().then(function(){return new at(function(s){function c(h){return s(h),r.Ta(c),!1}r.Ea(c),RR(r)})})),r.f}function md(r){var s=null;return IR(r.g).then(function(c){return s=c,c=r.g,eo(c.b,fd,c.a)}).then(function(){return s})}function RR(r){function s(v){h=!0,d&&d.cancel(),md(r).then(function(b){var _=c;if(b&&v&&v.url){var N=null;_=C0(v.url),_.indexOf("/__/auth/callback")!=-1&&(N=Ne(_),N=Wi(nn(N,"firebaseError")||null),N=(N=typeof N=="object"?kv(N):null)?new pn(b.c,b.b,null,null,N,null,b.T()):new pn(b.c,b.b,_,b.f,null,null,b.T())),_=N||c}kw(r,_)})}var c=new pn("unknown",null,null,null,new S("no-auth-event")),h=!1,d=Bi(500).then(function(){return md(r).then(function(){h||kw(r,c)})}),g=f.handleOpenURL;f.handleOpenURL=function(v){if(v.toLowerCase().indexOf(Ot("BuildInfo.packageName",f).toLowerCase()+"://")==0&&s({url:v}),typeof g=="function")try{g(v)}catch(b){console.error(b)}},xf||(xf=new KA),GA(s)}e.Ea=function(r){this.b.push(r),Pw(this).o(function(s){s.code==="auth/invalid-cordova-configuration"&&(s=new pn("unknown",null,null,null,new S("no-auth-event")),r(s))})},e.Ta=function(r){hn(this.b,function(s){return s==r})};function NR(r){this.a=r,this.b=zs()}var vd={name:"pendingRedirect",F:"session"};function DR(r){return r.b.set(vd,"pending",r.a)}function yd(r){return eo(r.b,vd,r.a)}function xR(r){return r.b.get(vd,r.a).then(function(s){return s=="pending"})}function fc(r,s,c,h){this.i={},this.u=0,this.D=r,this.v=s,this.m=c,this.J=h,this.h=[],this.f=!1,this.l=M(this.s,this),this.b=new pc,this.C=new Hw,this.g=new NR(qw(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Mw(this.D,this.v,this.m,fs,this.J)}function Mw(r,s,c,h,d){var g=Q.SDK_VERSION||null;return sf()?new xw(r,s,c,g,h,d):new aw(r,s,c,g,h,d)}fc.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=Mw(this.D,this.v,this.m,null,this.J),this.i={}};function Lw(r){r.f||(r.f=!0,r.a.Ea(r.l));var s=r.a;return r.a.ma().o(function(c){throw r.a==s&&r.reset(),c})}function Fw(r){r.a.Yb()&&Lw(r).o(function(s){var c=new pn("unknown",null,null,null,new S("operation-not-supported-in-this-environment"));bd(s)&&r.s(c)}),r.a.Ub()||Bw(r.b)}function dc(r,s){zn(r.h,s)||r.h.push(s),r.f||xR(r.g).then(function(c){c?yd(r.g).then(function(){Lw(r).o(function(h){var d=new pn("unknown",null,null,null,new S("operation-not-supported-in-this-environment"));bd(h)&&r.s(d)})}):Fw(r)}).o(function(){Fw(r)})}function wd(r,s){hn(r.h,function(c){return c==s})}fc.prototype.s=function(r){if(!r)throw new S("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),r&&r.getUid()&&this.i.hasOwnProperty(r.getUid()))return!1;for(var s=!1,c=0;c<this.h.length;c++){var h=this.h[c];if(h.Gb(r.c,r.b)){(s=this.c[r.c])&&(s.h(r,h),r&&(r.f||r.b)&&(this.i[r.getUid()]=!0,this.u=Date.now())),s=!0;break}}return Bw(this.b),s};var kR=new ar(2e3,1e4),PR=new ar(3e4,6e4);fc.prototype.ra=function(){return this.b.ra()};function Uw(r,s,c,h,d,g,v){return r.a.Nb(s,c,h,function(){r.f||(r.f=!0,r.a.Ea(r.l))},function(){r.reset()},d,g,v)}function bd(r){return!!(r&&r.code=="auth/cordova-not-ready")}function jw(r,s,c,h,d){var g;return DR(r.g).then(function(){return r.a.Ob(s,c,h,d).o(function(v){if(bd(v))throw new S("operation-not-supported-in-this-environment");return g=v,yd(r.g).then(function(){throw g})}).then(function(){return r.a.ac()?new at(function(){}):yd(r.g).then(function(){return r.ra()}).then(function(){}).o(function(){})})})}function Vw(r,s,c,h,d){return r.a.Pb(h,function(g){s.na(c,null,g,d)},kR.get())}var Id={};function qw(r,s,c){return r=r+":"+s,c&&(r=r+":"+c.url),r}function Ed(r,s,c,h){var d=qw(s,c,h);return Id[d]||(Id[d]=new fc(r,s,c,h)),Id[d]}function pc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}pc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},pc.prototype.h=function(r,s){if(r){this.reset(),this.g=!0;var c=r.c,h=r.b,d=r.a&&r.a.code=="auth/web-storage-unsupported",g=r.a&&r.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!d&&!g),c!="unknown"||d||g?r.a?(si(this,!0,null,r.a),K()):s.Fa(c,h)?MR(this,r,s):At(new S("invalid-auth-event")):(si(this,!1,null,null),K())}else At(new S("invalid-auth-event"))};function Bw(r){r.g||(r.g=!0,si(r,!1,null,null))}function gc(r){r.g&&!r.i&&si(r,!1,null,null)}function MR(r,s,c){c=c.Fa(s.c,s.b);var h=s.g,d=s.f,g=s.i,v=s.T(),b=!!s.c.match(/Redirect$/);c(h,d,v,g).then(function(_){si(r,b,_,null)}).o(function(_){si(r,b,null,_)})}function LR(r,s){if(r.b=function(){return At(s)},r.c.length)for(var c=0;c<r.c.length;c++)r.c[c](s)}function zw(r,s){if(r.b=function(){return K(s)},r.f.length)for(var c=0;c<r.f.length;c++)r.f[c](s)}function si(r,s,c,h){s?h?LR(r,h):zw(r,c):zw(r,{user:null}),r.f=[],r.c=[]}pc.prototype.ra=function(){var r=this;return new at(function(s,c){r.b?r.b().then(s,c):(r.f.push(s),r.c.push(c),FR(r))})};function FR(r){var s=new S("timeout");r.a&&r.a.cancel(),r.a=Bi(PR.get()).then(function(){r.b||(r.g=!0,si(r,!0,null,s))})}function Hw(){}Hw.prototype.h=function(r,s){if(r){var c=r.c,h=r.b;r.a?(s.na(r.c,null,r.a,r.b),K()):s.Fa(c,h)?UR(r,s):At(new S("invalid-auth-event"))}else At(new S("invalid-auth-event"))};function UR(r,s){var c=r.b,h=r.c;s.Fa(h,c)(r.g,r.f,r.T(),r.i).then(function(d){s.na(h,d,null,c)}).o(function(d){s.na(h,null,d,c)})}function Kw(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(r){this.jb=r},enumerable:!1})}function Sd(r,s){this.a=s,q(this,"verificationId",r)}Sd.prototype.confirm=function(r){return r=x0(this.verificationId,r),this.a(r)};function Td(r,s,c,h){return new Gn(r).gb(s,c).then(function(d){return new Sd(d,h)})}function jR(r){var s=v0(r);if(!(s&&s.exp&&s.auth_time&&s.iat))throw new S("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");ye(this,{token:r,expirationTime:Ts(1e3*s.exp),authTime:Ts(1e3*s.auth_time),issuedAtTime:Ts(1e3*s.iat),signInProvider:s.firebase&&s.firebase.sign_in_provider?s.firebase.sign_in_provider:null,signInSecondFactor:s.firebase&&s.firebase.sign_in_second_factor?s.firebase.sign_in_second_factor:null,claims:s})}function Cd(r,s,c){var h=s&&s[$w];if(!h)throw new S("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=r,this.f=rr(s),this.g=c,this.c=new Hu(null,h),this.b=[];var d=this;Dt(s[Gw]||[],function(g){(g=mf(g))&&d.b.push(g)}),q(this,"auth",this.a),q(this,"session",this.c),q(this,"hints",this.b)}var Gw="mfaInfo",$w="mfaPendingCredential";Cd.prototype.Rc=function(r){var s=this;return r.tb(this.a.a,this.c).then(function(c){var h=rr(s.f);return delete h[Gw],delete h[$w],Ae(h,c),s.g(h)})};function _d(r,s,c,h){S.call(this,"multi-factor-auth-required",h,s),this.b=new Cd(r,s,c),q(this,"resolver",this.b)}X(_d,S);function Ww(r,s,c){if(r&&A(r.serverResponse)&&r.code==="auth/multi-factor-auth-required")try{return new _d(s,r.serverResponse,c,r.message)}catch{}return null}function Qw(){}Qw.prototype.tb=function(r,s,c){return s.type==Os?VR(this,r,s,c):qR(this,r,s)};function VR(r,s,c,h){return c.Ha().then(function(d){return d={idToken:d},typeof h<"u"&&(d.displayName=h),Ae(d,{phoneVerificationInfo:Rs(r.a)}),ct(s,RO,d)})}function qR(r,s,c){return c.Ha().then(function(h){return h={mfaPendingCredential:h},Ae(h,{phoneVerificationInfo:Rs(r.a)}),ct(s,NO,h)})}function Ad(r){q(this,"factorId",r.fa),this.a=r}X(Ad,Qw);function Yw(r){if(Ad.call(this,r),this.a.fa!=Gn.PROVIDER_ID)throw new S("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}X(Yw,Ad);function no(r,s){Re.call(this,r);for(var c in s)this[c]=s[c]}X(no,Re);function Od(r,s){this.a=r,this.b=[],this.c=M(this.yc,this),en(this.a,"userReloaded",this.c);var c=[];s&&s.multiFactor&&s.multiFactor.enrolledFactors&&Dt(s.multiFactor.enrolledFactors,function(h){var d=null,g={};if(h){h.uid&&(g[yf]=h.uid),h.displayName&&(g[n0]=h.displayName),h.enrollmentTime&&(g[vf]=new Date(h.enrollmentTime).toISOString()),h.phoneNumber&&(g[wf]=h.phoneNumber);try{d=new Cs(g)}catch{}h=d}else h=null;h&&c.push(h)}),mc(this,c)}function BR(r){var s=[];return Dt(r.mfaInfo||[],function(c){(c=mf(c))&&s.push(c)}),s}e=Od.prototype,e.yc=function(r){mc(this,BR(r.hd))};function mc(r,s){r.b=s,q(r,"enrolledFactors",s)}e.Sb=function(){return this.a.I().then(function(r){return new Hu(r,null)})},e.fc=function(r,s){var c=this,h=this.a.a;return this.Sb().then(function(d){return r.tb(h,d,s)}).then(function(d){return Dn(c.a,d),c.a.reload()})},e.bd=function(r){var s=this,c=typeof r=="string"?r:r.uid,h=this.a.a;return this.a.I().then(function(d){return ct(h,YO,{idToken:d,mfaEnrollmentId:c})}).then(function(d){var g=w_(s.b,function(v){return v.uid!=c});return mc(s,g),Dn(s.a,d),s.a.reload().o(function(v){if(v.code!="auth/user-token-expired")throw v})})},e.w=function(){return{multiFactor:{enrolledFactors:Iu(this.b,function(r){return r.w()})}}};function Rd(r,s,c){if(this.h=r,this.i=s,this.g=c,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}Rd.prototype.start=function(){this.a=this.c,Nd(this,!0)};function zR(r,s){return s?(r.a=r.c,r.g()):(s=r.a,r.a*=2,r.a>r.f&&(r.a=r.f),s)}function Nd(r,s){r.stop(),r.b=Bi(zR(r,s)).then(function(){return wA()}).then(function(){return r.h()}).then(function(){Nd(r,!0)}).o(function(c){r.i(c)&&Nd(r,!1)})}Rd.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function Dd(r){this.f=r,this.b=this.a=null,this.c=Date.now()}Dd.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function Xw(r,s){typeof s>"u"&&(r.b?(s=r.b,s=s.a-s.g):s=0),r.c=Date.now()+1e3*s}function Jw(r,s){r.b=Bu(s[mn]||""),r.a=s.refreshToken,s=s.expiresIn,Xw(r,typeof s<"u"?Number(s):void 0)}function HR(r,s){r.b=s.b,r.a=s.a,r.c=s.c}function KR(r,s){return dO(r.f,s).then(function(c){return r.b=Bu(c.access_token),r.a=c.refresh_token,Xw(r,c.expires_in),{accessToken:r.b.toString(),refreshToken:r.a}}).o(function(c){throw c.code=="auth/user-token-expired"&&(r.a=null),c})}Dd.prototype.getToken=function(r){return r=!!r,this.b&&!this.a?At(new S("user-token-expired")):r||!this.b||Date.now()>this.c-3e4?this.a?KR(this,{grant_type:"refresh_token",refresh_token:this.a}):K(null):K({accessToken:this.b.toString(),refreshToken:this.a})};function vc(r,s){this.a=r||null,this.b=s||null,ye(this,{lastSignInTime:Ts(s||null),creationTime:Ts(r||null)})}function GR(r){return new vc(r.a,r.b)}vc.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function $R(r,s,c,h,d,g){ye(this,{uid:r,displayName:h||null,photoURL:d||null,email:c||null,phoneNumber:g||null,providerId:s})}function Ve(r,s,c){this.N=[],this.l=r.apiKey,this.m=r.appName,this.s=r.authDomain||null;var h=Q.SDK_VERSION?Gi(Q.SDK_VERSION):null;this.a=new gn(this.l,hs(fs),h),(this.u=r.emulatorConfig||null)&&oc(this.a,this.u),this.h=new Dd(this.a),Ud(this,s[mn]),Jw(this.h,s),q(this,"refreshToken",this.h.a),tb(this,c||{}),ve.call(this),this.P=!1,this.s&&Yr()&&(this.b=Ed(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=WR(this),this.ba=M(this.ib,this);var d=this;this.za=null,this.Pa=function(g){d.xa(g.h)},this.qa=null,this.Ba=function(g){xd(d,g.c)},this.$=null,this.aa=[],this.Oa=function(g){Hs(d,g.f)},this.ja=null,this.S=new Od(this,c),q(this,"multiFactor",this.S)}X(Ve,ve),Ve.prototype.xa=function(r){this.za=r,W0(this.a,r)};function xd(r,s){r.u=s,oc(r.a,s),r.b&&(s=r.b,r.b=Ed(r.s,r.l,r.m,r.u),r.P&&(wd(s,r),dc(r.b,r)))}Ve.prototype.la=function(){return this.za};function kd(r,s){r.qa&&Ue(r.qa,"languageCodeChanged",r.Pa),(r.qa=s)&&en(s,"languageCodeChanged",r.Pa)}function Pd(r,s){r.$&&Ue(r.$,"emulatorConfigChanged",r.Ba),(r.$=s)&&en(s,"emulatorConfigChanged",r.Ba)}function Hs(r,s){r.aa=s,Q0(r.a,Q.SDK_VERSION?Gi(Q.SDK_VERSION,r.aa):null)}Ve.prototype.Ga=function(){return Br(this.aa)};function Md(r,s){r.ja&&Ue(r.ja,"frameworkChanged",r.Oa),(r.ja=s)&&en(s,"frameworkChanged",r.Oa)}Ve.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())};function Ld(r){try{return Q.app(r.m).auth()}catch{throw new S("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+r.m+"'!")}}function WR(r){return new Rd(function(){return r.I(!0)},function(s){return!!(s&&s.code=="auth/network-request-failed")},function(){var s=r.h.c-Date.now()-3e5;return 0<s?s:0})}function Zw(r){r.J||r.D.b||(r.D.start(),Ue(r,"tokenChanged",r.ba),en(r,"tokenChanged",r.ba))}function Fd(r){Ue(r,"tokenChanged",r.ba),r.D.stop()}function Ud(r,s){r.Aa=s,q(r,"_lat",s)}function QR(r,s){hn(r.W,function(c){return c==s})}function ai(r){for(var s=[],c=0;c<r.W.length;c++)s.push(r.W[c](r));return gy(s).then(function(){return r})}function Ks(r){r.b&&!r.P&&(r.P=!0,dc(r.b,r))}function tb(r,s){ye(r,{uid:s.uid,displayName:s.displayName||null,photoURL:s.photoURL||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,isAnonymous:s.isAnonymous||!1,tenantId:s.tenantId||null,metadata:new vc(s.createdAt,s.lastLoginAt),providerData:[]}),r.a.b=r.tenantId}q(Ve.prototype,"providerId","firebase");function eb(){}function jd(r){return K().then(function(){if(r.J)throw new S("app-deleted")})}function Vd(r){return Iu(r.providerData,function(s){return s.providerId})}function qd(r,s){s&&(nb(r,s.providerId),r.providerData.push(s))}function nb(r,s){hn(r.providerData,function(c){return c.providerId==s})}function lr(r,s,c){(s!="uid"||c)&&r.hasOwnProperty(s)&&q(r,s,c)}function yc(r,s){r!=s&&(ye(r,{uid:s.uid,displayName:s.displayName,photoURL:s.photoURL,email:s.email,emailVerified:s.emailVerified,phoneNumber:s.phoneNumber,isAnonymous:s.isAnonymous,tenantId:s.tenantId,providerData:[]}),s.metadata?q(r,"metadata",GR(s.metadata)):q(r,"metadata",new vc),Dt(s.providerData,function(c){qd(r,c)}),HR(r.h,s.h),q(r,"refreshToken",r.h.a),mc(r.S,s.S.b))}e=Ve.prototype,e.reload=function(){var r=this;return Wt(this,jd(this).then(function(){return Bd(r).then(function(){return ai(r)}).then(eb)}))};function Bd(r){return r.I().then(function(s){var c=r.isAnonymous;return YR(r,s).then(function(){return c||lr(r,"isAnonymous",!1),s})})}e.oc=function(r){return this.I(r).then(function(s){return new jR(s)})},e.I=function(r){var s=this;return Wt(this,jd(this).then(function(){return s.h.getToken(r)}).then(function(c){if(!c)throw new S("internal-error");return c.accessToken!=s.Aa&&(Ud(s,c.accessToken),s.dispatchEvent(new no("tokenChanged"))),lr(s,"refreshToken",c.refreshToken),c.accessToken}))};function Dn(r,s){s[mn]&&r.Aa!=s[mn]&&(Jw(r.h,s),r.dispatchEvent(new no("tokenChanged")),Ud(r,s[mn]),lr(r,"refreshToken",r.h.a))}function YR(r,s){return ct(r.a,DO,{idToken:s}).then(M(r.Kc,r))}e.Kc=function(r){if(r=r.users,!r||!r.length)throw new S("internal-error");r=r[0],tb(this,{uid:r.localId,displayName:r.displayName,photoURL:r.photoUrl,email:r.email,emailVerified:!!r.emailVerified,phoneNumber:r.phoneNumber,lastLoginAt:r.lastLoginAt,createdAt:r.createdAt,tenantId:r.tenantId});for(var s=XR(r),c=0;c<s.length;c++)qd(this,s[c]);lr(this,"isAnonymous",!(this.email&&r.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new no("userReloaded",{hd:r}))};function XR(r){return(r=r.providerUserInfo)&&r.length?Iu(r,function(s){return new $R(s.rawId,s.providerId,s.email,s.displayName,s.photoUrl,s.phoneNumber)}):[]}e.Lc=function(r){return hf("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(r)},e.ub=function(r){var s=this,c=null;return Wt(this,r.c(this.a,this.uid).then(function(h){return Dn(s,h),c=Gs(s,h,"reauthenticate"),s.i=null,s.reload()}).then(function(){return c}),!0)};function wc(r,s){return Bd(r).then(function(){if(zn(Vd(r),s))return ai(r).then(function(){throw new S("provider-already-linked")})})}e.Cc=function(r){return hf("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(r)},e.rb=function(r){var s=this,c=null;return Wt(this,wc(this,r.providerId).then(function(){return s.I()}).then(function(h){return r.b(s.a,h)}).then(function(h){return c=Gs(s,h,"link"),rb(s,h)}).then(function(){return c}))},e.Dc=function(r,s){var c=this;return Wt(this,wc(this,"phone").then(function(){return Td(Ld(c),r,s,M(c.rb,c))}))},e.Mc=function(r,s){var c=this;return Wt(this,K().then(function(){return Td(Ld(c),r,s,M(c.ub,c))}),!0)};function Gs(r,s,c){var h=Nf(s);return s=w0(s),Rn({user:r,credential:h,additionalUserInfo:s,operationType:c})}function rb(r,s){return Dn(r,s),r.reload().then(function(){return r})}e.Cb=function(r){var s=this;return Wt(this,this.I().then(function(c){return s.a.Cb(c,r)}).then(function(c){return Dn(s,c),s.reload()}))},e.ed=function(r){var s=this;return Wt(this,this.I().then(function(c){return r.b(s.a,c)}).then(function(c){return Dn(s,c),s.reload()}))},e.Db=function(r){var s=this;return Wt(this,this.I().then(function(c){return s.a.Db(c,r)}).then(function(c){return Dn(s,c),s.reload()}))},e.Eb=function(r){if(r.displayName===void 0&&r.photoURL===void 0)return jd(this);var s=this;return Wt(this,this.I().then(function(c){return s.a.Eb(c,{displayName:r.displayName,photoUrl:r.photoURL})}).then(function(c){return Dn(s,c),lr(s,"displayName",c.displayName||null),lr(s,"photoURL",c.photoUrl||null),Dt(s.providerData,function(h){h.providerId==="password"&&(q(h,"displayName",s.displayName),q(h,"photoURL",s.photoURL))}),ai(s)}).then(eb))},e.cd=function(r){var s=this;return Wt(this,Bd(this).then(function(c){return zn(Vd(s),r)?bO(s.a,c,[r]).then(function(h){var d={};return Dt(h.providerUserInfo||[],function(g){d[g.providerId]=!0}),Dt(Vd(s),function(g){d[g]||nb(s,g)}),d[Gn.PROVIDER_ID]||q(s,"phoneNumber",null),ai(s)}):ai(s).then(function(){throw new S("no-such-provider")})}))},e.delete=function(){var r=this;return Wt(this,this.I().then(function(s){return ct(r.a,CO,{idToken:s})}).then(function(){r.dispatchEvent(new no("userDeleted"))})).then(function(){for(var s=0;s<r.N.length;s++)r.N[s].cancel("app-deleted");kd(r,null),Pd(r,null),Md(r,null),r.N=[],r.J=!0,Fd(r),q(r,"refreshToken",null),r.b&&wd(r.b,r)})},e.Gb=function(r,s){return!!(r=="linkViaPopup"&&(this.g||null)==s&&this.f||r=="reauthViaPopup"&&(this.g||null)==s&&this.f||r=="linkViaRedirect"&&(this.ga||null)==s||r=="reauthViaRedirect"&&(this.ga||null)==s)},e.na=function(r,s,c,h){r!="linkViaPopup"&&r!="reauthViaPopup"||h!=(this.g||null)||(c&&this.C?this.C(c):s&&!c&&this.f&&this.f(s),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(r,s){return r=="linkViaPopup"&&s==(this.g||null)?M(this.Lb,this):r=="reauthViaPopup"&&s==(this.g||null)?M(this.Mb,this):r=="linkViaRedirect"&&(this.ga||null)==s?M(this.Lb,this):r=="reauthViaRedirect"&&(this.ga||null)==s?M(this.Mb,this):null},e.Ec=function(r){var s=this;return ib(this,"linkViaPopup",r,function(){return wc(s,r.providerId).then(function(){return ai(s)})},!1)},e.Nc=function(r){return ib(this,"reauthViaPopup",r,function(){return K()},!0)};function ib(r,s,c,h,d){if(!Yr())return At(new S("operation-not-supported-in-this-environment"));if(r.i&&!d)return At(r.i);var g=Tf(c.providerId),v=Xr(r.uid+":::"),b=null;(!Es()||af())&&r.s&&c.isOAuthProvider&&(b=js(r.s,r.l,r.m,s,c,null,v,Q.SDK_VERSION||null,null,null,r.tenantId,r.u));var _=$y(b,g&&g.va,g&&g.ua);return h=h().then(function(){if(sb(r),!d)return r.I().then(function(){})}).then(function(){return Uw(r.b,_,s,c,v,!!b,r.tenantId)}).then(function(){return new at(function(N,Z){r.na(s,null,new S("cancelled-popup-request"),r.g||null),r.f=N,r.C=Z,r.g=v,r.c=Vw(r.b,r,s,_,v)})}).then(function(N){return _&&Qr(_),N?Rn(N):null}).o(function(N){throw _&&Qr(_),N}),Wt(r,h,d)}e.Fc=function(r){var s=this;return ob(this,"linkViaRedirect",r,function(){return wc(s,r.providerId)},!1)},e.Oc=function(r){return ob(this,"reauthViaRedirect",r,function(){return K()},!0)};function ob(r,s,c,h,d){if(!Yr())return At(new S("operation-not-supported-in-this-environment"));if(r.i&&!d)return At(r.i);var g=null,v=Xr(r.uid+":::");return h=h().then(function(){if(sb(r),!d)return r.I().then(function(){})}).then(function(){return r.ga=v,ai(r)}).then(function(b){return r.ha&&(b=r.ha,b=b.b.set(zd,r.w(),b.a)),b}).then(function(){return jw(r.b,s,c,v,r.tenantId)}).o(function(b){if(g=b,r.ha)return ub(r.ha);throw g}).then(function(){if(g)throw g}),Wt(r,h,d)}function sb(r){if(!r.b||!r.P)throw r.b&&!r.P?new S("internal-error"):new S("auth-domain-config-required")}e.Lb=function(r,s,c,h){var d=this;this.c&&(this.c.cancel(),this.c=null);var g=null;return c=this.I().then(function(v){return Xf(d.a,{requestUri:r,postBody:h,sessionId:s,idToken:v})}).then(function(v){return g=Gs(d,v,"link"),rb(d,v)}).then(function(){return g}),Wt(this,c)},e.Mb=function(r,s,c,h){var d=this;this.c&&(this.c.cancel(),this.c=null);var g=null,v=K().then(function(){return Yi(Jf(d.a,{requestUri:r,sessionId:s,postBody:h,tenantId:c}),d.uid)}).then(function(b){return g=Gs(d,b,"reauthenticate"),Dn(d,b),d.i=null,d.reload()}).then(function(){return g});return Wt(this,v,!0)},e.vb=function(r){var s=this,c=null;return Wt(this,this.I().then(function(h){return c=h,typeof r>"u"||zr(r)?{}:Vu(new ju(r))}).then(function(h){return s.a.vb(c,h)}).then(function(h){if(s.email!=h)return s.reload()}).then(function(){}))},e.Fb=function(r,s){var c=this,h=null;return Wt(this,this.I().then(function(d){return h=d,typeof s>"u"||zr(s)?{}:Vu(new ju(s))}).then(function(d){return c.a.Fb(h,r,d)}).then(function(d){if(c.email!=d)return c.reload()}).then(function(){}))};function Wt(r,s,c){var h=JR(r,s,c);return r.N.push(h),h.oa(function(){Eu(r.N,h)}),h.o(function(d){var g=null;throw d&&d.code==="auth/multi-factor-auth-required"&&(g=Ww(d.w(),Ld(r),M(r.jc,r))),g||d})}e.jc=function(r){var s=null,c=this;return r=Yi(K(r),c.uid).then(function(h){return s=Gs(c,h,"reauthenticate"),Dn(c,h),c.i=null,c.reload()}).then(function(){return s}),Wt(this,r,!0)};function JR(r,s,c){return r.i&&!c?(s.cancel(),At(r.i)):s.o(function(h){throw!h||h.code!="auth/user-disabled"&&h.code!="auth/user-token-expired"||(r.i||r.dispatchEvent(new no("userInvalidated")),r.i=h),h})}e.toJSON=function(){return this.w()},e.w=function(){var r={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&Ae(r,this.metadata.w()),Dt(this.providerData,function(s){r.providerData.push(EA(s))}),Ae(r,this.S.w()),r};function ab(r){if(!r.apiKey)return null;var s={apiKey:r.apiKey,authDomain:r.authDomain,appName:r.appName,emulatorConfig:r.emulatorConfig},c={};if(r.stsTokenManager&&r.stsTokenManager.accessToken){c[mn]=r.stsTokenManager.accessToken,c.refreshToken=r.stsTokenManager.refreshToken||null;var h=r.stsTokenManager.expirationTime;h&&(c.expiresIn=(h-Date.now())/1e3)}else return null;var d=new Ve(s,c,r);return r.providerData&&Dt(r.providerData,function(g){g&&qd(d,Rn(g))}),r.redirectEventId&&(d.ga=r.redirectEventId),d}function ZR(r,s,c,h){var d=new Ve(r,s);return c&&(d.ha=c),h&&Hs(d,h),d.reload().then(function(){return d})}function tN(r,s,c,h){var d=r.h,g={};return g[mn]=d.b&&d.b.toString(),g.refreshToken=d.a,s=new Ve(s||{apiKey:r.l,authDomain:r.s,appName:r.m},g),c&&(s.ha=c),h&&Hs(s,h),yc(s,r),s}function eN(r){this.a=r,this.b=zs()}var zd={name:"redirectUser",F:"session"};function ub(r){return eo(r.b,zd,r.a)}function nN(r,s){return r.b.get(zd,r.a).then(function(c){return c&&s&&(c.authDomain=s),ab(c||{})})}function Hd(r){this.a=r,this.b=zs(),this.c=null,this.f=rN(this),this.b.addListener(xn("local"),this.a,M(this.g,this))}Hd.prototype.g=function(){var r=this,s=xn("local");ro(this,function(){return K().then(function(){return r.c&&r.c.F!="local"?r.b.get(s,r.a):null}).then(function(c){if(c)return Kd(r,"local").then(function(){r.c=s})})})};function Kd(r,s){var c=[],h;for(h in Zi)Zi[h]!==s&&c.push(eo(r.b,xn(Zi[h]),r.a));return c.push(eo(r.b,Gd,r.a)),G_(c)}function rN(r){var s=xn("local"),c=xn("session"),h=xn("none");return yR(r.b,s,r.a).then(function(){return r.b.get(c,r.a)}).then(function(d){return d?c:r.b.get(h,r.a).then(function(g){return g?h:r.b.get(s,r.a).then(function(v){return v?s:r.b.get(Gd,r.a).then(function(b){return b?xn(b):s})})})}).then(function(d){return r.c=d,Kd(r,d.F)}).o(function(){r.c||(r.c=s)})}var Gd={name:"persistence",F:"session"};function xn(r){return{name:"authUser",F:r}}Hd.prototype.yb=function(r){var s=null,c=this;return vR(r),ro(this,function(){return r!=c.c.F?c.b.get(c.c,c.a).then(function(h){return s=h,Kd(c,r)}).then(function(){if(c.c=xn(r),s)return c.b.set(c.c,s,c.a)}):K()})};function iN(r){return ro(r,function(){return r.b.set(Gd,r.c.F,r.a)})}function cb(r,s){return ro(r,function(){return r.b.set(r.c,s.w(),r.a)})}function lb(r){return ro(r,function(){return eo(r.b,r.c,r.a)})}function hb(r,s,c){return ro(r,function(){return r.b.get(r.c,r.a).then(function(h){return h&&s&&(h.authDomain=s),h&&c&&(h.emulatorConfig=c),ab(h||{})})})}function ro(r,s){return r.f=r.f.then(s,s),r.f}function vn(r){if(this.l=!1,q(this,"settings",new Kw),q(this,"app",r),bt(this).options&&bt(this).options.apiKey)r=Q.SDK_VERSION?Gi(Q.SDK_VERSION):null,this.a=new gn(bt(this).options&&bt(this).options.apiKey,hs(fs),r);else throw new S("invalid-api-key");this.P=[],this.s=[],this.N=[],this.Pa=Q.INTERNAL.createSubscribe(M(this.zc,this)),this.W=void 0,this.ib=Q.INTERNAL.createSubscribe(M(this.Ac,this)),io(this,null),this.i=new Hd(bt(this).options.apiKey+":"+bt(this).name),this.D=new eN(bt(this).options.apiKey+":"+bt(this).name),this.$=Pt(this,lN(this)),this.h=Pt(this,hN(this)),this.ba=!1,this.ja=M(this.Zc,this),this.Ba=M(this.da,this),this.qa=M(this.mc,this),this.za=M(this.wc,this),this.Aa=M(this.xc,this),this.b=null,aN(this),this.INTERNAL={},this.INTERNAL.delete=M(this.delete,this),this.INTERNAL.logFramework=M(this.Gc,this),this.u=0,ve.call(this),sN(this),this.J=[],this.R=null}X(vn,ve);function fb(r){Re.call(this,"languageCodeChanged"),this.h=r}X(fb,Re);function db(r){Re.call(this,"emulatorConfigChanged"),this.c=r}X(db,Re);function pb(r){Re.call(this,"frameworkChanged"),this.f=r}X(pb,Re),e=vn.prototype,e.yb=function(r){return r=this.i.yb(r),Pt(this,r)},e.xa=function(r){this.aa===r||this.l||(this.aa=r,W0(this.a,this.aa),this.dispatchEvent(new fb(this.la())))},e.la=function(){return this.aa},e.fd=function(){var r=f.navigator;this.xa(r&&(r.languages&&r.languages[0]||r.language||r.userLanguage)||null)},e.gd=function(r,s){if(!this.R){if(!/^https?:\/\//.test(r))throw new S("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");s=s?!!s.disableWarnings:!1,oN(s),this.R={url:r,ec:s},this.settings.jb=!0,oc(this.a,this.R),this.dispatchEvent(new db(this.R))}};function oN(r){typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),f.document&&!r&&Lu().then(function(){var s=f.document.createElement("div");s.innerText="Running in emulator mode. Do not use with production credentials.",s.style.position="fixed",s.style.width="100%",s.style.backgroundColor="#ffffff",s.style.border=".1em solid #000000",s.style.color="#b50000",s.style.bottom="0px",s.style.left="0px",s.style.margin="0px",s.style.zIndex=1e4,s.style.textAlign="center",s.classList.add("firebase-emulator-warning"),f.document.body.appendChild(s)})}e.Gc=function(r){this.J.push(r),Q0(this.a,Q.SDK_VERSION?Gi(Q.SDK_VERSION,this.J):null),this.dispatchEvent(new pb(this.J))},e.Ga=function(){return Br(this.J)},e.zb=function(r){this.S===r||this.l||(this.S=r,this.a.b=this.S)},e.T=function(){return this.S};function sN(r){Object.defineProperty(r,"lc",{get:function(){return this.la()},set:function(s){this.xa(s)},enumerable:!1}),r.aa=null,Object.defineProperty(r,"ti",{get:function(){return this.T()},set:function(s){this.zb(s)},enumerable:!1}),r.S=null,Object.defineProperty(r,"emulatorConfig",{get:function(){if(this.R){var s=Ne(this.R.url);s=Rn({protocol:s.c,host:s.a,port:s.g,options:Rn({disableWarnings:this.R.ec})})}else s=null;return s},enumerable:!1})}e.toJSON=function(){return{apiKey:bt(this).options.apiKey,authDomain:bt(this).options.authDomain,appName:bt(this).name,currentUser:rt(this)&&rt(this).w()}};function $d(r){return r.Oa||At(new S("auth-domain-config-required"))}function aN(r){var s=bt(r).options.authDomain,c=bt(r).options.apiKey;s&&Yr()&&(r.Oa=r.$.then(function(){if(!r.l){if(r.b=Ed(s,c,bt(r).name,r.R),dc(r.b,r),rt(r)&&Ks(rt(r)),r.m){Ks(r.m);var h=r.m;h.xa(r.la()),kd(h,r),h=r.m,Hs(h,r.J),Md(h,r),h=r.m,xd(h,r.R),Pd(h,r),r.m=null}return r.b}}))}e.Gb=function(r,s){switch(r){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==s&&!!this.f;default:return!1}},e.na=function(r,s,c,h){r=="signInViaPopup"&&this.g==h&&(c&&this.C?this.C(c):s&&!c&&this.f&&this.f(s),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(r,s){return r=="signInViaRedirect"||r=="signInViaPopup"&&this.g==s&&this.f?M(this.ic,this):null},e.ic=function(r,s,c,h){var d=this,g={requestUri:r,postBody:h,sessionId:s,tenantId:c};return this.c&&(this.c.cancel(),this.c=null),d.$.then(function(){return ui(d,Yf(d.a,g))})},e.Xc=function(r){if(!Yr())return At(new S("operation-not-supported-in-this-environment"));var s=this,c=Tf(r.providerId),h=Xr(),d=null;(!Es()||af())&&bt(this).options.authDomain&&r.isOAuthProvider&&(d=js(bt(this).options.authDomain,bt(this).options.apiKey,bt(this).name,"signInViaPopup",r,null,h,Q.SDK_VERSION||null,null,null,this.T(),this.R));var g=$y(d,c&&c.va,c&&c.ua);return c=$d(this).then(function(v){return Uw(v,g,"signInViaPopup",r,h,!!d,s.T())}).then(function(){return new at(function(v,b){s.na("signInViaPopup",null,new S("cancelled-popup-request"),s.g),s.f=v,s.C=b,s.g=h,s.c=Vw(s.b,s,"signInViaPopup",g,h)})}).then(function(v){return g&&Qr(g),v?Rn(v):null}).o(function(v){throw g&&Qr(g),v}),Pt(this,c)},e.Yc=function(r){if(!Yr())return At(new S("operation-not-supported-in-this-environment"));var s=this,c=$d(this).then(function(){return iN(s.i)}).then(function(){return jw(s.b,"signInViaRedirect",r,void 0,s.T())});return Pt(this,c)};function gb(r){if(!Yr())return At(new S("operation-not-supported-in-this-environment"));var s=$d(r).then(function(){return r.b.ra()}).then(function(c){return c?Rn(c):null});return Pt(r,s)}e.ra=function(){var r=this;return gb(this).then(function(s){return r.b&&gc(r.b.b),s}).o(function(s){throw r.b&&gc(r.b.b),s})},e.dd=function(r){if(!r)return At(new S("null-user"));if(this.S!=r.tenantId)return At(new S("tenant-id-mismatch"));var s=this,c={};c.apiKey=bt(this).options.apiKey,c.authDomain=bt(this).options.authDomain,c.appName=bt(this).name;var h=tN(r,c,s.D,s.Ga());return Pt(this,this.h.then(function(){if(bt(s).options.apiKey!=r.l)return h.reload()}).then(function(){return rt(s)&&r.uid==rt(s).uid?(yc(rt(s),r),s.da(r)):(io(s,h),Ks(h),s.da(h))}).then(function(){$s(s)}))};function uN(r,s){var c={};return c.apiKey=bt(r).options.apiKey,c.authDomain=bt(r).options.authDomain,c.appName=bt(r).name,r.R&&(c.emulatorConfig=r.R),r.$.then(function(){return ZR(c,s,r.D,r.Ga())}).then(function(h){return rt(r)&&h.uid==rt(r).uid?(yc(rt(r),h),r.da(h)):(io(r,h),Ks(h),r.da(h))}).then(function(){$s(r)})}function io(r,s){rt(r)&&(QR(rt(r),r.Ba),Ue(rt(r),"tokenChanged",r.qa),Ue(rt(r),"userDeleted",r.za),Ue(rt(r),"userInvalidated",r.Aa),Fd(rt(r))),s&&(s.W.push(r.Ba),en(s,"tokenChanged",r.qa),en(s,"userDeleted",r.za),en(s,"userInvalidated",r.Aa),0<r.u&&Zw(s)),q(r,"currentUser",s),s&&(s.xa(r.la()),kd(s,r),Hs(s,r.J),Md(s,r),xd(s,r.R),Pd(s,r))}e.Bb=function(){var r=this,s=this.h.then(function(){return r.b&&gc(r.b.b),rt(r)?(io(r,null),lb(r.i).then(function(){$s(r)})):K()});return Pt(this,s)};function cN(r){var s=nN(r.D,bt(r).options.authDomain).then(function(c){return(r.m=c)&&(c.ha=r.D),ub(r.D)});return Pt(r,s)}function lN(r){var s=bt(r).options.authDomain,c=cN(r).then(function(){return hb(r.i,s,r.R)}).then(function(h){return h?(h.ha=r.D,r.m&&(r.m.ga||null)==(h.ga||null)?h:h.reload().then(function(){return cb(r.i,h).then(function(){return h})}).o(function(d){return d.code=="auth/network-request-failed"?h:lb(r.i)})):null}).then(function(h){io(r,h||null)});return Pt(r,c)}function hN(r){return r.$.then(function(){return gb(r)}).o(function(){}).then(function(){if(!r.l)return r.ja()}).o(function(){}).then(function(){if(!r.l){r.ba=!0;var s=r.i;s.b.addListener(xn("local"),s.a,r.ja)}})}e.Zc=function(){var r=this;return hb(this.i,bt(this).options.authDomain).then(function(s){if(!r.l){var c;if(c=rt(r)&&s){c=rt(r).uid;var h=s.uid;c=c==null||c===""||h===void 0||h===null||h===""?!1:c==h}if(c)return yc(rt(r),s),rt(r).I();(rt(r)||s)&&(io(r,s),s&&(Ks(s),s.ha=r.D),r.b&&dc(r.b,r),$s(r))}})},e.da=function(r){return cb(this.i,r)},e.mc=function(){$s(this),this.da(rt(this))},e.wc=function(){this.Bb()},e.xc=function(){this.Bb()};function ui(r,s){var c=null,h=null;return Pt(r,s.then(function(d){return c=Nf(d),h=w0(d),uN(r,d)},function(d){var g=null;throw d&&d.code==="auth/multi-factor-auth-required"&&(g=Ww(d.w(),r,M(r.kc,r))),g||d}).then(function(){return Rn({user:rt(r),credential:c,additionalUserInfo:h,operationType:"signIn"})}))}e.kc=function(r){var s=this;return this.h.then(function(){return ui(s,K(r))})},e.zc=function(r){var s=this;this.addAuthTokenListener(function(){r.next(rt(s))})},e.Ac=function(r){var s=this;fN(this,function(){r.next(rt(s))})},e.Ic=function(r,s,c){var h=this;return this.ba&&Promise.resolve().then(function(){typeof r=="function"?r(rt(h)):typeof r.next=="function"&&r.next(rt(h))}),this.Pa(r,s,c)},e.Hc=function(r,s,c){var h=this;return this.ba&&Promise.resolve().then(function(){h.W=h.getUid(),typeof r=="function"?r(rt(h)):typeof r.next=="function"&&r.next(rt(h))}),this.ib(r,s,c)},e.nc=function(r){var s=this,c=this.h.then(function(){return rt(s)?rt(s).I(r).then(function(h){return{accessToken:h}}):null});return Pt(this,c)},e.Tc=function(r){var s=this;return this.h.then(function(){return ui(s,ct(s.a,GO,{token:r}))}).then(function(c){var h=c.user;return lr(h,"isAnonymous",!1),s.da(h),c})},e.Uc=function(r,s){var c=this;return this.h.then(function(){return ui(c,ct(c.a,iw,{email:r,password:s}))})},e.dc=function(r,s){var c=this;return this.h.then(function(){return ui(c,ct(c.a,SO,{email:r,password:s}))})},e.ab=function(r){var s=this;return this.h.then(function(){return ui(s,r.ka(s.a))})},e.Sc=function(r){return hf("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(r)},e.Ab=function(){var r=this;return this.h.then(function(){var s=rt(r);if(s&&s.isAnonymous){var c=Rn({providerId:null,isNewUser:!1});return Rn({user:s,credential:null,additionalUserInfo:c,operationType:"signIn"})}return ui(r,r.a.Ab()).then(function(h){var d=h.user;return lr(d,"isAnonymous",!0),r.da(d),h})})};function bt(r){return r.app}function rt(r){return r.currentUser}e.getUid=function(){return rt(this)&&rt(this).uid||null};function bc(r){return rt(r)&&rt(r)._lat||null}function $s(r){if(r.ba){for(var s=0;s<r.s.length;s++)r.s[s]&&r.s[s](bc(r));if(r.W!==r.getUid()&&r.N.length)for(r.W=r.getUid(),s=0;s<r.N.length;s++)r.N[s]&&r.N[s](bc(r))}}e.cc=function(r){this.addAuthTokenListener(r),this.u++,0<this.u&&rt(this)&&Zw(rt(this))},e.Pc=function(r){var s=this;Dt(this.s,function(c){c==r&&s.u--}),0>this.u&&(this.u=0),this.u==0&&rt(this)&&Fd(rt(this)),this.removeAuthTokenListener(r)},e.addAuthTokenListener=function(r){var s=this;this.s.push(r),Pt(this,this.h.then(function(){s.l||zn(s.s,r)&&r(bc(s))}))},e.removeAuthTokenListener=function(r){hn(this.s,function(s){return s==r})};function fN(r,s){r.N.push(s),Pt(r,r.h.then(function(){!r.l&&zn(r.N,s)&&r.W!==r.getUid()&&(r.W=r.getUid(),s(bc(r)))}))}e.delete=function(){this.l=!0;for(var r=0;r<this.P.length;r++)this.P[r].cancel("app-deleted");return this.P=[],this.i&&(r=this.i,r.b.removeListener(xn("local"),r.a,this.ja)),this.b&&(wd(this.b,this),gc(this.b.b)),Promise.resolve()};function Pt(r,s){return r.P.push(s),s.oa(function(){Eu(r.P,s)}),s}e.hc=function(r){return Pt(this,pO(this.a,r))},e.Bc=function(r){return!!Rf(r)},e.xb=function(r,s){var c=this;return Pt(this,K().then(function(){var h=new ju(s);if(!h.c)throw new S("argument-error",Ef+" must be true when sending sign in link to email");return Vu(h)}).then(function(h){return c.a.xb(r,h)}).then(function(){}))},e.jd=function(r){return this.Sa(r).then(function(s){return s.data.email})},e.ob=function(r,s){return Pt(this,this.a.ob(r,s).then(function(){}))},e.Sa=function(r){return Pt(this,this.a.Sa(r).then(function(s){return new TA(s)}))},e.kb=function(r){return Pt(this,this.a.kb(r).then(function(){}))},e.wb=function(r,s){var c=this;return Pt(this,K().then(function(){return typeof s>"u"||zr(s)?{}:Vu(new ju(s))}).then(function(h){return c.a.wb(r,h)}).then(function(){}))},e.Wc=function(r,s){return Pt(this,Td(this,r,s,M(this.ab,this)))},e.Vc=function(r,s){var c=this;return Pt(this,K().then(function(){var h=s||Is(),d=D0(r,h);if(h=Rf(h),!h)throw new S("argument-error","Invalid email link!");if(h.tenantId!==c.T())throw new S("tenant-id-mismatch");return c.ab(d)}))};function Ws(){}Ws.prototype.render=function(){},Ws.prototype.reset=function(){},Ws.prototype.getResponse=function(){},Ws.prototype.execute=function(){};function oo(){this.a={},this.b=1e12}var Wd=null;oo.prototype.render=function(r,s){return this.a[this.b.toString()]=new Ic(r,s),this.b++},oo.prototype.reset=function(r){var s=Qd(this,r);r=mb(r),s&&r&&(s.delete(),delete this.a[r])},oo.prototype.getResponse=function(r){return(r=Qd(this,r))?r.getResponse():null},oo.prototype.execute=function(r){(r=Qd(this,r))&&r.execute()};function Qd(r,s){return(s=mb(s))&&r.a[s]||null}function mb(r){return(r=typeof r>"u"?1e12:r)?r.toString():null}function Ic(r,s){this.g=!1,this.c=s,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=ps(r);var c=this;this.i=function(){c.execute()},this.h?this.execute():en(this.f,"click",this.i)}Ic.prototype.getResponse=function(){return Yd(this),this.b},Ic.prototype.execute=function(){Yd(this);var r=this;this.a||(this.a=setTimeout(function(){r.b=yA();var s=r.c.callback,c=r.c["expired-callback"];if(s)try{s(r.b)}catch{}r.a=setTimeout(function(){if(r.a=null,r.b=null,c)try{c()}catch{}r.h&&r.execute()},6e4)},500))},Ic.prototype.delete=function(){Yd(this),this.g=!0,clearTimeout(this.a),this.a=null,Ue(this.f,"click",this.i)};function Yd(r){if(r.g)throw Error("reCAPTCHA mock was already deleted!")}function Xd(){}q(Xd,"FACTOR_ID","phone");function Jd(){}Jd.prototype.g=function(){return Wd||(Wd=new oo),K(Wd)},Jd.prototype.c=function(){};var Zd=null;function tp(){this.b=f.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var dN=new _n(Su,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),pN=new ar(3e4,6e4);tp.prototype.g=function(r){var s=this;return new at(function(c,h){var d=setTimeout(function(){h(new S("network-request-failed"))},pN.get());if(!f.grecaptcha||r!==s.f&&!s.b){f[s.a]=function(){if(f.grecaptcha){s.f=r;var v=f.grecaptcha.render;f.grecaptcha.render=function(b,_){return b=v(b,_),s.b++,b},clearTimeout(d),c(f.grecaptcha)}else clearTimeout(d),h(new S("internal-error"));delete f[s.a]};var g=kh(dN,{onload:s.a,hl:r||""});K(zf(g)).o(function(){clearTimeout(d),h(new S("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(d),c(f.grecaptcha)})},tp.prototype.c=function(){this.b--};var ep=null;function np(r,s,c,h,d,g,v){if(q(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=s,this.g=null,v?(Zd||(Zd=new Jd),v=Zd):(ep||(ep=new tp),v=ep),this.m=v,this.a=c||{theme:"light",type:"image"},this.h=[],this.a[wb])throw new S("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[gN]==="invisible",!f.document)throw new S("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ps(s)||!this.i&&ps(s).hasChildNodes())throw new S("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new gn(r,g||null,d||null),this.u=h||function(){return null};var b=this;this.l=[];var _=this.a[vb];this.a[vb]=function(Z){if(bb(b,Z),typeof _=="function")_(Z);else if(typeof _=="string"){var yt=Ot(_,f);typeof yt=="function"&&yt(Z)}};var N=this.a[yb];this.a[yb]=function(){if(bb(b,null),typeof N=="function")N();else if(typeof N=="string"){var Z=Ot(N,f);typeof Z=="function"&&Z()}}}var vb="callback",yb="expired-callback",wb="sitekey",gN="size";function bb(r,s){for(var c=0;c<r.l.length;c++)try{r.l[c](s)}catch{}}function mN(r,s){hn(r.l,function(c){return c==s})}function rp(r,s){return r.h.push(s),s.oa(function(){Eu(r.h,s)}),s}e=np.prototype,e.Ia=function(){var r=this;return this.f?this.f:this.f=rp(this,K().then(function(){if(Fu()&&!dn())return Lu();throw new S("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return r.m.g(r.u())}).then(function(s){return r.g=s,ct(r.s,FO,{})}).then(function(s){r.a[wb]=s.recaptchaSiteKey}).o(function(s){throw r.f=null,s}))},e.render=function(){Ec(this);var r=this;return rp(this,this.Ia().then(function(){if(r.c===null){var s=r.v;if(!r.i){var c=ps(s);s=B_("DIV"),c.appendChild(s)}r.c=r.g.render(s,r.a)}return r.c}))},e.verify=function(){Ec(this);var r=this;return rp(this,this.render().then(function(s){return new at(function(c){var h=r.g.getResponse(s);if(h)c(h);else{var d=function(g){g&&(mN(r,d),c(g))};r.l.push(d),r.i&&r.g.execute(r.c)}})}))},e.reset=function(){Ec(this),this.c!==null&&this.g.reset(this.c)};function Ec(r){if(r.J)throw new S("internal-error","RecaptchaVerifier instance has been destroyed.")}e.clear=function(){Ec(this),this.J=!0,this.m.c();for(var r=0;r<this.h.length;r++)this.h[r].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){r=ps(this.v);for(var s;s=r.firstChild;)r.removeChild(s)}};function ip(r,s,c){var h=!1;try{this.b=c||Q.app()}catch{throw new S("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)c=this.b.options.apiKey;else throw new S("invalid-api-key");var d=this,g=null;try{g=this.b.auth().Ga()}catch{}try{h=this.b.auth().settings.appVerificationDisabledForTesting}catch{}g=Q.SDK_VERSION?Gi(Q.SDK_VERSION,g):null,np.call(this,c,r,s,function(){try{var v=d.b.auth().la()}catch{v=null}return v},g,hs(fs),h)}X(ip,np);function Ib(r,s,c,h){t:{c=Array.prototype.slice.call(c);for(var d=0,g=!1,v=0;v<s.length;v++)if(s[v].optional)g=!0;else{if(g)throw new S("internal-error","Argument validator encountered a required argument after an optional argument.");d++}if(g=s.length,c.length<d||g<c.length)h="Expected "+(d==g?d==1?"1 argument":d+" arguments":d+"-"+g+" arguments")+" but got "+c.length+".";else{for(d=0;d<c.length;d++)if(g=s[d].optional&&c[d]===void 0,!s[d].M(c[d])&&!g){if(s=s[d],0>d||d>=Eb.length)throw new S("internal-error","Argument validator received an unsupported number of arguments.");c=Eb[d],h=(h?"":c+" argument ")+(s.name?'"'+s.name+'" ':"")+"must be "+s.K+".";break t}h=null}}if(h)throw new S("argument-error",r+" failed: "+h)}var Eb="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function V(r,s){return{name:r||"",K:"a valid string",optional:!!s,M:function(c){return typeof c=="string"}}}function op(r,s){return{name:r||"",K:"a boolean",optional:!!s,M:function(c){return typeof c=="boolean"}}}function qt(r,s){return{name:r||"",K:"a valid object",optional:!!s,M:A}}function so(r,s){return{name:r||"",K:"a function",optional:!!s,M:function(c){return typeof c=="function"}}}function kn(r,s){return{name:r||"",K:"null",optional:!!s,M:function(c){return c===null}}}function vN(){return{name:"",K:"an HTML element",optional:!1,M:function(r){return!!(r&&r instanceof Element)}}}function yN(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(r){return!!(r&&r instanceof vn)}}}function wN(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(r){return!!(r&&r instanceof Q.app.App)}}}function hr(r){return{name:r?r+"Credential":"credential",K:r?"a valid "+r+" credential":"a valid credential",optional:!1,M:function(s){if(!s)return!1;var c=!r||s.providerId===r;return!(!s.ka||!c)}}}function Sb(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(r){return r?!!r.tb:!1}}}function ao(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(r){return!!(r&&r.providerId&&r.hasOwnProperty&&r.hasOwnProperty("isOAuthProvider"))}}}function sp(r,s){return A(r)&&typeof r.type=="string"&&r.type===s&&typeof r.Ha=="function"}function Tb(r){return A(r)&&typeof r.uid=="string"}function Sc(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(r){return!(!r||typeof r.type!="string"||typeof r.verify!="function")}}}function Ft(r,s,c,h){return{name:c||"",K:r.K+" or "+s.K,optional:!!h,M:function(d){return r.M(d)||s.M(d)}}}function xt(r,s){for(var c in s){var h=s[c].name;r[h]=_b(h,r[c],s[c].j)}}function Cb(r,s){for(var c in s){var h=s[c].name;h!==c&&Object.defineProperty(r,h,{get:_t(function(d){return this[d]},c),set:_t(function(d,g,v,b){Ib(d,[v],[b],!0),this[g]=b},h,c,s[c].lb),enumerable:!0})}}function Ut(r,s,c,h){r[s]=_b(s,c,h)}function _b(r,s,c){function h(){var v=Array.prototype.slice.call(arguments);return Ib(d,c,v),s.apply(this,v)}if(!c)return s;var d=bN(r),g;for(g in s)h[g]=s[g];for(g in s.prototype)h.prototype[g]=s.prototype[g];return h}function bN(r){return r=r.split("."),r[r.length-1]}xt(vn.prototype,{kb:{name:"applyActionCode",j:[V("code")]},Sa:{name:"checkActionCode",j:[V("code")]},ob:{name:"confirmPasswordReset",j:[V("code"),V("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[V("email"),V("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[V("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[V("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Ft(qt(),so(),"nextOrObserver"),so("opt_error",!0),so("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Ft(qt(),so(),"nextOrObserver"),so("opt_error",!0),so("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[V("email"),Ft(qt("opt_actionCodeSettings",!0),kn(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[V("email"),qt("actionCodeSettings")]},yb:{name:"setPersistence",j:[V("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[hr()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[hr()]},Tc:{name:"signInWithCustomToken",j:[V("token")]},Uc:{name:"signInWithEmailAndPassword",j:[V("email"),V("password")]},Vc:{name:"signInWithEmailLink",j:[V("email"),V("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[V("phoneNumber"),Sc()]},Xc:{name:"signInWithPopup",j:[ao()]},Yc:{name:"signInWithRedirect",j:[ao()]},dd:{name:"updateCurrentUser",j:[Ft(function(r){return{name:"user",K:"an instance of Firebase User",optional:!!r,M:function(s){return!!(s&&s instanceof Ve)}}}(),kn(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[V(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[V("url"),qt("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[V("code")]}}),Cb(vn.prototype,{lc:{name:"languageCode",lb:Ft(V(),kn(),"languageCode")},ti:{name:"tenantId",lb:Ft(V(),kn(),"tenantId")}}),vn.Persistence=Zi,vn.Persistence.LOCAL="local",vn.Persistence.SESSION="session",vn.Persistence.NONE="none",xt(Ve.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[op("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[op("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[hr()]},rb:{name:"linkWithCredential",j:[hr()]},Dc:{name:"linkWithPhoneNumber",j:[V("phoneNumber"),Sc()]},Ec:{name:"linkWithPopup",j:[ao()]},Fc:{name:"linkWithRedirect",j:[ao()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[hr()]},ub:{name:"reauthenticateWithCredential",j:[hr()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[V("phoneNumber"),Sc()]},Nc:{name:"reauthenticateWithPopup",j:[ao()]},Oc:{name:"reauthenticateWithRedirect",j:[ao()]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[Ft(qt("opt_actionCodeSettings",!0),kn(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[V(null,!0)]},cd:{name:"unlink",j:[V("provider")]},Cb:{name:"updateEmail",j:[V("email")]},Db:{name:"updatePassword",j:[V("password")]},ed:{name:"updatePhoneNumber",j:[hr("phone")]},Eb:{name:"updateProfile",j:[qt("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[V("email"),Ft(qt("opt_actionCodeSettings",!0),kn(null,!0),"opt_actionCodeSettings",!0)]}}),xt(oo.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),xt(Ws.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),xt(at.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Cb(Kw.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:op("appVerificationDisabledForTesting")}}),xt(Sd.prototype,{confirm:{name:"confirm",j:[V("verificationCode")]}}),Ut(Qi,"fromJSON",function(r){r=typeof r=="string"?JSON.parse(r):r;for(var s,c=[BA,zA,HA,qA],h=0;h<c.length;h++)if(s=c[h](r))return s;return null},[Ft(V(),qt(),"json")]),Ut(rn,"credential",function(r,s){return new ur(r,s)},[V("email"),V("password")]),xt(ur.prototype,{w:{name:"toJSON",j:[V(null,!0)]}}),xt(ti.prototype,{Ca:{name:"addScope",j:[V("scope")]},Ka:{name:"setCustomParameters",j:[qt("customOAuthParameters")]}}),Ut(ti,"credential",A0,[Ft(V(),qt(),"token")]),Ut(rn,"credentialWithLink",D0,[V("email"),V("emailLink")]),xt(ei.prototype,{Ca:{name:"addScope",j:[V("scope")]},Ka:{name:"setCustomParameters",j:[qt("customOAuthParameters")]}}),Ut(ei,"credential",O0,[Ft(V(),qt(),"token")]),xt(ni.prototype,{Ca:{name:"addScope",j:[V("scope")]},Ka:{name:"setCustomParameters",j:[qt("customOAuthParameters")]}}),Ut(ni,"credential",R0,[Ft(V(),Ft(qt(),kn()),"idToken"),Ft(V(),kn(),"accessToken",!0)]),xt(Xi.prototype,{Ka:{name:"setCustomParameters",j:[qt("customOAuthParameters")]}}),Ut(Xi,"credential",N0,[Ft(V(),qt(),"token"),V("secret",!0)]),xt(je.prototype,{Ca:{name:"addScope",j:[V("scope")]},credential:{name:"credential",j:[Ft(V(),Ft(qt(),kn()),"optionsOrIdToken"),Ft(V(),kn(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[qt("customOAuthParameters")]}}),xt(Kn.prototype,{w:{name:"toJSON",j:[V(null,!0)]}}),xt(Jr.prototype,{w:{name:"toJSON",j:[V(null,!0)]}}),Ut(Gn,"credential",x0,[V("verificationId"),V("verificationCode")]),xt(Gn.prototype,{gb:{name:"verifyPhoneNumber",j:[Ft(V(),function(r,s){return{name:r||"phoneInfoOptions",K:"valid phone info options",optional:!!s,M:function(c){return c?c.session&&c.phoneNumber?sp(c.session,Os)&&typeof c.phoneNumber=="string":c.session&&c.multiFactorHint?sp(c.session,Ku)&&Tb(c.multiFactorHint):c.session&&c.multiFactorUid?sp(c.session,Ku)&&typeof c.multiFactorUid=="string":c.phoneNumber?typeof c.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),Sc()]}}),xt(cr.prototype,{w:{name:"toJSON",j:[V(null,!0)]}}),xt(S.prototype,{toJSON:{name:"toJSON",j:[V(null,!0)]}}),xt(Ns.prototype,{toJSON:{name:"toJSON",j:[V(null,!0)]}}),xt(kf.prototype,{toJSON:{name:"toJSON",j:[V(null,!0)]}}),xt(_d.prototype,{toJSON:{name:"toJSON",j:[V(null,!0)]}}),xt(Cd.prototype,{Rc:{name:"resolveSignIn",j:[Sb()]}}),xt(Od.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[Sb(),V("displayName",!0)]},bd:{name:"unenroll",j:[Ft({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Tb},V(),"multiFactorInfoIdentifier")]}}),xt(ip.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Ut(If,"parseLink",c0,[V("link")]),Ut(Xd,"assertion",function(r){return new Yw(r)},[hr("phone")]),function(){if(typeof Q<"u"&&Q.INTERNAL&&Q.INTERNAL.registerComponent){var r={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Uu,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:bf,VERIFY_AND_CHANGE_EMAIL:_s,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:vn,AuthCredential:Qi,Error:S};Ut(r,"EmailAuthProvider",rn,[]),Ut(r,"FacebookAuthProvider",ti,[]),Ut(r,"GithubAuthProvider",ei,[]),Ut(r,"GoogleAuthProvider",ni,[]),Ut(r,"TwitterAuthProvider",Xi,[]),Ut(r,"OAuthProvider",je,[V("providerId")]),Ut(r,"SAMLAuthProvider",_0,[V("providerId")]),Ut(r,"PhoneAuthProvider",Gn,[yN()]),Ut(r,"RecaptchaVerifier",ip,[Ft(V(),vN(),"recaptchaContainer"),qt("recaptchaParameters",!0),wN()]),Ut(r,"ActionCodeURL",If,[]),Ut(r,"PhoneMultiFactorGenerator",Xd,[]),Q.INTERNAL.registerComponent({name:"auth",instanceFactory:function(s){return s=s.getProvider("app").getImmediate(),new vn(s)},multipleInstances:!1,serviceProps:r,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(s){s.getProvider("auth-internal").initialize()}}),Q.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(s){return s=s.getProvider("auth").getImmediate(),{getUid:M(s.getUid,s),getToken:M(s.nc,s),addAuthTokenListener:M(s.cc,s),removeAuthTokenListener:M(s.Pc,s)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Q.registerVersion("@firebase/auth","0.16.8"),Q.INTERNAL.extendNamespace({User:Ve})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})});var Ak={};var jE=yn(()=>{"use strict";UE()});function Ok(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Ug(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function JE(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ml(){}function jg(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function ja(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function Nk(e){return Object.prototype.hasOwnProperty.call(e,Ng)&&e[Ng]||(e[Ng]=++Dk)}function xk(e,t,n){return e.call.apply(e.bind,arguments)}function kk(e,t,n){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,i),e.apply(t,o)}}return function(){return e.apply(t,arguments)}}function ee(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?ee=xk:ee=kk,ee.apply(null,arguments)}function ll(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),e.apply(this,i)}}function re(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(i,o,a){for(var u=Array(arguments.length-2),l=2;l<arguments.length;l++)u[l-2]=arguments[l];return t.prototype[o].apply(i,u)}}function Cr(){this.s=this.s,this.o=this.o}function Lk(e){t:{for(var t=AP,n=e.length,i=typeof e=="string"?e.split(""):e,o=0;o<n;o++)if(o in i&&t.call(void 0,i[o],o,e)){t=o;break t}t=-1}return 0>t?null:typeof e=="string"?e.charAt(t):e[t]}function qE(e){return Array.prototype.concat.apply([],arguments)}function Jg(e){var t=e.length;if(0<t){for(var n=Array(t),i=0;i<t;i++)n[i]=e[i];return n}return[]}function vl(e){return/^[\s\xa0]*$/.test(e)}function Ie(e,t){return e.indexOf(t)!=-1}function Dg(e,t){return e<t?-1:e>t?1:0}function Zg(e,t,n){for(var i in e)t.call(n,e[i],i,e)}function eS(e){var t={};for(var n in e)t[n]=e[n];return t}function nS(e,t){for(var n,i,o=1;o<arguments.length;o++){i=arguments[o];for(n in i)e[n]=i[n];for(var a=0;a<zE.length;a++)n=zE[a],Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}}function tm(e){return tm[" "](e),e}function Fk(e){var t=Vk;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}function oS(){var e=et.document;return e?e.documentMode:void 0}function qk(){return Fk(function(){for(var e=0,t=BE(String(yl)).split("."),n=BE("9").split("."),i=Math.max(t.length,n.length),o=0;e==0&&o<i;o++){var a=t[o]||"",u=n[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],a[0].length==0&&u[0].length==0)break;e=Dg(a[1].length==0?0:parseInt(a[1],10),u[1].length==0?0:parseInt(u[1],10))||Dg(a[2].length==0,u[2].length==0)||Dg(a[2],u[2]),a=a[3],u=u[3]}while(e==0)}return 0<=e})}function he(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Pa(e,t){if(he.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,i=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(iS){t:{try{tm(t.nodeName);var o=!0;break t}catch{}o=!1}o||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:Hk[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Pa.Z.h.call(this)}}function Gk(e,t,n,i,o){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!i,this.ia=o,this.key=++Kk,this.ca=this.fa=!1}function Cl(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function _l(e){this.src=e,this.g={},this.h=0}function Bg(e,t){var n=t.type;if(n in e.g){var i=e.g[n],o=ZE(i,t),a;(a=0<=o)&&Array.prototype.splice.call(i,o,1),a&&(Cl(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function zg(e,t,n,i){for(var o=0;o<e.length;++o){var a=e[o];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==i)return o}return-1}function sS(e,t,n,i,o){if(i&&i.once)return uS(e,t,n,i,o);if(Array.isArray(t)){for(var a=0;a<t.length;a++)sS(e,t[a],n,i,o);return null}return n=im(n),e&&e[Va]?e.N(t,n,ja(i)?!!i.capture:!!i,o):aS(e,t,n,!1,i,o)}function aS(e,t,n,i,o,a){if(!t)throw Error("Invalid event type");var u=ja(o)?!!o.capture:!!o,l=rm(e);if(l||(e[em]=l=new _l(e)),n=l.add(t,n,i,u,a),n.proxy)return n;if(i=$k(),n.proxy=i,i.src=e,i.listener=n,e.addEventListener)zk||(o=u),o===void 0&&(o=!1),e.addEventListener(t.toString(),i,o);else if(e.attachEvent)e.attachEvent(lS(t.toString()),i);else if(e.addListener&&e.removeListener)e.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function $k(){function e(n){return t.call(e.src,e.listener,n)}var t=Wk;return e}function uS(e,t,n,i,o){if(Array.isArray(t)){for(var a=0;a<t.length;a++)uS(e,t[a],n,i,o);return null}return n=im(n),e&&e[Va]?e.O(t,n,ja(i)?!!i.capture:!!i,o):aS(e,t,n,!0,i,o)}function cS(e,t,n,i,o){if(Array.isArray(t))for(var a=0;a<t.length;a++)cS(e,t[a],n,i,o);else i=ja(i)?!!i.capture:!!i,n=im(n),e&&e[Va]?(e=e.i,t=String(t).toString(),t in e.g&&(a=e.g[t],n=zg(a,n,i,o),-1<n&&(Cl(a[n]),Array.prototype.splice.call(a,n,1),a.length==0&&(delete e.g[t],e.h--)))):e&&(e=rm(e))&&(t=e.g[t.toString()],e=-1,t&&(e=zg(t,n,i,o)),(n=-1<e?t[e]:null)&&nm(n))}function nm(e){if(typeof e!="number"&&e&&!e.ca){var t=e.src;if(t&&t[Va])Bg(t.i,e);else{var n=e.type,i=e.proxy;t.removeEventListener?t.removeEventListener(n,i,e.capture):t.detachEvent?t.detachEvent(lS(n),i):t.addListener&&t.removeListener&&t.removeListener(i),(n=rm(t))?(Bg(n,e),n.h==0&&(n.src=null,t[em]=null)):Cl(e)}}}function lS(e){return e in Mg?Mg[e]:Mg[e]="on"+e}function Wk(e,t){if(e.ca)e=!0;else{t=new Pa(t,this);var n=e.listener,i=e.ia||e.src;e.fa&&nm(e),e=n.call(i,t)}return e}function rm(e){return e=e[em],e instanceof _l?e:null}function im(e){return typeof e=="function"?e:(e[Lg]||(e[Lg]=function(t){return e.handleEvent(t)}),e[Lg])}function Jt(){Cr.call(this),this.i=new _l(this),this.P=this,this.I=null}function ne(e,t){var n,i=e.I;if(i)for(n=[];i;i=i.I)n.push(i);if(e=e.P,i=t.type||t,typeof t=="string")t=new he(t,e);else if(t instanceof he)t.target=t.target||e;else{var o=t;t=new he(i,e),nS(t,o)}if(o=!0,n)for(var a=n.length-1;0<=a;a--){var u=t.g=n[a];o=pl(u,i,!0,t)&&o}if(u=t.g=e,o=pl(u,i,!0,t)&&o,o=pl(u,i,!1,t)&&o,n)for(a=0;a<n.length;a++)u=t.g=n[a],o=pl(u,i,!1,t)&&o}function pl(e,t,n,i){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var o=!0,a=0;a<t.length;++a){var u=t[a];if(u&&!u.ca&&u.capture==n){var l=u.listener,f=u.ia||u.src;u.fa&&Bg(e.i,u),o=l.call(f,i)!==!1&&o}}return o&&!i.defaultPrevented}function Qk(){var e=fS,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}function Jk(e){et.setTimeout(function(){throw e},0)}function sm(e,t){Hg||Zk(),Kg||(Hg(),Kg=!0),fS.add(e,t)}function Zk(){var e=et.Promise.resolve(void 0);Hg=function(){e.then(tP)}}function tP(){for(var e;e=Qk();){try{e.h.call(e.g)}catch(n){Jk(n)}var t=hS;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Kg=!1}function Al(e,t){Jt.call(this),this.h=e||1,this.g=t||et,this.j=ee(this.kb,this),this.l=Date.now()}function am(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function um(e,t,n){if(typeof e=="function")n&&(e=ee(e,n));else if(e&&typeof e.handleEvent=="function")e=ee(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:et.setTimeout(e,t||0)}function dS(e){e.g=um(function(){e.g=null,e.i&&(e.i=!1,dS(e))},e.j);var t=e.h;e.h=null,e.m.apply(null,t)}function Ma(e){Cr.call(this),this.h=e,this.g={}}function pS(e,t,n,i){Array.isArray(n)||(n&&(HE[0]=n.toString()),n=HE);for(var o=0;o<n.length;o++){var a=sS(t,n[o],i||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function gS(e){Zg(e.g,function(t,n){this.g.hasOwnProperty(n)&&nm(t)},e),e.g={}}function Ol(){this.g=!0}function nP(e,t,n,i,o,a){e.info(function(){if(e.g)if(a)for(var u="",l=a.split("&"),f=0;f<l.length;f++){var p=l[f].split("=");if(1<p.length){var m=p[0];p=p[1];var y=m.split("_");u=2<=y.length&&y[1]=="type"?u+(m+"="+p+"&"):u+(m+"=redacted&")}}else u=null;else u=a;return"XMLHTTP REQ ("+i+") [attempt "+o+"]: "+t+`
`+n+`
`+u})}function rP(e,t,n,i,o,a,u){e.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+o+"]: "+t+`
`+n+`
`+a+" "+u})}function Ao(e,t,n,i){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+oP(e,n)+(i?" "+i:"")})}function iP(e,t){e.info(function(){return"TIMEOUT: "+t})}function oP(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var i=n[e];if(!(2>i.length)){var o=i[1];if(Array.isArray(o)&&!(1>o.length)){var a=o[0];if(a!="noop"&&a!="stop"&&a!="close")for(var u=1;u<o.length;u++)o[u]=""}}}}return om(n)}catch{return t}}function Rl(){return KE=KE||new Jt}function mS(e){he.call(this,wi.Ma,e)}function La(e){var t=Rl();ne(t,new mS(t,e))}function vS(e,t){he.call(this,wi.STAT_EVENT,e),this.stat=t}function Se(e){var t=Rl();ne(t,new vS(t,e))}function yS(e,t){he.call(this,wi.Na,e),this.size=t}function qa(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return et.setTimeout(function(){e()},t)}function cm(){}function GE(e){return e.h||(e.h=e.i())}function bS(){}function lm(){he.call(this,"d")}function hm(){he.call(this,"c")}function Dl(){}function za(e,t,n,i){this.l=e,this.j=t,this.m=n,this.X=i||1,this.V=new Ma(this),this.P=sP,e=Vg?125:void 0,this.W=new Al(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new IS}function IS(){this.i=null,this.g="",this.h=!1}function Wg(e,t,n){e.K=1,e.v=kl(Jn(t)),e.s=n,e.U=!0,ES(e,null)}function ES(e,t){e.F=Date.now(),Ha(e),e.A=Jn(e.v);var n=e.A,i=e.X;Array.isArray(i)||(i=[String(i)]),RS(n.h,"t",i),e.C=0,n=e.l.H,e.h=new IS,e.g=QS(e.l,n?t:null,!e.s),0<e.O&&(e.L=new eP(ee(e.Ia,e,e.g),e.O)),pS(e.V,e.g,"readystatechange",e.gb),t=e.H?eS(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),La(1),nP(e.j,e.u,e.A,e.m,e.X,e.s)}function SS(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Ba:!1}function TS(e,t,n){for(var i=!0,o;!e.I&&e.C<n.length;)if(o=aP(e,n),o==wl){t==4&&(e.o=4,Se(14),i=!1),Ao(e.j,e.m,null,"[Incomplete Response]");break}else if(o==$g){e.o=4,Se(15),Ao(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}else Ao(e.j,e.m,o,null),Qg(e,o);SS(e)&&o!=wl&&o!=$g&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,Se(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,t=e.l,t.g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),bm(t),t.L=!0,Se(11))):(Ao(e.j,e.m,n,"[Invalid Chunked Response]"),gi(e),xa(e))}function aP(e,t){var n=e.C,i=t.indexOf(`
`,n);return i==-1?wl:(n=Number(t.substring(n,i)),isNaN(n)?$g:(i+=1,i+n>t.length?wl:(t=t.substr(i,n),e.C=i+n,t)))}function Ha(e){e.Y=Date.now()+e.P,CS(e,e.P)}function CS(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=qa(ee(e.eb,e),t)}function xl(e){e.B&&(et.clearTimeout(e.B),e.B=null)}function xa(e){e.l.G==0||e.I||KS(e.l,e)}function gi(e){xl(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,am(e.W),gS(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Qg(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||Yg(n.i,e))){if(n.I=e.N,!e.J&&Yg(n.i,e)&&n.G==3){try{var i=n.Ca.g.parse(t)}catch{i=null}if(Array.isArray(i)&&i.length==3){var o=i;if(o[0]==0){t:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)Sl(n),Ll(n);else break t;wm(n),Se(18)}}else n.ta=o[1],0<n.ta-n.U&&37500>o[2]&&n.N&&n.A==0&&!n.v&&(n.v=qa(ee(n.ab,n),6e3));if(1>=xS(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else mi(n,11)}else if((e.J||n.g==e)&&Sl(n),!vl(t))for(o=n.Ca.g.parse(t),t=0;t<o.length;t++){var a=o[t];if(n.U=a[0],a=a[1],n.G==2)if(a[0]=="c"){n.J=a[1],n.la=a[2];var u=a[3];u!=null&&(n.ma=u,n.h.info("VER="+n.ma));var l=a[4];l!=null&&(n.za=l,n.h.info("SVER="+n.za));var f=a[5];f!=null&&typeof f=="number"&&0<f&&(i=1.5*f,n.K=i,n.h.info("backChannelRequestTimeoutMs_="+i)),i=n;var p=e.g;if(p){var m=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var y=i.i;!y.g&&(Ie(m,"spdy")||Ie(m,"quic")||Ie(m,"h2"))&&(y.j=y.l,y.g=new Set,y.h&&(pm(y,y.h),y.h=null))}if(i.D){var w=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;w&&(i.sa=w,Nt(i.F,i.D,w))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms")),i=n;var I=e;if(i.oa=WS(i,i.H?i.la:null,i.W),I.J){kS(i.i,I);var E=I,T=i.K;T&&E.setTimeout(T),E.B&&(xl(E),Ha(E)),i.g=I}else zS(i);0<n.l.length&&Fl(n)}else a[0]!="stop"&&a[0]!="close"||mi(n,7);else n.G==3&&(a[0]=="stop"||a[0]=="close"?a[0]=="stop"?mi(n,7):ym(n):a[0]!="noop"&&n.j&&n.j.wa(a),n.A=0)}}La(4)}catch{}}function uP(e){if(e.R&&typeof e.R=="function")return e.R();if(typeof e=="string")return e.split("");if(jg(e)){for(var t=[],n=e.length,i=0;i<n;i++)t.push(e[i]);return t}t=[],n=0;for(i in e)t[n++]=e[i];return t}function fm(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(jg(e)||typeof e=="string")tS(e,t,void 0);else{if(e.T&&typeof e.T=="function")var n=e.T();else if(e.R&&typeof e.R=="function")n=void 0;else if(jg(e)||typeof e=="string"){n=[];for(var i=e.length,o=0;o<i;o++)n.push(o)}else for(o in n=[],i=0,e)n[i++]=o;i=uP(e),o=i.length;for(var a=0;a<o;a++)t.call(void 0,i[a],n&&n[a],e)}}function Ro(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(e)if(e instanceof Ro)for(n=e.T(),i=0;i<n.length;i++)this.set(n[i],e.get(n[i]));else for(i in e)this.set(i,e[i])}function dm(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var i=e.g[t];vi(e.h,i)&&(e.g[n++]=i),t++}e.g.length=n}if(e.i!=e.g.length){var o={};for(n=t=0;t<e.g.length;)i=e.g[t],vi(o,i)||(e.g[n++]=i,o[i]=1),t++;e.g.length=n}}function vi(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function cP(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var i=e[n].indexOf("="),o=null;if(0<=i){var a=e[n].substring(0,i);o=e[n].substring(i+1)}else a=e[n];t(a,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}function yi(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof yi){this.g=t!==void 0?t:e.g,bl(this,e.j),this.s=e.s,Il(this,e.i),El(this,e.m),this.l=e.l,t=e.h;var n=new Fa;n.i=t.i,t.g&&(n.g=new Ro(t.g),n.h=t.h),$E(this,n),this.o=e.o}else e&&(n=String(e).match(_S))?(this.g=!!t,bl(this,n[1]||"",!0),this.s=ka(n[2]||""),Il(this,n[3]||"",!0),El(this,n[4]),this.l=ka(n[5]||"",!0),$E(this,n[6]||"",!0),this.o=ka(n[7]||"")):(this.g=!!t,this.h=new Fa(null,this.g))}function Jn(e){return new yi(e)}function bl(e,t,n){e.j=n?ka(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Il(e,t,n){e.i=n?ka(t,!0):t}function El(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function $E(e,t,n){t instanceof Fa?(e.h=t,vP(e.h,e.g)):(n||(t=Da(t,gP)),e.h=new Fa(t,e.g))}function Nt(e,t,n){e.h.set(t,n)}function kl(e){return Nt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function lP(e){return e instanceof yi?Jn(e):new yi(e,void 0)}function hP(e,t,n,i){var o=new yi(null,void 0);return e&&bl(o,e),t&&Il(o,t),n&&El(o,n),i&&(o.l=i),o}function ka(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Da(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,fP),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function fP(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}function Fa(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function _r(e){e.g||(e.g=new Ro,e.h=0,e.i&&cP(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function AS(e,t){_r(e),t=No(e,t),vi(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,e=e.g,vi(e.h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&dm(e)))}function OS(e,t){return _r(e),t=No(e,t),vi(e.g.h,t)}function RS(e,t,n){AS(e,t),0<n.length&&(e.i=null,e.g.set(No(e,t),Jg(n)),e.h+=n.length)}function No(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function vP(e,t){t&&!e.j&&(_r(e),e.i=null,e.g.forEach(function(n,i){var o=i.toLowerCase();i!=o&&(AS(this,i),RS(this,o,n))},e)),e.j=t}function NS(e){this.l=e||wP,et.PerformanceNavigationTiming?(e=et.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(et.g&&et.g.Ea&&et.g.Ea()&&et.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function DS(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function xS(e){return e.h?1:e.g?e.g.size:0}function Yg(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function pm(e,t){e.g?e.g.add(t):e.h=t}function kS(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function PS(e){var t,n;if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){var i=e.i;try{for(var o=JE(e.g.values()),a=o.next();!a.done;a=o.next()){var u=a.value;i=i.concat(u.D)}}catch(l){t={error:l}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return i}return Jg(e.i)}function gm(){}function bP(){this.g=new gm}function IP(e,t,n){var i=n||"";try{fm(e,function(o,a){var u=o;ja(o)&&(u=om(o)),t.push(i+a+"="+encodeURIComponent(u))})}catch(o){throw t.push(i+"type="+encodeURIComponent("_badmap")),o}}function EP(e,t){var n=new Ol;if(et.Image){var i=new Image;i.onload=ll(gl,n,i,"TestLoadImage: loaded",!0,t),i.onerror=ll(gl,n,i,"TestLoadImage: error",!1,t),i.onabort=ll(gl,n,i,"TestLoadImage: abort",!1,t),i.ontimeout=ll(gl,n,i,"TestLoadImage: timeout",!1,t),et.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=e}else t(!1)}function gl(e,t,n,i,o){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,o(i)}catch{}}function Ka(e){this.l=e.$b||null,this.j=e.ib||!1}function Pl(e,t){Jt.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=mm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}function MS(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Ga(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Ua(e)}function Ua(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Bt(e){Jt.call(this),this.headers=new Ro,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=LS,this.K=this.L=!1}function _P(e){return Oo&&qk()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}function AP(e){return e.toLowerCase()=="content-type"}function QE(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,FS(e),Ml(e)}function FS(e){e.D||(e.D=!0,ne(e,"complete"),ne(e,"error"))}function US(e){if(e.h&&typeof Xg<"u"&&(!e.C[1]||Xn(e)!=4||e.ba()!=2)){if(e.v&&Xn(e)==4)um(e.Fa,0,e);else if(ne(e,"readystatechange"),Xn(e)==4){e.h=!1;try{var t=e.ba();t:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break t;default:n=!1}var i;if(!(i=n)){var o;if(o=t===0){var a=String(e.H).match(_S)[1]||null;if(!a&&et.self&&et.self.location){var u=et.self.location.protocol;a=u.substr(0,u.length-1)}o=!TP.test(a?a.toLowerCase():"")}i=o}if(i)ne(e,"complete"),ne(e,"success");else{e.m=6;try{var l=2<Xn(e)?e.g.statusText:""}catch{l=""}e.j=l+" ["+e.ba()+"]",FS(e)}}finally{Ml(e)}}}}function Ml(e,t){if(e.g){jS(e);var n=e.g,i=e.C[0]?ml:null;e.g=null,e.C=null,t||ne(e,"ready");try{n.onreadystatechange=i}catch{}}}function jS(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(et.clearTimeout(e.A),e.A=null)}function Xn(e){return e.g?e.g.readyState:0}function YE(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case LS:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function OP(e){var t="";return Zg(e,function(n,i){t+=i,t+=":",t+=n,t+=`\r
`}),t}function vm(e,t,n){t:{for(i in n){var i=!1;break t}i=!0}i||(n=OP(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):Nt(e,t,n))}function Na(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function VS(e){this.za=0,this.l=[],this.h=new Ol,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Na("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Na("baseRetryDelayMs",5e3,e),this.$a=Na("retryDelaySeedMs",1e4,e),this.Ya=Na("forwardChannelMaxRetries",2,e),this.ra=Na("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new NS(e&&e.concurrentRequestLimit),this.Ca=new bP,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||e.Xb!==!1}function ym(e){if(qS(e),e.G==3){var t=e.V++,n=Jn(e.F);Nt(n,"SID",e.J),Nt(n,"RID",t),Nt(n,"TYPE","terminate"),$a(e,n),t=new za(e,e.h,t,void 0),t.K=2,t.v=kl(Jn(n)),n=!1,et.navigator&&et.navigator.sendBeacon&&(n=et.navigator.sendBeacon(t.v.toString(),"")),!n&&et.Image&&(new Image().src=t.v,n=!0),n||(t.g=QS(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Ha(t)}$S(e)}function Ll(e){e.g&&(bm(e),e.g.cancel(),e.g=null)}function qS(e){Ll(e),e.u&&(et.clearTimeout(e.u),e.u=null),Sl(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&et.clearTimeout(e.m),e.m=null)}function Fg(e,t){e.l.push(new yP(e.Za++,t)),e.G==3&&Fl(e)}function Fl(e){DS(e.i)||e.m||(e.m=!0,sm(e.Ha,e),e.C=0)}function RP(e,t){return xS(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.l=t.D.concat(e.l),!0):e.G==1||e.G==2||e.C>=(e.Xa?0:e.Ya)?!1:(e.m=qa(ee(e.Ha,e,t),GS(e,e.C)),e.C++,!0)}function XE(e,t){var n;t?n=t.m:n=e.V++;var i=Jn(e.F);Nt(i,"SID",e.J),Nt(i,"RID",n),Nt(i,"AID",e.U),$a(e,i),e.o&&e.s&&vm(i,e.o,e.s),n=new za(e,e.h,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=BS(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),pm(e.i,n),Wg(n,i,t)}function $a(e,t){e.j&&fm({},function(n,i){Nt(t,i,n)})}function BS(e,t,n){n=Math.min(e.l.length,n);var i=e.j?ee(e.j.Oa,e.j,e):null;t:for(var o=e.l,a=-1;;){var u=["count="+n];a==-1?0<n?(a=o[0].h,u.push("ofs="+a)):a=0:u.push("ofs="+a);for(var l=!0,f=0;f<n;f++){var p=o[f].h,m=o[f].g;if(p-=a,0>p)a=Math.max(0,o[f].h-100),l=!1;else try{IP(m,u,"req"+p+"_")}catch{i&&i(m)}}if(l){i=u.join("&");break t}}return e=e.l.splice(0,n),t.D=e,i}function zS(e){e.g||e.u||(e.Y=1,sm(e.Ga,e),e.A=0)}function wm(e){return e.g||e.u||3<=e.A?!1:(e.Y++,e.u=qa(ee(e.Ga,e),GS(e,e.A)),e.A++,!0)}function bm(e){e.B!=null&&(et.clearTimeout(e.B),e.B=null)}function HS(e){e.g=new za(e,e.h,"rpc",e.Y),e.o===null&&(e.g.H=e.s),e.g.O=0;var t=Jn(e.oa);Nt(t,"RID","rpc"),Nt(t,"SID",e.J),Nt(t,"CI",e.N?"0":"1"),Nt(t,"AID",e.U),$a(e,t),Nt(t,"TYPE","xmlhttp"),e.o&&e.s&&vm(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=kl(Jn(t)),n.s=null,n.U=!0,ES(n,e)}function Sl(e){e.v!=null&&(et.clearTimeout(e.v),e.v=null)}function KS(e,t){var n=null;if(e.g==t){Sl(e),bm(e),e.g=null;var i=2}else if(Yg(e.i,t))n=t.D,kS(e.i,t),i=1;else return;if(e.I=t.N,e.G!=0){if(t.i)if(i==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var o=e.C;i=Rl(),ne(i,new yS(i,n,t,o)),Fl(e)}else zS(e);else if(o=t.o,o==3||o==0&&0<e.I||!(i==1&&RP(e,t)||i==2&&wm(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),o){case 1:mi(e,5);break;case 4:mi(e,10);break;case 3:mi(e,6);break;default:mi(e,2)}}}function GS(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function mi(e,t){if(e.h.info("Error code "+t),t==2){var n=null;e.j&&(n=null);var i=ee(e.jb,e);n||(n=new yi("//www.google.com/images/cleardot.gif"),et.location&&et.location.protocol=="http"||bl(n,"https"),kl(n)),EP(n.toString(),i)}else Se(2);e.G=0,e.j&&e.j.va(t),$S(e),qS(e)}function $S(e){e.G=0,e.I=-1,e.j&&((PS(e.i).length!=0||e.l.length!=0)&&(e.i.i.length=0,Jg(e.l),e.l.length=0),e.j.ua())}function WS(e,t,n){var i=lP(n);if(i.i!="")t&&Il(i,t+"."+i.i),El(i,i.m);else{var o=et.location;i=hP(o.protocol,t?t+"."+o.hostname:o.hostname,+o.port,n)}return e.aa&&Zg(e.aa,function(a,u){Nt(i,u,a)}),t=e.D,n=e.sa,t&&n&&Nt(i,t,n),Nt(i,"VER",e.ma),$a(e,i),i}function QS(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ba&&!e.qa?new Bt(new Ka({ib:!0})):new Bt(e.qa),t.L=e.H,t}function YS(){}function Tl(){if(Oo&&!(10<=Number(Bk)))throw Error("Environmental error: no available transport.")}function We(e,t){Jt.call(this),this.g=new VS(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!vl(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!vl(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Do(this)}function XS(e){lm.call(this);var t=e.__sm__;if(t){t:{for(var n in t){e=n;break t}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}function JS(){hm.call(this),this.status=1}function Do(e){this.g=e}var Ug,Rk,U,Xg,et,Ng,Dk,Pk,Mk,ZE,tS,BE,Ee,xg,kg,zE,Uk,Oo,rS,Vg,iS,jk,yl,hl,fl,dl,Vk,qg,Pg,Bk,zk,Hk,Va,Kk,em,Mg,Lg,om,Yk,hS,Xk,Hg,Kg,fS,eP,HE,wi,KE,Nl,wS,Ba,Gg,sP,$g,wl,_S,WE,dP,pP,gP,mP,yP,wP,mm,SP,LS,TP,CP,ZS,tT,Ul,eT,nT,Im,rT,Wa,iT,Em=yn(()=>{"use strict";Ug=function(e,t){return Ug=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},Ug(e,t)};Rk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Xg=Xg||{},et=Rk||self;Ng="closure_uid_"+(1e9*Math.random()>>>0),Dk=0;Pk=0,Mk={};Cr.prototype.s=!1;Cr.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),Pk!=0)){var e=Nk(this);delete Mk[e]}};Cr.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};ZE=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},tS=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var i=e.length,o=typeof e=="string"?e.split(""):e,a=0;a<i;a++)a in o&&t.call(n,o[a],a,e)};BE=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};t:{if(xg=et.navigator,xg&&(kg=xg.userAgent,kg)){Ee=kg;break t}Ee=""}zE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");tm[" "]=ml;Uk=Ie(Ee,"Opera"),Oo=Ie(Ee,"Trident")||Ie(Ee,"MSIE"),rS=Ie(Ee,"Edge"),Vg=rS||Oo,iS=Ie(Ee,"Gecko")&&!(Ie(Ee.toLowerCase(),"webkit")&&!Ie(Ee,"Edge"))&&!(Ie(Ee,"Trident")||Ie(Ee,"MSIE"))&&!Ie(Ee,"Edge"),jk=Ie(Ee.toLowerCase(),"webkit")&&!Ie(Ee,"Edge");t:{if(hl="",fl=function(){var e=Ee;if(iS)return/rv:([^\);]+)(\)|;)/.exec(e);if(rS)return/Edge\/([\d\.]+)/.exec(e);if(Oo)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(jk)return/WebKit\/(\S+)/.exec(e);if(Uk)return/(?:Version)[ \/]?(\S+)/.exec(e)}(),fl&&(hl=fl?fl[1]:""),Oo&&(dl=oS(),dl!=null&&dl>parseFloat(hl))){yl=String(dl);break t}yl=hl}Vk={};et.document&&Oo?(Pg=oS(),qg=Pg||parseInt(yl,10)||void 0):qg=void 0;Bk=qg,zk=function(){if(!et.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{et.addEventListener("test",ml,t),et.removeEventListener("test",ml,t)}catch{}return e}();he.prototype.h=function(){this.defaultPrevented=!0};re(Pa,he);Hk={2:"touch",3:"pen",4:"mouse"};Pa.prototype.h=function(){Pa.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};Va="closure_listenable_"+(1e6*Math.random()|0),Kk=0;_l.prototype.add=function(e,t,n,i,o){var a=e.toString();e=this.g[a],e||(e=this.g[a]=[],this.h++);var u=zg(e,t,i,o);return-1<u?(t=e[u],n||(t.fa=!1)):(t=new Gk(t,this.src,a,!!i,o),t.fa=n,e.push(t)),t};em="closure_lm_"+(1e6*Math.random()|0),Mg={};Lg="__closure_events_fn_"+(1e9*Math.random()>>>0);re(Jt,Cr);Jt.prototype[Va]=!0;Jt.prototype.removeEventListener=function(e,t,n,i){cS(this,e,t,n,i)};Jt.prototype.M=function(){if(Jt.Z.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],i=0;i<n.length;i++)Cl(n[i]);delete e.g[t],e.h--}}this.I=null};Jt.prototype.N=function(e,t,n,i){return this.i.add(String(e),t,!1,n,i)};Jt.prototype.O=function(e,t,n,i){return this.i.add(String(e),t,!0,n,i)};om=et.JSON.stringify;Yk=function(){function e(){this.h=this.g=null}return e.prototype.add=function(t,n){var i=hS.get();i.set(t,n),this.h?this.h.next=i:this.g=i,this.h=i},e}(),hS=new(function(){function e(t,n){this.i=t,this.j=n,this.h=0,this.g=null}return e.prototype.get=function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t},e}())(function(){return new Xk},function(e){return e.reset()}),Xk=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(t,n){this.h=t,this.g=n,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();Kg=!1,fS=new Yk;re(Al,Jt);U=Al.prototype;U.da=!1;U.S=null;U.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ne(this,"tick"),this.da&&(am(this),this.start()))}};U.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};U.M=function(){Al.Z.M.call(this),am(this),delete this.g};eP=function(e){Ok(t,e);function t(n,i){var o=e.call(this)||this;return o.m=n,o.j=i,o.h=null,o.i=!1,o.g=null,o}return t.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:dS(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(et.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(Cr);re(Ma,Cr);HE=[];Ma.prototype.M=function(){Ma.Z.M.call(this),gS(this)};Ma.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};Ol.prototype.Aa=function(){this.g=!1};Ol.prototype.info=function(){};wi={},KE=null;wi.Ma="serverreachability";re(mS,he);wi.STAT_EVENT="statevent";re(vS,he);wi.Na="timingevent";re(yS,he);Nl={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},wS={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};cm.prototype.h=null;Ba={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};re(lm,he);re(hm,he);re(Dl,cm);Dl.prototype.g=function(){return new XMLHttpRequest};Dl.prototype.i=function(){return{}};Gg=new Dl;sP=45e3,$g={},wl={};U=za.prototype;U.setTimeout=function(e){this.P=e};U.gb=function(e){e=e.target;var t=this.L;t&&Xn(e)==3?t.l():this.Ia(e)};U.Ia=function(e){try{if(e==this.g)t:{var t=Xn(this.g),n=this.g.Da(),i=this.g.ba();if(!(3>t)&&(t!=3||Vg||this.g&&(this.h.h||this.g.ga()||YE(this.g)))){this.I||t!=4||n==7||(n==8||0>=i?La(3):La(2)),xl(this);var o=this.g.ba();this.N=o;e:if(SS(this)){var a=YE(this.g);e="";var u=a.length,l=Xn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){gi(this),xa(this);var f="";break e}this.h.i=new et.TextDecoder}for(n=0;n<u;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:l&&n==u-1});a.splice(0,u),this.h.g+=e,this.C=0,f=this.h.g}else f=this.g.ga();if(this.i=o==200,rP(this.j,this.u,this.A,this.m,this.X,t,o),this.i){if(this.$&&!this.J){e:{if(this.g){var p,m=this.g;if((p=m.g?m.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!vl(p)){var y=p;break e}}y=null}if(o=y)Ao(this.j,this.m,o,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Qg(this,o);else{this.i=!1,this.o=3,Se(12),gi(this),xa(this);break t}}this.U?(TS(this,t,f),Vg&&this.i&&t==3&&(pS(this.V,this.W,"tick",this.fb),this.W.start())):(Ao(this.j,this.m,f,null),Qg(this,f)),t==4&&gi(this),this.i&&!this.I&&(t==4?KS(this.l,this):(this.i=!1,Ha(this)))}else o==400&&0<f.indexOf("Unknown SID")?(this.o=3,Se(12)):(this.o=0,Se(13)),gi(this),xa(this)}}}catch{}finally{}};U.fb=function(){if(this.g){var e=Xn(this.g),t=this.g.ga();this.C<t.length&&(xl(this),TS(this,e,t),this.i&&e!=4&&Ha(this))}};U.cancel=function(){this.I=!0,gi(this)};U.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(iP(this.j,this.A),this.K!=2&&(La(3),Se(17)),gi(this),this.o=2,xa(this)):CS(this,this.Y-e)};U=Ro.prototype;U.R=function(){dm(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e};U.T=function(){return dm(this),this.g.concat()};U.get=function(e,t){return vi(this.h,e)?this.h[e]:t};U.set=function(e,t){vi(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t};U.forEach=function(e,t){for(var n=this.T(),i=0;i<n.length;i++){var o=n[i],a=this.get(o);e.call(t,a,o,this)}};_S=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;yi.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Da(t,WE,!0),":");var n=this.i;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(Da(t,WE,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&e.push("/"),e.push(Da(n,n.charAt(0)=="/"?pP:dP,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Da(n,mP)),e.join("")};WE=/[#\/\?@]/g,dP=/[#\?:]/g,pP=/[#\?]/g,gP=/[#\?@]/g,mP=/#/g;U=Fa.prototype;U.add=function(e,t){_r(this),this.i=null,e=No(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};U.forEach=function(e,t){_r(this),this.g.forEach(function(n,i){tS(n,function(o){e.call(t,o,i,this)},this)},this)};U.T=function(){_r(this);for(var e=this.g.R(),t=this.g.T(),n=[],i=0;i<t.length;i++)for(var o=e[i],a=0;a<o.length;a++)n.push(t[i]);return n};U.R=function(e){_r(this);var t=[];if(typeof e=="string")OS(this,e)&&(t=qE(t,this.g.get(No(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=qE(t,e[n])}return t};U.set=function(e,t){return _r(this),this.i=null,e=No(this,e),OS(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};U.get=function(e,t){return e?(e=this.R(e),0<e.length?String(e[0]):t):t};U.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var i=t[n],o=encodeURIComponent(String(i));i=this.R(i);for(var a=0;a<i.length;a++){var u=o;i[a]!==""&&(u+="="+encodeURIComponent(String(i[a]))),e.push(u)}}return this.i=e.join("&")};yP=function(){function e(t,n){this.h=t,this.g=n}return e}();wP=10;NS.prototype.cancel=function(){var e,t;if(this.i=PS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){try{for(var n=JE(this.g.values()),i=n.next();!i.done;i=n.next()){var o=i.value;o.cancel()}}catch(a){e={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}};gm.prototype.stringify=function(e){return et.JSON.stringify(e,void 0)};gm.prototype.parse=function(e){return et.JSON.parse(e,void 0)};re(Ka,cm);Ka.prototype.g=function(){return new Pl(this.l,this.j)};Ka.prototype.i=function(e){return function(){return e}}({});re(Pl,Jt);mm=0;U=Pl.prototype;U.open=function(e,t){if(this.readyState!=mm)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Ua(this)};U.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||et).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))};U.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ga(this)),this.readyState=mm};U.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ua(this)),this.g&&(this.readyState=3,Ua(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof et.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;MS(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))};U.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ga(this):Ua(this),this.readyState==3&&MS(this)}};U.Ua=function(e){this.g&&(this.response=this.responseText=e,Ga(this))};U.Ta=function(e){this.g&&(this.response=e,Ga(this))};U.ha=function(){this.g&&Ga(this)};U.setRequestHeader=function(e,t){this.v.append(e,t)};U.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};U.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};Object.defineProperty(Pl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});SP=et.JSON.parse;re(Bt,Jt);LS="",TP=/^https?$/i,CP=["POST","PUT"];U=Bt.prototype;U.ea=function(e,t,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Gg.g(),this.C=this.u?GE(this.u):GE(Gg),this.g.onreadystatechange=ee(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){QE(this,a);return}e=n||"";var o=new Ro(this.headers);i&&fm(i,function(a,u){o.set(u,a)}),i=Lk(o.T()),n=et.FormData&&e instanceof et.FormData,!(0<=ZE(CP,t))||i||n||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(a,u){this.g.setRequestHeader(u,a)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{jS(this),0<this.B&&((this.K=_P(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ee(this.pa,this)):this.A=um(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){QE(this,a)}};U.pa=function(){typeof Xg<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ne(this,"timeout"),this.abort(8))};U.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,ne(this,"complete"),ne(this,"abort"),Ml(this))};U.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ml(this,!0)),Bt.Z.M.call(this)};U.Fa=function(){this.s||(this.F||this.v||this.l?US(this):this.cb())};U.cb=function(){US(this)};U.ba=function(){try{return 2<Xn(this)?this.g.status:-1}catch{return-1}};U.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};U.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),SP(t)}};U.Da=function(){return this.m};U.La=function(){return typeof this.j=="string"?this.j:String(this.j)};U=VS.prototype;U.ma=8;U.G=1;U.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch{}};U.Ha=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new za(this,this.h,e,void 0),n=this.s;if(this.P&&(n?(n=eS(n),nS(n,this.P)):n=this.P),this.o===null&&(t.H=n),this.ja)t:{for(var i=0,o=0;o<this.l.length;o++){e:{var a=this.l[o];if("__data__"in a.g&&(a=a.g.__data__,typeof a=="string")){a=a.length;break e}a=void 0}if(a===void 0)break;if(i+=a,4096<i){i=o;break t}if(i===4096||o===this.l.length-1){i=o+1;break t}}i=1e3}else i=1e3;i=BS(this,t,i),o=Jn(this.F),Nt(o,"RID",e),Nt(o,"CVER",22),this.D&&Nt(o,"X-HTTP-Session-Id",this.D),$a(this,o),this.o&&n&&vm(o,this.o,n),pm(this.i,t),this.Ra&&Nt(o,"TYPE","init"),this.ja?(Nt(o,"$req",i),Nt(o,"SID","null"),t.$=!0,Wg(t,o,null)):Wg(t,o,i),this.G=2}}else this.G==3&&(e?XE(this,e):this.l.length==0||DS(this.i)||XE(this))};U.Ga=function(){if(this.u=null,HS(this),this.$&&!(this.L||this.g==null||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=qa(ee(this.bb,this),e)}};U.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Se(10),Ll(this),HS(this))};U.ab=function(){this.v!=null&&(this.v=null,Ll(this),wm(this),Se(19))};U.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Se(2)):(this.h.info("Failed to ping google.com"),Se(1))};U=YS.prototype;U.xa=function(){};U.wa=function(){};U.va=function(){};U.ua=function(){};U.Oa=function(){};Tl.prototype.g=function(e,t){return new We(e,t)};re(We,Jt);We.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),sm(ee(e.hb,e,t))),Se(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=WS(e,null,e.W),Fl(e)};We.prototype.close=function(){ym(this.g)};We.prototype.u=function(e){if(typeof e=="string"){var t={};t.__data__=e,Fg(this.g,t)}else this.v?(t={},t.__data__=om(e),Fg(this.g,t)):Fg(this.g,e)};We.prototype.M=function(){this.g.j=null,delete this.j,ym(this.g),delete this.g,We.Z.M.call(this)};re(XS,lm);re(JS,hm);re(Do,YS);Do.prototype.xa=function(){ne(this.g,"a")};Do.prototype.wa=function(e){ne(this.g,new XS(e))};Do.prototype.va=function(e){ne(this.g,new JS(e))};Do.prototype.ua=function(){ne(this.g,"b")};Tl.prototype.createWebChannel=Tl.prototype.g;We.prototype.send=We.prototype.u;We.prototype.open=We.prototype.m;We.prototype.close=We.prototype.close;Nl.NO_ERROR=0;Nl.TIMEOUT=8;Nl.HTTP_ERROR=6;wS.COMPLETE="complete";bS.EventType=Ba;Ba.OPEN="a";Ba.CLOSE="b";Ba.ERROR="c";Ba.MESSAGE="d";Jt.prototype.listen=Jt.prototype.N;Bt.prototype.listenOnce=Bt.prototype.O;Bt.prototype.getLastError=Bt.prototype.La;Bt.prototype.getLastErrorCode=Bt.prototype.Da;Bt.prototype.getStatus=Bt.prototype.ba;Bt.prototype.getResponseJson=Bt.prototype.Qa;Bt.prototype.getResponseText=Bt.prototype.ga;Bt.prototype.send=Bt.prototype.ea;ZS=function(){return new Tl},tT=function(){return Rl()},Ul=Nl,eT=wS,nT=wi,Im={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},rT=Ka,Wa=bS,iT=Bt});function Am(){return Sn.logLevel}function P(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Sn.logLevel<=dt.DEBUG){var i=t.map(qm);Sn.debug.apply(Sn,Rt(["Firestore (8.10.1): "+e],i))}}function Kt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Sn.logLevel<=dt.ERROR){var i=t.map(qm);Sn.error.apply(Sn,Rt(["Firestore (8.10.1): "+e],i))}}function Ql(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Sn.logLevel<=dt.WARN){var i=t.map(qm);Sn.warn.apply(Sn,Rt(["Firestore (8.10.1): "+e],i))}}function qm(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}var t}function z(e){e===void 0&&(e="Unexpected state");var t="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+e;throw Kt(t),new Error(t)}function Y(e,t){e||z()}function L(e,t){return e}function NP(e){var t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(var i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}function lt(e,t){return e<t?-1:e>t?1:0}function Uo(e,t,n){return e.length===t.length&&e.every(function(i,o){return n(i,t[o])})}function p1(e){return e+"\0"}function oT(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ri(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function g1(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Fr(e){if(Y(!!e),typeof e=="string"){var t=0,n=xP.exec(e);if(Y(!!n),n[1]){var i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}var o=new Date(e);return{seconds:Math.floor(o.getTime()/1e3),nanos:t}}return{seconds:Ht(e.seconds),nanos:Ht(e.nanos)}}function Ht(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Vo(e){return typeof e=="string"?_e.fromBase64String(e):_e.fromUint8Array(e)}function Bm(e){var t,n;return((n=(((t=e?.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function v1(e){var t=e.mapValue.fields.__previous_value__;return Bm(t)?v1(t):t}function tu(e){var t=Fr(e.mapValue.fields.__local_write_time__.timestampValue);return new Ce(t.seconds,t.nanos)}function Ni(e){return e==null}function Yl(e){return e===0&&1/e==-1/0}function y1(e){return typeof e=="number"&&Number.isInteger(e)&&!Yl(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function Ci(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Bm(e)?4:10:z()}function Bn(e,t){var n=Ci(e);if(n!==Ci(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return tu(e).isEqual(tu(t));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;var a=Fr(i.timestampValue),u=Fr(o.timestampValue);return a.seconds===u.seconds&&a.nanos===u.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,o){return Vo(i.bytesValue).isEqual(Vo(o.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,o){return Ht(i.geoPointValue.latitude)===Ht(o.geoPointValue.latitude)&&Ht(i.geoPointValue.longitude)===Ht(o.geoPointValue.longitude)}(e,t);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ht(i.integerValue)===Ht(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){var a=Ht(i.doubleValue),u=Ht(o.doubleValue);return a===u?Yl(a)===Yl(u):isNaN(a)&&isNaN(u)}return!1}(e,t);case 9:return Uo(e.arrayValue.values||[],t.arrayValue.values||[],Bn);case 10:return function(i,o){var a=i.mapValue.fields||{},u=o.mapValue.fields||{};if(oT(a)!==oT(u))return!1;for(var l in a)if(a.hasOwnProperty(l)&&(u[l]===void 0||!Bn(a[l],u[l])))return!1;return!0}(e,t);default:return z()}}function eu(e,t){return(e.values||[]).find(function(n){return Bn(n,t)})!==void 0}function qo(e,t){var n=Ci(e),i=Ci(t);if(n!==i)return lt(n,i);switch(n){case 0:return 0;case 1:return lt(e.booleanValue,t.booleanValue);case 2:return function(o,a){var u=Ht(o.integerValue||o.doubleValue),l=Ht(a.integerValue||a.doubleValue);return u<l?-1:u>l?1:u===l?0:isNaN(u)?isNaN(l)?0:-1:1}(e,t);case 3:return sT(e.timestampValue,t.timestampValue);case 4:return sT(tu(e),tu(t));case 5:return lt(e.stringValue,t.stringValue);case 6:return function(o,a){var u=Vo(o),l=Vo(a);return u.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(o,a){for(var u=o.split("/"),l=a.split("/"),f=0;f<u.length&&f<l.length;f++){var p=lt(u[f],l[f]);if(p!==0)return p}return lt(u.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(o,a){var u=lt(Ht(o.latitude),Ht(a.latitude));return u!==0?u:lt(Ht(o.longitude),Ht(a.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(o,a){for(var u=o.values||[],l=a.values||[],f=0;f<u.length&&f<l.length;++f){var p=qo(u[f],l[f]);if(p)return p}return lt(u.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(o,a){var u=o.fields||{},l=Object.keys(u),f=a.fields||{},p=Object.keys(f);l.sort(),p.sort();for(var m=0;m<l.length&&m<p.length;++m){var y=lt(l[m],p[m]);if(y!==0)return y;var w=qo(u[l[m]],f[p[m]]);if(w!==0)return w}return lt(l.length,p.length)}(e.mapValue,t.mapValue);default:throw z()}}function sT(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return lt(e,t);var n=Fr(e),i=Fr(t),o=lt(n.seconds,i.seconds);return o!==0?o:lt(n.nanos,i.nanos)}function zm(e){return Om(e)}function Om(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(i){var o=Fr(i);return"time("+o.seconds+","+o.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Vo(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,H.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(i){for(var o="[",a=!0,u=0,l=i.values||[];u<l.length;u++)a?a=!1:o+=",",o+=Om(l[u]);return o+"]"}(e.arrayValue):"mapValue"in e?function(i){for(var o="{",a=!0,u=0,l=Object.keys(i.fields||{}).sort();u<l.length;u++){var f=l[u];a?a=!1:o+=",",o+=f+":"+Om(i.fields[f])}return o+"}"}(e.mapValue):z();var t,n}function Xl(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function Rm(e){return!!e&&"integerValue"in e}function Hm(e){return!!e&&"arrayValue"in e}function aT(e){return!!e&&"nullValue"in e}function uT(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function zl(e){return!!e&&"mapValue"in e}function Xa(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Ri(e.mapValue.fields,function(o,a){return t.mapValue.fields[o]=Xa(a)}),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},i=0;i<(e.arrayValue.values||[]).length;++i)n.arrayValue.values[i]=Xa(e.arrayValue.values[i]);return n}return Object.assign({},e)}function w1(e){var t=[];return Ri(e.fields,function(n,i){var o=new Cn([n]);if(zl(i)){var a=w1(i.mapValue).fields;if(a.length===0)t.push(o);else for(var u=0,l=a;u<l.length;u++){var f=l[u];t.push(o.child(f))}}else t.push(o)}),new jo(t)}function cT(e,t,n,i,o,a,u){return t===void 0&&(t=null),n===void 0&&(n=[]),i===void 0&&(i=[]),o===void 0&&(o=null),a===void 0&&(a=null),u===void 0&&(u=null),new kP(e,t,n,i,o,a,u)}function lu(e){var t=L(e);if(t.h===null){var n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(i){return function(o){return o.field.canonicalString()+o.op.toString()+zm(o.value)}(i)}).join(","),n+="|ob:",n+=t.orderBy.map(function(i){return function(o){return o.field.canonicalString()+o.dir}(i)}).join(","),Ni(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Zl(t.startAt)),t.endAt&&(n+="|ub:",n+=Zl(t.endAt)),t.h=n}return t.h}function hh(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!qP(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var i=0;i<e.filters.length;i++)if(o=e.filters[i],a=t.filters[i],o.op!==a.op||!o.field.isEqual(a.field)||!Bn(o.value,a.value))return!1;var o,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!hT(e.startAt,t.startAt)&&hT(e.endAt,t.endAt)}function Jl(e){return H.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}function b1(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(i){return H.fromName(i.referenceValue)})}function Zl(e){return(e.before?"b":"a")+":"+e.position.map(function(t){return zm(t)}).join(",")}function qP(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function lT(e,t,n){for(var i=0,o=0;o<e.position.length;o++){var a=t[o],u=e.position[o];if(i=a.field.isKeyField()?H.comparator(H.fromName(u.referenceValue),n.key):qo(u,n.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return e.before?i<=0:i<0}function hT(e,t){if(e===null)return t===null;if(t===null||e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Bn(e.position[n],t.position[n]))return!1;return!0}function I1(e,t,n,i,o,a,u,l){return new nr(e,t,n,i,o,a,u,l)}function rs(e){return new nr(e)}function Hl(e){return!Ni(e.limit)&&e.limitType==="F"}function th(e){return!Ni(e.limit)&&e.limitType==="L"}function Km(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Gm(e){for(var t=0,n=e.filters;t<n.length;t++){var i=n[t];if(i.g())return i.field}return null}function $m(e){return e.collectionGroup!==null}function Bo(e){var t=L(e);if(t.p===null){t.p=[];var n=Gm(t),i=Km(t);if(n!==null&&i===null)n.isKeyField()||t.p.push(new Fo(n)),t.p.push(new Fo(Cn.keyField(),"asc"));else{for(var o=!1,a=0,u=t.explicitOrderBy;a<u.length;a++){var l=u[a];t.p.push(l),l.field.isKeyField()&&(o=!0)}if(!o){var f=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new Fo(Cn.keyField(),f))}}}return t.p}function ln(e){var t=L(e);if(!t.T)if(t.limitType==="F")t.T=cT(t.path,t.collectionGroup,Bo(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],i=0,o=Bo(t);i<o.length;i++){var a=o[i],u=a.dir==="desc"?"asc":"desc";n.push(new Fo(a.field,u))}var l=t.endAt?new nu(t.endAt.position,!t.endAt.before):null,f=t.startAt?new nu(t.startAt.position,!t.startAt.before):null;t.T=cT(t.path,t.collectionGroup,n,t.filters,t.limit,l,f)}return t.T}function E1(e,t,n){return new nr(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function hu(e,t){return hh(ln(e),ln(t))&&e.limitType===t.limitType}function S1(e){return lu(ln(e))+"|lt:"+e.limitType}function Nm(e){return"Query(target="+function(t){var n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=", filters: ["+t.filters.map(function(i){return(o=i).field.canonicalString()+" "+o.op+" "+zm(o.value);var o}).join(", ")+"]"),Ni(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=", orderBy: ["+t.orderBy.map(function(i){return function(o){return o.field.canonicalString()+" ("+o.dir+")"}(i)}).join(", ")+"]"),t.startAt&&(n+=", startAt: "+Zl(t.startAt)),t.endAt&&(n+=", endAt: "+Zl(t.endAt)),"Target("+n+")"}(ln(e))+"; limitType="+e.limitType+")"}function fu(e,t){return t.isFoundDocument()&&function(n,i){var o=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):H.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(e,t)&&function(n,i){for(var o=0,a=n.explicitOrderBy;o<a.length;o++){var u=a[o];if(!u.field.isKeyField()&&i.data.field(u.field)===null)return!1}return!0}(e,t)&&function(n,i){for(var o=0,a=n.filters;o<a.length;o++)if(!a[o].matches(i))return!1;return!0}(e,t)&&function(n,i){return!(n.startAt&&!lT(n.startAt,Bo(n),i))&&(!n.endAt||!lT(n.endAt,Bo(n),i))}(e,t)}function T1(e){return function(t,n){for(var i=!1,o=0,a=Bo(e);o<a.length;o++){var u=a[o],l=BP(u,t,n);if(l!==0)return l;i=i||u.field.isKeyField()}return 0}}function BP(e,t,n){var i=e.field.isKeyField()?H.comparator(t.key,n.key):function(o,a,u){var l=a.data.field(o),f=u.data.field(o);return l!==null&&f!==null?qo(l,f):z()}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return z()}}function C1(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yl(t)?"-0":t}}function _1(e){return{integerValue:""+e}}function A1(e,t){return y1(t)?_1(t):C1(e,t)}function zP(e,t,n){return e instanceof zo?function(i,o){var a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&(a.fields.__previous_value__=o),{mapValue:a}}(n,t):e instanceof _i?R1(e,t):e instanceof Ai?N1(e,t):function(i,o){var a=O1(i,o),u=fT(a)+fT(i.A);return Rm(a)&&Rm(i.A)?_1(u):C1(i.R,u)}(e,t)}function HP(e,t,n){return e instanceof _i?R1(e,t):e instanceof Ai?N1(e,t):n}function O1(e,t){return e instanceof Ho?Rm(n=t)||function(i){return!!i&&"doubleValue"in i}(n)?t:{integerValue:0}:null;var n}function R1(e,t){for(var n=D1(t),i=function(u){n.some(function(l){return Bn(l,u)})||n.push(u)},o=0,a=e.elements;o<a.length;o++)i(a[o]);return{arrayValue:{values:n}}}function N1(e,t){for(var n=D1(t),i=function(u){n=n.filter(function(l){return!Bn(l,u)})},o=0,a=e.elements;o<a.length;o++)i(a[o]);return{arrayValue:{values:n}}}function fT(e){return Ht(e.integerValue||e.doubleValue)}function D1(e){return Hm(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function Kl(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}function GP(e,t,n){e instanceof pu?function(i,o,a){var u=i.value.clone(),l=gT(i.fieldTransforms,o,a.transformResults);u.setAll(l),o.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(e,t,n):e instanceof jr?function(i,o,a){if(Kl(i.precondition,o)){var u=gT(i.fieldTransforms,o,a.transformResults),l=o.data;l.setAll(x1(i)),l.setAll(u),o.convertToFoundDocument(a.version,l).setHasCommittedMutations()}else o.convertToUnknownDocument(a.version)}(e,t,n):function(i,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()}(0,t,n)}function Dm(e,t,n){e instanceof pu?function(i,o,a){if(Kl(i.precondition,o)){var u=i.value.clone(),l=mT(i.fieldTransforms,a,o);u.setAll(l),o.convertToFoundDocument(pT(o),u).setHasLocalMutations()}}(e,t,n):e instanceof jr?function(i,o,a){if(Kl(i.precondition,o)){var u=mT(i.fieldTransforms,a,o),l=o.data;l.setAll(x1(i)),l.setAll(u),o.convertToFoundDocument(pT(o),l).setHasLocalMutations()}}(e,t,n):function(i,o){Kl(i.precondition,o)&&o.convertToNoDocument(st.min())}(e,t)}function $P(e,t){for(var n=null,i=0,o=e.fieldTransforms;i<o.length;i++){var a=o[i],u=t.data.field(a.field),l=O1(a.transform,u||null);l!=null&&(n==null&&(n=Xe.empty()),n.set(a.field,l))}return n||null}function dT(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Uo(n,i,function(o,a){return function(u,l){return u.field.isEqual(l.field)&&function(f,p){return f instanceof _i&&p instanceof _i||f instanceof Ai&&p instanceof Ai?Uo(f.elements,p.elements,Bn):f instanceof Ho&&p instanceof Ho?Bn(f.A,p.A):f instanceof zo&&p instanceof zo}(u.transform,l.transform)}(o,a)})}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function pT(e){return e.isFoundDocument()?e.version:st.min()}function x1(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var i=e.data.field(n);t.set(n,i)}}),t}function gT(e,t,n){var i=new Map;Y(e.length===n.length);for(var o=0;o<n.length;o++){var a=e[o],u=a.transform,l=t.data.field(a.field);i.set(a.field,HP(u,l,n[o]))}return i}function mT(e,t,n){for(var i=new Map,o=0,a=e;o<a.length;o++){var u=a[o],l=u.transform,f=n.data.field(u.field);i.set(u.field,zP(l,f,t))}return i}function k1(e){switch(e){case C.OK:return z();case C.CANCELLED:case C.UNKNOWN:case C.DEADLINE_EXCEEDED:case C.RESOURCE_EXHAUSTED:case C.INTERNAL:case C.UNAVAILABLE:case C.UNAUTHENTICATED:return!1;case C.INVALID_ARGUMENT:case C.NOT_FOUND:case C.ALREADY_EXISTS:case C.PERMISSION_DENIED:case C.FAILED_PRECONDITION:case C.ABORTED:case C.OUT_OF_RANGE:case C.UNIMPLEMENTED:case C.DATA_LOSS:return!0;default:return z()}}function P1(e){if(e===void 0)return Kt("GRPC error has no .code"),C.UNKNOWN;switch(e){case zt.OK:return C.OK;case zt.CANCELLED:return C.CANCELLED;case zt.UNKNOWN:return C.UNKNOWN;case zt.DEADLINE_EXCEEDED:return C.DEADLINE_EXCEEDED;case zt.RESOURCE_EXHAUSTED:return C.RESOURCE_EXHAUSTED;case zt.INTERNAL:return C.INTERNAL;case zt.UNAVAILABLE:return C.UNAVAILABLE;case zt.UNAUTHENTICATED:return C.UNAUTHENTICATED;case zt.INVALID_ARGUMENT:return C.INVALID_ARGUMENT;case zt.NOT_FOUND:return C.NOT_FOUND;case zt.ALREADY_EXISTS:return C.ALREADY_EXISTS;case zt.PERMISSION_DENIED:return C.PERMISSION_DENIED;case zt.FAILED_PRECONDITION:return C.FAILED_PRECONDITION;case zt.ABORTED:return C.ABORTED;case zt.OUT_OF_RANGE:return C.OUT_OF_RANGE;case zt.UNIMPLEMENTED:return C.UNIMPLEMENTED;case zt.DATA_LOSS:return C.DATA_LOSS;default:return z()}}function cn(){return QP}function xm(){return YP}function M1(){return XP}function wt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=JP,i=0,o=e;i<o.length;i++){var a=o[i];n=n.add(a)}return n}function ph(){return ZP}function wT(){return new me(H.comparator)}function bT(){return new me(H.comparator)}function ru(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function U1(e,t){return e.I?t.toBase64():t.toUint8Array()}function iM(e,t){return ru(e,t.toTimestamp())}function oe(e){return Y(!!e),st.fromTimestamp(function(t){var n=Fr(t);return new Ce(n.seconds,n.nanos)}(e))}function Xm(e,t){return function(n){return new pt(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function j1(e){var t=pt.fromString(e);return Y($1(t)),t}function iu(e,t){return Xm(e.databaseId,t.path)}function Vn(e,t){var n=j1(t);if(n.get(1)!==e.databaseId.projectId)throw new D(C.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new D(C.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new H(q1(n))}function km(e,t){return Xm(e.databaseId,t)}function V1(e){var t=j1(e);return t.length===4?pt.emptyPath():q1(t)}function ou(e){return new pt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function q1(e){return Y(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function IT(e,t,n){return{name:iu(e,t),fields:n.value.mapValue.fields}}function B1(e,t,n){var i=Vn(e,t.name),o=oe(t.updateTime),a=new Xe({mapValue:{fields:t.fields}}),u=ae.newFoundDocument(i,o,a);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function eh(e,t){var n;if(t instanceof pu)n={update:IT(e,t.key,t.value)};else if(t instanceof gu)n={delete:iu(e,t.key)};else if(t instanceof jr)n={update:IT(e,t.key,t.data),updateMask:cM(t.fieldMask)};else{if(!(t instanceof Wm))return z();n={verify:iu(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(i){return function(o,a){var u=a.transform;if(u instanceof zo)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof _i)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Ai)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Ho)return{fieldPath:a.field.canonicalString(),increment:u.A};throw z()}(0,i)})),t.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:iM(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:z()}(e,t.precondition)),n}function ET(e,t){var n=t.currentDocument?function(p){return p.updateTime!==void 0?pe.updateTime(oe(p.updateTime)):p.exists!==void 0?pe.exists(p.exists):pe.none()}(t.currentDocument):pe.none(),i=t.updateTransforms?t.updateTransforms.map(function(p){return function(m,y){var w=null;if("setToServerValue"in y)Y(y.setToServerValue==="REQUEST_TIME"),w=new zo;else if("appendMissingElements"in y){var I=y.appendMissingElements.values||[];w=new _i(I)}else if("removeAllFromArray"in y){var E=y.removeAllFromArray.values||[];w=new Ai(E)}else"increment"in y?w=new Ho(m,y.increment):z();var T=Cn.fromServerFormat(y.fieldPath);return new du(T,w)}(e,p)}):[];if(t.update){t.update.name;var o=Vn(e,t.update.name),a=new Xe({mapValue:{fields:t.update.fields}});if(t.updateMask){var u=function(p){var m=p.fieldPaths||[];return new jo(m.map(function(y){return Cn.fromServerFormat(y)}))}(t.updateMask);return new jr(o,a,u,n,i)}return new pu(o,a,n,i)}if(t.delete){var l=Vn(e,t.delete);return new gu(l,n)}if(t.verify){var f=Vn(e,t.verify);return new Wm(f,n)}return z()}function z1(e,t){return{documents:[km(e,t.path)]}}function H1(e,t){var n={structuredQuery:{}},i=t.path;t.collectionGroup!==null?(n.parent=km(e,i),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=km(e,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);var o=function(l){if(l.length!==0){var f=l.map(function(p){return function(m){if(m.op==="=="){if(uT(m.value))return{unaryFilter:{field:xo(m.field),op:"IS_NAN"}};if(aT(m.value))return{unaryFilter:{field:xo(m.field),op:"IS_NULL"}}}else if(m.op==="!="){if(uT(m.value))return{unaryFilter:{field:xo(m.field),op:"IS_NOT_NAN"}};if(aT(m.value))return{unaryFilter:{field:xo(m.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xo(m.field),op:sM(m.op),value:m.value}}}(p)});return f.length===1?f[0]:{compositeFilter:{op:"AND",filters:f}}}}(t.filters);o&&(n.structuredQuery.where=o);var a=function(l){if(l.length!==0)return l.map(function(f){return function(p){return{field:xo(p.field),direction:oM(p.dir)}}(f)})}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var u=function(l,f){return l.I||Ni(f)?f:{value:f}}(e,t.limit);return u!==null&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt=ST(t.startAt)),t.endAt&&(n.structuredQuery.endAt=ST(t.endAt)),n}function K1(e){var t=V1(e.parent),n=e.structuredQuery,i=n.from?n.from.length:0,o=null;if(i>0){Y(i===1);var a=n.from[0];a.allDescendants?o=a.collectionId:t=t.child(a.collectionId)}var u=[];n.where&&(u=G1(n.where));var l=[];n.orderBy&&(l=n.orderBy.map(function(y){return function(w){return new Fo(Lo(w.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(y)}));var f=null;n.limit&&(f=function(y){var w;return Ni(w=typeof y=="object"?y.value:y)?null:w}(n.limit));var p=null;n.startAt&&(p=TT(n.startAt));var m=null;return n.endAt&&(m=TT(n.endAt)),I1(t,o,l,u,f,"F",p,m)}function G1(e){return e?e.unaryFilter!==void 0?[uM(e)]:e.fieldFilter!==void 0?[aM(e)]:e.compositeFilter!==void 0?e.compositeFilter.filters.map(function(t){return G1(t)}).reduce(function(t,n){return t.concat(n)}):z():[]}function ST(e){return{before:e.before,values:e.position}}function TT(e){var t=!!e.before,n=e.values||[];return new nu(n,t)}function oM(e){return eM[e]}function sM(e){return nM[e]}function xo(e){return{fieldPath:e.canonicalString()}}function Lo(e){return Cn.fromServerFormat(e.fieldPath)}function aM(e){return Ze.create(Lo(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return z()}}(e.fieldFilter.op),e.fieldFilter.value)}function uM(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Lo(e.unaryFilter.field);return Ze.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Lo(e.unaryFilter.field);return Ze.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var i=Lo(e.unaryFilter.field);return Ze.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var o=Lo(e.unaryFilter.field);return Ze.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return z()}}function cM(e){var t=[];return e.fields.forEach(function(n){return t.push(n.canonicalString())}),{fieldPaths:t}}function $1(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}function Tn(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=CT(t)),t=lM(e.get(n),t);return CT(t)}function lM(e,t){for(var n=t,i=e.length,o=0;o<i;o++){var a=e.charAt(o);switch(a){case"\0":n+="";break;case"":n+="";break;default:n+=a}}return n}function CT(e){return e+""}function Zn(e){var t=e.length;if(Y(t>=2),t===2)return Y(e.charAt(0)===""&&e.charAt(1)===""),pt.emptyPath();for(var n=t-2,i=[],o="",a=0;a<t;){var u=e.indexOf("",a);switch((u<0||u>n)&&z(),e.charAt(u+1)){case"":var l=e.substring(a,u),f=void 0;o.length===0?f=l:(f=o+=l,o=""),i.push(f);break;case"":o+=e.substring(a,u),o+="\0";break;case"":o+=e.substring(a,u+1);break;default:z()}a=u+2}return new pt(i)}function Di(e){return e.name==="IndexedDbTransactionError"}function bi(e){return new k(function(t,n){e.onsuccess=function(i){var o=i.target.result;t(o)},e.onerror=function(i){var o=Jm(i.target.error);n(o)}})}function Jm(e){var t=$o._t(Er());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var i=new D("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return _T||(_T=!0,setTimeout(function(){throw i},0)),i}}return e}function Le(e,t){var n=L(e);return $o.It(n.Mt,t)}function Pm(e,t){if(t.document)return B1(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=H.fromSegments(t.noDocument.path),i=Qo(t.noDocument.readTime),o=ae.newNoDocument(n,i);return t.hasCommittedMutations?o.setHasCommittedMutations():o}if(t.unknownDocument){var a=H.fromSegments(t.unknownDocument.path);return i=Qo(t.unknownDocument.version),ae.newUnknownDocument(a,i)}return z()}function OT(e,t,n){var i=tv(n),o=t.key.path.popLast().toArray();if(t.isFoundDocument()){var a=function(y,w){return{name:iu(y,w.key),fields:w.data.value.mapValue.fields,updateTime:ru(y,w.version.toTimestamp())}}(e.Lt,t),u=t.hasCommittedMutations;return new Mt(null,null,a,u,i,o)}if(t.isNoDocument()){var l=t.key.path.toArray(),f=Wo(t.version);return u=t.hasCommittedMutations,new Mt(null,new fM(l,f),null,u,i,o)}if(t.isUnknownDocument()){var p=t.key.path.toArray(),m=Wo(t.version);return new Mt(new dM(p,m),null,null,!0,i,o)}return z()}function tv(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function J1(e){var t=new Ce(e[0],e[1]);return st.fromTimestamp(t)}function Wo(e){var t=e.toTimestamp();return new hM(t.seconds,t.nanoseconds)}function Qo(e){var t=new Ce(e.seconds,e.nanoseconds);return st.fromTimestamp(t)}function Po(e,t){for(var n=(t.baseMutations||[]).map(function(f){return ET(e.Lt,f)}),i=0;i<t.mutations.length-1;++i){var o=t.mutations[i];if(i+1<t.mutations.length&&t.mutations[i+1].transform!==void 0){var a=t.mutations[i+1];o.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(i+1,1),++i}}var u=t.mutations.map(function(f){return ET(e.Lt,f)}),l=Ce.fromMillis(t.localWriteTimeMs);return new Zm(t.batchId,l,n,u)}function Ya(e){var t,n,i=Qo(e.readTime),o=e.lastLimboFreeSnapshotVersion!==void 0?Qo(e.lastLimboFreeSnapshotVersion):st.min();return e.query.documents!==void 0?(Y((n=e.query).documents.length===1),t=ln(rs(V1(n.documents[0])))):t=function(a){return ln(K1(a))}(e.query),new gh(t,e.targetId,0,e.lastListenSequenceNumber,i,o,_e.fromBase64String(e.resumeToken))}function Z1(e,t){var n,i=Wo(t.snapshotVersion),o=Wo(t.lastLimboFreeSnapshotVersion);n=Jl(t.target)?z1(e.Lt,t.target):H1(e.Lt,t.target);var a=t.resumeToken.toBase64();return new Me(t.targetId,lu(t.target),i,a,t.sequenceNumber,o,n)}function ev(e){var t=K1({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?E1(t,t.limit,"L"):t}function RT(e){return Le(e,Ko.store)}function NT(e){return Le(e,Go.store)}function DT(e){return Le(e,Si.store)}function tC(e,t,n){var i=e.store(Ct.store),o=e.store(fe.store),a=[],u=IDBKeyRange.only(n.batchId),l=0,f=i.$t({range:u},function(E,T,A){return l++,A.delete()});a.push(f.next(function(){Y(l===1)}));for(var p=[],m=0,y=n.mutations;m<y.length;m++){var w=y[m],I=fe.key(t,w.key.path,n.batchId);a.push(o.delete(I)),p.push(w.key)}return k.waitFor(a).next(function(){return p})}function nh(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw z();t=e.noDocument}return JSON.stringify(t).length}function eC(e,t,n){var i=fe.prefixForPath(t,n.path),o=i[1],a=IDBKeyRange.lowerBound(i),u=!1;return Mo(e).$t({range:a,Ft:!0},function(l,f,p){var m=l[0],y=l[1];l[2],m===t&&y===o&&(u=!0),p.done()}).next(function(){return u})}function Ar(e){return Le(e,Ct.store)}function Mo(e){return Le(e,fe.store)}function nC(e){return Le(e,Pr.store)}function ko(e){return Le(e,Me.store)}function kT(e){return Le(e,Ye.store)}function Dr(e){return Le(e,se.store)}function xi(e){return R(this,void 0,void 0,function(){return O(this,function(t){if(e.code!==C.FAILED_PRECONDITION||e.message!==W1)throw e;return P("LocalStore","Unexpectedly lost primary lease"),[2]})})}function PT(e,t){var n=e[0],i=e[1],o=t[0],a=t[1],u=lt(n,o);return u===0?lt(i,a):u}function Vl(e,t){return Dr(e).put(function(n,i){return new se(0,Tn(n.path),i)}(t,e.currentSequenceNumber))}function MT(e){return Le(e,jn.store)}function Rr(e){return Le(e,Mt.store)}function ql(e){return e.path.toArray()}function LT(e){e.createObjectStore(se.store,{keyPath:se.keyPath}).createIndex(se.documentTargetsIndex,se.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Me.store,{keyPath:Me.keyPath}).createIndex(Me.queryTargetsIndexName,Me.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Ye.store)}function Qa(e){return Le(e,Qe.store)}function Bl(e){return Le(e,tr.store)}function rv(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}function sC(e,t,n,i){return new kM(e,t,n,i)}function aC(e,t){return R(this,void 0,void 0,function(){var n,i,o,a;return O(this,function(u){switch(u.label){case 0:return n=L(e),i=n._n,o=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(l){var f;return n._n.getAllMutationBatches(l).next(function(p){return f=p,i=n.persistence.getMutationQueue(t),o=new iC(n.On,i,n.persistence.getIndexManager()),i.getAllMutationBatches(l)}).next(function(p){for(var m=[],y=[],w=wt(),I=0,E=f;I<E.length;I++){var T=E[I];m.push(T.batchId);for(var A=0,x=T.mutations;A<x.length;A++){var F=x[A];w=w.add(F.key)}}for(var j=0,nt=p;j<nt.length;j++){var ut=nt[j];y.push(ut.batchId);for(var M=0,_t=ut.mutations;M<_t.length;M++){var cs=_t[M];w=w.add(cs.key)}}return o.pn(l,w).next(function(X){return{Ln:X,removedBatchIds:m,addedBatchIds:y}})})})];case 1:return a=u.sent(),[2,(n._n=i,n.Mn=o,n.xn.Vn(n.Mn),a)]}})})}function PM(e,t){var n=L(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(i){var o=t.batch.keys(),a=n.On.newChangeBuffer({trackRemovals:!0});return function(u,l,f,p){var m=f.batch,y=m.keys(),w=k.resolve();return y.forEach(function(I){w=w.next(function(){return p.getEntry(l,I)}).next(function(E){var T=f.docVersions.get(I);Y(T!==null),E.version.compareTo(T)<0&&(m.applyToRemoteDocument(E,f),E.isValidDocument()&&p.addEntry(E,f.commitVersion))})}),w.next(function(){return u._n.removeMutationBatch(l,m)})}(n,i,t,a).next(function(){return a.apply(i)}).next(function(){return n._n.performConsistencyCheck(i)}).next(function(){return n.Mn.pn(i,o)})})}function uC(e){var t=L(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return t.qe.getLastRemoteSnapshotVersion(n)})}function MM(e,t){var n=L(e),i=t.snapshotVersion,o=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(a){var u=n.On.newChangeBuffer({trackRemovals:!0});o=n.kn;var l=[];t.targetChanges.forEach(function(m,y){var w=o.get(y);if(w){l.push(n.qe.removeMatchingKeys(a,m.removedDocuments,y).next(function(){return n.qe.addMatchingKeys(a,m.addedDocuments,y)}));var I=m.resumeToken;if(I.approximateByteSize()>0){var E=w.withResumeToken(I,i).withSequenceNumber(a.currentSequenceNumber);o=o.insert(y,E),function(T,A,x){return Y(A.resumeToken.approximateByteSize()>0),T.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=3e8||x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(w,E,m)&&l.push(n.qe.updateTargetData(a,E))}}});var f=cn();if(t.documentUpdates.forEach(function(m,y){t.resolvedLimboDocuments.has(m)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(a,m))}),l.push(cC(a,u,t.documentUpdates,i,void 0).next(function(m){f=m})),!i.isEqual(st.min())){var p=n.qe.getLastRemoteSnapshotVersion(a).next(function(m){return n.qe.setTargetsMetadata(a,a.currentSequenceNumber,i)});l.push(p)}return k.waitFor(l).next(function(){return u.apply(a)}).next(function(){return n.Mn.En(a,f)}).next(function(){return f})}).then(function(a){return n.kn=o,a})}function cC(e,t,n,i,o){var a=wt();return n.forEach(function(u){return a=a.add(u)}),t.getEntries(e,a).next(function(u){var l=cn();return n.forEach(function(f,p){var m=u.get(f),y=o?.get(f)||i;p.isNoDocument()&&p.version.isEqual(st.min())?(t.removeEntry(f,y),l=l.insert(f,p)):!m.isValidDocument()||p.version.compareTo(m.version)>0||p.version.compareTo(m.version)===0&&m.hasPendingWrites?(t.addEntry(p,y),l=l.insert(f,p)):P("LocalStore","Ignoring outdated watch update for ",f,". Current version:",m.version," Watch version:",p.version)}),l})}function LM(e,t){var n=L(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(i){return t===void 0&&(t=-1),n._n.getNextMutationBatchAfterBatchId(i,t)})}function Yo(e,t){var n=L(e);return n.persistence.runTransaction("Allocate target","readwrite",function(i){var o;return n.qe.getTargetData(i,t).next(function(a){return a?(o=a,k.resolve(o)):n.qe.allocateTargetId(i).next(function(u){return o=new gh(t,u,0,i.currentSequenceNumber),n.qe.addTargetData(i,o).next(function(){return o})})})}).then(function(i){var o=n.kn.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.kn=n.kn.insert(i.targetId,i),n.Fn.set(t,i.targetId)),i})}function Xo(e,t,n){return R(this,void 0,void 0,function(){var i,o,a,u;return O(this,function(l){switch(l.label){case 0:i=L(e),o=i.kn.get(t),a=n?"readwrite":"readwrite-primary",l.label=1;case 1:return l.trys.push([1,4,,5]),n?[3,3]:[4,i.persistence.runTransaction("Release target",a,function(f){return i.persistence.referenceDelegate.removeTarget(f,o)})];case 2:l.sent(),l.label=3;case 3:return[3,5];case 4:if(!Di(u=l.sent()))throw u;return P("LocalStore","Failed to update sequence numbers for target "+t+": "+u),[3,5];case 5:return i.kn=i.kn.remove(t),i.Fn.delete(o.target),[2]}})})}function ih(e,t,n){var i=L(e),o=st.min(),a=wt();return i.persistence.runTransaction("Execute query","readonly",function(u){return function(l,f,p){var m=L(l),y=m.Fn.get(p);return y!==void 0?k.resolve(m.kn.get(y)):m.qe.getTargetData(f,p)}(i,u,ln(t)).next(function(l){if(l)return o=l.lastLimboFreeSnapshotVersion,i.qe.getMatchingKeysForTargetId(u,l.targetId).next(function(f){a=f})}).next(function(){return i.xn.getDocumentsMatchingQuery(u,t,n?o:st.min(),n?a:wt())}).next(function(l){return{documents:l,Bn:a}})})}function lC(e,t){var n=L(e),i=L(n.qe),o=n.kn.get(t);return o?Promise.resolve(o.target):n.persistence.runTransaction("Get target data","readonly",function(a){return i.lt(a,t).next(function(u){return u?u.target:null})})}function hC(e){var t=L(e);return t.persistence.runTransaction("Get new document changes","readonly",function(n){return function(i,o,a){var u=L(i),l=cn(),f=tv(a),p=Rr(o),m=IDBKeyRange.lowerBound(f,!0);return p.$t({index:Mt.readTimeIndex,range:m},function(y,w){var I=Pm(u.R,w);l=l.insert(I.key,I),f=w.readTime}).next(function(){return{wn:l,readTime:J1(f)}})}(t.On,n,t.$n)}).then(function(n){var i=n.wn,o=n.readTime;return t.$n=o,i})}function FM(e){return R(this,void 0,void 0,function(){var t;return O(this,function(n){return[2,(t=L(e)).persistence.runTransaction("Synchronize last document change read time","readonly",function(i){return function(o){var a=Rr(o),u=st.min();return a.$t({index:Mt.readTimeIndex,reverse:!0},function(l,f,p){f.readTime&&(u=J1(f.readTime)),p.done()}).next(function(){return u})}(i)}).then(function(i){t.$n=i})]})})}function UM(e,t,n,i){return R(this,void 0,void 0,function(){var o,a,u,l,f,p,m,y,w,I;return O(this,function(E){switch(E.label){case 0:for(o=L(e),a=wt(),u=cn(),l=M1(),f=0,p=n;f<p.length;f++)m=p[f],y=t.qn(m.metadata.name),m.document&&(a=a.add(y)),u=u.insert(y,t.Un(m)),l=l.insert(y,t.Kn(m.metadata.readTime));return w=o.On.newChangeBuffer({trackRemovals:!0}),[4,Yo(o,function(T){return ln(rs(pt.fromString("__bundle__/docs/"+T)))}(i))];case 1:return I=E.sent(),[2,o.persistence.runTransaction("Apply bundle documents","readwrite",function(T){return cC(T,w,u,st.min(),l).next(function(A){return w.apply(T),A}).next(function(A){return o.qe.removeMatchingKeysForTargetId(T,I.targetId).next(function(){return o.qe.addMatchingKeys(T,a,I.targetId)}).next(function(){return o.Mn.En(T,A)}).next(function(){return A})})})]}})})}function jM(e,t,n){return n===void 0&&(n=wt()),R(this,void 0,void 0,function(){var i,o;return O(this,function(a){switch(a.label){case 0:return[4,Yo(e,ln(ev(t.bundledQuery)))];case 1:return i=a.sent(),[2,(o=L(e)).persistence.runTransaction("Save named query","readwrite",function(u){var l=oe(t.readTime);if(i.snapshotVersion.compareTo(l)>=0)return o.Ke.saveNamedQuery(u,t);var f=i.withResumeToken(_e.EMPTY_BYTE_STRING,l);return o.kn=o.kn.insert(f.targetId,f),o.qe.updateTargetData(u,f).next(function(){return o.qe.removeMatchingKeysForTargetId(u,i.targetId)}).next(function(){return o.qe.addMatchingKeys(u,n,i.targetId)}).next(function(){return o.Ke.saveNamedQuery(u,t)})})]}})})}function FT(e,t){return"firestore_clients_"+e+"_"+t}function UT(e,t,n){var i="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(i+="_"+t.uid),i}function Tm(e,t){return"firestore_targets_"+e+"_"+t}function dC(){return typeof window<"u"?window:null}function $l(){return typeof document<"u"?document:null}function mh(e){return new rM(e,!0)}function mu(e){return R(this,void 0,void 0,function(){var t,n;return O(this,function(i){switch(i.label){case 0:if(!Vr(e))return[3,4];t=0,n=e.Mr,i.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:i.sent(),i.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function os(e){return R(this,void 0,void 0,function(){var t,n;return O(this,function(i){switch(i.label){case 0:t=0,n=e.Mr,i.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:i.sent(),i.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function vh(e,t){var n=L(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),uv(n)?av(n):as(n).er()&&sv(n,t))}function su(e,t){var n=L(e),i=as(n);n.$r.delete(t),i.er()&&gC(n,t),n.$r.size===0&&(i.er()?i.ir():Vr(n)&&n.Br.set("Unknown"))}function sv(e,t){e.qr.U(t.targetId),as(e).mr(t)}function gC(e,t){e.qr.U(t),as(e).yr(t)}function av(e){e.qr=new tM({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),as(e).start(),e.Br.Sr()}function uv(e){return Vr(e)&&!as(e).tr()&&e.$r.size>0}function Vr(e){return L(e).Or.size===0}function mC(e){e.qr=void 0}function iL(e){return R(this,void 0,void 0,function(){return O(this,function(t){return e.$r.forEach(function(n,i){sv(e,n)}),[2]})})}function oL(e,t){return R(this,void 0,void 0,function(){return O(this,function(n){return mC(e),uv(e)?(e.Br.Nr(t),av(e)):e.Br.set("Unknown"),[2]})})}function sL(e,t,n){return R(this,void 0,void 0,function(){var i,o,a;return O(this,function(u){switch(u.label){case 0:if(e.Br.set("Online"),!(t instanceof F1&&t.state===2&&t.cause))return[3,6];u.label=1;case 1:return u.trys.push([1,3,,5]),[4,function(l,f){return R(this,void 0,void 0,function(){var p,m,y,w;return O(this,function(I){switch(I.label){case 0:p=f.cause,m=0,y=f.targetIds,I.label=1;case 1:return m<y.length?(w=y[m],l.$r.has(w)?[4,l.remoteSyncer.rejectListen(w,p)]:[3,3]):[3,5];case 2:I.sent(),l.$r.delete(w),l.qr.removeTarget(w),I.label=3;case 3:I.label=4;case 4:return m++,[3,1];case 5:return[2]}})})}(e,t)];case 2:return u.sent(),[3,5];case 3:return i=u.sent(),P("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),[4,oh(e,i)];case 4:return u.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof Gl?e.qr.X(t):t instanceof L1?e.qr.rt(t):e.qr.et(t),n.isEqual(st.min()))return[3,13];u.label=7;case 7:return u.trys.push([7,11,,13]),[4,uC(e.localStore)];case 8:return o=u.sent(),n.compareTo(o)>=0?[4,function(l,f){var p=l.qr.ut(f);return p.targetChanges.forEach(function(m,y){if(m.resumeToken.approximateByteSize()>0){var w=l.$r.get(y);w&&l.$r.set(y,w.withResumeToken(m.resumeToken,f))}}),p.targetMismatches.forEach(function(m){var y=l.$r.get(m);if(y){l.$r.set(m,y.withResumeToken(_e.EMPTY_BYTE_STRING,y.snapshotVersion)),gC(l,m);var w=new gh(y.target,m,1,y.sequenceNumber);sv(l,w)}}),l.remoteSyncer.applyRemoteEvent(p)}(e,n)]:[3,10];case 9:u.sent(),u.label=10;case 10:return[3,13];case 11:return P("RemoteStore","Failed to raise snapshot:",a=u.sent()),[4,oh(e,a)];case 12:return u.sent(),[3,13];case 13:return[2]}})})}function oh(e,t,n){return R(this,void 0,void 0,function(){var i=this;return O(this,function(o){switch(o.label){case 0:if(!Di(t))throw t;return e.Or.add(1),[4,os(e)];case 1:return o.sent(),e.Br.set("Offline"),n||(n=function(){return uC(e.localStore)}),e.asyncQueue.enqueueRetryable(function(){return R(i,void 0,void 0,function(){return O(this,function(a){switch(a.label){case 0:return P("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return a.sent(),e.Or.delete(1),[4,mu(e)];case 2:return a.sent(),[2]}})})}),[2]}})})}function vC(e,t){return t().catch(function(n){return oh(e,n,t)})}function ss(e){return R(this,void 0,void 0,function(){var t,n,i,o,a;return O(this,function(u){switch(u.label){case 0:t=L(e),n=Ur(t),i=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,u.label=1;case 1:if(!function(l){return Vr(l)&&l.Fr.length<10}(t))return[3,7];u.label=2;case 2:return u.trys.push([2,4,,6]),[4,LM(t.localStore,i)];case 3:return(o=u.sent())===null?(t.Fr.length===0&&n.ir(),[3,7]):(i=o.batchId,function(l,f){l.Fr.push(f);var p=Ur(l);p.er()&&p.pr&&p.Er(f.mutations)}(t,o),[3,6]);case 4:return a=u.sent(),[4,oh(t,a)];case 5:return u.sent(),[3,6];case 6:return[3,1];case 7:return yC(t)&&wC(t),[2]}})})}function yC(e){return Vr(e)&&!Ur(e).tr()&&e.Fr.length>0}function wC(e){Ur(e).start()}function aL(e){return R(this,void 0,void 0,function(){return O(this,function(t){return Ur(e).Ar(),[2]})})}function uL(e){return R(this,void 0,void 0,function(){var t,n,i,o;return O(this,function(a){for(t=Ur(e),n=0,i=e.Fr;n<i.length;n++)o=i[n],t.Er(o.mutations);return[2]})})}function cL(e,t,n){return R(this,void 0,void 0,function(){var i,o;return O(this,function(a){switch(a.label){case 0:return i=e.Fr.shift(),o=vM.from(i,t,n),[4,vC(e,function(){return e.remoteSyncer.applySuccessfulWrite(o)})];case 1:return a.sent(),[4,ss(e)];case 2:return a.sent(),[2]}})})}function lL(e,t){return R(this,void 0,void 0,function(){return O(this,function(n){switch(n.label){case 0:return t&&Ur(e).pr?[4,function(i,o){return R(this,void 0,void 0,function(){var a,u;return O(this,function(l){switch(l.label){case 0:return k1(u=o.code)&&u!==C.ABORTED?(a=i.Fr.shift(),Ur(i).sr(),[4,vC(i,function(){return i.remoteSyncer.rejectFailedWrite(a.batchId,o)})]):[3,3];case 1:return l.sent(),[4,ss(i)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return yC(e)&&wC(e),[2]}})})}function Lm(e,t){return R(this,void 0,void 0,function(){var n;return O(this,function(i){switch(i.label){case 0:return n=L(e),t?(n.Or.delete(2),[4,mu(n)]):[3,2];case 1:return i.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,os(n)]);case 3:i.sent(),n.Br.set("Unknown"),i.label=4;case 4:i.label=5;case 5:return[2]}})})}function as(e){var t=this;return e.Ur||(e.Ur=function(n,i,o){var a=L(n);return a.br(),new ZM(i,a.Hi,a.credentials,a.R,o)}(e.datastore,e.asyncQueue,{Ii:iL.bind(null,e),Ri:oL.bind(null,e),_r:sL.bind(null,e)}),e.Mr.push(function(n){return R(t,void 0,void 0,function(){return O(this,function(i){switch(i.label){case 0:return n?(e.Ur.sr(),uv(e)?av(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:i.sent(),mC(e),i.label=3;case 3:return[2]}})})})),e.Ur}function Ur(e){var t=this;return e.Kr||(e.Kr=function(n,i,o){var a=L(n);return a.br(),new tL(i,a.Hi,a.credentials,a.R,o)}(e.datastore,e.asyncQueue,{Ii:aL.bind(null,e),Ri:lL.bind(null,e),Ir:uL.bind(null,e),Tr:cL.bind(null,e)}),e.Mr.push(function(n){return R(t,void 0,void 0,function(){return O(this,function(i){switch(i.label){case 0:return n?(e.Kr.sr(),[4,ss(e)]):[3,2];case 1:return i.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:i.sent(),e.Fr.length>0&&(P("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),i.label=4;case 4:return[2]}})})})),e.Kr}function us(e,t){if(Kt("AsyncQueue",t+": "+e),Di(e))return new D(C.UNAVAILABLE,t+": "+e);throw e}function cv(e,t){return R(this,void 0,void 0,function(){var n,i,o,a,u,l,f;return O(this,function(p){switch(p.label){case 0:if(n=L(e),i=t.query,o=!1,(a=n.queries.get(i))||(o=!0,a=new fL),!o)return[3,4];p.label=1;case 1:return p.trys.push([1,3,,4]),u=a,[4,n.onListen(i)];case 2:return u.Wr=p.sent(),[3,4];case 3:return l=p.sent(),f=us(l,"Initialization of query '"+Nm(t.query)+"' failed"),[2,void t.onError(f)];case 4:return n.queries.set(i,a),a.listeners.push(t),t.zr(n.onlineState),a.Wr&&t.Hr(a.Wr)&&hv(n),[2]}})})}function lv(e,t){return R(this,void 0,void 0,function(){var n,i,o,a,u;return O(this,function(l){return n=L(e),i=t.query,o=!1,(a=n.queries.get(i))&&(u=a.listeners.indexOf(t))>=0&&(a.listeners.splice(u,1),o=a.listeners.length===0),o?[2,(n.queries.delete(i),n.onUnlisten(i))]:[2]})})}function pL(e,t){for(var n=L(e),i=!1,o=0,a=t;o<a.length;o++){var u=a[o],l=u.query,f=n.queries.get(l);if(f){for(var p=0,m=f.listeners;p<m.length;p++)m[p].Hr(u)&&(i=!0);f.Wr=u}}i&&hv(n)}function gL(e,t,n){var i=L(e),o=i.queries.get(t);if(o)for(var a=0,u=o.listeners;a<u.length;a++)u[a].onError(n);i.queries.delete(t)}function hv(e){e.Gr.forEach(function(t){t.next()})}function vL(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}function IL(e,t){return R(this,void 0,void 0,function(){var n,i,o,a,u,l;return O(this,function(f){switch(f.label){case 0:return n=vv(e),(a=n.Po.get(t))?(i=a.targetId,n.sharedClientState.addLocalQueryTarget(i),o=a.view.Ro(),[3,4]):[3,1];case 1:return[4,Yo(n.localStore,ln(t))];case 2:return u=f.sent(),l=n.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,[4,dv(n,t,i,l==="current")];case 3:o=f.sent(),n.isPrimaryClient&&vh(n.remoteStore,u),f.label=4;case 4:return[2,o]}})})}function dv(e,t,n,i){return R(this,void 0,void 0,function(){var o,a,u,l,f,p;return O(this,function(m){switch(m.label){case 0:return e.Oo=function(y,w,I){return function(E,T,A,x){return R(this,void 0,void 0,function(){var F,j,nt;return O(this,function(ut){switch(ut.label){case 0:return F=T.view._o(A),F.Nn?[4,ih(E.localStore,T.query,!1).then(function(M){var _t=M.documents;return T.view._o(_t,F)})]:[3,2];case 1:F=ut.sent(),ut.label=2;case 2:return j=x&&x.targetChanges.get(T.targetId),nt=T.view.applyChanges(F,E.isPrimaryClient,j),[2,(Fm(E,T.targetId,nt.To),nt.snapshot)]}})})}(e,y,w,I)},[4,ih(e.localStore,t,!0)];case 1:return o=m.sent(),a=new SC(t,o.Bn),u=a._o(o.documents),l=Ym.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline"),f=a.applyChanges(u,e.isPrimaryClient,l),Fm(e,n,f.To),p=new yL(t,n,a),[2,(e.Po.set(t,p),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),f.snapshot)]}})})}function EL(e,t){return R(this,void 0,void 0,function(){var n,i,o;return O(this,function(a){switch(a.label){case 0:return n=L(e),i=n.Po.get(t),(o=n.Vo.get(i.targetId)).length>1?[2,(n.Vo.set(i.targetId,o.filter(function(u){return!hu(u,t)})),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)?[3,2]:[4,Xo(n.localStore,i.targetId,!1).then(function(){n.sharedClientState.clearQueryState(i.targetId),su(n.remoteStore,i.targetId),Jo(n,i.targetId)}).catch(xi)]):[3,3];case 1:a.sent(),a.label=2;case 2:return[3,5];case 3:return Jo(n,i.targetId),[4,Xo(n.localStore,i.targetId,!0)];case 4:a.sent(),a.label=5;case 5:return[2]}})})}function SL(e,t,n){return R(this,void 0,void 0,function(){var i,o,a,u;return O(this,function(l){switch(l.label){case 0:i=yv(e),l.label=1;case 1:return l.trys.push([1,5,,6]),[4,function(f,p){var m,y=L(f),w=Ce.now(),I=p.reduce(function(E,T){return E.add(T.key)},wt());return y.persistence.runTransaction("Locally write mutations","readwrite",function(E){return y.Mn.pn(E,I).next(function(T){m=T;for(var A=[],x=0,F=p;x<F.length;x++){var j=F[x],nt=$P(j,m.get(j.key));nt!=null&&A.push(new jr(j.key,nt,w1(nt.value.mapValue),pe.exists(!0)))}return y._n.addMutationBatch(E,w,A,p)})}).then(function(E){return E.applyToLocalDocumentSet(m),{batchId:E.batchId,changes:m}})}(i.localStore,t)];case 2:return o=l.sent(),i.sharedClientState.addPendingMutation(o.batchId),function(f,p,m){var y=f.xo[f.currentUser.toKey()];y||(y=new me(lt)),y=y.insert(p,m),f.xo[f.currentUser.toKey()]=y}(i,o.batchId,n),[4,qr(i,o.changes)];case 3:return l.sent(),[4,ss(i.remoteStore)];case 4:return l.sent(),[3,6];case 5:return a=l.sent(),u=us(a,"Failed to persist write"),n.reject(u),[3,6];case 6:return[2]}})})}function TC(e,t){return R(this,void 0,void 0,function(){var n,i;return O(this,function(o){switch(o.label){case 0:n=L(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,MM(n.localStore,t)];case 2:return i=o.sent(),t.targetChanges.forEach(function(a,u){var l=n.Co.get(u);l&&(Y(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?l.bo=!0:a.modifiedDocuments.size>0?Y(l.bo):a.removedDocuments.size>0&&(Y(l.bo),l.bo=!1))}),[4,qr(n,i,t)];case 3:return o.sent(),[3,6];case 4:return[4,xi(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function HT(e,t,n){var i=L(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){var o=[];i.Po.forEach(function(a,u){var l=u.view.zr(t);l.snapshot&&o.push(l.snapshot)}),function(a,u){var l=L(a);l.onlineState=u;var f=!1;l.queries.forEach(function(p,m){for(var y=0,w=m.listeners;y<w.length;y++)w[y].zr(u)&&(f=!0)}),f&&hv(l)}(i.eventManager,t),o.length&&i.vo._r(o),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function TL(e,t,n){return R(this,void 0,void 0,function(){var i,o,a,u,l,f;return O(this,function(p){switch(p.label){case 0:return(i=L(e)).sharedClientState.updateQueryState(t,"rejected",n),o=i.Co.get(t),(a=o&&o.key)?(u=(u=new me(H.comparator)).insert(a,ae.newNoDocument(a,st.min())),l=wt().add(a),f=new Qm(st.min(),new Map,new Qt(lt),u,l),[4,TC(i,f)]):[3,2];case 1:return p.sent(),i.Do=i.Do.remove(a),i.Co.delete(t),mv(i),[3,4];case 2:return[4,Xo(i.localStore,t,!1).then(function(){return Jo(i,t,n)}).catch(xi)];case 3:p.sent(),p.label=4;case 4:return[2]}})})}function CL(e,t){return R(this,void 0,void 0,function(){var n,i,o;return O(this,function(a){switch(a.label){case 0:n=L(e),i=t.batch.batchId,a.label=1;case 1:return a.trys.push([1,4,,6]),[4,PM(n.localStore,t)];case 2:return o=a.sent(),gv(n,i,null),pv(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),[4,qr(n,o)];case 3:return a.sent(),[3,6];case 4:return[4,xi(a.sent())];case 5:return a.sent(),[3,6];case 6:return[2]}})})}function _L(e,t,n){return R(this,void 0,void 0,function(){var i,o;return O(this,function(a){switch(a.label){case 0:i=L(e),a.label=1;case 1:return a.trys.push([1,4,,6]),[4,function(u,l){var f=L(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",function(p){var m;return f._n.lookupMutationBatch(p,l).next(function(y){return Y(y!==null),m=y.keys(),f._n.removeMutationBatch(p,y)}).next(function(){return f._n.performConsistencyCheck(p)}).next(function(){return f.Mn.pn(p,m)})})}(i.localStore,t)];case 2:return o=a.sent(),gv(i,t,n),pv(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),[4,qr(i,o)];case 3:return a.sent(),[3,6];case 4:return[4,xi(a.sent())];case 5:return a.sent(),[3,6];case 6:return[2]}})})}function AL(e,t){return R(this,void 0,void 0,function(){var n,i,o,a,u;return O(this,function(l){switch(l.label){case 0:Vr((n=L(e)).remoteStore)||P("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,function(f){var p=L(f);return p.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(m){return p._n.getHighestUnacknowledgedBatchId(m)})}(n.localStore)];case 2:return(i=l.sent())===-1?[2,void t.resolve()]:((o=n.ko.get(i)||[]).push(t),n.ko.set(i,o),[3,4]);case 3:return a=l.sent(),u=us(a,"Initialization of waitForPendingWrites() operation failed"),t.reject(u),[3,4];case 4:return[2]}})})}function pv(e,t){(e.ko.get(t)||[]).forEach(function(n){n.resolve()}),e.ko.delete(t)}function gv(e,t,n){var i=L(e),o=i.xo[i.currentUser.toKey()];if(o){var a=o.get(t);a&&(n?a.reject(n):a.resolve(),o=o.remove(t)),i.xo[i.currentUser.toKey()]=o}}function Jo(e,t,n){n===void 0&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var i=0,o=e.Vo.get(t);i<o.length;i++){var a=o[i];e.Po.delete(a),n&&e.vo.Mo(a,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach(function(u){e.No.containsKey(u)||CC(e,u)})}function CC(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);n!==null&&(su(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),mv(e))}function Fm(e,t,n){for(var i=0,o=n;i<o.length;i++){var a=o[i];a instanceof IC?(e.No.addReference(a.key,t),OL(e,a)):a instanceof EC?(P("SyncEngine","Document no longer in limbo: "+a.key),e.No.removeReference(a.key,t),e.No.containsKey(a.key)||CC(e,a.key)):z()}}function OL(e,t){var n=t.key,i=n.path.canonicalString();e.Do.get(n)||e.So.has(i)||(P("SyncEngine","New document in limbo: "+n),e.So.add(i),mv(e))}function mv(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new H(pt.fromString(t)),i=e.Fo.next();e.Co.set(i,new wL(n)),e.Do=e.Do.insert(n,i),vh(e.remoteStore,new gh(ln(rs(n.path)),i,2,Je.o))}}function qr(e,t,n){return R(this,void 0,void 0,function(){var i,o,a,u;return O(this,function(l){switch(l.label){case 0:return i=L(e),o=[],a=[],u=[],i.Po.isEmpty()?[3,3]:(i.Po.forEach(function(f,p){u.push(i.Oo(p,t,n).then(function(m){if(m){i.isPrimaryClient&&i.sharedClientState.updateQueryState(p.targetId,m.fromCache?"not-current":"current"),o.push(m);var y=xM.Pn(p.targetId,m);a.push(y)}}))}),[4,Promise.all(u)]);case 1:return l.sent(),i.vo._r(o),[4,function(f,p){return R(this,void 0,void 0,function(){var m,y,w,I,E,T,A,x,F;return O(this,function(j){switch(j.label){case 0:m=L(f),j.label=1;case 1:return j.trys.push([1,3,,4]),[4,m.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(nt){return k.forEach(p,function(ut){return k.forEach(ut.bn,function(M){return m.persistence.referenceDelegate.addReference(nt,ut.targetId,M)}).next(function(){return k.forEach(ut.vn,function(M){return m.persistence.referenceDelegate.removeReference(nt,ut.targetId,M)})})})})];case 2:return j.sent(),[3,4];case 3:if(!Di(y=j.sent()))throw y;return P("LocalStore","Failed to update sequence numbers: "+y),[3,4];case 4:for(w=0,I=p;w<I.length;w++)E=I[w],T=E.targetId,E.fromCache||(A=m.kn.get(T),x=A.snapshotVersion,F=A.withLastLimboFreeSnapshotVersion(x),m.kn=m.kn.insert(T,F));return[2]}})})}(i.localStore,a)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function RL(e,t){return R(this,void 0,void 0,function(){var n,i;return O(this,function(o){switch(o.label){case 0:return(n=L(e)).currentUser.isEqual(t)?[3,3]:(P("SyncEngine","User change. New user:",t.toKey()),[4,aC(n.localStore,t)]);case 1:return i=o.sent(),n.currentUser=t,function(a,u){a.ko.forEach(function(l){l.forEach(function(f){f.reject(new D(C.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.ko.clear()}(n),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),[4,qr(n,i.Ln)];case 2:o.sent(),o.label=3;case 3:return[2]}})})}function NL(e,t){var n=L(e),i=n.Co.get(t);if(i&&i.bo)return wt().add(i.key);var o=wt(),a=n.Vo.get(t);if(!a)return o;for(var u=0,l=a;u<l.length;u++){var f=l[u],p=n.Po.get(f);o=o.unionWith(p.view.wo)}return o}function DL(e,t){return R(this,void 0,void 0,function(){var n,i,o;return O(this,function(a){switch(a.label){case 0:return[4,ih((n=L(e)).localStore,t.query,!0)];case 1:return i=a.sent(),o=t.view.Ao(i),[2,(n.isPrimaryClient&&Fm(n,t.targetId,o.To),o)]}})})}function xL(e){return R(this,void 0,void 0,function(){var t;return O(this,function(n){return[2,hC((t=L(e)).localStore).then(function(i){return qr(t,i)})]})})}function kL(e,t,n,i){return R(this,void 0,void 0,function(){var o,a;return O(this,function(u){switch(u.label){case 0:return[4,function(l,f){var p=L(l),m=L(p._n);return p.persistence.runTransaction("Lookup mutation documents","readonly",function(y){return m.jt(y,f).next(function(w){return w?p.Mn.pn(y,w):k.resolve(null)})})}((o=L(e)).localStore,t)];case 1:return(a=u.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,ss(o.remoteStore)];case 2:return u.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(gv(o,t,i||null),pv(o,t),function(l,f){L(L(l)._n).Gt(f)}(o.localStore,t)):z(),u.label=4;case 4:return[4,qr(o,a)];case 5:return u.sent(),[3,7];case 6:P("SyncEngine","Cannot apply mutation batch with id: "+t),u.label=7;case 7:return[2]}})})}function PL(e,t){return R(this,void 0,void 0,function(){var n,i,o,a,u,l,f,p;return O(this,function(m){switch(m.label){case 0:return vv(n=L(e)),yv(n),t!==!0||n.$o===!0?[3,3]:(i=n.sharedClientState.getAllActiveQueryTargets(),[4,KT(n,i.toArray())]);case 1:return o=m.sent(),n.$o=!0,[4,Lm(n.remoteStore,!0)];case 2:for(m.sent(),a=0,u=o;a<u.length;a++)l=u[a],vh(n.remoteStore,l);return[3,7];case 3:return t!==!1||n.$o===!1?[3,7]:(f=[],p=Promise.resolve(),n.Vo.forEach(function(y,w){n.sharedClientState.isLocalQueryTarget(w)?f.push(w):p=p.then(function(){return Jo(n,w),Xo(n.localStore,w,!0)}),su(n.remoteStore,w)}),[4,p]);case 4:return m.sent(),[4,KT(n,f)];case 5:return m.sent(),function(y){var w=L(y);w.Co.forEach(function(I,E){su(w.remoteStore,E)}),w.No.ts(),w.Co=new Map,w.Do=new me(H.comparator)}(n),n.$o=!1,[4,Lm(n.remoteStore,!1)];case 6:m.sent(),m.label=7;case 7:return[2]}})})}function KT(e,t,n){return R(this,void 0,void 0,function(){var i,o,a,u,l,f,p,m,y,w,I,E,T,A;return O(this,function(x){switch(x.label){case 0:i=L(e),o=[],a=[],u=0,l=t,x.label=1;case 1:return u<l.length?(f=l[u],p=void 0,(m=i.Vo.get(f))&&m.length!==0?[4,Yo(i.localStore,ln(m[0]))]:[3,7]):[3,13];case 2:p=x.sent(),y=0,w=m,x.label=3;case 3:return y<w.length?(I=w[y],E=i.Po.get(I),[4,DL(i,E)]):[3,6];case 4:(T=x.sent()).snapshot&&a.push(T.snapshot),x.label=5;case 5:return y++,[3,3];case 6:return[3,11];case 7:return[4,lC(i.localStore,f)];case 8:return A=x.sent(),[4,Yo(i.localStore,A)];case 9:return p=x.sent(),[4,dv(i,_C(A),f,!1)];case 10:x.sent(),x.label=11;case 11:o.push(p),x.label=12;case 12:return u++,[3,1];case 13:return[2,(i.vo._r(a),o)]}})})}function _C(e){return I1(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function ML(e){var t=L(e);return L(L(t.localStore).persistence).fn()}function LL(e,t,n,i){return R(this,void 0,void 0,function(){var o,a,u;return O(this,function(l){switch(l.label){case 0:return(o=L(e)).$o?(P("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,hC(o.localStore)];case 3:return a=l.sent(),u=Qm.createSynthesizedRemoteEventForCurrentChange(t,n==="current"),[4,qr(o,a,u)];case 4:return l.sent(),[3,8];case 5:return[4,Xo(o.localStore,t,!0)];case 6:return l.sent(),Jo(o,t,i),[3,8];case 7:z(),l.label=8;case 8:return[2]}})})}function FL(e,t,n){return R(this,void 0,void 0,function(){var i,o,a,u,l,f,p,m,y,w;return O(this,function(I){switch(I.label){case 0:if(!(i=vv(e)).$o)return[3,10];o=0,a=t,I.label=1;case 1:return o<a.length?(u=a[o],i.Vo.has(u)?(P("SyncEngine","Adding an already active target "+u),[3,5]):[4,lC(i.localStore,u)]):[3,6];case 2:return l=I.sent(),[4,Yo(i.localStore,l)];case 3:return f=I.sent(),[4,dv(i,_C(l),f.targetId,!1)];case 4:I.sent(),vh(i.remoteStore,f),I.label=5;case 5:return o++,[3,1];case 6:p=function(E){return O(this,function(T){switch(T.label){case 0:return i.Vo.has(E)?[4,Xo(i.localStore,E,!1).then(function(){su(i.remoteStore,E),Jo(i,E)}).catch(xi)]:[3,2];case 1:T.sent(),T.label=2;case 2:return[2]}})},m=0,y=n,I.label=7;case 7:return m<y.length?(w=y[m],[5,p(w)]):[3,10];case 8:I.sent(),I.label=9;case 9:return m++,[3,7];case 10:return[2]}})})}function vv(e){var t=L(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=TC.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=NL.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=TL.bind(null,t),t.vo._r=pL.bind(null,t.eventManager),t.vo.Mo=gL.bind(null,t.eventManager),t}function yv(e){var t=L(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=CL.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=_L.bind(null,t),t}function RC(e,t){return R(this,void 0,void 0,function(){var n,i,o=this;return O(this,function(a){switch(a.label){case 0:return e.asyncQueue.verifyOperationInProgress(),P("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=a.sent(),[4,t.initialize(n)];case 2:return a.sent(),i=n.initialUser,e.setCredentialChangeListener(function(u){return R(o,void 0,void 0,function(){return O(this,function(l){switch(l.label){case 0:return i.isEqual(u)?[3,2]:[4,aC(t.localStore,u)];case 1:l.sent(),i=u,l.label=2;case 2:return[2]}})})}),t.persistence.setDatabaseDeletedListener(function(){return e.terminate()}),e.offlineComponents=t,[2]}})})}function NC(e,t){return R(this,void 0,void 0,function(){var n,i;return O(this,function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,wv(e)];case 1:return n=o.sent(),P("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return i=o.sent(),[4,t.initialize(n,i)];case 3:return o.sent(),e.setCredentialChangeListener(function(a){return function(u,l){return R(this,void 0,void 0,function(){var f,p;return O(this,function(m){switch(m.label){case 0:return(f=L(u)).asyncQueue.verifyOperationInProgress(),P("RemoteStore","RemoteStore received new credentials"),p=Vr(f),f.Or.add(3),[4,os(f)];case 1:return m.sent(),p&&f.Br.set("Unknown"),[4,f.remoteSyncer.handleCredentialChange(l)];case 2:return m.sent(),f.Or.delete(3),[4,mu(f)];case 3:return m.sent(),[2]}})})}(t.remoteStore,a)}),e.onlineComponents=t,[2]}})})}function wv(e){return R(this,void 0,void 0,function(){return O(this,function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(P("FirestoreClient","Using default OfflineComponentProvider"),[4,RC(e,new AC)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}})})}function wh(e){return R(this,void 0,void 0,function(){return O(this,function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(P("FirestoreClient","Using default OnlineComponentProvider"),[4,NC(e,new Um)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}})})}function GT(e){return wv(e).then(function(t){return t.persistence})}function DC(e){return wv(e).then(function(t){return t.localStore})}function $T(e){return wh(e).then(function(t){return t.remoteStore})}function xC(e){return wh(e).then(function(t){return t.syncEngine})}function Zo(e){return R(this,void 0,void 0,function(){var t,n;return O(this,function(i){switch(i.label){case 0:return[4,wh(e)];case 1:return t=i.sent(),[2,((n=t.eventManager).onListen=IL.bind(null,t.syncEngine),n.onUnlisten=EL.bind(null,t.syncEngine),n)]}})})}function WT(e,t,n){var i=this;n===void 0&&(n={});var o=new ge;return e.asyncQueue.enqueueAndForget(function(){return R(i,void 0,void 0,function(){var a;return O(this,function(u){switch(u.label){case 0:return a=function(l,f,p,m,y){var w=new yh({next:function(E){f.enqueueAndForget(function(){return lv(l,I)});var T=E.docs.has(p);!T&&E.fromCache?y.reject(new D(C.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&E.fromCache&&m&&m.source==="server"?y.reject(new D(C.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(E)},error:function(E){return y.reject(E)}}),I=new fv(rs(p.path),w,{includeMetadataChanges:!0,so:!0});return cv(l,I)},[4,Zo(e)];case 1:return[2,a.apply(void 0,[u.sent(),e.asyncQueue,t,n,o])]}})})}),o.promise}function QT(e,t,n){var i=this;n===void 0&&(n={});var o=new ge;return e.asyncQueue.enqueueAndForget(function(){return R(i,void 0,void 0,function(){var a;return O(this,function(u){switch(u.label){case 0:return a=function(l,f,p,m,y){var w=new yh({next:function(E){f.enqueueAndForget(function(){return lv(l,I)}),E.fromCache&&m.source==="server"?y.reject(new D(C.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(E)},error:function(E){return y.reject(E)}}),I=new fv(p,w,{includeMetadataChanges:!0,so:!0});return cv(l,I)},[4,Zo(e)];case 1:return[2,a.apply(void 0,[u.sent(),e.asyncQueue,t,n,o])]}})})}),o.promise}function bv(e,t,n){if(!n)throw new D(C.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function Iv(e,t){if(t===void 0)return{merge:!1};if(t.mergeFields!==void 0&&t.merge!==void 0)throw new D(C.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function PC(e,t,n,i){if(t===!0&&i===!0)throw new D(C.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function JT(e){if(!H.isDocumentKey(e))throw new D(C.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function ZT(e){if(H.isDocumentKey(e))throw new D(C.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function bh(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";var t=function(n){if(n.constructor){var i=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(i&&i.length>1)return i[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return typeof e=="function"?"a function":z()}function vt(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new D(C.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=bh(e);throw new D(C.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function t1(e,t){if(t<=0)throw new D(C.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}function MC(e,t){for(var n,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];if(e=Vt(e),bv("collection","path",t),e instanceof au)return ZT(n=pt.fromString.apply(pt,Rt([t],i))),new Mr(e,null,n);if(!(e instanceof kt||e instanceof Mr))throw new D(C.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return ZT(n=pt.fromString.apply(pt,Rt([e.path],i)).child(pt.fromString(t))),new Mr(e.firestore,null,n)}function Wl(e,t){for(var n,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];if(e=Vt(e),arguments.length===1&&(t=d1.u()),bv("doc","path",t),e instanceof au)return JT(n=pt.fromString.apply(pt,Rt([t],i))),new kt(e,null,new H(n));if(!(e instanceof kt||e instanceof Mr))throw new D(C.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return JT(n=e._path.child(pt.fromString.apply(pt,Rt([t],i)))),new kt(e.firestore,e instanceof Mr?e.converter:null,new H(n))}function LC(e,t){return e=Vt(e),t=Vt(t),(e instanceof kt||e instanceof Mr)&&(t instanceof kt||t instanceof Mr)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function FC(e,t){return e=Vt(e),t=Vt(t),e instanceof tn&&t instanceof tn&&e.firestore===t.firestore&&hu(e._query,t._query)&&e.converter===t.converter}function ts(e){return function(t,n){if(typeof t!="object"||t===null)return!1;for(var i=t,o=0,a=["next","error","complete"];o<a.length;o++){var u=a[o];if(u in i&&typeof i[u]=="function")return!0}return!1}(e)}function de(e){return e._firestoreClient||jC(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function jC(e){var t,n=e._freezeSettings(),i=function(o,a,u,l){return new BL(o,a,u,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,l.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new qL(e._credentials,e._queue,i)}function n1(e,t,n){var i=this,o=new ge;return e.asyncQueue.enqueue(function(){return R(i,void 0,void 0,function(){var a;return O(this,function(u){switch(u.label){case 0:return u.trys.push([0,3,,4]),[4,RC(e,n)];case 1:return u.sent(),[4,NC(e,t)];case 2:return u.sent(),o.resolve(),[3,4];case 3:if(!function(l){return l.name==="FirebaseError"?l.code===C.FAILED_PRECONDITION||l.code===C.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(a=u.sent()))throw a;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+a),o.reject(a),[3,4];case 4:return[2]}})})}).then(function(){return o.promise})}function r1(e){if(e._initialized||e._terminated)throw new D(C.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}function qC(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw z()}}function Pi(e){var t=e._freezeSettings(),n=mh(e._databaseId);return new YL(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Ih(e,t,n,i,o,a){a===void 0&&(a={});var u=e.Uc(a.merge||a.mergeFields?2:0,t,n,o);Cv("Data must be an object, but it was:",u,i);var l,f,p=KC(i,u);if(a.merge)l=new jo(u.fieldMask),f=u.fieldTransforms;else if(a.mergeFields){for(var m=[],y=0,w=a.mergeFields;y<w.length;y++){var I=jm(t,w[y],n);if(!u.contains(I))throw new D(C.INVALID_ARGUMENT,"Field '"+I+"' is specified in your field mask but missing from your input data.");$C(m,I)||m.push(I)}l=new jo(m),f=u.fieldTransforms.filter(function(E){return l.covers(E.field)})}else l=null,f=u.fieldTransforms;return new QL(new Xe(p),l,f)}function zC(e,t,n){return new BC({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}function Sv(e,t,n,i){var o=e.Uc(1,t,n);Cv("Data must be an object, but it was:",o,i);var a=[],u=Xe.empty();Ri(i,function(f,p){var m=_v(t,f,n);p=Vt(p);var y=o.Oc(m);if(p instanceof Ev)a.push(m);else{var w=Mi(p,y);w!=null&&(a.push(m),u.set(m,w))}});var l=new jo(a);return new VC(u,l,o.fieldTransforms)}function Tv(e,t,n,i,o,a){var u=e.Uc(1,t,n),l=[jm(t,i,n)],f=[o];if(a.length%2!=0)throw new D(C.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var p=0;p<a.length;p+=2)l.push(jm(t,a[p])),f.push(a[p+1]);for(var m=[],y=Xe.empty(),w=l.length-1;w>=0;--w)if(!$C(m,l[w])){var I=l[w],E=f[w];E=Vt(E);var T=u.Oc(I);if(E instanceof Ev)m.push(I);else{var A=Mi(E,T);A!=null&&(m.push(I),y.set(I,A))}}var x=new jo(m);return new VC(y,x,u.fieldTransforms)}function HC(e,t,n,i){return i===void 0&&(i=!1),Mi(n,e.Uc(i?4:3,t))}function Mi(e,t){if(GC(e=Vt(e)))return Cv("Unsupported field value:",t,e),KC(e,t);if(e instanceof ki)return function(n,i){if(!qC(i.Nc))throw i.Lc(n._methodName+"() can only be used with update() and set()");if(!i.path)throw i.Lc(n._methodName+"() is not currently supported inside arrays");var o=n._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&t.Nc!==4)throw t.Lc("Nested arrays are not supported");return function(n,i){for(var o=[],a=0,u=0,l=n;u<l.length;u++){var f=Mi(l[u],i.Mc(a));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),a++}return{arrayValue:{values:o}}}(e,t)}return function(n,i){if((n=Vt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return A1(i.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var o=Ce.fromDate(n);return{timestampValue:ru(i.R,o)}}if(n instanceof Ce)return o=new Ce(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:ru(i.R,o)};if(n instanceof vu)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Oi)return{bytesValue:U1(i.R,n._byteString)};if(n instanceof kt){o=i.databaseId;var a=n.firestore._databaseId;if(!a.isEqual(o))throw i.Lc("Document reference is for database "+a.projectId+"/"+a.database+" but should be for database "+o.projectId+"/"+o.database);return{referenceValue:Xm(n.firestore._databaseId||i.databaseId,n._key.path)}}throw i.Lc("Unsupported field value: "+bh(n))}(e,t)}function KC(e,t){var n={};return g1(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ri(e,function(i,o){var a=Mi(o,t.kc(i));a!=null&&(n[i]=a)}),{mapValue:{fields:n}}}function GC(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Ce||e instanceof vu||e instanceof Oi||e instanceof kt||e instanceof ki)}function Cv(e,t,n){if(!GC(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){var i=bh(n);throw i==="an object"?t.Lc(e+" a custom object"):t.Lc(e+" "+i)}}function jm(e,t,n){if((t=Vt(t))instanceof qn)return t._internalPath;if(typeof t=="string")return _v(e,t);throw uh("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}function _v(e,t,n){if(t.search(e2)>=0)throw uh("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return new(qn.bind.apply(qn,Rt([void 0],t.split("."))))()._internalPath}catch{throw uh("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function uh(e,t,n,i,o){var a=i&&!i.isEmpty(),u=o!==void 0,l="Function "+t+"() called with invalid data";n&&(l+=" (via `toFirestore()`)");var f="";return(a||u)&&(f+=" (found",a&&(f+=" in field "+i),u&&(f+=" in document "+o),f+=")"),new D(C.INVALID_ARGUMENT,(l+=". ")+e+f)}function $C(e,t){return e.some(function(n){return n.isEqual(t)})}function ch(e,t){return typeof t=="string"?_v(e,t):t instanceof qn?t._internalPath:t._delegate._internalPath}function r2(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return z()}}function WC(e,t){return e instanceof er&&t instanceof er?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(e._document===null?t._document===null:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof xr&&t instanceof xr&&e._firestore===t._firestore&&FC(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function QC(e){if(th(e)&&e.explicitOrderBy.length===0)throw new D(C.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function Or(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var i=0,o=t;i<o.length;i++){var a=o[i];e=a._apply(e)}return e}function YC(e,t,n,i){if(n[0]=Vt(n[0]),n[0]instanceof uu)return function(a,u,l,f,p){if(!f)throw new D(C.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+l+"().");for(var m=[],y=0,w=Bo(a);y<w.length;y++){var I=w[y];if(I.field.isKeyField())m.push(Xl(u,f.key));else{var E=f.data.field(I.field);if(Bm(E))throw new D(C.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+I.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(E===null){var T=I.field.canonicalString();throw new D(C.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+T+"' (used as the orderBy) does not exist.")}m.push(E)}}return new nu(m,p)}(e._query,e.firestore._databaseId,t,n[0]._document,i);var o=Pi(e.firestore);return function(a,u,l,f,p,m){var y=a.explicitOrderBy;if(p.length>y.length)throw new D(C.INVALID_ARGUMENT,"Too many arguments provided to "+f+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var w=[],I=0;I<p.length;I++){var E=p[I];if(y[I].field.isKeyField()){if(typeof E!="string")throw new D(C.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+f+"(), but got a "+typeof E);if(!$m(a)&&E.indexOf("/")!==-1)throw new D(C.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+f+"() must be a plain document ID, but '"+E+"' contains a slash.");var T=a.path.child(pt.fromString(E));if(!H.isDocumentKey(T))throw new D(C.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+f+"() must result in a valid document path, but '"+T+"' is not because it contains an odd number of segments.");var A=new H(T);w.push(Xl(u,A))}else{var x=HC(l,f,E);w.push(x)}}return new nu(w,m)}(e._query,e.firestore._databaseId,o,t,n,i)}function a1(e,t,n){if(typeof(n=Vt(n))=="string"){if(n==="")throw new D(C.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!$m(t)&&n.indexOf("/")!==-1)throw new D(C.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var i=t.path.child(pt.fromString(n));if(!H.isDocumentKey(i))throw new D(C.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+i+"' is not because it has an odd number of segments ("+i.length+").");return Xl(e,new H(i))}if(n instanceof kt)return Xl(e,n._key);throw new D(C.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+bh(n)+".")}function u1(e,t){if(!Array.isArray(e)||e.length===0)throw new D(C.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new D(C.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function XC(e,t,n){if(!n.isEqual(t))throw new D(C.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function Eh(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}function kr(e,t){if((e=Vt(e)).firestore!==t)throw new D(C.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function c1(e,t,n){e=vt(e,kt);var i=vt(e.firestore,Gt),o=Eh(e.converter,t,n);return wu(i,[Ih(Pi(i),"setDoc",e._key,o,e.converter!==null,n).toMutation(e._key,pe.none())])}function l1(e,t,n){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];e=vt(e,kt);var a=vt(e.firestore,Gt),u=Pi(a);return wu(a,[(typeof(t=Vt(t))=="string"||t instanceof qn?Tv(u,"updateDoc",e._key,t,n,i):Sv(u,"updateDoc",e._key,t)).toMutation(e._key,pe.exists(!0))])}function JC(e){for(var t,n,i,o=[],a=1;a<arguments.length;a++)o[a-1]=arguments[a];e=Vt(e);var u={includeMetadataChanges:!1},l=0;typeof o[l]!="object"||ts(o[l])||(u=o[l],l++);var f,p,m,y={includeMetadataChanges:u.includeMetadataChanges};if(ts(o[l])){var w=o[l];o[l]=(t=w.next)===null||t===void 0?void 0:t.bind(w),o[l+1]=(n=w.error)===null||n===void 0?void 0:n.bind(w),o[l+2]=(i=w.complete)===null||i===void 0?void 0:i.bind(w)}if(e instanceof kt)p=vt(e.firestore,Gt),m=rs(e._key.path),f={next:function(T){o[l]&&o[l](Vm(p,e,T))},error:o[l+1],complete:o[l+2]};else{var I=vt(e,tn);p=vt(I.firestore,Gt),m=I._query;var E=new Ti(p);f={next:function(T){o[l]&&o[l](new xr(p,E,I,T))},error:o[l+1],complete:o[l+2]},QC(e._query)}return function(T,A,x,F){var j=this,nt=new yh(F),ut=new fv(A,nt,x);return T.asyncQueue.enqueueAndForget(function(){return R(j,void 0,void 0,function(){var M;return O(this,function(_t){switch(_t.label){case 0:return M=cv,[4,Zo(T)];case 1:return[2,M.apply(void 0,[_t.sent(),ut])]}})})}),function(){nt.Wo(),T.asyncQueue.enqueueAndForget(function(){return R(j,void 0,void 0,function(){var M;return O(this,function(_t){switch(_t.label){case 0:return M=lv,[4,Zo(T)];case 1:return[2,M.apply(void 0,[_t.sent(),ut])]}})})})}}(de(p),m,y,f)}function wu(e,t){return function(n,i){var o=this,a=new ge;return n.asyncQueue.enqueueAndForget(function(){return R(o,void 0,void 0,function(){var u;return O(this,function(l){switch(l.label){case 0:return u=SL,[4,xC(n)];case 1:return[2,u.apply(void 0,[l.sent(),i,a])]}})})}),a.promise}(de(e),t)}function Vm(e,t,n){var i=n.docs.get(t._key),o=new Ti(e);return new er(e,o,t._key,i,new Ii(n.hasPendingWrites,n.fromCache),t.converter)}function h1(){if(typeof Uint8Array>"u")throw new D(C.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function f1(){if(typeof atob>"u")throw new D(C.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}function t_(e){var t;t=e,Sn.setLogLevel(t)}function Te(e,t,n){return e.message=e.message.replace(t,n),e}function e_(e){for(var t=0,n=e;t<n.length;t++){var i=n[t];if(typeof i=="object"&&!ts(i))return i}return{}}function n_(e,t){var n,i,o;return{next:function(a){o.next&&o.next(t(a))},error:(n=(o=ts(e[0])?e[0]:ts(e[1])?e[1]:typeof e[0]=="function"?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)===null||n===void 0?void 0:n.bind(o),complete:(i=o.complete)===null||i===void 0?void 0:i.bind(o)}}function Ei(e){return vt(e,kt)}var Je,C,D,Sn,d1,Ce,st,m1,pt,DP,Cn,jo,_e,xP,H,Xe,ae,kP,Ze,PP,MP,LP,FP,UP,jP,VP,nu,Fo,nr,fh,zo,_i,Ai,Ho,du,KP,pe,dh,pu,jr,zt,ht,gu,Wm,WP,me,jl,Nr,Qt,vT,QP,YP,XP,JP,ZP,Qm,Ym,Gl,L1,F1,yT,tM,eM,nM,rM,hM,Qe,Pr,Ct,fe,fM,dM,Mt,jn,Me,se,Ye,Si,tr,Ko,Go,pM,W1,Q1,ge,k,Y1,$o,gM,Ja,mM,_T,AT,Zm,vM,gh,X1,yM,wM,nv,bM,xT,Un,IM,rh,EM,SM,TM,CM,_M,is,rC,AM,OM,RM,Sm,NM,DM,iC,xM,oC,kM,VM,iv,Zt,qM,BM,zM,HM,KM,GM,$M,ie,jT,Cm,VT,WM,Mm,_m,fC,QM,qT,YM,XM,JM,ov,pC,ZM,tL,eL,nL,rL,hL,bC,BT,sh,fL,dL,fv,mL,zT,zF,IC,EC,SC,yL,wL,bL,AC,OC,UL,Um,yh,HF,jL,VL,qL,BL,ah,YT,kC,XT,zL,HL,KL,GL,e1,au,kt,tn,Mr,$L,KF,UC,Gt,qn,Oi,ki,vu,WL,QL,VC,BC,YL,Ev,XL,JL,ZL,t2,e2,uu,n2,Ii,er,Za,xr,yu,i2,o2,i1,o1,s1,Av,s2,a2,Ti,u2,Ov,ZC,Rv,Sh,Nv,Dv,Th,Lr,es,ns,bu,c2,lh,cu,r_,i_,o_=yn(()=>{"use strict";Cc();Oa();al();Em();Je=function(){function e(t,n){var i=this;this.previousValue=t,n&&(n.sequenceNumberHandler=function(o){return i.t(o)},this.i=function(o){return n.writeSequenceNumber(o)})}return e.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},e.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},e}();Je.o=-1;C={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},D=function(e){function t(n,i){var o=this;return(o=e.call(this,i)||this).code=n,o.message=i,o.name="FirebaseError",o.toString=function(){return o.name+": [code="+o.code+"]: "+o.message},o}return G(t,e),t}(Error),Sn=new sl("@firebase/firestore");d1=function(){function e(){}return e.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length,i="";i.length<20;)for(var o=NP(40),a=0;a<o.length;++a)i.length<20&&o[a]<n&&(i+=t.charAt(o[a]%t.length));return i},e}();Ce=function(){function e(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new D(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new D(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new D(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new D(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(t){return this.seconds===t.seconds?lt(this.nanoseconds,t.nanoseconds):lt(this.seconds,t.seconds)},e.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),st=function(){function e(t){this.timestamp=t}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new Ce(0,0))},e.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},e.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();m1=function(){function e(t,n,i){n===void 0?n=0:n>t.length&&z(),i===void 0?i=t.length-n:i>t.length-n&&z(),this.segments=t,this.offset=n,this.len=i}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return e.comparator(this,t)===0},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(i){n.push(i)}):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(t){return this.segments[this.offset+t]},e.prototype.isEmpty=function(){return this.length===0},e.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.forEach=function(t){for(var n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(t,n){for(var i=Math.min(t.length,n.length),o=0;o<i;o++){var a=t.get(o),u=n.get(o);if(a<u)return-1;if(a>u)return 1}return t.length<n.length?-1:t.length>n.length?1:0},e}(),pt=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return G(t,e),t.prototype.construct=function(n,i,o){return new t(n,i,o)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var o=[],a=0,u=n;a<u.length;a++){var l=u[a];if(l.indexOf("//")>=0)throw new D(C.INVALID_ARGUMENT,"Invalid segment ("+l+"). Paths must not contain // in them.");o.push.apply(o,l.split("/").filter(function(f){return f.length>0}))}return new t(o)},t.emptyPath=function(){return new t([])},t}(m1),DP=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Cn=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return G(t,e),t.prototype.construct=function(n,i,o){return new t(n,i,o)},t.isValidIdentifier=function(n){return DP.test(n)},t.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(n){for(var i=[],o="",a=0,u=function(){if(o.length===0)throw new D(C.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");i.push(o),o=""},l=!1;a<n.length;){var f=n[a];if(f==="\\"){if(a+1===n.length)throw new D(C.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var p=n[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new D(C.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);o+=p,a+=2}else f==="`"?(l=!l,a++):f!=="."||l?(o+=f,a++):(u(),a++)}if(u(),l)throw new D(C.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new t(i)},t.emptyPath=function(){return new t([])},t}(m1),jo=function(){function e(t){this.fields=t,t.sort(Cn.comparator)}return e.prototype.covers=function(t){for(var n=0,i=this.fields;n<i.length;n++)if(i[n].isPrefixOf(t))return!0;return!1},e.prototype.isEqual=function(t){return Uo(this.fields,t.fields,function(n,i){return n.isEqual(i)})},e}(),_e=function(){function e(t){this.binaryString=t}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(n){for(var i="",o=0;o<n.length;++o)i+=String.fromCharCode(n[o]);return i}(t))},e.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},e.prototype.toUint8Array=function(){return function(t){for(var n=new Uint8Array(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(t){return lt(this.binaryString,t.binaryString)},e.prototype.isEqual=function(t){return this.binaryString===t.binaryString},e}();_e.EMPTY_BYTE_STRING=new _e("");xP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);H=function(){function e(t){this.path=t}return e.fromPath=function(t){return new e(pt.fromString(t))},e.fromName=function(t){return new e(pt.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},e.prototype.isEqual=function(t){return t!==null&&pt.comparator(this.path,t.path)===0},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(t,n){return pt.comparator(t.path,n.path)},e.isDocumentKey=function(t){return t.length%2==0},e.fromSegments=function(t){return new e(new pt(t.slice()))},e}();Xe=function(){function e(t){this.value=t}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){if(t.isEmpty())return this.value;for(var n=this.value,i=0;i<t.length-1;++i)if(!zl(n=(n.mapValue.fields||{})[t.get(i)]))return null;return(n=(n.mapValue.fields||{})[t.lastSegment()])||null},e.prototype.set=function(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Xa(n)},e.prototype.setAll=function(t){var n=this,i=Cn.emptyPath(),o={},a=[];t.forEach(function(l,f){if(!i.isImmediateParentOf(f)){var p=n.getFieldsMap(i);n.applyChanges(p,o,a),o={},a=[],i=f.popLast()}l?o[f.lastSegment()]=Xa(l):a.push(f.lastSegment())});var u=this.getFieldsMap(i);this.applyChanges(u,o,a)},e.prototype.delete=function(t){var n=this.field(t.popLast());zl(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]},e.prototype.isEqual=function(t){return Bn(this.value,t.value)},e.prototype.getFieldsMap=function(t){var n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(var i=0;i<t.length;++i){var o=n.mapValue.fields[t.get(i)];zl(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=o),n=o}return n.mapValue.fields},e.prototype.applyChanges=function(t,n,i){Ri(n,function(l,f){return t[l]=f});for(var o=0,a=i;o<a.length;o++){var u=a[o];delete t[u]}},e.prototype.clone=function(){return new e(Xa(this.value))},e}();ae=function(){function e(t,n,i,o,a){this.key=t,this.documentType=n,this.version=i,this.data=o,this.documentState=a}return e.newInvalidDocument=function(t){return new e(t,0,st.min(),Xe.empty(),0)},e.newFoundDocument=function(t,n,i){return new e(t,1,n,i,0)},e.newNoDocument=function(t,n){return new e(t,2,n,Xe.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,Xe.empty(),2)},e.prototype.convertToFoundDocument=function(t,n){return this.version=t,this.documentType=1,this.data=n,this.documentState=0,this},e.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Xe.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Xe.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return this.documentType!==0},e.prototype.isFoundDocument=function(){return this.documentType===1},e.prototype.isNoDocument=function(){return this.documentType===2},e.prototype.isUnknownDocument=function(){return this.documentType===3},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),kP=function(e,t,n,i,o,a,u){t===void 0&&(t=null),n===void 0&&(n=[]),i===void 0&&(i=[]),o===void 0&&(o=null),a===void 0&&(a=null),u===void 0&&(u=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=i,this.limit=o,this.startAt=a,this.endAt=u,this.h=null};Ze=function(e){function t(n,i,o){var a=this;return(a=e.call(this)||this).field=n,a.op=i,a.value=o,a}return G(t,e),t.create=function(n,i,o){return n.isKeyField()?i==="in"||i==="not-in"?this.l(n,i,o):new PP(n,i,o):i==="array-contains"?new FP(n,o):i==="in"?new UP(n,o):i==="not-in"?new jP(n,o):i==="array-contains-any"?new VP(n,o):new t(n,i,o)},t.l=function(n,i,o){return i==="in"?new MP(n,o):new LP(n,o)},t.prototype.matches=function(n){var i=n.data.field(this.field);return this.op==="!="?i!==null&&this.m(qo(i,this.value)):i!==null&&Ci(this.value)===Ci(i)&&this.m(qo(i,this.value))},t.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return z()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),PP=function(e){function t(n,i,o){var a=this;return(a=e.call(this,n,i,o)||this).key=H.fromName(o.referenceValue),a}return G(t,e),t.prototype.matches=function(n){var i=H.comparator(n.key,this.key);return this.m(i)},t}(Ze),MP=function(e){function t(n,i){var o=this;return(o=e.call(this,n,"in",i)||this).keys=b1("in",i),o}return G(t,e),t.prototype.matches=function(n){return this.keys.some(function(i){return i.isEqual(n.key)})},t}(Ze),LP=function(e){function t(n,i){var o=this;return(o=e.call(this,n,"not-in",i)||this).keys=b1("not-in",i),o}return G(t,e),t.prototype.matches=function(n){return!this.keys.some(function(i){return i.isEqual(n.key)})},t}(Ze);FP=function(e){function t(n,i){return e.call(this,n,"array-contains",i)||this}return G(t,e),t.prototype.matches=function(n){var i=n.data.field(this.field);return Hm(i)&&eu(i.arrayValue,this.value)},t}(Ze),UP=function(e){function t(n,i){return e.call(this,n,"in",i)||this}return G(t,e),t.prototype.matches=function(n){var i=n.data.field(this.field);return i!==null&&eu(this.value.arrayValue,i)},t}(Ze),jP=function(e){function t(n,i){return e.call(this,n,"not-in",i)||this}return G(t,e),t.prototype.matches=function(n){if(eu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var i=n.data.field(this.field);return i!==null&&!eu(this.value.arrayValue,i)},t}(Ze),VP=function(e){function t(n,i){return e.call(this,n,"array-contains-any",i)||this}return G(t,e),t.prototype.matches=function(n){var i=this,o=n.data.field(this.field);return!(!Hm(o)||!o.arrayValue.values)&&o.arrayValue.values.some(function(a){return eu(i.value.arrayValue,a)})},t}(Ze),nu=function(e,t){this.position=e,this.before=t};Fo=function(e,t){t===void 0&&(t="asc"),this.field=e,this.dir=t};nr=function(e,t,n,i,o,a,u,l){t===void 0&&(t=null),n===void 0&&(n=[]),i===void 0&&(i=[]),o===void 0&&(o=null),a===void 0&&(a="F"),u===void 0&&(u=null),l===void 0&&(l=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=i,this.limit=o,this.limitType=a,this.startAt=u,this.endAt=l,this.p=null,this.T=null,this.startAt,this.endAt};fh=function(){this._=void 0};zo=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return G(t,e),t}(fh),_i=function(e){function t(n){var i=this;return(i=e.call(this)||this).elements=n,i}return G(t,e),t}(fh);Ai=function(e){function t(n){var i=this;return(i=e.call(this)||this).elements=n,i}return G(t,e),t}(fh);Ho=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).R=n,o.A=i,o}return G(t,e),t}(fh);du=function(e,t){this.field=e,this.transform=t},KP=function(e,t){this.version=e,this.transformResults=t},pe=function(){function e(t,n){this.updateTime=t,this.exists=n}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},e}();dh=function(){};pu=function(e){function t(n,i,o,a){a===void 0&&(a=[]);var u=this;return(u=e.call(this)||this).key=n,u.value=i,u.precondition=o,u.fieldTransforms=a,u.type=0,u}return G(t,e),t}(dh),jr=function(e){function t(n,i,o,a,u){u===void 0&&(u=[]);var l=this;return(l=e.call(this)||this).key=n,l.data=i,l.fieldMask=o,l.precondition=a,l.fieldTransforms=u,l.type=1,l}return G(t,e),t}(dh);gu=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).key=n,o.precondition=i,o.type=2,o.fieldTransforms=[],o}return G(t,e),t}(dh),Wm=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).key=n,o.precondition=i,o.type=3,o.fieldTransforms=[],o}return G(t,e),t}(dh),WP=function(e){this.count=e};(ht=zt||(zt={}))[ht.OK=0]="OK",ht[ht.CANCELLED=1]="CANCELLED",ht[ht.UNKNOWN=2]="UNKNOWN",ht[ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ht[ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ht[ht.NOT_FOUND=5]="NOT_FOUND",ht[ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",ht[ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",ht[ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",ht[ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ht[ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ht[ht.ABORTED=10]="ABORTED",ht[ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",ht[ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",ht[ht.INTERNAL=13]="INTERNAL",ht[ht.UNAVAILABLE=14]="UNAVAILABLE",ht[ht.DATA_LOSS=15]="DATA_LOSS";me=function(){function e(t,n){this.comparator=t,this.root=n||Nr.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Nr.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Nr.BLACK,null,null))},e.prototype.get=function(t){for(var n=this.root;!n.isEmpty();){var i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null},e.prototype.indexOf=function(t){for(var n=0,i=this.root;!i.isEmpty();){var o=this.comparator(t,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},e.prototype.forEach=function(t){this.inorderTraversal(function(n,i){return t(n,i),!1})},e.prototype.toString=function(){var t=[];return this.inorderTraversal(function(n,i){return t.push(n+":"+i),!1}),"{"+t.join(", ")+"}"},e.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},e.prototype.getIterator=function(){return new jl(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(t){return new jl(this.root,t,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new jl(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(t){return new jl(this.root,t,this.comparator,!0)},e}(),jl=function(){function e(t,n,i,o){this.isReverse=o,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?i(t.key,n):1,o&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(a===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return e.prototype.getNext=function(){var t=this.nodeStack.pop(),n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(this.nodeStack.length===0)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},e}(),Nr=function(){function e(t,n,i,o,a){this.key=t,this.value=n,this.color=i??e.RED,this.left=o??e.EMPTY,this.right=a??e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,i,o,a){return new e(t??this.key,n??this.value,i??this.color,o??this.left,a??this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,i){var o=this,a=i(t,o.key);return(o=a<0?o.copy(null,null,null,o.left.insert(t,n,i),null):a===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,i))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var i,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return e.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},e.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},e.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw z();var t=this.left.check();if(t!==this.right.check())throw z();return t+(this.isRed()?0:1)},e}();Nr.EMPTY=null,Nr.RED=!0,Nr.BLACK=!1,Nr.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw z()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw z()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw z()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw z()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw z()},enumerable:!1,configurable:!0}),e.prototype.copy=function(t,n,i,o,a){return this},e.prototype.insert=function(t,n,i){return new Nr(t,n)},e.prototype.remove=function(t,n){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());Qt=function(){function e(t){this.comparator=t,this.data=new me(this.comparator)}return e.prototype.has=function(t){return this.data.get(t)!==null},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(t){return this.data.indexOf(t)},e.prototype.forEach=function(t){this.data.inorderTraversal(function(n,i){return t(n),!1})},e.prototype.forEachInRange=function(t,n){for(var i=this.data.getIteratorFrom(t[0]);i.hasNext();){var o=i.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}},e.prototype.forEachWhile=function(t,n){var i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return},e.prototype.firstAfterOrEqual=function(t){var n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null},e.prototype.getIterator=function(){return new vT(this.data.getIterator())},e.prototype.getIteratorFrom=function(t){return new vT(this.data.getIteratorFrom(t))},e.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},e.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(t){var n=this;return n.size<t.size&&(n=t,t=this),t.forEach(function(i){n=n.add(i)}),n},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.data.getIterator(),i=t.data.getIterator();n.hasNext();){var o=n.getNext().key,a=i.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0},e.prototype.toArray=function(){var t=[];return this.forEach(function(n){t.push(n)}),t},e.prototype.toString=function(){var t=[];return this.forEach(function(n){return t.push(n)}),"SortedSet("+t.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),vT=function(){function e(t){this.iter=t}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),QP=new me(H.comparator);YP=new me(H.comparator);XP=new me(H.comparator);JP=new Qt(H.comparator);ZP=new Qt(lt);Qm=function(){function e(t,n,i,o,a){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=a}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var i=new Map;return i.set(t,Ym.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(st.min(),i,ph(),cn(),wt())},e}(),Ym=function(){function e(t,n,i,o,a){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=a}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(_e.EMPTY_BYTE_STRING,n,wt(),wt(),wt())},e}(),Gl=function(e,t,n,i){this.v=e,this.removedTargetIds=t,this.key=n,this.P=i},L1=function(e,t){this.targetId=e,this.V=t},F1=function(e,t,n,i){n===void 0&&(n=_e.EMPTY_BYTE_STRING),i===void 0&&(i=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=i},yT=function(){function e(){this.S=0,this.D=bT(),this.C=_e.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},e.prototype.M=function(){var t=wt(),n=wt(),i=wt();return this.D.forEach(function(o,a){switch(a){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:z()}}),new Ym(this.C,this.N,t,n,i)},e.prototype.L=function(){this.k=!1,this.D=bT()},e.prototype.B=function(t,n){this.k=!0,this.D=this.D.insert(t,n)},e.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),tM=function(){function e(t){this.W=t,this.G=new Map,this.H=cn(),this.J=wT(),this.Y=new Qt(lt)}return e.prototype.X=function(t){for(var n=0,i=t.v;n<i.length;n++){var o=i[n];t.P&&t.P.isFoundDocument()?this.Z(o,t.P):this.tt(o,t.key,t.P)}for(var a=0,u=t.removedTargetIds;a<u.length;a++)o=u[a],this.tt(o,t.key,t.P)},e.prototype.et=function(t){var n=this;this.forEachTarget(t,function(i){var o=n.nt(i);switch(t.state){case 0:n.st(i)&&o.O(t.resumeToken);break;case 1:o.K(),o.F||o.L(),o.O(t.resumeToken);break;case 2:o.K(),o.F||n.removeTarget(i);break;case 3:n.st(i)&&(o.j(),o.O(t.resumeToken));break;case 4:n.st(i)&&(n.it(i),o.O(t.resumeToken));break;default:z()}})},e.prototype.forEachTarget=function(t,n){var i=this;t.targetIds.length>0?t.targetIds.forEach(n):this.G.forEach(function(o,a){i.st(a)&&n(a)})},e.prototype.rt=function(t){var n=t.targetId,i=t.V.count,o=this.ot(n);if(o){var a=o.target;if(Jl(a))if(i===0){var u=new H(a.path);this.tt(n,u,ae.newNoDocument(u,st.min()))}else Y(i===1);else this.ct(n)!==i&&(this.it(n),this.Y=this.Y.add(n))}},e.prototype.ut=function(t){var n=this,i=new Map;this.G.forEach(function(u,l){var f=n.ot(l);if(f){if(u.current&&Jl(f.target)){var p=new H(f.target.path);n.H.get(p)!==null||n.at(l,p)||n.tt(l,p,ae.newNoDocument(p,t))}u.$&&(i.set(l,u.M()),u.L())}});var o=wt();this.J.forEach(function(u,l){var f=!0;l.forEachWhile(function(p){var m=n.ot(p);return!m||m.purpose===2||(f=!1,!1)}),f&&(o=o.add(u))});var a=new Qm(t,i,this.Y,this.H,o);return this.H=cn(),this.J=wT(),this.Y=new Qt(lt),a},e.prototype.Z=function(t,n){if(this.st(t)){var i=this.at(t,n.key)?2:0;this.nt(t).B(n.key,i),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(t))}},e.prototype.tt=function(t,n,i){if(this.st(t)){var o=this.nt(t);this.at(t,n)?o.B(n,1):o.q(n),this.J=this.J.insert(n,this.ht(n).delete(t)),i&&(this.H=this.H.insert(n,i))}},e.prototype.removeTarget=function(t){this.G.delete(t)},e.prototype.ct=function(t){var n=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size},e.prototype.U=function(t){this.nt(t).U()},e.prototype.nt=function(t){var n=this.G.get(t);return n||(n=new yT,this.G.set(t,n)),n},e.prototype.ht=function(t){var n=this.J.get(t);return n||(n=new Qt(lt),this.J=this.J.insert(t,n)),n},e.prototype.st=function(t){var n=this.ot(t)!==null;return n||P("WatchChangeAggregator","Detected inactive target",t),n},e.prototype.ot=function(t){var n=this.G.get(t);return n&&n.F?null:this.W.lt(t)},e.prototype.it=function(t){var n=this;this.G.set(t,new yT),this.W.getRemoteKeysForTarget(t).forEach(function(i){n.tt(t,i,null)})},e.prototype.at=function(t,n){return this.W.getRemoteKeysForTarget(t).has(n)},e}();eM={asc:"ASCENDING",desc:"DESCENDING"},nM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rM=function(e,t){this.databaseId=e,this.I=t};hM=function(e,t){this.seconds=e,this.nanoseconds=t},Qe=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};Qe.store="owner",Qe.key="owner";Pr=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};Pr.store="mutationQueues",Pr.keyPath="userId";Ct=function(e,t,n,i,o){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=i,this.mutations=o};Ct.store="mutations",Ct.keyPath="batchId",Ct.userMutationsIndex="userMutationsIndex",Ct.userMutationsKeyPath=["userId","batchId"];fe=function(){function e(){}return e.prefixForUser=function(t){return[t]},e.prefixForPath=function(t,n){return[t,Tn(n)]},e.key=function(t,n,i){return[t,Tn(n),i]},e}();fe.store="documentMutations",fe.PLACEHOLDER=new fe;fM=function(e,t){this.path=e,this.readTime=t},dM=function(e,t){this.path=e,this.version=t},Mt=function(e,t,n,i,o,a){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=i,this.readTime=o,this.parentPath=a};Mt.store="remoteDocuments",Mt.readTimeIndex="readTimeIndex",Mt.readTimeIndexPath="readTime",Mt.collectionReadTimeIndex="collectionReadTimeIndex",Mt.collectionReadTimeIndexPath=["parentPath","readTime"];jn=function(e){this.byteSize=e};jn.store="remoteDocumentGlobal",jn.key="remoteDocumentGlobalKey";Me=function(e,t,n,i,o,a,u){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=i,this.lastListenSequenceNumber=o,this.lastLimboFreeSnapshotVersion=a,this.query=u};Me.store="targets",Me.keyPath="targetId",Me.queryTargetsIndexName="queryTargetsIndex",Me.queryTargetsKeyPath=["canonicalId","targetId"];se=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};se.store="targetDocuments",se.keyPath=["targetId","path"],se.documentTargetsIndex="documentTargetsIndex",se.documentTargetsKeyPath=["path","targetId"];Ye=function(e,t,n,i){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=i};Ye.key="targetGlobalKey",Ye.store="targetGlobal";Si=function(e,t){this.collectionId=e,this.parent=t};Si.store="collectionParents",Si.keyPath=["collectionId","parent"];tr=function(e,t,n,i){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=i};tr.store="clientMetadata",tr.keyPath="clientId";Ko=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};Ko.store="bundles",Ko.keyPath="bundleId";Go=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};Go.store="namedQueries",Go.keyPath="name";pM=Rt(Rt([],Rt(Rt([],Rt(Rt([],Rt(Rt([],[Pr.store,Ct.store,fe.store,Mt.store,Me.store,Qe.store,Ye.store,se.store]),[tr.store])),[jn.store])),[Si.store])),[Ko.store,Go.store]),W1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Q1=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},e}(),ge=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})},k=function(){function e(t){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(i){n.isDone=!0,n.result=i,n.nextCallback&&n.nextCallback(i)},function(i){n.isDone=!0,n.error=i,n.catchCallback&&n.catchCallback(i)})}return e.prototype.catch=function(t){return this.next(void 0,t)},e.prototype.next=function(t,n){var i=this;return this.callbackAttached&&z(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(o,a){i.nextCallback=function(u){i.wrapSuccess(t,u).next(o,a)},i.catchCallback=function(u){i.wrapFailure(n,u).next(o,a)}})},e.prototype.toPromise=function(){var t=this;return new Promise(function(n,i){t.next(n,i)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(i){return e.reject(i)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(n,i){n(t)})},e.reject=function(t){return new e(function(n,i){i(t)})},e.waitFor=function(t){return new e(function(n,i){var o=0,a=0,u=!1;t.forEach(function(l){++o,l.next(function(){++a,u&&a===o&&n()},function(f){return i(f)})}),u=!0,a===o&&n()})},e.or=function(t){for(var n=e.resolve(!1),i=function(u){n=n.next(function(l){return l?e.resolve(l):u()})},o=0,a=t;o<a.length;o++)i(a[o]);return n},e.forEach=function(t,n){var i=this,o=[];return t.forEach(function(a,u){o.push(n.call(i,a,u))}),this.waitFor(o)},e}(),Y1=function(){function e(t,n){var i=this;this.action=t,this.transaction=n,this.aborted=!1,this.ft=new ge,this.transaction.oncomplete=function(){i.ft.resolve()},this.transaction.onabort=function(){n.error?i.ft.reject(new Ja(t,n.error)):i.ft.resolve()},this.transaction.onerror=function(o){var a=Jm(o.target.error);i.ft.reject(new Ja(t,a))}}return e.open=function(t,n,i,o){try{return new e(n,t.transaction(o,i))}catch(a){throw new Ja(n,a)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(P("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(t){var n=this.transaction.objectStore(t);return new mM(n)},e}(),$o=function(){function e(t,n,i){this.name=t,this.version=n,this.wt=i,e._t(Er())===12.2&&Kt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return P("SimpleDb","Removing database:",t),bi(window.indexedDB.deleteDatabase(t)).toPromise()},e.yt=function(){if(typeof indexedDB>"u")return!1;if(e.gt())return!0;var t=Er(),n=e._t(t),i=0<n&&n<10,o=e.Et(t),a=0<o&&o<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||a)},e.gt=function(){var t;return typeof process<"u"&&((t=process.env)===null||t===void 0?void 0:t.Tt)==="YES"},e.It=function(t,n){return t.store(n)},e._t=function(t){var n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(i)},e.Et=function(t){var n=t.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)},e.prototype.At=function(t){return R(this,void 0,void 0,function(){var n,i=this;return O(this,function(o){switch(o.label){case 0:return this.db?[3,2]:(P("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(a,u){var l=indexedDB.open(i.name,i.version);l.onsuccess=function(f){var p=f.target.result;a(p)},l.onblocked=function(){u(new Ja(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=function(f){var p=f.target.error;p.name==="VersionError"?u(new D(C.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):u(new Ja(t,p))},l.onupgradeneeded=function(f){P("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',f.oldVersion);var p=f.target.result;i.wt.Rt(p,l.transaction,f.oldVersion,i.version).next(function(){P("SimpleDb","Database upgrade to version "+i.version+" complete")})}})]);case 1:n.db=o.sent(),o.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(a){return i.bt(a)}),this.db)]}})})},e.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(n){return t(n)})},e.prototype.runTransaction=function(t,n,i,o){return R(this,void 0,void 0,function(){var a,u,l,f,p;return O(this,function(m){switch(m.label){case 0:a=n==="readonly",u=0,l=function(){var y,w,I,E,T;return O(this,function(A){switch(A.label){case 0:++u,A.label=1;case 1:return A.trys.push([1,4,,5]),[4,f.At(t)];case 2:return f.db=A.sent(),y=Y1.open(f.db,t,a?"readonly":"readwrite",i),w=o(y).catch(function(x){return y.abort(x),k.reject(x)}).toPromise(),I={},w.catch(function(){}),[4,y.dt];case 3:return[2,(I.value=(A.sent(),w),I)];case 4:return E=A.sent(),T=E.name!=="FirebaseError"&&u<3,P("SimpleDb","Transaction failed with error:",E.message,"Retrying:",T),f.close(),T?[3,5]:[2,{value:Promise.reject(E)}];case 5:return[2]}})},f=this,m.label=1;case 1:return[5,l()];case 2:if(typeof(p=m.sent())=="object")return[2,p.value];m.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),gM=function(){function e(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(t){this.St=t},e.prototype.delete=function(){return bi(this.Pt.delete())},e}(),Ja=function(e){function t(n,i){var o=this;return(o=e.call(this,C.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+i)||this).name="IndexedDbTransactionError",o}return G(t,e),t}(D);mM=function(){function e(t){this.store=t}return e.prototype.put=function(t,n){var i;return n!==void 0?(P("SimpleDb","PUT",this.store.name,t,n),i=this.store.put(n,t)):(P("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),bi(i)},e.prototype.add=function(t){return P("SimpleDb","ADD",this.store.name,t,t),bi(this.store.add(t))},e.prototype.get=function(t){var n=this;return bi(this.store.get(t)).next(function(i){return i===void 0&&(i=null),P("SimpleDb","GET",n.store.name,t,i),i})},e.prototype.delete=function(t){return P("SimpleDb","DELETE",this.store.name,t),bi(this.store.delete(t))},e.prototype.count=function(){return P("SimpleDb","COUNT",this.store.name),bi(this.store.count())},e.prototype.Nt=function(t,n){var i=this.cursor(this.options(t,n)),o=[];return this.xt(i,function(a,u){o.push(u)}).next(function(){return o})},e.prototype.kt=function(t,n){P("SimpleDb","DELETE ALL",this.store.name);var i=this.options(t,n);i.Ft=!1;var o=this.cursor(i);return this.xt(o,function(a,u,l){return l.delete()})},e.prototype.$t=function(t,n){var i;n?i=t:(i={},n=t);var o=this.cursor(i);return this.xt(o,n)},e.prototype.Ot=function(t){var n=this.cursor({});return new k(function(i,o){n.onerror=function(a){var u=Jm(a.target.error);o(u)},n.onsuccess=function(a){var u=a.target.result;u?t(u.primaryKey,u.value).next(function(l){l?u.continue():i()}):i()}})},e.prototype.xt=function(t,n){var i=[];return new k(function(o,a){t.onerror=function(u){a(u.target.error)},t.onsuccess=function(u){var l=u.target.result;if(l){var f=new gM(l),p=n(l.primaryKey,l.value,f);if(p instanceof k){var m=p.catch(function(y){return f.done(),k.reject(y)});i.push(m)}f.isDone?o():f.Dt===null?l.continue():l.continue(f.Dt)}else o()}}).next(function(){return k.waitFor(i)})},e.prototype.options=function(t,n){var i;return t!==void 0&&(typeof t=="string"?i=t:n=t),{index:i,range:n}},e.prototype.cursor=function(t){var n="next";if(t.reverse&&(n="prev"),t.index){var i=this.store.index(t.index);return t.Ft?i.openKeyCursor(t.range,n):i.openCursor(t.range,n)}return this.store.openCursor(t.range,n)},e}();_T=!1;AT=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).Mt=n,o.currentSequenceNumber=i,o}return G(t,e),t}(Q1);Zm=function(){function e(t,n,i,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=o}return e.prototype.applyToRemoteDocument=function(t,n){for(var i=n.mutationResults,o=0;o<this.mutations.length;o++){var a=this.mutations[o];a.key.isEqual(t.key)&&GP(a,t,i[o])}},e.prototype.applyToLocalView=function(t){for(var n=0,i=this.baseMutations;n<i.length;n++)(u=i[n]).key.isEqual(t.key)&&Dm(u,t,this.localWriteTime);for(var o=0,a=this.mutations;o<a.length;o++){var u;(u=a[o]).key.isEqual(t.key)&&Dm(u,t,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(t){var n=this;this.mutations.forEach(function(i){var o=t.get(i.key),a=o;n.applyToLocalView(a),o.isValidDocument()||a.convertToNoDocument(st.min())})},e.prototype.keys=function(){return this.mutations.reduce(function(t,n){return t.add(n.key)},wt())},e.prototype.isEqual=function(t){return this.batchId===t.batchId&&Uo(this.mutations,t.mutations,function(n,i){return dT(n,i)})&&Uo(this.baseMutations,t.baseMutations,function(n,i){return dT(n,i)})},e}(),vM=function(){function e(t,n,i,o){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=o}return e.from=function(t,n,i){Y(t.mutations.length===i.length);for(var o=M1(),a=t.mutations,u=0;u<a.length;u++)o=o.insert(a[u].key,i[u].version);return new e(t,n,i,o)},e}(),gh=function(){function e(t,n,i,o,a,u,l){a===void 0&&(a=st.min()),u===void 0&&(u=st.min()),l===void 0&&(l=_e.EMPTY_BYTE_STRING),this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=l}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),X1=function(e){this.Lt=e};yM=function(){function e(){}return e.prototype.getBundleMetadata=function(t,n){return RT(t).get(n).next(function(i){if(i)return{id:(o=i).bundleId,createTime:Qo(o.createTime),version:o.version};var o})},e.prototype.saveBundleMetadata=function(t,n){return RT(t).put({bundleId:(i=n).id,createTime:Wo(oe(i.createTime)),version:i.version});var i},e.prototype.getNamedQuery=function(t,n){return NT(t).get(n).next(function(i){if(i)return{name:(o=i).name,query:ev(o.bundledQuery),readTime:Qo(o.readTime)};var o})},e.prototype.saveNamedQuery=function(t,n){return NT(t).put(function(i){return{name:i.name,readTime:Wo(oe(i.readTime)),bundledQuery:i.bundledQuery}}(n))},e}();wM=function(){function e(){this.Bt=new nv}return e.prototype.addToCollectionParentIndex=function(t,n){return this.Bt.add(n),k.resolve()},e.prototype.getCollectionParents=function(t,n){return k.resolve(this.Bt.getEntries(n))},e}(),nv=function(){function e(){this.index={}}return e.prototype.add=function(t){var n=t.lastSegment(),i=t.popLast(),o=this.index[n]||new Qt(pt.comparator),a=!o.has(i);return this.index[n]=o.add(i),a},e.prototype.has=function(t){var n=t.lastSegment(),i=t.popLast(),o=this.index[n];return o&&o.has(i)},e.prototype.getEntries=function(t){return(this.index[t]||new Qt(pt.comparator)).toArray()},e}(),bM=function(){function e(){this.qt=new nv}return e.prototype.addToCollectionParentIndex=function(t,n){var i=this;if(!this.qt.has(n)){var o=n.lastSegment(),a=n.popLast();t.addOnCommittedListener(function(){i.qt.add(n)});var u={collectionId:o,parent:Tn(a)};return DT(t).put(u)}return k.resolve()},e.prototype.getCollectionParents=function(t,n){var i=[],o=IDBKeyRange.bound([n,""],[p1(n),""],!1,!0);return DT(t).Nt(o).next(function(a){for(var u=0,l=a;u<l.length;u++){var f=l[u];if(f.collectionId!==n)break;i.push(Zn(f.parent))}return i})},e}();xT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Un=function(){function e(t,n,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();Un.DEFAULT_COLLECTION_PERCENTILE=10,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Un.DEFAULT=new Un(41943040,Un.DEFAULT_COLLECTION_PERCENTILE,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Un.DISABLED=new Un(-1,0,0);IM=function(){function e(t,n,i,o){this.userId=t,this.R=n,this.Ut=i,this.referenceDelegate=o,this.Kt={}}return e.Qt=function(t,n,i,o){return Y(t.uid!==""),new e(t.isAuthenticated()?t.uid:"",n,i,o)},e.prototype.checkEmpty=function(t){var n=!0,i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ar(t).$t({index:Ct.userMutationsIndex,range:i},function(o,a,u){n=!1,u.done()}).next(function(){return n})},e.prototype.addMutationBatch=function(t,n,i,o){var a=this,u=Mo(t),l=Ar(t);return l.add({}).next(function(f){Y(typeof f=="number");for(var p=new Zm(f,n,i,o),m=function(x,F,j){var nt=j.baseMutations.map(function(M){return eh(x.Lt,M)}),ut=j.mutations.map(function(M){return eh(x.Lt,M)});return new Ct(F,j.batchId,j.localWriteTime.toMillis(),nt,ut)}(a.R,a.userId,p),y=[],w=new Qt(function(x,F){return lt(x.canonicalString(),F.canonicalString())}),I=0,E=o;I<E.length;I++){var T=E[I],A=fe.key(a.userId,T.key.path,f);w=w.add(T.key.path.popLast()),y.push(l.put(m)),y.push(u.put(A,fe.PLACEHOLDER))}return w.forEach(function(x){y.push(a.Ut.addToCollectionParentIndex(t,x))}),t.addOnCommittedListener(function(){a.Kt[f]=p.keys()}),k.waitFor(y).next(function(){return p})})},e.prototype.lookupMutationBatch=function(t,n){var i=this;return Ar(t).get(n).next(function(o){return o?(Y(o.userId===i.userId),Po(i.R,o)):null})},e.prototype.jt=function(t,n){var i=this;return this.Kt[n]?k.resolve(this.Kt[n]):this.lookupMutationBatch(t,n).next(function(o){if(o){var a=o.keys();return i.Kt[n]=a,a}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var i=this,o=n+1,a=IDBKeyRange.lowerBound([this.userId,o]),u=null;return Ar(t).$t({index:Ct.userMutationsIndex,range:a},function(l,f,p){f.userId===i.userId&&(Y(f.batchId>=o),u=Po(i.R,f)),p.done()}).next(function(){return u})},e.prototype.getHighestUnacknowledgedBatchId=function(t){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),i=-1;return Ar(t).$t({index:Ct.userMutationsIndex,range:n,reverse:!0},function(o,a,u){i=a.batchId,u.done()}).next(function(){return i})},e.prototype.getAllMutationBatches=function(t){var n=this,i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ar(t).Nt(Ct.userMutationsIndex,i).next(function(o){return o.map(function(a){return Po(n.R,a)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var i=this,o=fe.prefixForPath(this.userId,n.path),a=IDBKeyRange.lowerBound(o),u=[];return Mo(t).$t({range:a},function(l,f,p){var m=l[0],y=l[1],w=l[2],I=Zn(y);if(m===i.userId&&n.path.isEqual(I))return Ar(t).get(w).next(function(E){if(!E)throw z();Y(E.userId===i.userId),u.push(Po(i.R,E))});p.done()}).next(function(){return u})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var i=this,o=new Qt(lt),a=[];return n.forEach(function(u){var l=fe.prefixForPath(i.userId,u.path),f=IDBKeyRange.lowerBound(l),p=Mo(t).$t({range:f},function(m,y,w){var I=m[0],E=m[1],T=m[2],A=Zn(E);I===i.userId&&u.path.isEqual(A)?o=o.add(T):w.done()});a.push(p)}),k.waitFor(a).next(function(){return i.Wt(t,o)})},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var i=this,o=n.path,a=o.length+1,u=fe.prefixForPath(this.userId,o),l=IDBKeyRange.lowerBound(u),f=new Qt(lt);return Mo(t).$t({range:l},function(p,m,y){var w=p[0],I=p[1],E=p[2],T=Zn(I);w===i.userId&&o.isPrefixOf(T)?T.length===a&&(f=f.add(E)):y.done()}).next(function(){return i.Wt(t,f)})},e.prototype.Wt=function(t,n){var i=this,o=[],a=[];return n.forEach(function(u){a.push(Ar(t).get(u).next(function(l){if(l===null)throw z();Y(l.userId===i.userId),o.push(Po(i.R,l))}))}),k.waitFor(a).next(function(){return o})},e.prototype.removeMutationBatch=function(t,n){var i=this;return tC(t.Mt,this.userId,n).next(function(o){return t.addOnCommittedListener(function(){i.Gt(n.batchId)}),k.forEach(o,function(a){return i.referenceDelegate.markPotentiallyOrphaned(t,a)})})},e.prototype.Gt=function(t){delete this.Kt[t]},e.prototype.performConsistencyCheck=function(t){var n=this;return this.checkEmpty(t).next(function(i){if(!i)return k.resolve();var o=IDBKeyRange.lowerBound(fe.prefixForUser(n.userId)),a=[];return Mo(t).$t({range:o},function(u,l,f){if(u[0]===n.userId){var p=Zn(u[1]);a.push(p)}else f.done()}).next(function(){Y(a.length===0)})})},e.prototype.containsKey=function(t,n){return eC(t,this.userId,n)},e.prototype.zt=function(t){var n=this;return nC(t).get(this.userId).next(function(i){return i||new Pr(n.userId,-1,"")})},e}();rh=function(){function e(t){this.Ht=t}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),EM=function(){function e(t,n){this.referenceDelegate=t,this.R=n}return e.prototype.allocateTargetId=function(t){var n=this;return this.Xt(t).next(function(i){var o=new rh(i.highestTargetId);return i.highestTargetId=o.next(),n.Zt(t,i).next(function(){return i.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(n){return st.fromTimestamp(new Ce(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(n){return n.highestListenSequenceNumber})},e.prototype.setTargetsMetadata=function(t,n,i){var o=this;return this.Xt(t).next(function(a){return a.highestListenSequenceNumber=n,i&&(a.lastRemoteSnapshotVersion=i.toTimestamp()),n>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=n),o.Zt(t,a)})},e.prototype.addTargetData=function(t,n){var i=this;return this.te(t,n).next(function(){return i.Xt(t).next(function(o){return o.targetCount+=1,i.ee(n,o),i.Zt(t,o)})})},e.prototype.updateTargetData=function(t,n){return this.te(t,n)},e.prototype.removeTargetData=function(t,n){var i=this;return this.removeMatchingKeysForTargetId(t,n.targetId).next(function(){return ko(t).delete(n.targetId)}).next(function(){return i.Xt(t)}).next(function(o){return Y(o.targetCount>0),o.targetCount-=1,i.Zt(t,o)})},e.prototype.removeTargets=function(t,n,i){var o=this,a=0,u=[];return ko(t).$t(function(l,f){var p=Ya(f);p.sequenceNumber<=n&&i.get(p.targetId)===null&&(a++,u.push(o.removeTargetData(t,p)))}).next(function(){return k.waitFor(u)}).next(function(){return a})},e.prototype.forEachTarget=function(t,n){return ko(t).$t(function(i,o){var a=Ya(o);n(a)})},e.prototype.Xt=function(t){return kT(t).get(Ye.key).next(function(n){return Y(n!==null),n})},e.prototype.Zt=function(t,n){return kT(t).put(Ye.key,n)},e.prototype.te=function(t,n){return ko(t).put(Z1(this.R,n))},e.prototype.ee=function(t,n){var i=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,i=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,i=!0),i},e.prototype.getTargetCount=function(t){return this.Xt(t).next(function(n){return n.targetCount})},e.prototype.getTargetData=function(t,n){var i=lu(n),o=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]),a=null;return ko(t).$t({range:o,index:Me.queryTargetsIndexName},function(u,l,f){var p=Ya(l);hh(n,p.target)&&(a=p,f.done())}).next(function(){return a})},e.prototype.addMatchingKeys=function(t,n,i){var o=this,a=[],u=Dr(t);return n.forEach(function(l){var f=Tn(l.path);a.push(u.put(new se(i,f))),a.push(o.referenceDelegate.addReference(t,i,l))}),k.waitFor(a)},e.prototype.removeMatchingKeys=function(t,n,i){var o=this,a=Dr(t);return k.forEach(n,function(u){var l=Tn(u.path);return k.waitFor([a.delete([i,l]),o.referenceDelegate.removeReference(t,i,u)])})},e.prototype.removeMatchingKeysForTargetId=function(t,n){var i=Dr(t),o=IDBKeyRange.bound([n],[n+1],!1,!0);return i.delete(o)},e.prototype.getMatchingKeysForTargetId=function(t,n){var i=IDBKeyRange.bound([n],[n+1],!1,!0),o=Dr(t),a=wt();return o.$t({range:i,Ft:!0},function(u,l,f){var p=Zn(u[1]),m=new H(p);a=a.add(m)}).next(function(){return a})},e.prototype.containsKey=function(t,n){var i=Tn(n.path),o=IDBKeyRange.bound([i],[p1(i)],!1,!0),a=0;return Dr(t).$t({index:se.documentTargetsIndex,Ft:!0,range:o},function(u,l,f){var p=u[0];u[1],p!==0&&(a++,f.done())}).next(function(){return a>0})},e.prototype.lt=function(t,n){return ko(t).get(n).next(function(i){return i?Ya(i):null})},e}();SM=function(){function e(t){this.ne=t,this.buffer=new Qt(PT),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(t){var n=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var i=this.buffer.last();PT(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),TM=function(){function e(t,n){this.garbageCollector=t,this.asyncQueue=n,this.oe=!1,this.ce=null}return e.prototype.start=function(t){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(t)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),e.prototype.ue=function(t){var n=this,i=this.oe?3e5:6e4;P("LruGarbageCollector","Garbage collection scheduled in "+i+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,function(){return R(n,void 0,void 0,function(){var o;return O(this,function(a){switch(a.label){case 0:this.ce=null,this.oe=!0,a.label=1;case 1:return a.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return a.sent(),[3,7];case 3:return Di(o=a.sent())?(P("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o),[3,6]):[3,4];case 4:return[4,xi(o)];case 5:a.sent(),a.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return a.sent(),[2]}})})})},e}(),CM=function(){function e(t,n){this.ae=t,this.params=n}return e.prototype.calculateTargetCount=function(t,n){return this.ae.he(t).next(function(i){return Math.floor(n/100*i)})},e.prototype.nthSequenceNumber=function(t,n){var i=this;if(n===0)return k.resolve(Je.o);var o=new SM(n);return this.ae.forEachTarget(t,function(a){return o.re(a.sequenceNumber)}).next(function(){return i.ae.le(t,function(a){return o.re(a)})}).next(function(){return o.maxValue})},e.prototype.removeTargets=function(t,n,i){return this.ae.removeTargets(t,n,i)},e.prototype.removeOrphanedDocuments=function(t,n){return this.ae.removeOrphanedDocuments(t,n)},e.prototype.collect=function(t,n){var i=this;return this.params.cacheSizeCollectionThreshold===-1?(P("LruGarbageCollector","Garbage collection skipped; disabled"),k.resolve(xT)):this.getCacheSize(t).next(function(o){return o<i.params.cacheSizeCollectionThreshold?(P("LruGarbageCollector","Garbage collection skipped; Cache size "+o+" is lower than threshold "+i.params.cacheSizeCollectionThreshold),xT):i.fe(t,n)})},e.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},e.prototype.fe=function(t,n){var i,o,a,u,l,f,p,m=this,y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(w){return w>m.params.maximumSequenceNumbersToCollect?(P("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+m.params.maximumSequenceNumbersToCollect+" from "+w),o=m.params.maximumSequenceNumbersToCollect):o=w,u=Date.now(),m.nthSequenceNumber(t,o)}).next(function(w){return i=w,l=Date.now(),m.removeTargets(t,i,n)}).next(function(w){return a=w,f=Date.now(),m.removeOrphanedDocuments(t,i)}).next(function(w){return p=Date.now(),Am()<=dt.DEBUG&&P("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(u-y)+`ms
	Determined least recently used `+o+" in "+(l-u)+`ms
	Removed `+a+" targets in "+(f-l)+`ms
	Removed `+w+" documents in "+(p-f)+`ms
Total Duration: `+(p-y)+"ms"),k.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:w})})},e}(),_M=function(){function e(t,n){this.db=t,this.garbageCollector=function(i,o){return new CM(i,o)}(this,n)}return e.prototype.he=function(t){var n=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(i){return n.next(function(o){return i+o})})},e.prototype.de=function(t){var n=0;return this.le(t,function(i){n++}).next(function(){return n})},e.prototype.forEachTarget=function(t,n){return this.db.getTargetCache().forEachTarget(t,n)},e.prototype.le=function(t,n){return this.we(t,function(i,o){return n(o)})},e.prototype.addReference=function(t,n,i){return Vl(t,i)},e.prototype.removeReference=function(t,n,i){return Vl(t,i)},e.prototype.removeTargets=function(t,n,i){return this.db.getTargetCache().removeTargets(t,n,i)},e.prototype.markPotentiallyOrphaned=function(t,n){return Vl(t,n)},e.prototype._e=function(t,n){return function(i,o){var a=!1;return nC(i).Ot(function(u){return eC(i,u,o).next(function(l){return l&&(a=!0),k.resolve(!l)})}).next(function(){return a})}(t,n)},e.prototype.removeOrphanedDocuments=function(t,n){var i=this,o=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[],u=0;return this.we(t,function(l,f){if(f<=n){var p=i._e(t,l).next(function(m){if(!m)return u++,o.getEntry(t,l).next(function(){return o.removeEntry(l),Dr(t).delete([0,Tn(l.path)])})});a.push(p)}}).next(function(){return k.waitFor(a)}).next(function(){return o.apply(t)}).next(function(){return u})},e.prototype.removeTarget=function(t,n){var i=n.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)},e.prototype.updateLimboDocument=function(t,n){return Vl(t,n)},e.prototype.we=function(t,n){var i,o=Dr(t),a=Je.o;return o.$t({index:se.documentTargetsIndex},function(u,l){var f=u[0];u[1];var p=l.path,m=l.sequenceNumber;f===0?(a!==Je.o&&n(new H(Zn(i)),a),a=m,i=p):a=Je.o}).next(function(){a!==Je.o&&n(new H(Zn(i)),a)})},e.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},e}();is=function(){function e(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return e.prototype.get=function(t){var n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0)for(var o=0,a=i;o<a.length;o++){var u=a[o],l=u[0],f=u[1];if(this.equalsFn(l,t))return f}},e.prototype.has=function(t){return this.get(t)!==void 0},e.prototype.set=function(t,n){var i=this.mapKeyFn(t),o=this.inner[i];if(o!==void 0){for(var a=0;a<o.length;a++)if(this.equalsFn(o[a][0],t))return void(o[a]=[t,n]);o.push([t,n])}else this.inner[i]=[[t,n]]},e.prototype.delete=function(t){var n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(var o=0;o<i.length;o++)if(this.equalsFn(i[o][0],t))return i.length===1?delete this.inner[n]:i.splice(o,1),!0;return!1},e.prototype.forEach=function(t){Ri(this.inner,function(n,i){for(var o=0,a=i;o<a.length;o++){var u=a[o],l=u[0],f=u[1];t(l,f)}})},e.prototype.isEmpty=function(){return g1(this.inner)},e}(),rC=function(){function e(){this.changes=new is(function(t){return t.toString()},function(t,n){return t.isEqual(n)}),this.changesApplied=!1}return e.prototype.getReadTime=function(t){var n=this.changes.get(t);return n?n.readTime:st.min()},e.prototype.addEntry=function(t,n){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:n})},e.prototype.removeEntry=function(t,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(t,{document:ae.newInvalidDocument(t),readTime:n})},e.prototype.getEntry=function(t,n){this.assertNotApplied();var i=this.changes.get(n);return i!==void 0?k.resolve(i.document):this.getFromCache(t,n)},e.prototype.getEntries=function(t,n){return this.getAllFromCache(t,n)},e.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},e.prototype.assertNotApplied=function(){},e}(),AM=function(){function e(t,n){this.R=t,this.Ut=n}return e.prototype.addEntry=function(t,n,i){return Rr(t).put(ql(n),i)},e.prototype.removeEntry=function(t,n){var i=Rr(t),o=ql(n);return i.delete(o)},e.prototype.updateMetadata=function(t,n){var i=this;return this.getMetadata(t).next(function(o){return o.byteSize+=n,i.me(t,o)})},e.prototype.getEntry=function(t,n){var i=this;return Rr(t).get(ql(n)).next(function(o){return i.ye(n,o)})},e.prototype.ge=function(t,n){var i=this;return Rr(t).get(ql(n)).next(function(o){return{document:i.ye(n,o),size:nh(o)}})},e.prototype.getEntries=function(t,n){var i=this,o=cn();return this.pe(t,n,function(a,u){var l=i.ye(a,u);o=o.insert(a,l)}).next(function(){return o})},e.prototype.Ee=function(t,n){var i=this,o=cn(),a=new me(H.comparator);return this.pe(t,n,function(u,l){var f=i.ye(u,l);o=o.insert(u,f),a=a.insert(u,nh(l))}).next(function(){return{documents:o,Te:a}})},e.prototype.pe=function(t,n,i){if(n.isEmpty())return k.resolve();var o=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),a=n.getIterator(),u=a.getNext();return Rr(t).$t({range:o},function(l,f,p){for(var m=H.fromSegments(l);u&&H.comparator(u,m)<0;)i(u,null),u=a.getNext();u&&u.isEqual(m)&&(i(u,f),u=a.hasNext()?a.getNext():null),u?p.Ct(u.path.toArray()):p.done()}).next(function(){for(;u;)i(u,null),u=a.hasNext()?a.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(t,n,i){var o=this,a=cn(),u=n.path.length+1,l={};if(i.isEqual(st.min())){var f=n.path.toArray();l.range=IDBKeyRange.lowerBound(f)}else{var p=n.path.toArray(),m=tv(i);l.range=IDBKeyRange.lowerBound([p,m],!0),l.index=Mt.collectionReadTimeIndex}return Rr(t).$t(l,function(y,w,I){if(y.length===u){var E=Pm(o.R,w);n.path.isPrefixOf(E.key.path)?fu(n,E)&&(a=a.insert(E.key,E)):I.done()}}).next(function(){return a})},e.prototype.newChangeBuffer=function(t){return new OM(this,!!t&&t.trackRemovals)},e.prototype.getSize=function(t){return this.getMetadata(t).next(function(n){return n.byteSize})},e.prototype.getMetadata=function(t){return MT(t).get(jn.key).next(function(n){return Y(!!n),n})},e.prototype.me=function(t,n){return MT(t).put(jn.key,n)},e.prototype.ye=function(t,n){if(n){var i=Pm(this.R,n);if(!i.isNoDocument()||!i.version.isEqual(st.min()))return i}return ae.newInvalidDocument(t)},e}(),OM=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).Ie=n,o.trackRemovals=i,o.Ae=new is(function(a){return a.toString()},function(a,u){return a.isEqual(u)}),o}return G(t,e),t.prototype.applyChanges=function(n){var i=this,o=[],a=0,u=new Qt(function(l,f){return lt(l.canonicalString(),f.canonicalString())});return this.changes.forEach(function(l,f){var p=i.Ae.get(l);if(f.document.isValidDocument()){var m=OT(i.Ie.R,f.document,i.getReadTime(l));u=u.add(l.path.popLast());var y=nh(m);a+=y-p,o.push(i.Ie.addEntry(n,l,m))}else if(a-=p,i.trackRemovals){var w=OT(i.Ie.R,ae.newNoDocument(l,st.min()),i.getReadTime(l));o.push(i.Ie.addEntry(n,l,w))}else o.push(i.Ie.removeEntry(n,l))}),u.forEach(function(l){o.push(i.Ie.Ut.addToCollectionParentIndex(n,l))}),o.push(this.Ie.updateMetadata(n,a)),k.waitFor(o)},t.prototype.getFromCache=function(n,i){var o=this;return this.Ie.ge(n,i).next(function(a){return o.Ae.set(i,a.size),a.document})},t.prototype.getAllFromCache=function(n,i){var o=this;return this.Ie.Ee(n,i).next(function(a){var u=a.documents;return a.Te.forEach(function(l,f){o.Ae.set(l,f)}),u})},t}(rC);RM=function(){function e(t){this.R=t}return e.prototype.Rt=function(t,n,i,o){var a=this;Y(i<o&&i>=0&&o<=11);var u=new Y1("createOrUpgrade",n);i<1&&o>=1&&(function(f){f.createObjectStore(Qe.store)}(t),function(f){f.createObjectStore(Pr.store,{keyPath:Pr.keyPath}),f.createObjectStore(Ct.store,{keyPath:Ct.keyPath,autoIncrement:!0}).createIndex(Ct.userMutationsIndex,Ct.userMutationsKeyPath,{unique:!0}),f.createObjectStore(fe.store)}(t),LT(t),function(f){f.createObjectStore(Mt.store)}(t));var l=k.resolve();return i<3&&o>=3&&(i!==0&&(function(f){f.deleteObjectStore(se.store),f.deleteObjectStore(Me.store),f.deleteObjectStore(Ye.store)}(t),LT(t)),l=l.next(function(){return function(f){var p=f.store(Ye.store),m=new Ye(0,0,st.min().toTimestamp(),0);return p.put(Ye.key,m)}(u)})),i<4&&o>=4&&(i!==0&&(l=l.next(function(){return function(f,p){return p.store(Ct.store).Nt().next(function(m){f.deleteObjectStore(Ct.store),f.createObjectStore(Ct.store,{keyPath:Ct.keyPath,autoIncrement:!0}).createIndex(Ct.userMutationsIndex,Ct.userMutationsKeyPath,{unique:!0});var y=p.store(Ct.store),w=m.map(function(I){return y.put(I)});return k.waitFor(w)})}(t,u)})),l=l.next(function(){(function(f){f.createObjectStore(tr.store,{keyPath:tr.keyPath})})(t)})),i<5&&o>=5&&(l=l.next(function(){return a.Re(u)})),i<6&&o>=6&&(l=l.next(function(){return function(f){f.createObjectStore(jn.store)}(t),a.be(u)})),i<7&&o>=7&&(l=l.next(function(){return a.ve(u)})),i<8&&o>=8&&(l=l.next(function(){return a.Pe(t,u)})),i<9&&o>=9&&(l=l.next(function(){(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(t),function(f){var p=f.objectStore(Mt.store);p.createIndex(Mt.readTimeIndex,Mt.readTimeIndexPath,{unique:!1}),p.createIndex(Mt.collectionReadTimeIndex,Mt.collectionReadTimeIndexPath,{unique:!1})}(n)})),i<10&&o>=10&&(l=l.next(function(){return a.Ve(u)})),i<11&&o>=11&&(l=l.next(function(){(function(f){f.createObjectStore(Ko.store,{keyPath:Ko.keyPath})})(t),function(f){f.createObjectStore(Go.store,{keyPath:Go.keyPath})}(t)})),l},e.prototype.be=function(t){var n=0;return t.store(Mt.store).$t(function(i,o){n+=nh(o)}).next(function(){var i=new jn(n);return t.store(jn.store).put(jn.key,i)})},e.prototype.Re=function(t){var n=this,i=t.store(Pr.store),o=t.store(Ct.store);return i.Nt().next(function(a){return k.forEach(a,function(u){var l=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return o.Nt(Ct.userMutationsIndex,l).next(function(f){return k.forEach(f,function(p){Y(p.userId===u.userId);var m=Po(n.R,p);return tC(t,u.userId,m).next(function(){})})})})})},e.prototype.ve=function(t){var n=t.store(se.store),i=t.store(Mt.store);return t.store(Ye.store).get(Ye.key).next(function(o){var a=[];return i.$t(function(u,l){var f=new pt(u),p=function(m){return[0,Tn(m)]}(f);a.push(n.get(p).next(function(m){return m?k.resolve():function(y){return n.put(new se(0,Tn(y),o.highestListenSequenceNumber))}(f)}))}).next(function(){return k.waitFor(a)})})},e.prototype.Pe=function(t,n){t.createObjectStore(Si.store,{keyPath:Si.keyPath});var i=n.store(Si.store),o=new nv,a=function(u){if(o.add(u)){var l=u.lastSegment(),f=u.popLast();return i.put({collectionId:l,parent:Tn(f)})}};return n.store(Mt.store).$t({Ft:!0},function(u,l){var f=new pt(u);return a(f.popLast())}).next(function(){return n.store(fe.store).$t({Ft:!0},function(u,l){u[0];var f=u[1];u[2];var p=Zn(f);return a(p.popLast())})})},e.prototype.Ve=function(t){var n=this,i=t.store(Me.store);return i.$t(function(o,a){var u=Ya(a),l=Z1(n.R,u);return i.put(l)})},e}();Sm="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",NM=function(){function e(t,n,i,o,a,u,l,f,p,m){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=i,this.Se=a,this.window=u,this.document=l,this.De=p,this.Ce=m,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(y){return Promise.resolve()},!e.yt())throw new D(C.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new _M(this,o),this.Le=n+"main",this.R=new X1(f),this.Be=new $o(this.Le,11,new RM(this.R)),this.qe=new EM(this.referenceDelegate,this.R),this.Ut=new bM,this.Ue=function(y,w){return new AM(y,w)}(this.R,this.Ut),this.Ke=new yM,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,m===!1&&Kt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new D(C.FAILED_PRECONDITION,Sm);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return t.qe.getHighestSequenceNumber(n)})}).then(function(n){t.Ne=new Je(n,t.De)}).then(function(){t.xe=!0}).catch(function(n){return t.Be&&t.Be.close(),Promise.reject(n)})},e.prototype.He=function(t){var n=this;return this.Me=function(i){return R(n,void 0,void 0,function(){return O(this,function(o){return this.started?[2,t(i)]:[2]})})},t(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(t){var n=this;this.Be.vt(function(i){return R(n,void 0,void 0,function(){return O(this,function(o){switch(o.label){case 0:return i.newVersion===null?[4,t()]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})})},e.prototype.setNetworkEnabled=function(t){var n=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return R(n,void 0,void 0,function(){return O(this,function(i){switch(i.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})}))},e.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return Bl(n).put(new tr(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(n).next(function(i){i||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(n)}).next(function(i){return t.isPrimary&&!i?t.Xe(n).next(function(){return!1}):!!i&&t.Ze(n).next(function(){return!0})})}).catch(function(n){if(Di(n))return P("IndexedDbPersistence","Failed to extend owner lease: ",n),t.isPrimary;if(!t.allowTabSynchronization)throw n;return P("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){t.isPrimary!==n&&t.Se.enqueueRetryable(function(){return t.Me(n)}),t.isPrimary=n})},e.prototype.Je=function(t){var n=this;return Qa(t).get(Qe.key).next(function(i){return k.resolve(n.tn(i))})},e.prototype.en=function(t){return Bl(t).delete(this.clientId)},e.prototype.nn=function(){return R(this,void 0,void 0,function(){var t,n,i,o,a=this;return O(this,function(u){switch(u.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(l){var f=Le(l,tr.store);return f.Nt().next(function(p){var m=a.rn(p,18e5),y=p.filter(function(w){return m.indexOf(w)===-1});return k.forEach(y,function(w){return f.delete(w.clientId)}).next(function(){return y})})}).catch(function(){return[]})]);case 1:if(t=u.sent(),this.Qe)for(n=0,i=t;n<i.length;n++)o=i[n],this.Qe.removeItem(this.on(o.clientId));u.label=2;case 2:return[2]}})})},e.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},e.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},e.prototype.Ye=function(t){var n=this;return this.Ce?k.resolve(!0):Qa(t).get(Qe.key).next(function(i){if(i!==null&&n.sn(i.leaseTimestampMs,5e3)&&!n.cn(i.ownerId)){if(n.tn(i)&&n.networkEnabled)return!0;if(!n.tn(i)){if(!i.allowTabSynchronization)throw new D(C.FAILED_PRECONDITION,Sm);return!1}}return!(!n.networkEnabled||!n.inForeground)||Bl(t).Nt().next(function(o){return n.rn(o,5e3).find(function(a){if(n.clientId!==a.clientId){var u=!n.networkEnabled&&a.networkEnabled,l=!n.inForeground&&a.inForeground,f=n.networkEnabled===a.networkEnabled;if(u||l&&f)return!0}return!1})===void 0})}).next(function(i){return n.isPrimary!==i&&P("IndexedDbPersistence","Client "+(i?"is":"is not")+" eligible for a primary lease."),i})},e.prototype.shutdown=function(){return R(this,void 0,void 0,function(){var t=this;return O(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Qe.store,tr.store],function(i){var o=new AT(i,Je.o);return t.Xe(o).next(function(){return t.en(o)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},e.prototype.rn=function(t,n){var i=this;return t.filter(function(o){return i.sn(o.updateTimeMs,n)&&!i.cn(o.clientId)})},e.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(n){return Bl(n).Nt().next(function(i){return t.rn(i,18e5).map(function(o){return o.clientId})})})},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(t){return IM.Qt(t,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,i){var o=this;P("IndexedDbPersistence","Starting transaction:",t);var a,u=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(t,u,pM,function(l){return a=new AT(l,o.Ne?o.Ne.next():Je.o),n==="readwrite-primary"?o.Je(a).next(function(f){return!!f||o.Ye(a)}).next(function(f){if(!f)throw Kt("Failed to obtain primary lease for action '"+t+"'."),o.isPrimary=!1,o.Se.enqueueRetryable(function(){return o.Me(!1)}),new D(C.FAILED_PRECONDITION,W1);return i(a)}).next(function(f){return o.Ze(a).next(function(){return f})}):o.dn(a).next(function(){return i(a)})}).then(function(l){return a.raiseOnCommittedEvent(),l})},e.prototype.dn=function(t){var n=this;return Qa(t).get(Qe.key).next(function(i){if(i!==null&&n.sn(i.leaseTimestampMs,5e3)&&!n.cn(i.ownerId)&&!n.tn(i)&&!(n.Ce||n.allowTabSynchronization&&i.allowTabSynchronization))throw new D(C.FAILED_PRECONDITION,Sm)})},e.prototype.Ze=function(t){var n=new Qe(this.clientId,this.allowTabSynchronization,Date.now());return Qa(t).put(Qe.key,n)},e.yt=function(){return $o.yt()},e.prototype.Xe=function(t){var n=this,i=Qa(t);return i.get(Qe.key).next(function(o){return n.tn(o)?(P("IndexedDbPersistence","Releasing primary lease."),i.delete(Qe.key)):k.resolve()})},e.prototype.sn=function(t,n){var i=Date.now();return!(t<i-n||t>i&&(Kt("Detected an update time that is in the future: "+t+" > "+i),1))},e.prototype.We=function(){var t=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Fe=function(){t.Se.enqueueAndForget(function(){return t.inForeground=t.document.visibilityState==="visible",t.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground=this.document.visibilityState==="visible")},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var t,n=this;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.ke=function(){n.un(),_E()&&navigator.appVersion.match("Version/14")&&n.Se.enterRestrictedMode(!0),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(t){var n;try{var i=((n=this.Qe)===null||n===void 0?void 0:n.getItem(this.on(t)))!==null;return P("IndexedDbPersistence","Client '"+t+"' "+(i?"is":"is not")+" zombied in LocalStorage"),i}catch(o){return Kt("IndexedDbPersistence","Failed to get zombied client id.",o),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Kt("Failed to set zombie client id.",t)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},e.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},e}();DM=function(e,t){this.progress=e,this.wn=t},iC=function(){function e(t,n,i){this.Ue=t,this._n=n,this.Ut=i}return e.prototype.mn=function(t,n){var i=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,n).next(function(o){return i.yn(t,n,o)})},e.prototype.yn=function(t,n,i){return this.Ue.getEntry(t,n).next(function(o){for(var a=0,u=i;a<u.length;a++)u[a].applyToLocalView(o);return o})},e.prototype.gn=function(t,n){t.forEach(function(i,o){for(var a=0,u=n;a<u.length;a++)u[a].applyToLocalView(o)})},e.prototype.pn=function(t,n){var i=this;return this.Ue.getEntries(t,n).next(function(o){return i.En(t,o).next(function(){return o})})},e.prototype.En=function(t,n){var i=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,n).next(function(o){return i.gn(n,o)})},e.prototype.getDocumentsMatchingQuery=function(t,n,i){return function(o){return H.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.Tn(t,n.path):$m(n)?this.In(t,n,i):this.An(t,n,i)},e.prototype.Tn=function(t,n){return this.mn(t,new H(n)).next(function(i){var o=xm();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})},e.prototype.In=function(t,n,i){var o=this,a=n.collectionGroup,u=xm();return this.Ut.getCollectionParents(t,a).next(function(l){return k.forEach(l,function(f){var p=function(m,y){return new nr(y,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,f.child(a));return o.An(t,p,i).next(function(m){m.forEach(function(y,w){u=u.insert(y,w)})})}).next(function(){return u})})},e.prototype.An=function(t,n,i){var o,a,u=this;return this.Ue.getDocumentsMatchingQuery(t,n,i).next(function(l){return o=l,u._n.getAllMutationBatchesAffectingQuery(t,n)}).next(function(l){return a=l,u.Rn(t,a,o).next(function(f){o=f;for(var p=0,m=a;p<m.length;p++)for(var y=m[p],w=0,I=y.mutations;w<I.length;w++){var E=I[w],T=E.key,A=o.get(T);A==null&&(A=ae.newInvalidDocument(T),o=o.insert(T,A)),Dm(E,A,y.localWriteTime),A.isFoundDocument()||(o=o.remove(T))}})}).next(function(){return o.forEach(function(l,f){fu(n,f)||(o=o.remove(l))}),o})},e.prototype.Rn=function(t,n,i){for(var o=wt(),a=0,u=n;a<u.length;a++)for(var l=0,f=u[a].mutations;l<f.length;l++){var p=f[l];p instanceof jr&&i.get(p.key)===null&&(o=o.add(p.key))}var m=i;return this.Ue.getEntries(t,o).next(function(y){return y.forEach(function(w,I){I.isFoundDocument()&&(m=m.insert(w,I))}),m})},e}(),xM=function(){function e(t,n,i,o){this.targetId=t,this.fromCache=n,this.bn=i,this.vn=o}return e.Pn=function(t,n){for(var i=wt(),o=wt(),a=0,u=n.docChanges;a<u.length;a++){var l=u[a];switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}}return new e(t,n.fromCache,i,o)},e}(),oC=function(){function e(){}return e.prototype.Vn=function(t){this.Sn=t},e.prototype.getDocumentsMatchingQuery=function(t,n,i,o){var a=this;return function(u){return u.filters.length===0&&u.limit===null&&u.startAt==null&&u.endAt==null&&(u.explicitOrderBy.length===0||u.explicitOrderBy.length===1&&u.explicitOrderBy[0].field.isKeyField())}(n)||i.isEqual(st.min())?this.Dn(t,n):this.Sn.pn(t,o).next(function(u){var l=a.Cn(n,u);return(Hl(n)||th(n))&&a.Nn(n.limitType,l,o,i)?a.Dn(t,n):(Am()<=dt.DEBUG&&P("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Nm(n)),a.Sn.getDocumentsMatchingQuery(t,n,i).next(function(f){return l.forEach(function(p){f=f.insert(p.key,p)}),f}))})},e.prototype.Cn=function(t,n){var i=new Qt(T1(t));return n.forEach(function(o,a){fu(t,a)&&(i=i.add(a))}),i},e.prototype.Nn=function(t,n,i,o){if(i.size!==n.size)return!0;var a=t==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)},e.prototype.Dn=function(t,n){return Am()<=dt.DEBUG&&P("QueryEngine","Using full collection scan to execute query:",Nm(n)),this.Sn.getDocumentsMatchingQuery(t,n,st.min())},e}(),kM=function(){function e(t,n,i,o){this.persistence=t,this.xn=n,this.R=o,this.kn=new me(lt),this.Fn=new is(function(a){return lu(a)},hh),this.$n=st.min(),this._n=t.getMutationQueue(i),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new iC(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(t){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(i){return t.collect(i,n.kn)})},e}();VM=function(){function e(t){this.R=t,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(t,n){return k.resolve(this.Qn.get(n))},e.prototype.saveBundleMetadata=function(t,n){var i;return this.Qn.set(n.id,{id:(i=n).id,version:i.version,createTime:oe(i.createTime)}),k.resolve()},e.prototype.getNamedQuery=function(t,n){return k.resolve(this.jn.get(n))},e.prototype.saveNamedQuery=function(t,n){return this.jn.set(n.name,function(i){return{name:i.name,query:ev(i.bundledQuery),readTime:oe(i.readTime)}}(n)),k.resolve()},e}(),iv=function(){function e(){this.Wn=new Qt(Zt.Gn),this.zn=new Qt(Zt.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(t,n){var i=new Zt(t,n);this.Wn=this.Wn.add(i),this.zn=this.zn.add(i)},e.prototype.Jn=function(t,n){var i=this;t.forEach(function(o){return i.addReference(o,n)})},e.prototype.removeReference=function(t,n){this.Yn(new Zt(t,n))},e.prototype.Xn=function(t,n){var i=this;t.forEach(function(o){return i.removeReference(o,n)})},e.prototype.Zn=function(t){var n=this,i=new H(new pt([])),o=new Zt(i,t),a=new Zt(i,t+1),u=[];return this.zn.forEachInRange([o,a],function(l){n.Yn(l),u.push(l.key)}),u},e.prototype.ts=function(){var t=this;this.Wn.forEach(function(n){return t.Yn(n)})},e.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},e.prototype.es=function(t){var n=new H(new pt([])),i=new Zt(n,t),o=new Zt(n,t+1),a=wt();return this.zn.forEachInRange([i,o],function(u){a=a.add(u.key)}),a},e.prototype.containsKey=function(t){var n=new Zt(t,0),i=this.Wn.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)},e}(),Zt=function(){function e(t,n){this.key=t,this.ns=n}return e.Gn=function(t,n){return H.comparator(t.key,n.key)||lt(t.ns,n.ns)},e.Hn=function(t,n){return lt(t.ns,n.ns)||H.comparator(t.key,n.key)},e}(),qM=function(){function e(t,n){this.Ut=t,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new Qt(Zt.Gn)}return e.prototype.checkEmpty=function(t){return k.resolve(this._n.length===0)},e.prototype.addMutationBatch=function(t,n,i,o){var a=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var u=new Zm(a,n,i,o);this._n.push(u);for(var l=0,f=o;l<f.length;l++){var p=f[l];this.rs=this.rs.add(new Zt(p.key,a)),this.Ut.addToCollectionParentIndex(t,p.key.path.popLast())}return k.resolve(u)},e.prototype.lookupMutationBatch=function(t,n){return k.resolve(this.os(n))},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var i=n+1,o=this.cs(i),a=o<0?0:o;return k.resolve(this._n.length>a?this._n[a]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return k.resolve(this._n.length===0?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(t){return k.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var i=this,o=new Zt(n,0),a=new Zt(n,Number.POSITIVE_INFINITY),u=[];return this.rs.forEachInRange([o,a],function(l){var f=i.os(l.ns);u.push(f)}),k.resolve(u)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var i=this,o=new Qt(lt);return n.forEach(function(a){var u=new Zt(a,0),l=new Zt(a,Number.POSITIVE_INFINITY);i.rs.forEachInRange([u,l],function(f){o=o.add(f.ns)})}),k.resolve(this.us(o))},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var i=n.path,o=i.length+1,a=i;H.isDocumentKey(a)||(a=a.child(""));var u=new Zt(new H(a),0),l=new Qt(lt);return this.rs.forEachWhile(function(f){var p=f.key.path;return!!i.isPrefixOf(p)&&(p.length===o&&(l=l.add(f.ns)),!0)},u),k.resolve(this.us(l))},e.prototype.us=function(t){var n=this,i=[];return t.forEach(function(o){var a=n.os(o);a!==null&&i.push(a)}),i},e.prototype.removeMutationBatch=function(t,n){var i=this;Y(this.hs(n.batchId,"removed")===0),this._n.shift();var o=this.rs;return k.forEach(n.mutations,function(a){var u=new Zt(a.key,n.batchId);return o=o.delete(u),i.referenceDelegate.markPotentiallyOrphaned(t,a.key)}).next(function(){i.rs=o})},e.prototype.Gt=function(t){},e.prototype.containsKey=function(t,n){var i=new Zt(n,0),o=this.rs.firstAfterOrEqual(i);return k.resolve(n.isEqual(o&&o.key))},e.prototype.performConsistencyCheck=function(t){return this._n.length,k.resolve()},e.prototype.hs=function(t,n){return this.cs(t)},e.prototype.cs=function(t){return this._n.length===0?0:t-this._n[0].batchId},e.prototype.os=function(t){var n=this.cs(t);return n<0||n>=this._n.length?null:this._n[n]},e}(),BM=function(){function e(t,n){this.Ut=t,this.ls=n,this.docs=new me(H.comparator),this.size=0}return e.prototype.addEntry=function(t,n,i){var o=n.key,a=this.docs.get(o),u=a?a.size:0,l=this.ls(n);return this.docs=this.docs.insert(o,{document:n.clone(),size:l,readTime:i}),this.size+=l-u,this.Ut.addToCollectionParentIndex(t,o.path.popLast())},e.prototype.removeEntry=function(t){var n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)},e.prototype.getEntry=function(t,n){var i=this.docs.get(n);return k.resolve(i?i.document.clone():ae.newInvalidDocument(n))},e.prototype.getEntries=function(t,n){var i=this,o=cn();return n.forEach(function(a){var u=i.docs.get(a);o=o.insert(a,u?u.document.clone():ae.newInvalidDocument(a))}),k.resolve(o)},e.prototype.getDocumentsMatchingQuery=function(t,n,i){for(var o=cn(),a=new H(n.path.child("")),u=this.docs.getIteratorFrom(a);u.hasNext();){var l=u.getNext(),f=l.key,p=l.value,m=p.document,y=p.readTime;if(!n.path.isPrefixOf(f.path))break;y.compareTo(i)<=0||fu(n,m)&&(o=o.insert(m.key,m.clone()))}return k.resolve(o)},e.prototype.fs=function(t,n){return k.forEach(this.docs,function(i){return n(i)})},e.prototype.newChangeBuffer=function(t){return new zM(this)},e.prototype.getSize=function(t){return k.resolve(this.size)},e}(),zM=function(e){function t(n){var i=this;return(i=e.call(this)||this).Ie=n,i}return G(t,e),t.prototype.applyChanges=function(n){var i=this,o=[];return this.changes.forEach(function(a,u){u.document.isValidDocument()?o.push(i.Ie.addEntry(n,u.document,i.getReadTime(a))):i.Ie.removeEntry(a)}),k.waitFor(o)},t.prototype.getFromCache=function(n,i){return this.Ie.getEntry(n,i)},t.prototype.getAllFromCache=function(n,i){return this.Ie.getEntries(n,i)},t}(rC),HM=function(){function e(t){this.persistence=t,this.ds=new is(function(n){return lu(n)},hh),this.lastRemoteSnapshotVersion=st.min(),this.highestTargetId=0,this.ws=0,this._s=new iv,this.targetCount=0,this.ys=rh.Jt()}return e.prototype.forEachTarget=function(t,n){return this.ds.forEach(function(i,o){return n(o)}),k.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(t){return k.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(t){return k.resolve(this.ws)},e.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),k.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ws&&(this.ws=n),k.resolve()},e.prototype.te=function(t){this.ds.set(t.target,t);var n=t.targetId;n>this.highestTargetId&&(this.ys=new rh(n),this.highestTargetId=n),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},e.prototype.addTargetData=function(t,n){return this.te(n),this.targetCount+=1,k.resolve()},e.prototype.updateTargetData=function(t,n){return this.te(n),k.resolve()},e.prototype.removeTargetData=function(t,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,k.resolve()},e.prototype.removeTargets=function(t,n,i){var o=this,a=0,u=[];return this.ds.forEach(function(l,f){f.sequenceNumber<=n&&i.get(f.targetId)===null&&(o.ds.delete(l),u.push(o.removeMatchingKeysForTargetId(t,f.targetId)),a++)}),k.waitFor(u).next(function(){return a})},e.prototype.getTargetCount=function(t){return k.resolve(this.targetCount)},e.prototype.getTargetData=function(t,n){var i=this.ds.get(n)||null;return k.resolve(i)},e.prototype.addMatchingKeys=function(t,n,i){return this._s.Jn(n,i),k.resolve()},e.prototype.removeMatchingKeys=function(t,n,i){this._s.Xn(n,i);var o=this.persistence.referenceDelegate,a=[];return o&&n.forEach(function(u){a.push(o.markPotentiallyOrphaned(t,u))}),k.waitFor(a)},e.prototype.removeMatchingKeysForTargetId=function(t,n){return this._s.Zn(n),k.resolve()},e.prototype.getMatchingKeysForTargetId=function(t,n){var i=this._s.es(n);return k.resolve(i)},e.prototype.containsKey=function(t,n){return k.resolve(this._s.containsKey(n))},e}(),KM=function(){function e(t,n){var i=this;this.gs={},this.Ne=new Je(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new HM(this),this.Ut=new wM,this.Ue=function(o,a){return new BM(o,function(u){return i.referenceDelegate.ps(u)})}(this.Ut),this.R=new X1(n),this.Ke=new VM(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(t){var n=this.gs[t.toKey()];return n||(n=new qM(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=n),n},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,i){var o=this;P("MemoryPersistence","Starting transaction:",t);var a=new GM(this.Ne.next());return this.referenceDelegate.Es(),i(a).next(function(u){return o.referenceDelegate.Ts(a).next(function(){return u})}).toPromise().then(function(u){return a.raiseOnCommittedEvent(),u})},e.prototype.Is=function(t,n){return k.or(Object.values(this.gs).map(function(i){return function(){return i.containsKey(t,n)}}))},e}(),GM=function(e){function t(n){var i=this;return(i=e.call(this)||this).currentSequenceNumber=n,i}return G(t,e),t}(Q1),$M=function(){function e(t){this.persistence=t,this.As=new iv,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw z()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(t,n,i){return this.As.addReference(i,n),this.vs.delete(i.toString()),k.resolve()},e.prototype.removeReference=function(t,n,i){return this.As.removeReference(i,n),this.vs.add(i.toString()),k.resolve()},e.prototype.markPotentiallyOrphaned=function(t,n){return this.vs.add(n.toString()),k.resolve()},e.prototype.removeTarget=function(t,n){var i=this;this.As.Zn(n.targetId).forEach(function(a){return i.vs.add(a.toString())});var o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(t,n.targetId).next(function(a){a.forEach(function(u){return i.vs.add(u.toString())})}).next(function(){return o.removeTargetData(t,n)})},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(t){var n=this,i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return k.forEach(this.vs,function(o){var a=H.fromPath(o);return n.Ps(t,a).next(function(u){u||i.removeEntry(a)})}).next(function(){return n.Rs=null,i.apply(t)})},e.prototype.updateLimboDocument=function(t,n){var i=this;return this.Ps(t,n).next(function(o){o?i.vs.delete(n.toString()):i.vs.add(n.toString())})},e.prototype.ps=function(t){return 0},e.prototype.Ps=function(t,n){var i=this;return k.or([function(){return k.resolve(i.As.containsKey(n))},function(){return i.persistence.getTargetCache().containsKey(t,n)},function(){return i.persistence.Is(t,n)}])},e}(),ie=function(){function e(t){this.uid=t}return e.prototype.isAuthenticated=function(){return this.uid!=null},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(t){return t.uid===this.uid},e}();ie.UNAUTHENTICATED=new ie(null),ie.GOOGLE_CREDENTIALS=new ie("google-credentials-uid"),ie.FIRST_PARTY=new ie("first-party-uid"),ie.MOCK_USER=new ie("mock-user");jT=function(){function e(t,n,i,o){this.user=t,this.batchId=n,this.state=i,this.error=o}return e.Vs=function(t,n,i){var o,a=JSON.parse(i),u=typeof a=="object"&&["pending","acknowledged","rejected"].indexOf(a.state)!==-1&&(a.error===void 0||typeof a.error=="object");return u&&a.error&&(u=typeof a.error.message=="string"&&typeof a.error.code=="string")&&(o=new D(a.error.code,a.error.message)),u?new e(t,n,a.state,o):(Kt("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+i),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),Cm=function(){function e(t,n,i){this.targetId=t,this.state=n,this.error=i}return e.Vs=function(t,n){var i,o=JSON.parse(n),a=typeof o=="object"&&["not-current","current","rejected"].indexOf(o.state)!==-1&&(o.error===void 0||typeof o.error=="object");return a&&o.error&&(a=typeof o.error.message=="string"&&typeof o.error.code=="string")&&(i=new D(o.error.code,o.error.message)),a?new e(t,o.state,i):(Kt("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),VT=function(){function e(t,n){this.clientId=t,this.activeTargetIds=n}return e.Vs=function(t,n){for(var i=JSON.parse(n),o=typeof i=="object"&&i.activeTargetIds instanceof Array,a=ph(),u=0;o&&u<i.activeTargetIds.length;++u)o=y1(i.activeTargetIds[u]),a=a.add(i.activeTargetIds[u]);return o?new e(t,a):(Kt("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),WM=function(){function e(t,n){this.clientId=t,this.onlineState=n}return e.Vs=function(t){var n=JSON.parse(t);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new e(n.clientId,n.onlineState):(Kt("SharedClientState","Failed to parse online state: "+t),null)},e}(),Mm=function(){function e(){this.activeTargetIds=ph()}return e.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},e.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},e.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},e}(),_m=function(){function e(t,n,i,o,a){this.window=t,this.Se=n,this.persistenceKey=i,this.Ns=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new me(lt),this.started=!1,this.$s=[];var u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.Os=FT(this.persistenceKey,this.Ns),this.Ms=function(l){return"firestore_sequence_number_"+l}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new Mm),this.Ls=new RegExp("^firestore_clients_"+u+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+u+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+u+"_(\\d+)$"),this.Us=function(l){return"firestore_online_state_"+l}(this.persistenceKey),this.Ks=function(l){return"firestore_bundle_loaded_"+l}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(t){return!(!t||!t.localStorage)},e.prototype.start=function(){return R(this,void 0,void 0,function(){var t,n,i,o,a,u,l,f,p,m,y,w=this;return O(this,function(I){switch(I.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=I.sent(),n=0,i=t;n<i.length;n++)(o=i[n])!==this.Ns&&(a=this.getItem(FT(this.persistenceKey,o)))&&(u=VT.Vs(o,a))&&(this.Fs=this.Fs.insert(u.clientId,u));for(this.Qs(),(l=this.storage.getItem(this.Us))&&(f=this.js(l))&&this.Ws(f),p=0,m=this.$s;p<m.length;p++)y=m[p],this.ks(y);return this.$s=[],this.window.addEventListener("pagehide",function(){return w.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(t){var n=!1;return this.Fs.forEach(function(i,o){o.activeTargetIds.has(t)&&(n=!0)}),n},e.prototype.addPendingMutation=function(t){this.zs(t,"pending")},e.prototype.updateMutationState=function(t,n,i){this.zs(t,n,i),this.Hs(t)},e.prototype.addLocalQueryTarget=function(t){var n="not-current";if(this.isActiveQueryTarget(t)){var i=this.storage.getItem(Tm(this.persistenceKey,t));if(i){var o=Cm.Vs(t,i);o&&(n=o.state)}}return this.Js.Ds(t),this.Qs(),n},e.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},e.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){this.removeItem(Tm(this.persistenceKey,t))},e.prototype.updateQueryState=function(t,n,i){this.Ys(t,n,i)},e.prototype.handleUserChange=function(t,n,i){var o=this;n.forEach(function(a){o.Hs(a)}),this.currentUser=t,i.forEach(function(a){o.addPendingMutation(a)})},e.prototype.setOnlineState=function(t){this.Xs(t)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(t){var n=this.storage.getItem(t);return P("SharedClientState","READ",t,n),n},e.prototype.setItem=function(t,n){P("SharedClientState","SET",t,n),this.storage.setItem(t,n)},e.prototype.removeItem=function(t){P("SharedClientState","REMOVE",t),this.storage.removeItem(t)},e.prototype.ks=function(t){var n=this,i=t;if(i.storageArea===this.storage){if(P("SharedClientState","EVENT",i.key,i.newValue),i.key===this.Os)return void Kt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return R(n,void 0,void 0,function(){var o,a,u,l,f,p;return O(this,function(m){if(this.started){if(i.key!==null){if(this.Ls.test(i.key)){if(i.newValue==null)return o=this.ti(i.key),[2,this.ei(o,null)];if(a=this.ni(i.key,i.newValue))return[2,this.ei(a.clientId,a)]}else if(this.Bs.test(i.key)){if(i.newValue!==null&&(u=this.si(i.key,i.newValue)))return[2,this.ii(u)]}else if(this.qs.test(i.key)){if(i.newValue!==null&&(l=this.ri(i.key,i.newValue)))return[2,this.oi(l)]}else if(i.key===this.Us){if(i.newValue!==null&&(f=this.js(i.newValue)))return[2,this.Ws(f)]}else if(i.key===this.Ms)(p=function(y){var w=Je.o;if(y!=null)try{var I=JSON.parse(y);Y(typeof I=="number"),w=I}catch(E){Kt("SharedClientState","Failed to read sequence number from WebStorage",E)}return w}(i.newValue))!==Je.o&&this.sequenceNumberHandler(p);else if(i.key===this.Ks)return[2,this.syncEngine.ci()]}}else this.$s.push(i);return[2]})})})}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(t,n,i){var o=new jT(this.currentUser,t,n,i),a=UT(this.persistenceKey,this.currentUser,t);this.setItem(a,o.Ss())},e.prototype.Hs=function(t){var n=UT(this.persistenceKey,this.currentUser,t);this.removeItem(n)},e.prototype.Xs=function(t){var n={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(n))},e.prototype.Ys=function(t,n,i){var o=Tm(this.persistenceKey,t),a=new Cm(t,n,i);this.setItem(o,a.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(t){var n=this.Ls.exec(t);return n?n[1]:null},e.prototype.ni=function(t,n){var i=this.ti(t);return VT.Vs(i,n)},e.prototype.si=function(t,n){var i=this.Bs.exec(t),o=Number(i[1]),a=i[2]!==void 0?i[2]:null;return jT.Vs(new ie(a),o,n)},e.prototype.ri=function(t,n){var i=this.qs.exec(t),o=Number(i[1]);return Cm.Vs(o,n)},e.prototype.js=function(t){return WM.Vs(t)},e.prototype.ii=function(t){return R(this,void 0,void 0,function(){return O(this,function(n){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(P("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},e.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},e.prototype.ei=function(t,n){var i=this,o=n?this.Fs.insert(t,n):this.Fs.remove(t),a=this.Gs(this.Fs),u=this.Gs(o),l=[],f=[];return u.forEach(function(p){a.has(p)||l.push(p)}),a.forEach(function(p){u.has(p)||f.push(p)}),this.syncEngine.hi(l,f).then(function(){i.Fs=o})},e.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},e.prototype.Gs=function(t){var n=ph();return t.forEach(function(i,o){n=n.unionWith(o.activeTargetIds)}),n},e}(),fC=function(){function e(){this.li=new Mm,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(t){},e.prototype.updateMutationState=function(t,n,i){},e.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},e.prototype.updateQueryState=function(t,n,i){this.fi[t]=n},e.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},e.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){delete this.fi[t]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.start=function(){return this.li=new Mm,Promise.resolve()},e.prototype.handleUserChange=function(t,n,i){},e.prototype.setOnlineState=function(t){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(t){},e.prototype.notifyBundleLoaded=function(){},e}(),QM=function(){function e(){}return e.prototype.di=function(t){},e.prototype.shutdown=function(){},e}(),qT=function(){function e(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return e.prototype.di=function(t){this.gi.push(t)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){P("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(0)},e.prototype.yi=function(){P("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(1)},e.yt=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},e}(),YM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},XM=function(){function e(t){this.Ei=t.Ei,this.Ti=t.Ti}return e.prototype.Ii=function(t){this.Ai=t},e.prototype.Ri=function(t){this.bi=t},e.prototype.onMessage=function(t){this.vi=t},e.prototype.close=function(){this.Ti()},e.prototype.send=function(t){this.Ei(t)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(t){this.bi(t)},e.prototype.Si=function(t){this.vi(t)},e}(),JM=function(e){function t(n){var i=this;return(i=e.call(this,n)||this).forceLongPolling=n.forceLongPolling,i.autoDetectLongPolling=n.autoDetectLongPolling,i.useFetchStreams=n.useFetchStreams,i}return G(t,e),t.prototype.Fi=function(n,i,o,a){return new Promise(function(u,l){var f=new iT;f.listenOnce(eT.COMPLETE,function(){try{switch(f.getLastErrorCode()){case Ul.NO_ERROR:var m=f.getResponseJson();P("Connection","XHR received:",JSON.stringify(m)),u(m);break;case Ul.TIMEOUT:P("Connection",'RPC "'+n+'" timed out'),l(new D(C.DEADLINE_EXCEEDED,"Request time out"));break;case Ul.HTTP_ERROR:var y=f.getStatus();if(P("Connection",'RPC "'+n+'" failed with status:',y,"response text:",f.getResponseText()),y>0){var w=f.getResponseJson().error;if(w&&w.status&&w.message){var I=function(E){var T=E.toLowerCase().replace(/_/g,"-");return Object.values(C).indexOf(T)>=0?T:C.UNKNOWN}(w.status);l(new D(I,w.message))}else l(new D(C.UNKNOWN,"Server responded with status "+f.getStatus()))}else l(new D(C.UNAVAILABLE,"Connection failed."));break;default:z()}}finally{P("Connection",'RPC "'+n+'" completed.')}});var p=JSON.stringify(a);f.send(i,"POST",p,o,15)})},t.prototype.Oi=function(n,i){var o=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],a=ZS(),u=tT(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new rT({})),this.ki(l.initMessageHeaders,i),wE()||EE()||SE()||TE()||CE()||IE()||(l.httpHeadersOverwriteParam="$httpHeaders");var f=o.join("");P("Connection","Creating WebChannel: "+f,l);var p=a.createWebChannel(f,l),m=!1,y=!1,w=new XM({Ei:function(E){y?P("Connection","Not sending because WebChannel is closed:",E):(m||(P("Connection","Opening WebChannel transport."),p.open(),m=!0),P("Connection","WebChannel sending:",E),p.send(E))},Ti:function(){return p.close()}}),I=function(E,T,A){E.listen(T,function(x){try{A(x)}catch(F){setTimeout(function(){throw F},0)}})};return I(p,Wa.EventType.OPEN,function(){y||P("Connection","WebChannel transport opened.")}),I(p,Wa.EventType.CLOSE,function(){y||(y=!0,P("Connection","WebChannel transport closed"),w.Vi())}),I(p,Wa.EventType.ERROR,function(E){y||(y=!0,Ql("Connection","WebChannel transport errored:",E),w.Vi(new D(C.UNAVAILABLE,"The operation could not be completed")))}),I(p,Wa.EventType.MESSAGE,function(E){var T;if(!y){var A=E.data[0];Y(!!A);var x=A,F=x.error||((T=x[0])===null||T===void 0?void 0:T.error);if(F){P("Connection","WebChannel received error:",F);var j=F.status,nt=function(M){var _t=zt[M];if(_t!==void 0)return P1(_t)}(j),ut=F.message;nt===void 0&&(nt=C.INTERNAL,ut="Unknown error status: "+j+" with message "+F.message),y=!0,w.Vi(new D(nt,ut)),p.close()}else P("Connection","WebChannel received:",A),w.Si(A)}}),I(u,nT.STAT_EVENT,function(E){E.stat===Im.PROXY?P("Connection","Detected buffering proxy"):E.stat===Im.NOPROXY&&P("Connection","Detected no buffering proxy")}),setTimeout(function(){w.Pi()},0),w},t}(function(){function e(t){this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Di=n+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(t,n,i,o){var a=this.xi(t,n);P("RestConnection","Sending: ",a,i);var u={};return this.ki(u,o),this.Fi(t,a,u,i).then(function(l){return P("RestConnection","Received: ",l),l},function(l){throw Ql("RestConnection",t+" failed with error: ",l,"url: ",a,"request:",i),l})},e.prototype.$i=function(t,n,i,o){return this.Ni(t,n,i,o)},e.prototype.ki=function(t,n){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var i in n.authHeaders)n.authHeaders.hasOwnProperty(i)&&(t[i]=n.authHeaders[i])},e.prototype.xi=function(t,n){var i=YM[t];return this.Di+"/v1/"+n+":"+i},e}());ov=function(){function e(t,n,i,o,a){i===void 0&&(i=1e3),o===void 0&&(o=1.5),a===void 0&&(a=6e4),this.Se=t,this.timerId=n,this.Mi=i,this.Li=o,this.Bi=a,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(t){var n=this;this.cancel();var i=Math.floor(this.qi+this.Wi()),o=Math.max(0,Date.now()-this.Ki),a=Math.max(0,i-o);a>0&&P("ExponentialBackoff","Backing off for "+a+" ms (base delay: "+this.qi+" ms, delay with jitter: "+i+" ms, last attempt: "+o+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,a,function(){return n.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),pC=function(){function e(t,n,i,o,a,u){this.Se=t,this.zi=i,this.Hi=o,this.Ji=a,this.listener=u,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new ov(t,n)}return e.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},e.prototype.er=function(){return this.state===2},e.prototype.start=function(){this.state!==3?this.auth():this.nr()},e.prototype.stop=function(){return R(this,void 0,void 0,function(){return O(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var t=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},e.prototype.cr=function(t){this.ur(),this.stream.send(t)},e.prototype.rr=function(){return R(this,void 0,void 0,function(){return O(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(t,n){return R(this,void 0,void 0,function(){return O(this,function(i){switch(i.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,t!==3?this.Zi.reset():n&&n.code===C.RESOURCE_EXHAUSTED?(Kt(n.toString()),Kt("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):n&&n.code===C.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(n)];case 1:return i.sent(),[2]}})})},e.prototype.ar=function(){},e.prototype.auth=function(){var t=this;this.state=1;var n=this.hr(this.Yi),i=this.Yi;this.Ji.getToken().then(function(o){t.Yi===i&&t.lr(o)},function(o){n(function(){var a=new D(C.UNKNOWN,"Fetching auth token failed: "+o.message);return t.dr(a)})})},e.prototype.lr=function(t){var n=this,i=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){i(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(o){i(function(){return n.dr(o)})}),this.stream.onMessage(function(o){i(function(){return n.onMessage(o)})})},e.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return R(t,void 0,void 0,function(){return O(this,function(n){return this.state=0,this.start(),[2]})})})},e.prototype.dr=function(t){return P("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},e.prototype.hr=function(t){var n=this;return function(i){n.Se.enqueueAndForget(function(){return n.Yi===t?i():(P("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),ZM=function(e){function t(n,i,o,a,u){var l=this;return(l=e.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",i,o,u)||this).R=a,l}return G(t,e),t.prototype.wr=function(n){return this.Hi.Oi("Listen",n)},t.prototype.onMessage=function(n){this.Zi.reset();var i=function(a,u){var l;if("targetChange"in u){u.targetChange;var f=function(A){return A==="NO_CHANGE"?0:A==="ADD"?1:A==="REMOVE"?2:A==="CURRENT"?3:A==="RESET"?4:z()}(u.targetChange.targetChangeType||"NO_CHANGE"),p=u.targetChange.targetIds||[],m=function(A,x){return A.I?(Y(x===void 0||typeof x=="string"),_e.fromBase64String(x||"")):(Y(x===void 0||x instanceof Uint8Array),_e.fromUint8Array(x||new Uint8Array))}(a,u.targetChange.resumeToken),y=(w=u.targetChange.cause)&&function(A){var x=A.code===void 0?C.UNKNOWN:P1(A.code);return new D(x,A.message||"")}(w);l=new F1(f,p,m,y||null)}else if("documentChange"in u){u.documentChange,(f=u.documentChange).document,f.document.name,f.document.updateTime,p=Vn(a,f.document.name),m=oe(f.document.updateTime);var w=new Xe({mapValue:{fields:f.document.fields}}),I=(y=ae.newFoundDocument(p,m,w),f.targetIds||[]),E=f.removedTargetIds||[];l=new Gl(I,E,y.key,y)}else if("documentDelete"in u)u.documentDelete,(f=u.documentDelete).document,p=Vn(a,f.document),m=f.readTime?oe(f.readTime):st.min(),w=ae.newNoDocument(p,m),y=f.removedTargetIds||[],l=new Gl([],y,w.key,w);else if("documentRemove"in u)u.documentRemove,(f=u.documentRemove).document,p=Vn(a,f.document),m=f.removedTargetIds||[],l=new Gl([],m,p,null);else{if(!("filter"in u))return z();u.filter;var T=u.filter;T.targetId,f=T.count||0,p=new WP(f),m=T.targetId,l=new L1(m,p)}return l}(this.R,n),o=function(a){if(!("targetChange"in a))return st.min();var u=a.targetChange;return u.targetIds&&u.targetIds.length?st.min():u.readTime?oe(u.readTime):st.min()}(n);return this.listener._r(i,o)},t.prototype.mr=function(n){var i={};i.database=ou(this.R),i.addTarget=function(a,u){var l,f=u.target;return(l=Jl(f)?{documents:z1(a,f)}:{query:H1(a,f)}).targetId=u.targetId,u.resumeToken.approximateByteSize()>0?l.resumeToken=U1(a,u.resumeToken):u.snapshotVersion.compareTo(st.min())>0&&(l.readTime=ru(a,u.snapshotVersion.toTimestamp())),l}(this.R,n);var o=function(a,u){var l=function(f,p){switch(p){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return z()}}(0,u.purpose);return l==null?null:{"goog-listen-tags":l}}(this.R,n);o&&(i.labels=o),this.cr(i)},t.prototype.yr=function(n){var i={};i.database=ou(this.R),i.removeTarget=n,this.cr(i)},t}(pC),tL=function(e){function t(n,i,o,a,u){var l=this;return(l=e.call(this,n,"write_stream_connection_backoff","write_stream_idle",i,o,u)||this).R=a,l.gr=!1,l}return G(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(n){return this.Hi.Oi("Write",n)},t.prototype.onMessage=function(n){if(Y(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var i=function(a,u){return a&&a.length>0?(Y(u!==void 0),a.map(function(l){return function(f,p){var m=f.updateTime?oe(f.updateTime):oe(p);return m.isEqual(st.min())&&(m=oe(p)),new KP(m,f.transformResults||[])}(l,u)})):[]}(n.writeResults,n.commitTime),o=oe(n.commitTime);return this.listener.Tr(o,i)}return Y(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var n={};n.database=ou(this.R),this.cr(n)},t.prototype.Er=function(n){var i=this,o={streamToken:this.lastStreamToken,writes:n.map(function(a){return eh(i.R,a)})};this.cr(o)},t}(pC),eL=function(e){function t(n,i,o){var a=this;return(a=e.call(this)||this).credentials=n,a.Hi=i,a.R=o,a.Rr=!1,a}return G(t,e),t.prototype.br=function(){if(this.Rr)throw new D(C.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(n,i,o){var a=this;return this.br(),this.credentials.getToken().then(function(u){return a.Hi.Ni(n,i,o,u)}).catch(function(u){throw u.name==="FirebaseError"?(u.code===C.UNAUTHENTICATED&&a.credentials.invalidateToken(),u):new D(C.UNKNOWN,u.toString())})},t.prototype.$i=function(n,i,o){var a=this;return this.br(),this.credentials.getToken().then(function(u){return a.Hi.$i(n,i,o,u)}).catch(function(u){throw u.name==="FirebaseError"?(u.code===C.UNAUTHENTICATED&&a.credentials.invalidateToken(),u):new D(C.UNKNOWN,u.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),nL=function(){function e(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var t=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},e.prototype.Nr=function(t){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},e.prototype.set=function(t){this.kr(),this.vr=0,t==="Online"&&(this.Vr=!1),this.Dr(t)},e.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},e.prototype.Cr=function(t){var n="Could not reach Cloud Firestore backend. "+t+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(Kt(n),this.Vr=!1):P("OnlineStateTracker",n)},e.prototype.kr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},e}(),rL=function(e,t,n,i,o){var a=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=o,this.Lr.di(function(u){n.enqueueAndForget(function(){return R(a,void 0,void 0,function(){return O(this,function(l){switch(l.label){case 0:return Vr(this)?(P("RemoteStore","Restarting streams for network reachability change."),[4,function(f){return R(this,void 0,void 0,function(){var p;return O(this,function(m){switch(m.label){case 0:return(p=L(f)).Or.add(4),[4,os(p)];case 1:return m.sent(),p.Br.set("Unknown"),p.Or.delete(4),[4,mu(p)];case 2:return m.sent(),[2]}})})}(this)]):[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})})}),this.Br=new nL(n,i)};hL=function(){function e(t,n,i,o,a){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=a,this.deferred=new ge,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(u){})}return e.createAndSchedule=function(t,n,i,o,a){var u=new e(t,n,Date.now()+i,o,a);return u.start(i),u},e.prototype.start=function(t){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},t)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new D(C.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},e.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return t.timerHandle!==null?(t.clearTimeout(),t.op().then(function(n){return t.deferred.resolve(n)})):Promise.resolve()})},e.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();bC=function(){function e(t){this.comparator=t?function(n,i){return t(n,i)||H.comparator(n.key,i.key)}:function(n,i){return H.comparator(n.key,i.key)},this.keyedMap=xm(),this.sortedSet=new me(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(t){return this.keyedMap.get(t)!=null},e.prototype.get=function(t){return this.keyedMap.get(t)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(t){var n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(n,i){return t(n),!1})},e.prototype.add=function(t){var n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))},e.prototype.delete=function(t){var n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();n.hasNext();){var o=n.getNext().key,a=i.getNext().key;if(!o.isEqual(a))return!1}return!0},e.prototype.toString=function(){var t=[];return this.forEach(function(n){t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`},e.prototype.copy=function(t,n){var i=new e;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i},e}(),BT=function(){function e(){this.Qr=new me(H.comparator)}return e.prototype.track=function(t){var n=t.doc.key,i=this.Qr.get(n);i?t.type!==0&&i.type===3?this.Qr=this.Qr.insert(n,t):t.type===3&&i.type!==1?this.Qr=this.Qr.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.Qr=this.Qr.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.Qr=this.Qr.remove(n):t.type===1&&i.type===2?this.Qr=this.Qr.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):z():this.Qr=this.Qr.insert(n,t)},e.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(n,i){t.push(i)}),t},e}(),sh=function(){function e(t,n,i,o,a,u,l,f){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=l,this.excludesMetadataChanges=f}return e.fromInitialDocuments=function(t,n,i,o){var a=[];return n.forEach(function(u){a.push({type:0,doc:u})}),new e(t,n,bC.emptySet(n),a,i,o,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&hu(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(var o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0},e}(),fL=function(){this.Wr=void 0,this.listeners=[]},dL=function(){this.queries=new is(function(e){return S1(e)},hu),this.onlineState="Unknown",this.Gr=new Set};fv=function(){function e(t,n,i){this.query=t,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=i||{}}return e.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var n=[],i=0,o=t.docChanges;i<o.length;i++){var a=o[i];a.type!==3&&n.push(a)}t=new sh(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var u=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),u=!0):this.eo(t,this.onlineState)&&(this.no(t),u=!0),this.Xr=t,u},e.prototype.onError=function(t){this.Jr.error(t)},e.prototype.zr=function(t){this.onlineState=t;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),n=!0),n},e.prototype.eo=function(t,n){if(!t.fromCache)return!0;var i=n!=="Offline";return!(this.options.so&&i||t.docs.isEmpty()&&n!=="Offline")},e.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},e.prototype.no=function(t){t=sh.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},e}(),mL=function(){function e(t,n){this.payload=t,this.byteLength=n}return e.prototype.io=function(){return"metadata"in this.payload},e}(),zT=function(){function e(t){this.R=t}return e.prototype.qn=function(t){return Vn(this.R,t)},e.prototype.Un=function(t){return t.metadata.exists?B1(this.R,t.document,!1):ae.newNoDocument(this.qn(t.metadata.name),this.Kn(t.metadata.readTime))},e.prototype.Kn=function(t){return oe(t)},e}(),zF=function(){function e(t,n,i){this.ro=t,this.localStore=n,this.R=i,this.queries=[],this.documents=[],this.progress=vL(t)}return e.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var n=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++n):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++n),n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null},e.prototype.co=function(t){for(var n=new Map,i=new zT(this.R),o=0,a=t;o<a.length;o++){var u=a[o];if(u.metadata.queries)for(var l=i.qn(u.metadata.name),f=0,p=u.metadata.queries;f<p.length;f++){var m=p[f],y=(n.get(m)||wt()).add(l);n.set(m,y)}}return n},e.prototype.complete=function(){return R(this,void 0,void 0,function(){var t,n,i,o,a;return O(this,function(u){switch(u.label){case 0:return[4,UM(this.localStore,new zT(this.R),this.documents,this.ro.id)];case 1:t=u.sent(),n=this.co(this.documents),i=0,o=this.queries,u.label=2;case 2:return i<o.length?(a=o[i],[4,jM(this.localStore,a,n.get(a.name))]):[3,5];case 3:u.sent(),u.label=4;case 4:return i++,[3,2];case 5:return[2,(this.progress.taskState="Success",new DM(Object.assign({},this.progress),t))]}})})},e}();IC=function(e){this.key=e},EC=function(e){this.key=e},SC=function(){function e(t,n){this.query=t,this.uo=n,this.ao=null,this.current=!1,this.ho=wt(),this.mutatedKeys=wt(),this.lo=T1(t),this.fo=new bC(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(t,n){var i=this,o=n?n.mo:new BT,a=n?n.fo:this.fo,u=n?n.mutatedKeys:this.mutatedKeys,l=a,f=!1,p=Hl(this.query)&&a.size===this.query.limit?a.last():null,m=th(this.query)&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal(function(w,I){var E=a.get(w),T=fu(i.query,I)?I:null,A=!!E&&i.mutatedKeys.has(E.key),x=!!T&&(T.hasLocalMutations||i.mutatedKeys.has(T.key)&&T.hasCommittedMutations),F=!1;E&&T?E.data.isEqual(T.data)?A!==x&&(o.track({type:3,doc:T}),F=!0):i.yo(E,T)||(o.track({type:2,doc:T}),F=!0,(p&&i.lo(T,p)>0||m&&i.lo(T,m)<0)&&(f=!0)):!E&&T?(o.track({type:0,doc:T}),F=!0):E&&!T&&(o.track({type:1,doc:E}),F=!0,(p||m)&&(f=!0)),F&&(T?(l=l.add(T),u=x?u.add(w):u.delete(w)):(l=l.delete(w),u=u.delete(w)))}),Hl(this.query)||th(this.query))for(;l.size>this.query.limit;){var y=Hl(this.query)?l.last():l.first();l=l.delete(y.key),u=u.delete(y.key),o.track({type:1,doc:y})}return{fo:l,mo:o,Nn:f,mutatedKeys:u}},e.prototype.yo=function(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},e.prototype.applyChanges=function(t,n,i){var o=this,a=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var u=t.mo.jr();u.sort(function(m,y){return function(w,I){var E=function(T){switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return z()}};return E(w)-E(I)}(m.type,y.type)||o.lo(m.doc,y.doc)}),this.po(i);var l=n?this.Eo():[],f=this.ho.size===0&&this.current?1:0,p=f!==this.ao;return this.ao=f,u.length!==0||p?{snapshot:new sh(this.query,t.fo,a,u,t.mutatedKeys,f===0,p,!1),To:l}:{To:l}},e.prototype.zr=function(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new BT,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},e.prototype.po=function(t){var n=this;t&&(t.addedDocuments.forEach(function(i){return n.uo=n.uo.add(i)}),t.modifiedDocuments.forEach(function(i){}),t.removedDocuments.forEach(function(i){return n.uo=n.uo.delete(i)}),this.current=t.current)},e.prototype.Eo=function(){var t=this;if(!this.current)return[];var n=this.ho;this.ho=wt(),this.fo.forEach(function(o){t.Io(o.key)&&(t.ho=t.ho.add(o.key))});var i=[];return n.forEach(function(o){t.ho.has(o)||i.push(new EC(o))}),this.ho.forEach(function(o){n.has(o)||i.push(new IC(o))}),i},e.prototype.Ao=function(t){this.uo=t.Bn,this.ho=wt();var n=this._o(t.documents);return this.applyChanges(n,!0)},e.prototype.Ro=function(){return sh.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},e}(),yL=function(e,t,n){this.query=e,this.targetId=t,this.view=n},wL=function(e){this.key=e,this.bo=!1},bL=function(){function e(t,n,i,o,a,u){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.vo={},this.Po=new is(function(l){return S1(l)},hu),this.Vo=new Map,this.So=new Set,this.Do=new me(H.comparator),this.Co=new Map,this.No=new iv,this.xo={},this.ko=new Map,this.Fo=rh.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return this.$o===!0},enumerable:!1,configurable:!0}),e}();AC=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(t){return R(this,void 0,void 0,function(){return O(this,function(n){switch(n.label){case 0:return this.R=mh(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},e.prototype.Uo=function(t){return null},e.prototype.Ko=function(t){return sC(this.persistence,new oC,t.initialUser,this.R)},e.prototype.qo=function(t){return new KM($M.bs,this.R)},e.prototype.Bo=function(t){return new fC},e.prototype.terminate=function(){return R(this,void 0,void 0,function(){return O(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},e}(),OC=function(e){function t(n,i,o){var a=this;return(a=e.call(this)||this).Qo=n,a.cacheSizeBytes=i,a.forceOwnership=o,a.synchronizeTabs=!1,a}return G(t,e),t.prototype.initialize=function(n){return R(this,void 0,void 0,function(){var i=this;return O(this,function(o){switch(o.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return o.sent(),[4,FM(this.localStore)];case 2:return o.sent(),[4,this.Qo.initialize(this,n)];case 3:return o.sent(),[4,yv(this.Qo.syncEngine)];case 4:return o.sent(),[4,ss(this.Qo.remoteStore)];case 5:return o.sent(),[4,this.persistence.He(function(){return i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(i.localStore),Promise.resolve()})];case 6:return o.sent(),[2]}})})},t.prototype.Ko=function(n){return sC(this.persistence,new oC,n.initialUser,this.R)},t.prototype.Uo=function(n){var i=this.persistence.referenceDelegate.garbageCollector;return new TM(i,n.asyncQueue)},t.prototype.qo=function(n){var i=rv(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),o=this.cacheSizeBytes!==void 0?Un.withCacheSize(this.cacheSizeBytes):Un.DEFAULT;return new NM(this.synchronizeTabs,i,n.clientId,o,n.asyncQueue,dC(),$l(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(n){return new fC},t}(AC),UL=function(e){function t(n,i){var o=this;return(o=e.call(this,n,i,!1)||this).Qo=n,o.cacheSizeBytes=i,o.synchronizeTabs=!0,o}return G(t,e),t.prototype.initialize=function(n){return R(this,void 0,void 0,function(){var i,o=this;return O(this,function(a){switch(a.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return a.sent(),i=this.Qo.syncEngine,this.sharedClientState instanceof _m?(this.sharedClientState.syncEngine={ui:kL.bind(null,i),ai:LL.bind(null,i),hi:FL.bind(null,i),fn:ML.bind(null,i),ci:xL.bind(null,i)},[4,this.sharedClientState.start()]):[3,3];case 2:a.sent(),a.label=3;case 3:return[4,this.persistence.He(function(u){return R(o,void 0,void 0,function(){return O(this,function(l){switch(l.label){case 0:return[4,PL(this.Qo.syncEngine,u)];case 1:return l.sent(),this.gcScheduler&&(u&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):u||this.gcScheduler.stop()),[2]}})})})];case 4:return a.sent(),[2]}})})},t.prototype.Bo=function(n){var i=dC();if(!_m.yt(i))throw new D(C.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var o=rv(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new _m(i,n.asyncQueue,o,n.clientId,n.initialUser)},t}(OC),Um=function(){function e(){}return e.prototype.initialize=function(t,n){return R(this,void 0,void 0,function(){var i=this;return O(this,function(o){switch(o.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(a){return HT(i.syncEngine,a,1)},this.remoteStore.remoteSyncer.handleCredentialChange=RL.bind(null,this.syncEngine),[4,Lm(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:o.sent(),o.label=2;case 2:return[2]}})})},e.prototype.createEventManager=function(t){return new dL},e.prototype.createDatastore=function(t){var n,i=mh(t.databaseInfo.databaseId),o=(n=t.databaseInfo,new JM(n));return function(a,u,l){return new eL(a,u,l)}(t.credentials,o,i)},e.prototype.createRemoteStore=function(t){var n,i,o,a,u,l=this;return n=this.localStore,i=this.datastore,o=t.asyncQueue,a=function(f){return HT(l.syncEngine,f,0)},u=qT.yt()?new qT:new QM,new rL(n,i,o,a,u)},e.prototype.createSyncEngine=function(t,n){return function(i,o,a,u,l,f,p){var m=new bL(i,o,a,u,l,f);return p&&(m.$o=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)},e.prototype.terminate=function(){return function(t){return R(this,void 0,void 0,function(){var n;return O(this,function(i){switch(i.label){case 0:return n=L(t),P("RemoteStore","RemoteStore shutting down."),n.Or.add(5),[4,os(n)];case 1:return i.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},e}();yh=function(){function e(t){this.observer=t,this.muted=!1}return e.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},e.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(t,n){var i=this;this.muted||setTimeout(function(){i.muted||t(n)},0)},e}(),HF=function(){function e(t,n){var i=this;this.Go=t,this.R=n,this.metadata=new ge,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(o){o&&o.io()?i.metadata.resolve(o.payload.metadata):i.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             `+JSON.stringify(o?.payload)))},function(o){return i.metadata.reject(o)})}return e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return R(this,void 0,void 0,function(){return O(this,function(t){return[2,this.metadata.promise]})})},e.prototype.Lo=function(){return R(this,void 0,void 0,function(){return O(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},e.prototype.Ho=function(){return R(this,void 0,void 0,function(){var t,n,i,o;return O(this,function(a){switch(a.label){case 0:return[4,this.Jo()];case 1:return(t=a.sent())===null?[2,null]:(n=this.zo.decode(t),i=Number(n),isNaN(i)&&this.Yo("length string ("+n+") is not valid number"),[4,this.Xo(i)]);case 2:return o=a.sent(),[2,new mL(JSON.parse(o),t.length+i)]}})})},e.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t===123})},e.prototype.Jo=function(){return R(this,void 0,void 0,function(){var t,n;return O(this,function(i){switch(i.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(i.sent())return[3,3];i.label=2;case 2:return[3,0];case 3:return this.buffer.length===0?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),n)])}})})},e.prototype.Xo=function(t){return R(this,void 0,void 0,function(){var n;return O(this,function(i){switch(i.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:i.sent()&&this.Yo("Reached the end of bundle when more is expected."),i.label=2;case 2:return[3,0];case 3:return n=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),n)]}})})},e.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},e.prototype.tc=function(){return R(this,void 0,void 0,function(){var t,n;return O(this,function(i){switch(i.label){case 0:return[4,this.Go.read()];case 1:return(t=i.sent()).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),[2,t.done]}})})},e}(),jL=function(){function e(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(t){return R(this,void 0,void 0,function(){var n,i=this;return O(this,function(o){switch(o.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new D(C.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(a,u){return R(this,void 0,void 0,function(){var l,f,p,m,y,w;return O(this,function(I){switch(I.label){case 0:return l=L(a),f=ou(l.R)+"/documents",p={documents:u.map(function(E){return iu(l.R,E)})},[4,l.$i("BatchGetDocuments",f,p)];case 1:return m=I.sent(),y=new Map,m.forEach(function(E){var T=function(A,x){return"found"in x?function(F,j){Y(!!j.found),j.found.name,j.found.updateTime;var nt=Vn(F,j.found.name),ut=oe(j.found.updateTime),M=new Xe({mapValue:{fields:j.found.fields}});return ae.newFoundDocument(nt,ut,M)}(A,x):"missing"in x?function(F,j){Y(!!j.missing),Y(!!j.readTime);var nt=Vn(F,j.missing),ut=oe(j.readTime);return ae.newNoDocument(nt,ut)}(A,x):z()}(l.R,E);y.set(T.key.toString(),T)}),w=[],[2,(u.forEach(function(E){var T=y.get(E.toString());Y(!!T),w.push(T)}),w)]}})})}(this.datastore,t)];case 1:return[2,((n=o.sent()).forEach(function(a){return i.recordVersion(a)}),n)]}})})},e.prototype.set=function(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.update=function(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())},e.prototype.delete=function(t){this.write(new gu(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.commit=function(){return R(this,void 0,void 0,function(){var t,n=this;return O(this,function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(o){t.delete(o.key.toString())}),t.forEach(function(o,a){var u=H.fromPath(a);n.mutations.push(new Wm(u,n.precondition(u)))}),[4,function(o,a){return R(this,void 0,void 0,function(){var u,l,f;return O(this,function(p){switch(p.label){case 0:return u=L(o),l=ou(u.R)+"/documents",f={writes:a.map(function(m){return eh(u.R,m)})},[4,u.Ni("Commit",l,f)];case 1:return p.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return i.sent(),this.committed=!0,[2]}})})},e.prototype.recordVersion=function(t){var n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw z();n=st.min()}var i=this.readVersions.get(t.key.toString());if(i){if(!n.isEqual(i))throw new D(C.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)},e.prototype.precondition=function(t){var n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?pe.updateTime(n):pe.none()},e.prototype.preconditionForUpdate=function(t){var n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(st.min()))throw new D(C.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return pe.updateTime(n)}return pe.exists(!0)},e.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},e.prototype.ensureCommitNotCalled=function(){},e}(),VL=function(){function e(t,n,i,o){this.asyncQueue=t,this.datastore=n,this.updateFunction=i,this.deferred=o,this.ec=5,this.Zi=new ov(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var t=this;this.Zi.ji(function(){return R(t,void 0,void 0,function(){var n,i,o=this;return O(this,function(a){return n=new jL(this.datastore),(i=this.sc(n))&&i.then(function(u){o.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){o.deferred.resolve(u)}).catch(function(l){o.ic(l)})})}).catch(function(u){o.ic(u)}),[2]})})})},e.prototype.sc=function(t){try{var n=this.updateFunction(t);return!Ni(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}},e.prototype.ic=function(t){var n=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(t)},e.prototype.rc=function(t){if(t.name==="FirebaseError"){var n=t.code;return n==="aborted"||n==="failed-precondition"||!k1(n)}return!1},e}(),qL=function(){function e(t,n,i){var o=this;this.credentials=t,this.asyncQueue=n,this.databaseInfo=i,this.user=ie.UNAUTHENTICATED,this.clientId=d1.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(n,function(a){return R(o,void 0,void 0,function(){return O(this,function(u){switch(u.label){case 0:return P("FirestoreClient","Received user=",a.uid),[4,this.credentialListener(a)];case 1:return u.sent(),this.user=a,[2]}})})})}return e.prototype.getConfiguration=function(){return R(this,void 0,void 0,function(){return O(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},e.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new D(C.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var n=new ge;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return R(t,void 0,void 0,function(){var i,o;return O(this,function(a){switch(a.label){case 0:return a.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:a.sent(),a.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:a.sent(),a.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return i=a.sent(),o=us(i,"Failed to shutdown persistence"),n.reject(o),[3,6];case 6:return[2]}})})}),n.promise},e}();BL=function(e,t,n,i,o,a,u,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=u,this.useFetchStreams=l},ah=function(){function e(t,n){this.projectId=t,this.database=n||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),YT=new Map,kC=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},XT=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){this.changeListener=n,t.enqueueRetryable(function(){return n(ie.UNAUTHENTICATED)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),zL=function(){function e(t){this.token=t,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){var i=this;this.changeListener=n,t.enqueueRetryable(function(){return n(i.token.user)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),HL=function(){function e(t){var n=this;this.currentUser=ie.UNAUTHENTICATED,this.oc=new ge,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){n.cc++,n.currentUser=n.ac(),n.oc.resolve(),n.changeListener&&n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)})};var i=function(o){P("FirebaseCredentialsProvider","Auth detected"),n.auth=o,n.auth.addAuthTokenListener(n.uc)};t.onInit(function(o){return i(o)}),setTimeout(function(){if(!n.auth){var o=t.getImmediate({optional:!0});o?i(o):(P("FirebaseCredentialsProvider","Auth not yet detected"),n.oc.resolve())}},0)}return e.prototype.getToken=function(){var t=this,n=this.cc,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(function(o){return t.cc!==n?(P("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):o?(Y(typeof o.accessToken=="string"),new kC(o.accessToken,t.currentUser)):null}):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(t,n){var i=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return R(i,void 0,void 0,function(){return O(this,function(o){switch(o.label){case 0:return[4,this.oc.promise];case 1:return o.sent(),[4,n(this.currentUser)];case 2:return o.sent(),this.changeListener=n,[2]}})})})},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return Y(t===null||typeof t=="string"),new ie(t)},e}(),KL=function(){function e(t,n,i){this.hc=t,this.lc=n,this.fc=i,this.type="FirstParty",this.user=ie.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},n=this.hc.auth.getAuthHeaderValueForFirstParty([]);return n&&(t.Authorization=n),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),e}(),GL=function(){function e(t,n,i){this.hc=t,this.lc=n,this.fc=i}return e.prototype.getToken=function(){return Promise.resolve(new KL(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(t,n){t.enqueueRetryable(function(){return n(ie.FIRST_PARTY)})},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();e1=function(){function e(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new D(C.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new D(C.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,PC("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},e}(),au=function(){function e(t,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new e1({}),this._settingsFrozen=!1,t instanceof ah?(this._databaseId=t,this._credentials=new XT):(this._app=t,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new D(C.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ah(i.options.projectId)}(t),this._credentials=new HL(n))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new D(C.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(t){if(this._settingsFrozen)throw new D(C.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new e1(t),t.credentials!==void 0&&(this._credentials=function(n){if(!n)return new XT;switch(n.type){case"gapi":var i=n.client;return Y(!(typeof i!="object"||i===null||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new GL(i,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new D(C.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return t=this,(n=YT.get(t))&&(P("ComponentProvider","Removing Datastore"),YT.delete(t),n.terminate()),Promise.resolve();var t,n},e}(),kt=function(){function e(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Mr(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),tn=function(){function e(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),Mr=function(e){function t(n,i,o){var a=this;return(a=e.call(this,n,i,rs(o))||this)._path=o,a.type="collection",a}return G(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new kt(this.firestore,null,new H(n))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(n){return new t(this.firestore,n,this._path)},t}(tn);$L=function(){function e(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new ov(this,"async_queue_retry"),this.Ic=function(){var i=$l();i&&P("AsyncQueue","Visibility state changed to "+i.visibilityState),t.Zi.Gi()};var n=$l();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(t){this.enqueue(t)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},e.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var n=$l();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(t){var n=this;if(this.Ac(),this._c)return new Promise(function(){});var i=new ge;return this.Rc(function(){return n._c&&n.Ec?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)}).then(function(){return i.promise})},e.prototype.enqueueRetryable=function(t){var n=this;this.enqueueAndForget(function(){return n.wc.push(t),n.bc()})},e.prototype.bc=function(){return R(this,void 0,void 0,function(){var t,n=this;return O(this,function(i){switch(i.label){case 0:if(this.wc.length===0)return[3,5];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return i.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Di(t=i.sent()))throw t;return P("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return n.bc()}),i.label=5;case 5:return[2]}})})},e.prototype.Rc=function(t){var n=this,i=this.dc.then(function(){return n.gc=!0,t().catch(function(o){throw n.yc=o,n.gc=!1,Kt("INTERNAL UNHANDLED ERROR: ",function(a){var u=a.message||"";return a.stack&&(u=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),u}(o)),o}).then(function(o){return n.gc=!1,o})});return this.dc=i,i},e.prototype.enqueueAfterDelay=function(t,n,i){var o=this;this.Ac(),this.Tc.indexOf(t)>-1&&(n=0);var a=hL.createAndSchedule(this,t,n,i,function(u){return o.vc(u)});return this.mc.push(a),a},e.prototype.Ac=function(){this.yc&&z()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return R(this,void 0,void 0,function(){var t;return O(this,function(n){switch(n.label){case 0:return[4,t=this.dc];case 1:n.sent(),n.label=2;case 2:if(t!==this.dc)return[3,0];n.label=3;case 3:return[2]}})})},e.prototype.Vc=function(t){for(var n=0,i=this.mc;n<i.length;n++)if(i[n].timerId===t)return!0;return!1},e.prototype.Sc=function(t){var n=this;return this.Pc().then(function(){n.mc.sort(function(u,l){return u.targetTimeMs-l.targetTimeMs});for(var i=0,o=n.mc;i<o.length;i++){var a=o[i];if(a.skipDelay(),t!=="all"&&a.timerId===t)break}return n.Pc()})},e.prototype.Dc=function(t){this.Tc.push(t)},e.prototype.vc=function(t){var n=this.mc.indexOf(t);this.mc.splice(n,1)},e}();KF=function(){function e(){this._progressObserver={},this._taskCompletionResolver=new ge,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return e.prototype.onProgress=function(t,n,i){this._progressObserver={next:t,error:n,complete:i}},e.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},e.prototype.then=function(t,n){return this._taskCompletionResolver.promise.then(t,n)},e.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},e.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},e.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)},e}(),UC=-1,Gt=function(e){function t(n,i){var o=this;return(o=e.call(this,n,i)||this).type="firestore",o._queue=new $L,o._persistenceKey="name"in n?n.name:"[DEFAULT]",o}return G(t,e),t.prototype._terminate=function(){return this._firestoreClient||jC(this),this._firestoreClient.terminate()},t}(au);qn=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var i=0;i<t.length;++i)if(t[i].length===0)throw new D(C.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Cn(t)}return e.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},e}(),Oi=function(){function e(t){this._byteString=t}return e.fromBase64String=function(t){try{return new e(_e.fromBase64String(t))}catch(n){throw new D(C.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},e.fromUint8Array=function(t){return new e(_e.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},e}(),ki=function(e){this._methodName=e},vu=function(){function e(t,n){if(!isFinite(t)||t<-90||t>90)throw new D(C.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new D(C.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(t){return lt(this._lat,t._lat)||lt(this._long,t._long)},e}(),WL=/^__.*__$/,QL=function(){function e(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}return e.prototype.toMutation=function(t,n){return this.fieldMask!==null?new jr(t,this.data,this.fieldMask,n,this.fieldTransforms):new pu(t,this.data,n,this.fieldTransforms)},e}(),VC=function(){function e(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}return e.prototype.toMutation=function(t,n){return new jr(t,this.data,this.fieldMask,n,this.fieldTransforms)},e}();BC=function(){function e(t,n,i,o,a,u){this.settings=t,this.databaseId=n,this.R=i,this.ignoreUndefinedProperties=o,a===void 0&&this.Cc(),this.fieldTransforms=a||[],this.fieldMask=u||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(t){var n,i=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.xc({path:i,Fc:!1});return o.$c(t),o},e.prototype.Oc=function(t){var n,i=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.xc({path:i,Fc:!1});return o.Cc(),o},e.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(t){return uh(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(t){return this.fieldMask.find(function(n){return t.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return t.isPrefixOf(n.field)})!==void 0},e.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},e.prototype.$c=function(t){if(t.length===0)throw this.Lc("Document fields must not be empty");if(qC(this.Nc)&&WL.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),YL=function(){function e(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.R=i||mh(t)}return e.prototype.Uc=function(t,n,i,o){return o===void 0&&(o=!1),new BC({Nc:t,methodName:n,qc:i,path:Cn.emptyPath(),Fc:!1,Bc:o},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();Ev=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return G(t,e),t.prototype._toFieldTransform=function(n){if(n.Nc!==2)throw n.Nc===1?n.Lc(this._methodName+"() can only appear at the top level of your update data"):n.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},t.prototype.isEqual=function(n){return n instanceof t},t}(ki);XL=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return G(t,e),t.prototype._toFieldTransform=function(n){return new du(n.path,new zo)},t.prototype.isEqual=function(n){return n instanceof t},t}(ki),JL=function(e){function t(n,i){var o=this;return(o=e.call(this,n)||this).Kc=i,o}return G(t,e),t.prototype._toFieldTransform=function(n){var i=zC(this,n,!0),o=this.Kc.map(function(u){return Mi(u,i)}),a=new _i(o);return new du(n.path,a)},t.prototype.isEqual=function(n){return this===n},t}(ki),ZL=function(e){function t(n,i){var o=this;return(o=e.call(this,n)||this).Kc=i,o}return G(t,e),t.prototype._toFieldTransform=function(n){var i=zC(this,n,!0),o=this.Kc.map(function(u){return Mi(u,i)}),a=new Ai(o);return new du(n.path,a)},t.prototype.isEqual=function(n){return this===n},t}(ki),t2=function(e){function t(n,i){var o=this;return(o=e.call(this,n)||this).Qc=i,o}return G(t,e),t.prototype._toFieldTransform=function(n){var i=new Ho(n.R,A1(n.R,this.Qc));return new du(n.path,i)},t.prototype.isEqual=function(n){return this===n},t}(ki);e2=new RegExp("[~\\*/\\[\\]]");uu=function(){function e(t,n,i,o,a){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=o,this._converter=a}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new kt(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return this._document!==null},e.prototype.data=function(){if(this._document){if(this._converter){var t=new n2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(t){if(this._document){var n=this._document.data.field(ch("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}},e}(),n2=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return G(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(uu);Ii=function(){function e(t,n){this.hasPendingWrites=t,this.fromCache=n}return e.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},e}(),er=function(e){function t(n,i,o,a,u,l){var f=this;return(f=e.call(this,n,i,o,a,l)||this)._firestore=n,f._firestoreImpl=n,f.metadata=u,f}return G(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var i=new Za(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}},t.prototype.get=function(n,i){if(i===void 0&&(i={}),this._document){var o=this._document.data.field(ch("DocumentSnapshot.get",n));if(o!==null)return this._userDataWriter.convertValue(o,i.serverTimestamps)}},t}(uu),Za=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return G(t,e),t.prototype.data=function(n){return n===void 0&&(n={}),e.prototype.data.call(this,n)},t}(er),xr=function(){function e(t,n,i,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Ii(o.hasPendingWrites,o.fromCache),this.query=i}return Object.defineProperty(e.prototype,"docs",{get:function(){var t=[];return this.forEach(function(n){return t.push(n)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t,n){var i=this;this._snapshot.docs.forEach(function(o){t.call(n,new Za(i._firestore,i._userDataWriter,o.key,o,new Ii(i._snapshot.mutatedKeys.has(o.key),i._snapshot.fromCache),i.query.converter))})},e.prototype.docChanges=function(t){t===void 0&&(t={});var n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new D(C.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){var a=0;return i._snapshot.docChanges.map(function(l){return{type:"added",doc:new Za(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Ii(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:a++}})}var u=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(function(l){return o||l.type!==3}).map(function(l){var f=new Za(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Ii(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter),p=-1,m=-1;return l.type!==0&&(p=u.indexOf(l.doc.key),u=u.delete(l.doc.key)),l.type!==1&&(m=(u=u.add(l.doc)).indexOf(l.doc.key)),{type:r2(l.type),doc:f,oldIndex:p,newIndex:m}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},e}();yu=function(){};i2=function(e){function t(n,i,o){var a=this;return(a=e.call(this)||this).jc=n,a.Wc=i,a.Gc=o,a.type="where",a}return G(t,e),t.prototype._apply=function(n){var i=Pi(n.firestore),o=function(a,u,l,f,p,m,y){var w;if(p.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new D(C.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+m+"' queries on FieldPath.documentId().");if(m==="in"||m==="not-in"){u1(y,m);for(var I=[],E=0,T=y;E<T.length;E++){var A=T[E];I.push(a1(f,a,A))}w={arrayValue:{values:I}}}else w=a1(f,a,y)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||u1(y,m),w=HC(l,"where",y,m==="in"||m==="not-in");var x=Ze.create(p,m,w);return function(F,j){if(j.g()){var nt=Gm(F);if(nt!==null&&!nt.isEqual(j.field))throw new D(C.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+nt.toString()+"' and '"+j.field.toString()+"'");var ut=Km(F);ut!==null&&XC(F,j.field,ut)}var M=function(_t,cs){for(var X=0,Li=_t.filters;X<Li.length;X++){var S=Li[X];if(cs.indexOf(S.op)>=0)return S.op}return null}(F,function(_t){switch(_t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(j.op));if(M!==null)throw M===j.op?new D(C.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+j.op.toString()+"' filter."):new D(C.INVALID_ARGUMENT,"Invalid query. You cannot use '"+j.op.toString()+"' filters with '"+M.toString()+"' filters.")}(a,x),x}(n._query,0,i,n.firestore._databaseId,this.jc,this.Wc,this.Gc);return new tn(n.firestore,n.converter,function(a,u){var l=a.filters.concat([u]);return new nr(a.path,a.collectionGroup,a.explicitOrderBy.slice(),l,a.limit,a.limitType,a.startAt,a.endAt)}(n._query,o))},t}(yu),o2=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).jc=n,o.zc=i,o.type="orderBy",o}return G(t,e),t.prototype._apply=function(n){var i=function(o,a,u){if(o.startAt!==null)throw new D(C.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new D(C.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var l=new Fo(a,u);return function(f,p){if(Km(f)===null){var m=Gm(f);m!==null&&XC(f,m,p.field)}}(o,l),l}(n._query,this.jc,this.zc);return new tn(n.firestore,n.converter,function(o,a){var u=o.explicitOrderBy.concat([a]);return new nr(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(n._query,i))},t}(yu),i1=function(e){function t(n,i,o){var a=this;return(a=e.call(this)||this).type=n,a.Hc=i,a.Jc=o,a}return G(t,e),t.prototype._apply=function(n){return new tn(n.firestore,n.converter,E1(n._query,this.Hc,this.Jc))},t}(yu),o1=function(e){function t(n,i,o){var a=this;return(a=e.call(this)||this).type=n,a.Yc=i,a.Xc=o,a}return G(t,e),t.prototype._apply=function(n){var i=YC(n,this.type,this.Yc,this.Xc);return new tn(n.firestore,n.converter,function(o,a){return new nr(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,a,o.endAt)}(n._query,i))},t}(yu),s1=function(e){function t(n,i,o){var a=this;return(a=e.call(this)||this).type=n,a.Yc=i,a.Xc=o,a}return G(t,e),t.prototype._apply=function(n){var i=YC(n,this.type,this.Yc,this.Xc);return new tn(n.firestore,n.converter,function(o,a){return new nr(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,a)}(n._query,i))},t}(yu);Av=function(){function e(){}return e.prototype.convertValue=function(t,n){switch(n===void 0&&(n="none"),Ci(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ht(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Vo(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw z()}},e.prototype.convertObject=function(t,n){var i=this,o={};return Ri(t.fields,function(a,u){o[a]=i.convertValue(u,n)}),o},e.prototype.convertGeoPoint=function(t){return new vu(Ht(t.latitude),Ht(t.longitude))},e.prototype.convertArray=function(t,n){var i=this;return(t.values||[]).map(function(o){return i.convertValue(o,n)})},e.prototype.convertServerTimestamp=function(t,n){switch(n){case"previous":var i=v1(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(tu(t));default:return null}},e.prototype.convertTimestamp=function(t){var n=Fr(t);return new Ce(n.seconds,n.nanos)},e.prototype.convertDocumentKey=function(t,n){var i=pt.fromString(t);Y($1(i));var o=new ah(i.get(1),i.get(3)),a=new H(i.popFirst(5));return o.isEqual(n)||Kt("Document "+a+" contains a document reference within a different database ("+o.projectId+"/"+o.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),a},e}();s2=function(e){function t(n){var i=this;return(i=e.call(this)||this).firestore=n,i}return G(t,e),t.prototype.convertBytes=function(n){return new Oi(n)},t.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return new kt(this.firestore,null,i)},t}(Av),a2=function(){function e(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Pi(t)}return e.prototype.set=function(t,n,i){this._verifyNotCommitted();var o=kr(t,this._firestore),a=Eh(o.converter,n,i),u=Ih(this._dataReader,"WriteBatch.set",o._key,a,o.converter!==null,i);return this._mutations.push(u.toMutation(o._key,pe.none())),this},e.prototype.update=function(t,n,i){for(var o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];this._verifyNotCommitted();var u,l=kr(t,this._firestore);return u=typeof(n=Vt(n))=="string"||n instanceof qn?Tv(this._dataReader,"WriteBatch.update",l._key,n,i,o):Sv(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(u.toMutation(l._key,pe.exists(!0))),this},e.prototype.delete=function(t){this._verifyNotCommitted();var n=kr(t,this._firestore);return this._mutations=this._mutations.concat(new gu(n._key,pe.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new D(C.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();Ti=function(e){function t(n){var i=this;return(i=e.call(this)||this).firestore=n,i}return G(t,e),t.prototype.convertBytes=function(n){return new Oi(n)},t.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return new kt(this.firestore,null,i)},t}(Av);u2=function(e){function t(n,i){var o=this;return(o=e.call(this,n,i)||this)._firestore=n,o}return G(t,e),t.prototype.get=function(n){var i=this,o=kr(n,this._firestore),a=new Ti(this._firestore);return e.prototype.get.call(this,n).then(function(u){return new er(i._firestore,a,o._key,u._document,new Ii(!1,!1),o.converter)})},t}(function(){function e(t,n){this._firestore=t,this._transaction=n,this._dataReader=Pi(t)}return e.prototype.get=function(t){var n=this,i=kr(t,this._firestore),o=new s2(this._firestore);return this._transaction.lookup([i._key]).then(function(a){if(!a||a.length!==1)return z();var u=a[0];if(u.isFoundDocument())return new uu(n._firestore,o,u.key,u,i.converter);if(u.isNoDocument())return new uu(n._firestore,o,i._key,null,i.converter);throw z()})},e.prototype.set=function(t,n,i){var o=kr(t,this._firestore),a=Eh(o.converter,n,i),u=Ih(this._dataReader,"Transaction.set",o._key,a,o.converter!==null,i);return this._transaction.set(o._key,u),this},e.prototype.update=function(t,n,i){for(var o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];var u,l=kr(t,this._firestore);return u=typeof(n=Vt(n))=="string"||n instanceof qn?Tv(this._dataReader,"Transaction.update",l._key,n,i,o):Sv(this._dataReader,"Transaction.update",l._key,n),this._transaction.update(l._key,u),this},e.prototype.delete=function(t){var n=kr(t,this._firestore);return this._transaction.delete(n._key),this},e}());Ov=function(){function e(t){this._delegate=t}return e.fromBase64String=function(t){return f1(),new e(Oi.fromBase64String(t))},e.fromUint8Array=function(t){return h1(),new e(Oi.fromUint8Array(t))},e.prototype.toBase64=function(){return f1(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return h1(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),ZC=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(t,n){return function(i,o){r1(i=vt(i,Gt));var a=de(i),u=i._freezeSettings(),l=new Um;return n1(a,l,new OC(l,u.cacheSizeBytes,o?.forceOwnership))}(t._delegate,{forceOwnership:n})},e.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(n){r1(n=vt(n,Gt));var i=de(n),o=n._freezeSettings(),a=new Um;return n1(i,a,new UL(a,o.cacheSizeBytes))}(t._delegate)},e.prototype.clearIndexedDbPersistence=function(t){return function(n){var i=this;if(n._initialized&&!n._terminated)throw new D(C.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var o=new ge;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return R(i,void 0,void 0,function(){var a;return O(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,function(l){return R(this,void 0,void 0,function(){var f;return O(this,function(p){switch(p.label){case 0:return $o.yt()?(f=l+"main",[4,$o.delete(f)]):[2,Promise.resolve()];case 1:return p.sent(),[2]}})})}(rv(n._databaseId,n._persistenceKey))];case 1:return u.sent(),o.resolve(),[3,3];case 2:return a=u.sent(),o.reject(a),[3,3];case 3:return[2]}})})}),o.promise}(t._delegate)},e}(),Rv=function(){function e(t,n,i){var o=this;this._delegate=n,this.Zc=i,this.INTERNAL={delete:function(){return o.terminate()}},t instanceof ah||(this.tu=t)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){var n=this._delegate._getSettings();t.merge||n.host===t.host||Ql("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},n),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,n,i){i===void 0&&(i={}),function(o,a,u,l){var f;l===void 0&&(l={});var p=(o=vt(o,au))._getSettings();if(p.host!=="firestore.googleapis.com"&&p.host!==a&&Ql("Host has been set in both settings() and useEmulator(), emulator host will be used"),o._setSettings(Object.assign(Object.assign({},p),{host:a+":"+u,ssl:!1})),l.mockUserToken){var m,y;if(typeof l.mockUserToken=="string")m=l.mockUserToken,y=ie.MOCK_USER;else{m=yE(l.mockUserToken,(f=o._app)===null||f===void 0?void 0:f.options.projectId);var w=l.mockUserToken.sub||l.mockUserToken.user_id;if(!w)throw new D(C.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new ie(w)}o._credentials=new zL(new kC(m,y))}}(this._delegate,t,n,i)},e.prototype.enableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return R(n,void 0,void 0,function(){var i,o;return O(this,function(a){switch(a.label){case 0:return[4,GT(t)];case 1:return i=a.sent(),[4,$T(t)];case 2:return o=a.sent(),[2,(i.setNetworkEnabled(!0),function(u){var l=L(u);return l.Or.delete(0),mu(l)}(o))]}})})})}(de(vt(this._delegate,Gt)))},e.prototype.disableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return R(n,void 0,void 0,function(){var i,o;return O(this,function(a){switch(a.label){case 0:return[4,GT(t)];case 1:return i=a.sent(),[4,$T(t)];case 2:return o=a.sent(),[2,(i.setNetworkEnabled(!1),function(u){return R(this,void 0,void 0,function(){var l;return O(this,function(f){switch(f.label){case 0:return(l=L(u)).Or.add(0),[4,os(l)];case 1:return f.sent(),l.Br.set("Offline"),[2]}})})}(o))]}})})})}(de(vt(this._delegate,Gt)))},e.prototype.enablePersistence=function(t){var n=!1,i=!1;return t&&PC("synchronizeTabs",n=!!t.synchronizeTabs,"experimentalForceOwningTab",i=!!t.experimentalForceOwningTab),n?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,i)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var n=this,i=new ge;return t.asyncQueue.enqueueAndForget(function(){return R(n,void 0,void 0,function(){var o;return O(this,function(a){switch(a.label){case 0:return o=AL,[4,xC(t)];case 1:return[2,o.apply(void 0,[a.sent(),i])]}})})}),i.promise}(de(vt(this._delegate,Gt)))},e.prototype.onSnapshotsInSync=function(t){return function(n,i){return function(o,a){var u=this,l=new yh(a);return o.asyncQueue.enqueueAndForget(function(){return R(u,void 0,void 0,function(){var f;return O(this,function(p){switch(p.label){case 0:return f=function(m,y){L(m).Gr.add(y),y.next()},[4,Zo(o)];case 1:return[2,f.apply(void 0,[p.sent(),l])]}})})}),function(){l.Wo(),o.asyncQueue.enqueueAndForget(function(){return R(u,void 0,void 0,function(){var f;return O(this,function(p){switch(p.label){case 0:return f=function(m,y){L(m).Gr.delete(y)},[4,Zo(o)];case 1:return[2,f.apply(void 0,[p.sent(),l])]}})})})}}(de(n=vt(n,Gt)),ts(i)?i:{next:i})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new D(C.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new cu(this,MC(this._delegate,t))}catch(n){throw Te(n,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new Lr(this,Wl(this._delegate,t))}catch(n){throw Te(n,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new bu(this,function(n,i){if(n=vt(n,au),bv("collectionGroup","collection id",i),i.indexOf("/")>=0)throw new D(C.INVALID_ARGUMENT,"Invalid collection ID '"+i+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new tn(n,null,function(o){return new nr(pt.emptyPath(),o)}(i))}(this._delegate,t))}catch(n){throw Te(n,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var n=this;return function(i,o){return function(a,u){var l=this,f=new ge;return a.asyncQueue.enqueueAndForget(function(){return R(l,void 0,void 0,function(){var p;return O(this,function(m){switch(m.label){case 0:return[4,function(y){return wh(y).then(function(w){return w.datastore})}(a)];case 1:return p=m.sent(),new VL(a.asyncQueue,p,u,f).run(),[2]}})})}),f.promise}(de(i),function(a){return o(new u2(i,a))})}(this._delegate,function(i){return t(new Nv(n,i))})},e.prototype.batch=function(){var t=this;return de(this._delegate),new Dv(new a2(this._delegate,function(n){return wu(t._delegate,n)}))},e.prototype.loadBundle=function(t){throw new D(C.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new D(C.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),Sh=function(e){function t(n){var i=this;return(i=e.call(this)||this).firestore=n,i}return G(t,e),t.prototype.convertBytes=function(n){return new Ov(new Oi(n))},t.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return Lr.eu(i,this.firestore,null)},t}(Av);Nv=function(){function e(t,n){this._firestore=t,this._delegate=n,this._userDataWriter=new Sh(t)}return e.prototype.get=function(t){var n=this,i=Ei(t);return this._delegate.get(i).then(function(o){return new es(n._firestore,new er(n._firestore._delegate,n._userDataWriter,o._key,o._document,o.metadata,i.converter))})},e.prototype.set=function(t,n,i){var o=Ei(t);return i?(Iv("Transaction.set",i),this._delegate.set(o,n,i)):this._delegate.set(o,n),this},e.prototype.update=function(t,n,i){for(var o,a=[],u=3;u<arguments.length;u++)a[u-3]=arguments[u];var l=Ei(t);return arguments.length===2?this._delegate.update(l,n):(o=this._delegate).update.apply(o,Rt([l,n,i],a)),this},e.prototype.delete=function(t){var n=Ei(t);return this._delegate.delete(n),this},e}(),Dv=function(){function e(t){this._delegate=t}return e.prototype.set=function(t,n,i){var o=Ei(t);return i?(Iv("WriteBatch.set",i),this._delegate.set(o,n,i)):this._delegate.set(o,n),this},e.prototype.update=function(t,n,i){for(var o,a=[],u=3;u<arguments.length;u++)a[u-3]=arguments[u];var l=Ei(t);return arguments.length===2?this._delegate.update(l,n):(o=this._delegate).update.apply(o,Rt([l,n,i],a)),this},e.prototype.delete=function(t){var n=Ei(t);return this._delegate.delete(n),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),Th=function(){function e(t,n,i){this._firestore=t,this._userDataWriter=n,this._delegate=i}return e.prototype.fromFirestore=function(t,n){var i=new Za(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new ns(this._firestore,i),n??{})},e.prototype.toFirestore=function(t,n){return n?this._delegate.toFirestore(t,n):this._delegate.toFirestore(t)},e.nu=function(t,n){var i=e.su,o=i.get(t);o||(o=new WeakMap,i.set(t,o));var a=o.get(n);return a||(a=new e(t,new Sh(t),n),o.set(n,a)),a},e}();Th.su=new WeakMap;Lr=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new Sh(t)}return e.iu=function(t,n,i){if(t.length%2!=0)throw new D(C.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new kt(n._delegate,i,new H(t)))},e.eu=function(t,n,i){return new e(n,new kt(n._delegate,i,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new cu(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new cu(this.firestore,MC(this._delegate,t))}catch(n){throw Te(n,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return(t=Vt(t))instanceof kt&&LC(this._delegate,t)},e.prototype.set=function(t,n){n=Iv("DocumentReference.set",n);try{return n?c1(this._delegate,t,n):c1(this._delegate,t)}catch(i){throw Te(i,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];try{return arguments.length===1?l1(this._delegate,t):l1.apply(void 0,Rt([this._delegate,t,n],i))}catch(a){throw Te(a,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return wu(vt((t=this._delegate).firestore,Gt),[new gu(t._key,pe.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=e_(n),a=n_(n,function(u){return new es(t.firestore,new er(t.firestore._delegate,t._userDataWriter,u._key,u._document,u.metadata,t._delegate.converter))});return JC(this._delegate,o,a)},e.prototype.get=function(t){var n=this;return(t?.source==="cache"?function(i){i=vt(i,kt);var o=vt(i.firestore,Gt),a=de(o),u=new Ti(o);return function(l,f){var p=this,m=new ge;return l.asyncQueue.enqueueAndForget(function(){return R(p,void 0,void 0,function(){var y;return O(this,function(w){switch(w.label){case 0:return y=function(I,E,T){return R(this,void 0,void 0,function(){var A,x;return O(this,function(F){switch(F.label){case 0:return F.trys.push([0,2,,3]),[4,function(j,nt){var ut=L(j);return ut.persistence.runTransaction("read document","readonly",function(M){return ut.Mn.mn(M,nt)})}(I,E)];case 1:return(x=F.sent()).isFoundDocument()?T.resolve(x):x.isNoDocument()?T.resolve(null):T.reject(new D(C.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return A=F.sent(),x=us(A,"Failed to get document '"+E+" from cache"),T.reject(x),[3,3];case 3:return[2]}})})},[4,DC(l)];case 1:return[2,y.apply(void 0,[w.sent(),f,m])]}})})}),m.promise}(a,i._key).then(function(l){return new er(o,u,i._key,l,new Ii(l!==null&&l.hasLocalMutations,!0),i.converter)})}(this._delegate):t?.source==="server"?function(i){i=vt(i,kt);var o=vt(i.firestore,Gt);return WT(de(o),i._key,{source:"server"}).then(function(a){return Vm(o,i,a)})}(this._delegate):function(i){i=vt(i,kt);var o=vt(i.firestore,Gt);return WT(de(o),i._key).then(function(a){return Vm(o,i,a)})}(this._delegate)).then(function(i){return new es(n.firestore,new er(n.firestore._delegate,n._userDataWriter,i._key,i._document,i.metadata,n._delegate.converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Th.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();es=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"ref",{get:function(){return new Lr(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,n){return this._delegate.get(t,n)},e.prototype.isEqual=function(t){return WC(this._delegate,t._delegate)},e}(),ns=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return G(t,e),t.prototype.data=function(n){return this._delegate.data(n)},t}(es),bu=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new Sh(t)}return e.prototype.where=function(t,n,i){try{return new e(this.firestore,Or(this._delegate,function(o,a,u){var l=a,f=ch("where",o);return new i2(f,l,u)}(t,n,i)))}catch(o){throw Te(o,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Or(this._delegate,function(i,o){o===void 0&&(o="asc");var a=o,u=ch("orderBy",i);return new o2(u,a)}(t,n)))}catch(i){throw Te(i,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Or(this._delegate,function(n){return t1("limit",n),new i1("limit",n,"F")}(t)))}catch(n){throw Te(n,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Or(this._delegate,function(n){return t1("limitToLast",n),new i1("limitToLast",n,"L")}(t)))}catch(n){throw Te(n,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Or(this._delegate,(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new o1("startAt",i,!0)}).apply(void 0,t)))}catch(i){throw Te(i,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Or(this._delegate,(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new o1("startAfter",i,!1)}).apply(void 0,t)))}catch(i){throw Te(i,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Or(this._delegate,(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new s1("endBefore",i,!0)}).apply(void 0,t)))}catch(i){throw Te(i,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Or(this._delegate,(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new s1("endAt",i,!1)}).apply(void 0,t)))}catch(i){throw Te(i,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return FC(this._delegate,t._delegate)},e.prototype.get=function(t){var n=this;return(t?.source==="cache"?function(i){i=vt(i,tn);var o=vt(i.firestore,Gt),a=de(o),u=new Ti(o);return function(l,f){var p=this,m=new ge;return l.asyncQueue.enqueueAndForget(function(){return R(p,void 0,void 0,function(){var y;return O(this,function(w){switch(w.label){case 0:return y=function(I,E,T){return R(this,void 0,void 0,function(){var A,x,F,j,nt;return O(this,function(ut){switch(ut.label){case 0:return ut.trys.push([0,2,,3]),[4,ih(I,E,!0)];case 1:return nt=ut.sent(),A=new SC(E,nt.Bn),x=A._o(nt.documents),F=A.applyChanges(x,!1),T.resolve(F.snapshot),[3,3];case 2:return j=ut.sent(),nt=us(j,"Failed to execute query '"+E+" against cache"),T.reject(nt),[3,3];case 3:return[2]}})})},[4,DC(l)];case 1:return[2,y.apply(void 0,[w.sent(),f,m])]}})})}),m.promise}(a,i._query).then(function(l){return new xr(o,u,i,l)})}(this._delegate):t?.source==="server"?function(i){i=vt(i,tn);var o=vt(i.firestore,Gt),a=de(o),u=new Ti(o);return QT(a,i._query,{source:"server"}).then(function(l){return new xr(o,u,i,l)})}(this._delegate):function(i){i=vt(i,tn);var o=vt(i.firestore,Gt),a=de(o),u=new Ti(o);return QC(i._query),QT(a,i._query).then(function(l){return new xr(o,u,i,l)})}(this._delegate)).then(function(i){return new lh(n.firestore,new xr(n.firestore._delegate,n._userDataWriter,n._delegate,i._snapshot))})},e.prototype.onSnapshot=function(){for(var t=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=e_(n),a=n_(n,function(u){return new lh(t.firestore,new xr(t.firestore._delegate,t._userDataWriter,t._delegate,u._snapshot))});return JC(this._delegate,o,a)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Th.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),c2=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new ns(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),lh=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"query",{get:function(){return new bu(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(n){return new ns(t._firestore,n)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var n=this;return this._delegate.docChanges(t).map(function(i){return new c2(n._firestore,i)})},e.prototype.forEach=function(t,n){var i=this;this._delegate.forEach(function(o){t.call(n,new ns(i._firestore,o))})},e.prototype.isEqual=function(t){return WC(this._delegate,t._delegate)},e}(),cu=function(e){function t(n,i){var o=this;return(o=e.call(this,n,i)||this).firestore=n,o._delegate=i,o}return G(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new Lr(this.firestore,n):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(n){try{return new Lr(this.firestore,n===void 0?Wl(this._delegate):Wl(this._delegate,n))}catch(i){throw Te(i,"doc()","CollectionReference.doc()")}},t.prototype.add=function(n){var i=this;return function(o,a){var u=vt(o.firestore,Gt),l=Wl(o),f=Eh(o.converter,a);return wu(u,[Ih(Pi(o.firestore),"addDoc",l._key,f,o.converter!==null,{}).toMutation(l._key,pe.exists(!1))]).then(function(){return l})}(this._delegate,n).then(function(o){return new Lr(i.firestore,o)})},t.prototype.isEqual=function(n){return LC(this._delegate,n._delegate)},t.prototype.withConverter=function(n){return new t(this.firestore,n?this._delegate.withConverter(Th.nu(this.firestore,n)):this._delegate.withConverter(null))},t}(bu);r_=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._delegate=new(qn.bind.apply(qn,Rt([void 0],t)))}return e.documentId=function(){return new e(Cn.keyField().canonicalString())},e.prototype.isEqual=function(t){return(t=Vt(t))instanceof qn&&this._delegate._internalPath.isEqual(t._internalPath)},e}(),i_=function(){function e(t){this._delegate=t}return e.serverTimestamp=function(){var t=new XL("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Ev("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=(function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];return new JL("arrayUnion",o)}).apply(void 0,t);return i._methodName="FieldValue.arrayUnion",new e(i)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=(function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];return new ZL("arrayRemove",o)}).apply(void 0,t);return i._methodName="FieldValue.arrayRemove",new e(i)},e.increment=function(t){var n=function(i){return new t2("increment",i)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}();});function h2(e){(function(t,n){t.INTERNAL.registerComponent(new To("firestore",function(i){var o=i.getProvider("app").getImmediate();return n(o,i.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},l2)))})(e,function(t,n){return new Rv(t,new Gt(t,n),new ZC)}),e.registerVersion("@firebase/firestore","2.4.1")}var l2,s_=yn(()=>{"use strict";Ra();o_();_g();Oa();al();Em();l2={Firestore:Rv,GeoPoint:vu,Timestamp:Ce,Blob:Ov,Transaction:Nv,WriteBatch:Dv,DocumentReference:Lr,DocumentSnapshot:es,Query:bu,QueryDocumentSnapshot:ns,QuerySnapshot:lh,CollectionReference:cu,FieldPath:r_,FieldValue:i_,setLogLevel:t_,CACHE_SIZE_UNLIMITED:UC};h2(Q)});var f2={};var a_=yn(()=>{"use strict";s_()});var Dp=class extends sI{constructor(){super(...arguments),this.supportsDOMEvents=!0}},xp=class e extends Dp{static makeCurrent(){oI(new e)}onAndCancel(t,n,i){return t.addEventListener(n,i),()=>{t.removeEventListener(n,i)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=TN();return n==null?null:CN(n)}resetBaseElement(){ia=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return lI(document.cookie,t)}},ia=null;function TN(){return ia=ia||document.querySelector("base"),ia?ia.getAttribute("href"):null}function CN(e){return new URL(e,document.baseURI).pathname}var kp=class{addToWindow(t){pr.getAngularTestability=(i,o=!0)=>{let a=t.findTestabilityInTree(i,o);if(a==null)throw new jt(5103,!1);return a},pr.getAllAngularTestabilities=()=>t.getAllTestabilities(),pr.getAllAngularRootElements=()=>t.getAllRootElements();let n=i=>{let o=pr.getAllAngularTestabilities(),a=o.length,u=function(){a--,a==0&&i()};o.forEach(l=>{l.whenStable(u)})};pr.frameworkStabilizers||(pr.frameworkStabilizers=[]),pr.frameworkStabilizers.push(n)}findTestabilityInTree(t,n,i){if(n==null)return null;let o=t.getTestability(n);return o??(i?Lc().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},_N=(()=>{let t=class t{build(){return new XMLHttpRequest}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=It({token:t,factory:t.\u0275fac});let e=t;return e})(),Pp=new ce(""),vI=(()=>{let t=class t{constructor(i,o){this._zone=o,this._eventNameToPlugin=new Map,i.forEach(a=>{a.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,o,a){return this._findPluginFor(o).addEventListener(i,o,a)}getZone(){return this._zone}_findPluginFor(i){let o=this._eventNameToPlugin.get(i);if(o)return o;if(o=this._plugins.find(u=>u.supports(i)),!o)throw new jt(5101,!1);return this._eventNameToPlugin.set(i,o),o}};t.\u0275fac=function(o){return new(o||t)(Et(Pp),Et(be))},t.\u0275prov=It({token:t,factory:t.\u0275fac});let e=t;return e})(),Fc=class{constructor(t){this._doc=t}},Rp="ng-app-id",yI=(()=>{let t=class t{constructor(i,o,a,u={}){this.doc=i,this.appId=o,this.nonce=a,this.platformId=u,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Op(u),this.resetHostNodes()}addStyles(i){for(let o of i)this.changeUsageCount(o,1)===1&&this.onStyleAdded(o)}removeStyles(i){for(let o of i)this.changeUsageCount(o,-1)<=0&&this.onStyleRemoved(o)}ngOnDestroy(){let i=this.styleNodesInDOM;i&&(i.forEach(o=>o.remove()),i.clear());for(let o of this.getAllStyles())this.onStyleRemoved(o);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(let o of this.getAllStyles())this.addStyleToHost(i,o)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(let o of this.hostNodes)this.addStyleToHost(o,i)}onStyleRemoved(i){let o=this.styleRef;o.get(i)?.elements?.forEach(a=>a.remove()),o.delete(i)}collectServerRenderedStyles(){let i=this.doc.head?.querySelectorAll(`style[${Rp}="${this.appId}"]`);if(i?.length){let o=new Map;return i.forEach(a=>{a.textContent!=null&&o.set(a.textContent,a)}),o}return null}changeUsageCount(i,o){let a=this.styleRef;if(a.has(i)){let u=a.get(i);return u.usage+=o,u.usage}return a.set(i,{usage:o,elements:[]}),o}getStyleElement(i,o){let a=this.styleNodesInDOM,u=a?.get(o);if(u?.parentNode===i)return a.delete(o),u.removeAttribute(Rp),u;{let l=this.doc.createElement("style");return this.nonce&&l.setAttribute("nonce",this.nonce),l.textContent=o,this.platformIsServer&&l.setAttribute(Rp,this.appId),i.appendChild(l),l}}addStyleToHost(i,o){let a=this.getStyleElement(i,o),u=this.styleRef,l=u.get(o)?.elements;l?l.push(a):u.set(o,{elements:[a],usage:1})}resetHostNodes(){let i=this.hostNodes;i.clear(),i.add(this.doc.head)}};t.\u0275fac=function(o){return new(o||t)(Et(ze),Et(Rc),Et(bp,8),Et(ea))},t.\u0275prov=It({token:t,factory:t.\u0275fac});let e=t;return e})(),Np={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Lp=/%COMP%/g,wI="%COMP%",AN=`_nghost-${wI}`,ON=`_ngcontent-${wI}`,RN=!0,NN=new ce("",{providedIn:"root",factory:()=>RN});function DN(e){return ON.replace(Lp,e)}function xN(e){return AN.replace(Lp,e)}function bI(e,t){return t.map(n=>n.replace(Lp,e))}var Uc=(()=>{let t=class t{constructor(i,o,a,u,l,f,p,m=null){this.eventManager=i,this.sharedStylesHost=o,this.appId=a,this.removeStylesOnCompDestroy=u,this.doc=l,this.platformId=f,this.ngZone=p,this.nonce=m,this.rendererByCompId=new Map,this.platformIsServer=Op(f),this.defaultRenderer=new oa(i,l,p,this.platformIsServer)}createRenderer(i,o){if(!i||!o)return this.defaultRenderer;this.platformIsServer&&o.encapsulation===Js.ShadowDom&&(o=we(W({},o),{encapsulation:Js.Emulated}));let a=this.getOrCreateRenderer(i,o);return a instanceof jc?a.applyToHost(i):a instanceof sa&&a.applyStyles(),a}getOrCreateRenderer(i,o){let a=this.rendererByCompId,u=a.get(o.id);if(!u){let l=this.doc,f=this.ngZone,p=this.eventManager,m=this.sharedStylesHost,y=this.removeStylesOnCompDestroy,w=this.platformIsServer;switch(o.encapsulation){case Js.Emulated:u=new jc(p,m,o,this.appId,y,l,f,w);break;case Js.ShadowDom:return new Mp(p,m,i,o,l,f,this.nonce,w);default:u=new sa(p,m,o,y,l,f,w);break}a.set(o.id,u)}return u}ngOnDestroy(){this.rendererByCompId.clear()}};t.\u0275fac=function(o){return new(o||t)(Et(vI),Et(yI),Et(Rc),Et(NN),Et(ze),Et(ea),Et(be),Et(bp))},t.\u0275prov=It({token:t,factory:t.\u0275fac});let e=t;return e})(),oa=class{constructor(t,n,i,o){this.eventManager=t,this.doc=n,this.ngZone=i,this.platformIsServer=o,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(Np[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(gI(t)?t.content:t).appendChild(n)}insertBefore(t,n,i){t&&(gI(t)?t.content:t).insertBefore(n,i)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let i=typeof t=="string"?this.doc.querySelector(t):t;if(!i)throw new jt(-5104,!1);return n||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,i,o){if(o){n=o+":"+n;let a=Np[o];a?t.setAttributeNS(a,n,i):t.setAttribute(n,i)}else t.setAttribute(n,i)}removeAttribute(t,n,i){if(i){let o=Np[i];o?t.removeAttributeNS(o,n):t.removeAttribute(`${i}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,i,o){o&(na.DashCase|na.Important)?t.style.setProperty(n,i,o&na.Important?"important":""):t.style[n]=i}removeStyle(t,n,i){i&na.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,i){t!=null&&(t[n]=i)}setValue(t,n){t.nodeValue=n}listen(t,n,i){if(typeof t=="string"&&(t=Lc().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(i))}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))===!1&&n.preventDefault()}}};function gI(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var Mp=class extends oa{constructor(t,n,i,o,a,u,l,f){super(t,a,u,f),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let p=bI(o.id,o.styles);for(let m of p){let y=document.createElement("style");l&&y.setAttribute("nonce",l),y.textContent=m,this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,i){return super.insertBefore(this.nodeOrShadowRoot(t),n,i)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},sa=class extends oa{constructor(t,n,i,o,a,u,l,f){super(t,a,u,l),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=o,this.styles=f?bI(f,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},jc=class extends sa{constructor(t,n,i,o,a,u,l,f){let p=o+"-"+i.id;super(t,n,i,a,u,l,f,p),this.contentAttr=DN(p),this.hostAttr=xN(p)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let i=super.createElement(t,n);return super.setAttribute(i,this.contentAttr,""),i}},kN=(()=>{let t=class t extends Fc{constructor(i){super(i)}supports(i){return!0}addEventListener(i,o,a){return i.addEventListener(o,a,!1),()=>this.removeEventListener(i,o,a)}removeEventListener(i,o,a){return i.removeEventListener(o,a)}};t.\u0275fac=function(o){return new(o||t)(Et(ze))},t.\u0275prov=It({token:t,factory:t.\u0275fac});let e=t;return e})(),mI=["alt","control","meta","shift"],PN={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},MN={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},LN=(()=>{let t=class t extends Fc{constructor(i){super(i)}supports(i){return t.parseEventName(i)!=null}addEventListener(i,o,a){let u=t.parseEventName(o),l=t.eventCallback(u.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Lc().onAndCancel(i,u.domEventName,l))}static parseEventName(i){let o=i.toLowerCase().split("."),a=o.shift();if(o.length===0||!(a==="keydown"||a==="keyup"))return null;let u=t._normalizeKey(o.pop()),l="",f=o.indexOf("code");if(f>-1&&(o.splice(f,1),l="code."),mI.forEach(m=>{let y=o.indexOf(m);y>-1&&(o.splice(y,1),l+=m+".")}),l+=u,o.length!=0||u.length===0)return null;let p={};return p.domEventName=a,p.fullKey=l,p}static matchEventFullKeyCode(i,o){let a=PN[i.key]||i.key,u="";return o.indexOf("code.")>-1&&(a=i.code,u="code."),a==null||!a?!1:(a=a.toLowerCase(),a===" "?a="space":a==="."&&(a="dot"),mI.forEach(l=>{if(l!==a){let f=MN[l];f(i)&&(u+=l+".")}}),u+=a,u===o)}static eventCallback(i,o,a){return u=>{t.matchEventFullKeyCode(u,i)&&a.runGuarded(()=>o(u))}}static _normalizeKey(i){return i==="esc"?"escape":i}};t.\u0275fac=function(o){return new(o||t)(Et(ze))},t.\u0275prov=It({token:t,factory:t.\u0275fac});let e=t;return e})();function FN(){xp.makeCurrent()}function UN(){return new wp}function jN(){return Bb(document),document}var VN=[{provide:ea,useValue:fI},{provide:zb,useValue:FN,multi:!0},{provide:ze,useFactory:jN,deps:[]}],II=eI(nI,"browser",VN),qN=new ce(""),BN=[{provide:kc,useClass:kp,deps:[]},{provide:Jb,useClass:Pc,deps:[be,Sp,kc]},{provide:Pc,useClass:Pc,deps:[be,Sp,kc]}],zN=[{provide:Vb,useValue:"root"},{provide:wp,useFactory:UN,deps:[]},{provide:Pp,useClass:kN,multi:!0,deps:[ze,be,ea]},{provide:Pp,useClass:LN,multi:!0,deps:[ze]},Uc,yI,vI,{provide:Dc,useExisting:Uc},{provide:pI,useClass:_N,deps:[]},[]],EI=(()=>{let t=class t{constructor(i){}static withServerTransition(i){return{ngModule:t,providers:[{provide:Rc,useValue:i.appId}]}}};t.\u0275fac=function(o){return new(o||t)(Et(qN,12))},t.\u0275mod=mr({type:t}),t.\u0275inj=gr({providers:[...zN,...BN],imports:[hI,rI]});let e=t;return e})();var SI=(()=>{let t=class t{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}};t.\u0275fac=function(o){return new(o||t)(Et(ze))},t.\u0275prov=It({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var it="primary",Ia=Symbol("RouteTitle"),qp=class{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function vo(e){return new qp(e)}function HN(e,t,n){let i=n.path.split("/");if(i.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||i.length<e.length))return null;let o={};for(let a=0;a<i.length;a++){let u=i[a],l=e[a];if(u.startsWith(":"))o[u.substring(1)]=l;else if(u!==l.path)return null}return{consumed:e.slice(0,i.length),posParams:o}}function KN(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Ln(e[n],t[n]))return!1;return!0}function Ln(e,t){let n=e?Bp(e):void 0,i=t?Bp(t):void 0;if(!n||!i||n.length!=i.length)return!1;let o;for(let a=0;a<n.length;a++)if(o=n[a],!kI(e[o],t[o]))return!1;return!0}function Bp(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function kI(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),i=[...t].sort();return n.every((o,a)=>i[a]===o)}else return e===t}function PI(e){return e.length>0?e[e.length-1]:null}function Ir(e){return Rb(e)?e:Zb(e)?qe(Promise.resolve(e)):tt(e)}var GN={exact:LI,subset:FI},MI={exact:$N,subset:WN,ignored:()=>!0};function CI(e,t,n){return GN[n.paths](e.root,t.root,n.matrixParams)&&MI[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function $N(e,t){return Ln(e,t)}function LI(e,t,n){if(!fi(e.segments,t.segments)||!Bc(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let i in t.children)if(!e.children[i]||!LI(e.children[i],t.children[i],n))return!1;return!0}function WN(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>kI(e[n],t[n]))}function FI(e,t,n){return UI(e,t,t.segments,n)}function UI(e,t,n,i){if(e.segments.length>n.length){let o=e.segments.slice(0,n.length);return!(!fi(o,n)||t.hasChildren()||!Bc(o,n,i))}else if(e.segments.length===n.length){if(!fi(e.segments,n)||!Bc(e.segments,n,i))return!1;for(let o in t.children)if(!e.children[o]||!FI(e.children[o],t.children[o],i))return!1;return!0}else{let o=n.slice(0,e.segments.length),a=n.slice(e.segments.length);return!fi(e.segments,o)||!Bc(e.segments,o,i)||!e.children[it]?!1:UI(e.children[it],t,a,i)}}function Bc(e,t,n){return t.every((i,o)=>MI[n](e[o].parameters,i.parameters))}var yr=class{constructor(t=new mt([],{}),n={},i=null){this.root=t,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap??=vo(this.queryParams),this._queryParamMap}toString(){return XN.serialize(this)}},mt=class{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return zc(this)}},hi=class{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=vo(this.parameters),this._parameterMap}toString(){return VI(this)}};function QN(e,t){return fi(e,t)&&e.every((n,i)=>Ln(n.parameters,t[i].parameters))}function fi(e,t){return e.length!==t.length?!1:e.every((n,i)=>n.path===t[i].path)}function YN(e,t){let n=[];return Object.entries(e.children).forEach(([i,o])=>{i===it&&(n=n.concat(t(o,i)))}),Object.entries(e.children).forEach(([i,o])=>{i!==it&&(n=n.concat(t(o,i)))}),n}var Ea=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=It({token:t,factory:()=>new da,providedIn:"root"});let e=t;return e})(),da=class{parse(t){let n=new Hp(t);return new yr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${aa(t.root,!0)}`,i=tD(t.queryParams),o=typeof t.fragment=="string"?`#${JN(t.fragment)}`:"";return`${n}${i}${o}`}},XN=new da;function zc(e){return e.segments.map(t=>VI(t)).join("/")}function aa(e,t){if(!e.hasChildren())return zc(e);if(t){let n=e.children[it]?aa(e.children[it],!1):"",i=[];return Object.entries(e.children).forEach(([o,a])=>{o!==it&&i.push(`${o}:${aa(a,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}else{let n=YN(e,(i,o)=>o===it?[aa(e.children[it],!1)]:[`${o}:${aa(i,!1)}`]);return Object.keys(e.children).length===1&&e.children[it]!=null?`${zc(e)}/${n[0]}`:`${zc(e)}/(${n.join("//")})`}}function jI(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Vc(e){return jI(e).replace(/%3B/gi,";")}function JN(e){return encodeURI(e)}function zp(e){return jI(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Hc(e){return decodeURIComponent(e)}function _I(e){return Hc(e.replace(/\+/g,"%20"))}function VI(e){return`${zp(e.path)}${ZN(e.parameters)}`}function ZN(e){return Object.entries(e).map(([t,n])=>`;${zp(t)}=${zp(n)}`).join("")}function tD(e){let t=Object.entries(e).map(([n,i])=>Array.isArray(i)?i.map(o=>`${Vc(n)}=${Vc(o)}`).join("&"):`${Vc(n)}=${Vc(i)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var eD=/^[^\/()?;#]+/;function Fp(e){let t=e.match(eD);return t?t[0]:""}var nD=/^[^\/()?;=#]+/;function rD(e){let t=e.match(nD);return t?t[0]:""}var iD=/^[^=?&#]+/;function oD(e){let t=e.match(iD);return t?t[0]:""}var sD=/^[^&#]+/;function aD(e){let t=e.match(sD);return t?t[0]:""}var Hp=class{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new mt([],{}):new mt([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(i[it]=new mt(t,n)),i}parseSegment(){let t=Fp(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new jt(4009,!1);return this.capture(t),new hi(Hc(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=rD(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let o=Fp(this.remaining);o&&(i=o,this.capture(i))}t[Hc(n)]=Hc(i)}parseQueryParam(t){let n=oD(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let u=aD(this.remaining);u&&(i=u,this.capture(i))}let o=_I(n),a=_I(i);if(t.hasOwnProperty(o)){let u=t[o];Array.isArray(u)||(u=[u],t[o]=u),u.push(a)}else t[o]=a}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=Fp(this.remaining),o=this.remaining[i.length];if(o!=="/"&&o!==")"&&o!==";")throw new jt(4010,!1);let a;i.indexOf(":")>-1?(a=i.slice(0,i.indexOf(":")),this.capture(a),this.capture(":")):t&&(a=it);let u=this.parseChildren();n[a]=Object.keys(u).length===1?u[it]:new mt([],u),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new jt(4011,!1)}};function qI(e){return e.segments.length>0?new mt([],{[it]:e}):e}function BI(e){let t={};for(let[i,o]of Object.entries(e.children)){let a=BI(o);if(i===it&&a.segments.length===0&&a.hasChildren())for(let[u,l]of Object.entries(a.children))t[u]=l;else(a.segments.length>0||a.hasChildren())&&(t[i]=a)}let n=new mt(e.segments,t);return uD(n)}function uD(e){if(e.numberOfChildren===1&&e.children[it]){let t=e.children[it];return new mt(e.segments.concat(t.segments),t.children)}return e}function yo(e){return e instanceof yr}function cD(e,t,n=null,i=null){let o=zI(e);return HI(o,t,n,i)}function zI(e){let t;function n(a){let u={};for(let f of a.children){let p=n(f);u[f.outlet]=p}let l=new mt(a.url,u);return a===e&&(t=l),l}let i=n(e.root),o=qI(i);return t??o}function HI(e,t,n,i){let o=e;for(;o.parent;)o=o.parent;if(t.length===0)return Up(o,o,o,n,i);let a=lD(t);if(a.toRoot())return Up(o,o,new mt([],{}),n,i);let u=hD(a,o,e),l=u.processChildren?la(u.segmentGroup,u.index,a.commands):GI(u.segmentGroup,u.index,a.commands);return Up(o,u.segmentGroup,l,n,i)}function Kc(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function pa(e){return typeof e=="object"&&e!=null&&e.outlets}function Up(e,t,n,i,o){let a={};i&&Object.entries(i).forEach(([f,p])=>{a[f]=Array.isArray(p)?p.map(m=>`${m}`):`${p}`});let u;e===t?u=n:u=KI(e,t,n);let l=qI(BI(u));return new yr(l,a,o)}function KI(e,t,n){let i={};return Object.entries(e.children).forEach(([o,a])=>{a===t?i[o]=n:i[o]=KI(a,t,n)}),new mt(e.segments,i)}var Gc=class{constructor(t,n,i){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=i,t&&i.length>0&&Kc(i[0]))throw new jt(4003,!1);let o=i.find(pa);if(o&&o!==PI(i))throw new jt(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function lD(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new Gc(!0,0,e);let t=0,n=!1,i=e.reduce((o,a,u)=>{if(typeof a=="object"&&a!=null){if(a.outlets){let l={};return Object.entries(a.outlets).forEach(([f,p])=>{l[f]=typeof p=="string"?p.split("/"):p}),[...o,{outlets:l}]}if(a.segmentPath)return[...o,a.segmentPath]}return typeof a!="string"?[...o,a]:u===0?(a.split("/").forEach((l,f)=>{f==0&&l==="."||(f==0&&l===""?n=!0:l===".."?t++:l!=""&&o.push(l))}),o):[...o,a]},[]);return new Gc(n,t,i)}var go=class{constructor(t,n,i){this.segmentGroup=t,this.processChildren=n,this.index=i}};function hD(e,t,n){if(e.isAbsolute)return new go(t,!0,0);if(!n)return new go(t,!1,NaN);if(n.parent===null)return new go(n,!0,0);let i=Kc(e.commands[0])?0:1,o=n.segments.length-1+i;return fD(n,o,e.numberOfDoubleDots)}function fD(e,t,n){let i=e,o=t,a=n;for(;a>o;){if(a-=o,i=i.parent,!i)throw new jt(4005,!1);o=i.segments.length}return new go(i,!1,o-a)}function dD(e){return pa(e[0])?e[0].outlets:{[it]:e}}function GI(e,t,n){if(e??=new mt([],{}),e.segments.length===0&&e.hasChildren())return la(e,t,n);let i=pD(e,t,n),o=n.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){let a=new mt(e.segments.slice(0,i.pathIndex),{});return a.children[it]=new mt(e.segments.slice(i.pathIndex),e.children),la(a,0,o)}else return i.match&&o.length===0?new mt(e.segments,{}):i.match&&!e.hasChildren()?Kp(e,t,n):i.match?la(e,0,o):Kp(e,t,n)}function la(e,t,n){if(n.length===0)return new mt(e.segments,{});{let i=dD(n),o={};if(Object.keys(i).some(a=>a!==it)&&e.children[it]&&e.numberOfChildren===1&&e.children[it].segments.length===0){let a=la(e.children[it],t,n);return new mt(e.segments,a.children)}return Object.entries(i).forEach(([a,u])=>{typeof u=="string"&&(u=[u]),u!==null&&(o[a]=GI(e.children[a],t,u))}),Object.entries(e.children).forEach(([a,u])=>{i[a]===void 0&&(o[a]=u)}),new mt(e.segments,o)}}function pD(e,t,n){let i=0,o=t,a={match:!1,pathIndex:0,commandIndex:0};for(;o<e.segments.length;){if(i>=n.length)return a;let u=e.segments[o],l=n[i];if(pa(l))break;let f=`${l}`,p=i<n.length-1?n[i+1]:null;if(o>0&&f===void 0)break;if(f&&p&&typeof p=="object"&&p.outlets===void 0){if(!OI(f,p,u))return a;i+=2}else{if(!OI(f,{},u))return a;i++}o++}return{match:!0,pathIndex:o,commandIndex:i}}function Kp(e,t,n){let i=e.segments.slice(0,t),o=0;for(;o<n.length;){let a=n[o];if(pa(a)){let f=gD(a.outlets);return new mt(i,f)}if(o===0&&Kc(n[0])){let f=e.segments[t];i.push(new hi(f.path,AI(n[0]))),o++;continue}let u=pa(a)?a.outlets[it]:`${a}`,l=o<n.length-1?n[o+1]:null;u&&l&&Kc(l)?(i.push(new hi(u,AI(l))),o+=2):(i.push(new hi(u,{})),o++)}return new mt(i,{})}function gD(e){let t={};return Object.entries(e).forEach(([n,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(t[n]=Kp(new mt([],{}),0,i))}),t}function AI(e){let t={};return Object.entries(e).forEach(([n,i])=>t[n]=`${i}`),t}function OI(e,t,n){return e==n.path&&Ln(t,n.parameters)}var ha="imperative",Xt=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(Xt||{}),un=class{constructor(t,n){this.id=t,this.url=n}},wo=class extends un{constructor(t,n,i="imperative",o=null){super(t,n),this.type=Xt.NavigationStart,this.navigationTrigger=i,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Yn=class extends un{constructor(t,n,i){super(t,n),this.urlAfterRedirects=i,this.type=Xt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ke=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(Ke||{}),$c=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}($c||{}),wr=class extends un{constructor(t,n,i,o){super(t,n),this.reason=i,this.code=o,this.type=Xt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},br=class extends un{constructor(t,n,i,o){super(t,n),this.reason=i,this.code=o,this.type=Xt.NavigationSkipped}},ga=class extends un{constructor(t,n,i,o){super(t,n),this.error=i,this.target=o,this.type=Xt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Wc=class extends un{constructor(t,n,i,o){super(t,n),this.urlAfterRedirects=i,this.state=o,this.type=Xt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Gp=class extends un{constructor(t,n,i,o){super(t,n),this.urlAfterRedirects=i,this.state=o,this.type=Xt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$p=class extends un{constructor(t,n,i,o,a){super(t,n),this.urlAfterRedirects=i,this.state=o,this.shouldActivate=a,this.type=Xt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Wp=class extends un{constructor(t,n,i,o){super(t,n),this.urlAfterRedirects=i,this.state=o,this.type=Xt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Qp=class extends un{constructor(t,n,i,o){super(t,n),this.urlAfterRedirects=i,this.state=o,this.type=Xt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Yp=class{constructor(t){this.route=t,this.type=Xt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Xp=class{constructor(t){this.route=t,this.type=Xt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Jp=class{constructor(t){this.snapshot=t,this.type=Xt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Zp=class{constructor(t){this.snapshot=t,this.type=Xt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},tg=class{constructor(t){this.snapshot=t,this.type=Xt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},eg=class{constructor(t){this.snapshot=t,this.type=Xt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Qc=class{constructor(t,n,i){this.routerEvent=t,this.position=n,this.anchor=i,this.type=Xt.Scroll}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},ma=class{},va=class{constructor(t){this.url=t}};var ng=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Sa,this.attachRef=null}},Sa=(()=>{let t=class t{constructor(){this.contexts=new Map}onChildOutletCreated(i,o){let a=this.getOrCreateContext(i);a.outlet=o,this.contexts.set(i,a)}onChildOutletDestroyed(i){let o=this.getContext(i);o&&(o.outlet=null,o.attachRef=null)}onOutletDeactivated(){let i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let o=this.getContext(i);return o||(o=new ng,this.contexts.set(i,o)),o}getContext(i){return this.contexts.get(i)||null}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=It({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Yc=class{constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=rg(t,this._root);return n?n.children.map(i=>i.value):[]}firstChild(t){let n=rg(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=ig(t,this._root);return n.length<2?[]:n[n.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return ig(t,this._root).map(n=>n.value)}};function rg(e,t){if(e===t.value)return t;for(let n of t.children){let i=rg(e,n);if(i)return i}return null}function ig(e,t){if(e===t.value)return[t];for(let n of t.children){let i=ig(e,n);if(i.length)return i.unshift(t),i}return[]}var He=class{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function po(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var Xc=class extends Yc{constructor(t,n){super(t),this.snapshot=n,pg(this,t)}toString(){return this.snapshot.toString()}};function $I(e){let t=mD(e),n=new sn([new hi("",{})]),i=new sn({}),o=new sn({}),a=new sn({}),u=new sn(""),l=new bo(n,i,a,u,o,it,e,t.root);return l.snapshot=t.root,new Xc(new He(l,[]),t)}function mD(e){let t={},n={},i={},o="",a=new ya([],t,i,o,n,it,e,null,{});return new Jc("",new He(a,[]))}var bo=class{constructor(t,n,i,o,a,u,l,f){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=o,this.dataSubject=a,this.outlet=u,this.component=l,this._futureSnapshot=f,this.title=this.dataSubject?.pipe(Tt(p=>p[Ia]))??tt(void 0),this.url=t,this.params=n,this.queryParams=i,this.fragment=o,this.data=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Tt(t=>vo(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Tt(t=>vo(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function dg(e,t,n="emptyOnly"){let i,{routeConfig:o}=e;return t!==null&&(n==="always"||o?.path===""||!t.component&&!t.routeConfig?.loadComponent)?i={params:W(W({},t.params),e.params),data:W(W({},t.data),e.data),resolve:W(W(W(W({},e.data),t.data),o?.data),e._resolvedData)}:i={params:W({},e.params),data:W({},e.data),resolve:W(W({},e.data),e._resolvedData??{})},o&&QI(o)&&(i.resolve[Ia]=o.title),i}var ya=class{get title(){return this.data?.[Ia]}constructor(t,n,i,o,a,u,l,f,p){this.url=t,this.params=n,this.queryParams=i,this.fragment=o,this.data=a,this.outlet=u,this.component=l,this.routeConfig=f,this._resolve=p}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=vo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=vo(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(i=>i.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},Jc=class extends Yc{constructor(t,n){super(n),this.url=t,pg(this,n)}toString(){return WI(this._root)}};function pg(e,t){t.value._routerState=e,t.children.forEach(n=>pg(e,n))}function WI(e){let t=e.children.length>0?` { ${e.children.map(WI).join(", ")} } `:"";return`${e.value}${t}`}function jp(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Ln(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),Ln(t.params,n.params)||e.paramsSubject.next(n.params),KN(t.url,n.url)||e.urlSubject.next(n.url),Ln(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function og(e,t){let n=Ln(e.params,t.params)&&QN(e.url,t.url),i=!e.parent!=!t.parent;return n&&!i&&(!e.parent||og(e.parent,t.parent))}function QI(e){return typeof e.title=="string"||e.title===null}var gg=(()=>{let t=class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=it,this.activateEvents=new ta,this.deactivateEvents=new ta,this.attachEvents=new ta,this.detachEvents=new ta,this.parentContexts=J(Sa),this.location=J(Wb),this.changeDetector=J(_p),this.environmentInjector=J(Zs),this.inputBinder=J(rl,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(i){if(i.name){let{firstChange:o,previousValue:a}=i.name;if(o)return;this.isTrackedInParentContexts(a)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(a)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new jt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new jt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new jt(4012,!1);this.location.detach();let i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,o){this.activated=i,this._activatedRoute=o,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){let i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,o){if(this.isActivated)throw new jt(4013,!1);this._activatedRoute=i;let a=this.location,l=i.snapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,p=new sg(i,f,a.injector);this.activated=a.createComponent(l,{index:a.length,injector:p,environmentInjector:o??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};t.\u0275fac=function(o){return new(o||t)},t.\u0275dir=jb({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[qb]});let e=t;return e})(),sg=class{constructor(t,n,i){this.route=t,this.childContexts=n,this.parent=i}get(t,n){return t===bo?this.route:t===Sa?this.childContexts:this.parent.get(t,n)}},rl=new ce(""),RI=(()=>{let t=class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(i){this.unsubscribeFromRouteData(i),this.subscribeToRouteData(i)}unsubscribeFromRouteData(i){this.outletDataSubscriptions.get(i)?.unsubscribe(),this.outletDataSubscriptions.delete(i)}subscribeToRouteData(i){let{activatedRoute:o}=i,a=_c([o.queryParams,o.params,o.data]).pipe(wn(([u,l,f],p)=>(f=W(W(W({},u),l),f),p===0?tt(f):Promise.resolve(f)))).subscribe(u=>{if(!i.isActivated||!i.activatedComponentRef||i.activatedRoute!==o||o.component===null){this.unsubscribeFromRouteData(i);return}let l=iI(o.component);if(!l){this.unsubscribeFromRouteData(i);return}for(let{templateName:f}of l.inputs)i.activatedComponentRef.setInput(f,u[f])});this.outletDataSubscriptions.set(i,a)}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=It({token:t,factory:t.\u0275fac});let e=t;return e})();function vD(e,t,n){let i=wa(e,t._root,n?n._root:void 0);return new Xc(i,t)}function wa(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let i=n.value;i._futureSnapshot=t.value;let o=yD(e,t,n);return new He(i,o)}else{if(e.shouldAttach(t.value)){let a=e.retrieve(t.value);if(a!==null){let u=a.route;return u.value._futureSnapshot=t.value,u.children=t.children.map(l=>wa(e,l)),u}}let i=wD(t.value),o=t.children.map(a=>wa(e,a));return new He(i,o)}}function yD(e,t,n){return t.children.map(i=>{for(let o of n.children)if(e.shouldReuseRoute(i.value,o.value.snapshot))return wa(e,i,o);return wa(e,i)})}function wD(e){return new bo(new sn(e.url),new sn(e.params),new sn(e.queryParams),new sn(e.fragment),new sn(e.data),e.outlet,e.component,e)}var YI="ngNavigationCancelingError";function XI(e,t){let{redirectTo:n,navigationBehaviorOptions:i}=yo(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=JI(!1,Ke.Redirect);return o.url=n,o.navigationBehaviorOptions=i,o}function JI(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[YI]=!0,n.cancellationCode=t,n}function bD(e){return ZI(e)&&yo(e.url)}function ZI(e){return!!e&&e[YI]}var ID=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=an({type:t,selectors:[["ng-component"]],standalone:!0,features:[Xb],decls:1,vars:0,template:function(o,a){o&1&&gt(0,"router-outlet")},dependencies:[gg],encapsulation:2});let e=t;return e})();function ED(e,t){return e.providers&&!e._injector&&(e._injector=Ep(e.providers,t,`Route: ${e.path}`)),e._injector??t}function mg(e){let t=e.children&&e.children.map(mg),n=t?we(W({},e),{children:t}):W({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==it&&(n.component=ID),n}function Fn(e){return e.outlet||it}function SD(e,t){let n=e.filter(i=>Fn(i)===t);return n.push(...e.filter(i=>Fn(i)!==t)),n}function Ta(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var TD=(e,t,n,i)=>Tt(o=>(new ag(t,o.targetRouterState,o.currentRouterState,n,i).activate(e),o)),ag=class{constructor(t,n,i,o,a){this.routeReuseStrategy=t,this.futureState=n,this.currState=i,this.forwardEvent=o,this.inputBindingEnabled=a}activate(t){let n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,t),jp(this.futureState.root),this.activateChildRoutes(n,i,t)}deactivateChildRoutes(t,n,i){let o=po(n);t.children.forEach(a=>{let u=a.value.outlet;this.deactivateRoutes(a,o[u],i),delete o[u]}),Object.values(o).forEach(a=>{this.deactivateRouteAndItsChildren(a,i)})}deactivateRoutes(t,n,i){let o=t.value,a=n?n.value:null;if(o===a)if(o.component){let u=i.getContext(o.outlet);u&&this.deactivateChildRoutes(t,n,u.children)}else this.deactivateChildRoutes(t,n,i);else a&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let i=n.getContext(t.value.outlet),o=i&&t.value.component?i.children:n,a=po(t);for(let u of Object.values(a))this.deactivateRouteAndItsChildren(u,o);if(i&&i.outlet){let u=i.outlet.detach(),l=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:u,route:t,contexts:l})}}deactivateRouteAndOutlet(t,n){let i=n.getContext(t.value.outlet),o=i&&t.value.component?i.children:n,a=po(t);for(let u of Object.values(a))this.deactivateRouteAndItsChildren(u,o);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,n,i){let o=po(n);t.children.forEach(a=>{this.activateRoutes(a,o[a.value.outlet],i),this.forwardEvent(new eg(a.value.snapshot))}),t.children.length&&this.forwardEvent(new Zp(t.value.snapshot))}activateRoutes(t,n,i){let o=t.value,a=n?n.value:null;if(jp(o),o===a)if(o.component){let u=i.getOrCreateContext(o.outlet);this.activateChildRoutes(t,n,u.children)}else this.activateChildRoutes(t,n,i);else if(o.component){let u=i.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){let l=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),u.children.onOutletReAttached(l.contexts),u.attachRef=l.componentRef,u.route=l.route.value,u.outlet&&u.outlet.attach(l.componentRef,l.route.value),jp(l.route.value),this.activateChildRoutes(t,null,u.children)}else{let l=Ta(o.snapshot);u.attachRef=null,u.route=o,u.injector=l,u.outlet&&u.outlet.activateWith(o,u.injector),this.activateChildRoutes(t,null,u.children)}}else this.activateChildRoutes(t,null,i)}},Zc=class{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},mo=class{constructor(t,n){this.component=t,this.route=n}};function CD(e,t,n){let i=e._root,o=t?t._root:null;return ua(i,o,n,[i.value])}function _D(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function Eo(e,t){let n=Symbol(),i=t.get(e,n);return i===n?typeof e=="function"&&!Fb(e)?e:t.get(e):i}function ua(e,t,n,i,o={canDeactivateChecks:[],canActivateChecks:[]}){let a=po(t);return e.children.forEach(u=>{AD(u,a[u.value.outlet],n,i.concat([u.value]),o),delete a[u.value.outlet]}),Object.entries(a).forEach(([u,l])=>fa(l,n.getContext(u),o)),o}function AD(e,t,n,i,o={canDeactivateChecks:[],canActivateChecks:[]}){let a=e.value,u=t?t.value:null,l=n?n.getContext(e.value.outlet):null;if(u&&a.routeConfig===u.routeConfig){let f=OD(u,a,a.routeConfig.runGuardsAndResolvers);f?o.canActivateChecks.push(new Zc(i)):(a.data=u.data,a._resolvedData=u._resolvedData),a.component?ua(e,t,l?l.children:null,i,o):ua(e,t,n,i,o),f&&l&&l.outlet&&l.outlet.isActivated&&o.canDeactivateChecks.push(new mo(l.outlet.component,u))}else u&&fa(t,l,o),o.canActivateChecks.push(new Zc(i)),a.component?ua(e,null,l?l.children:null,i,o):ua(e,null,n,i,o);return o}function OD(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!fi(e.url,t.url);case"pathParamsOrQueryParamsChange":return!fi(e.url,t.url)||!Ln(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!og(e,t)||!Ln(e.queryParams,t.queryParams);case"paramsChange":default:return!og(e,t)}}function fa(e,t,n){let i=po(e),o=e.value;Object.entries(i).forEach(([a,u])=>{o.component?t?fa(u,t.children.getContext(a),n):fa(u,null,n):fa(u,t,n)}),o.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new mo(t.outlet.component,o)):n.canDeactivateChecks.push(new mo(null,o)):n.canDeactivateChecks.push(new mo(null,o))}function Ca(e){return typeof e=="function"}function RD(e){return typeof e=="boolean"}function ND(e){return e&&Ca(e.canLoad)}function DD(e){return e&&Ca(e.canActivate)}function xD(e){return e&&Ca(e.canActivateChild)}function kD(e){return e&&Ca(e.canDeactivate)}function PD(e){return e&&Ca(e.canMatch)}function tE(e){return e instanceof Nb||e?.name==="EmptyError"}var qc=Symbol("INITIAL_VALUE");function Io(){return wn(e=>_c(e.map(t=>t.pipe(lo(1),Mb(qc)))).pipe(Tt(t=>{for(let n of t)if(n!==!0){if(n===qc)return qc;if(n===!1||n instanceof yr)return n}return!0}),li(t=>t!==qc),lo(1)))}function MD(e,t){return Be(n=>{let{targetSnapshot:i,currentSnapshot:o,guards:{canActivateChecks:a,canDeactivateChecks:u}}=n;return u.length===0&&a.length===0?tt(we(W({},n),{guardsResult:!0})):LD(u,i,o,e).pipe(Be(l=>l&&RD(l)?FD(i,a,e,t):tt(l)),Tt(l=>we(W({},n),{guardsResult:l})))})}function LD(e,t,n,i){return qe(e).pipe(Be(o=>BD(o.component,o.route,n,t,i)),dr(o=>o!==!0,!0))}function FD(e,t,n,i){return qe(t).pipe(co(o=>Db(jD(o.route.parent,i),UD(o.route,i),qD(e,o.path,n),VD(e,o.route,n))),dr(o=>o!==!0,!0))}function UD(e,t){return e!==null&&t&&t(new tg(e)),tt(!0)}function jD(e,t){return e!==null&&t&&t(new Jp(e)),tt(!0)}function VD(e,t,n){let i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||i.length===0)return tt(!0);let o=i.map(a=>fp(()=>{let u=Ta(t)??n,l=Eo(a,u),f=DD(l)?l.canActivate(t,e):vr(u,()=>l(t,e));return Ir(f).pipe(dr())}));return tt(o).pipe(Io())}function qD(e,t,n){let i=t[t.length-1],a=t.slice(0,t.length-1).reverse().map(u=>_D(u)).filter(u=>u!==null).map(u=>fp(()=>{let l=u.guards.map(f=>{let p=Ta(u.node)??n,m=Eo(f,p),y=xD(m)?m.canActivateChild(i,e):vr(p,()=>m(i,e));return Ir(y).pipe(dr())});return tt(l).pipe(Io())}));return tt(a).pipe(Io())}function BD(e,t,n,i,o){let a=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!a||a.length===0)return tt(!0);let u=a.map(l=>{let f=Ta(t)??o,p=Eo(l,f),m=kD(p)?p.canDeactivate(e,t,n,i):vr(f,()=>p(e,t,n,i));return Ir(m).pipe(dr())});return tt(u).pipe(Io())}function zD(e,t,n,i){let o=t.canLoad;if(o===void 0||o.length===0)return tt(!0);let a=o.map(u=>{let l=Eo(u,e),f=ND(l)?l.canLoad(t,n):vr(e,()=>l(t,n));return Ir(f)});return tt(a).pipe(Io(),eE(i))}function eE(e){return Ob(ue(t=>{if(yo(t))throw XI(e,t)}),Tt(t=>t===!0))}function HD(e,t,n,i){let o=t.canMatch;if(!o||o.length===0)return tt(!0);let a=o.map(u=>{let l=Eo(u,e),f=PD(l)?l.canMatch(t,n):vr(e,()=>l(t,n));return Ir(f)});return tt(a).pipe(Io(),eE(i))}var ba=class{constructor(t){this.segmentGroup=t||null}},tl=class extends Error{constructor(t){super(),this.urlTree=t}};function fo(e){return Xs(new ba(e))}function KD(e){return Xs(new jt(4e3,!1))}function GD(e){return Xs(JI(!1,Ke.GuardRejected))}var ug=class{constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let i=[],o=n.root;for(;;){if(i=i.concat(o.segments),o.numberOfChildren===0)return tt(i);if(o.numberOfChildren>1||!o.children[it])return KD(t.redirectTo);o=o.children[it]}}applyRedirectCommands(t,n,i){let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,i);if(n.startsWith("/"))throw new tl(o);return o}applyRedirectCreateUrlTree(t,n,i,o){let a=this.createSegmentGroup(t,n.root,i,o);return new yr(a,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let i={};return Object.entries(t).forEach(([o,a])=>{if(typeof a=="string"&&a.startsWith(":")){let l=a.substring(1);i[o]=n[l]}else i[o]=a}),i}createSegmentGroup(t,n,i,o){let a=this.createSegments(t,n.segments,i,o),u={};return Object.entries(n.children).forEach(([l,f])=>{u[l]=this.createSegmentGroup(t,f,i,o)}),new mt(a,u)}createSegments(t,n,i,o){return n.map(a=>a.path.startsWith(":")?this.findPosParam(t,a,o):this.findOrReturn(a,i))}findPosParam(t,n,i){let o=i[n.path.substring(1)];if(!o)throw new jt(4001,!1);return o}findOrReturn(t,n){let i=0;for(let o of n){if(o.path===t.path)return n.splice(i),o;i++}return t}},cg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function $D(e,t,n,i,o){let a=vg(e,t,n);return a.matched?(i=ED(t,i),HD(i,t,n,o).pipe(Tt(u=>u===!0?a:W({},cg)))):tt(a)}function vg(e,t,n){if(t.path==="**")return WD(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?W({},cg):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let o=(t.matcher||HN)(n,e,t);if(!o)return W({},cg);let a={};Object.entries(o.posParams??{}).forEach(([l,f])=>{a[l]=f.path});let u=o.consumed.length>0?W(W({},a),o.consumed[o.consumed.length-1].parameters):a;return{matched:!0,consumedSegments:o.consumed,remainingSegments:n.slice(o.consumed.length),parameters:u,positionalParamSegments:o.posParams??{}}}function WD(e){return{matched:!0,parameters:e.length>0?PI(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function NI(e,t,n,i){return n.length>0&&XD(e,n,i)?{segmentGroup:new mt(t,YD(i,new mt(n,e.children))),slicedSegments:[]}:n.length===0&&JD(e,n,i)?{segmentGroup:new mt(e.segments,QD(e,n,i,e.children)),slicedSegments:n}:{segmentGroup:new mt(e.segments,e.children),slicedSegments:n}}function QD(e,t,n,i){let o={};for(let a of n)if(il(e,t,a)&&!i[Fn(a)]){let u=new mt([],{});o[Fn(a)]=u}return W(W({},i),o)}function YD(e,t){let n={};n[it]=t;for(let i of e)if(i.path===""&&Fn(i)!==it){let o=new mt([],{});n[Fn(i)]=o}return n}function XD(e,t,n){return n.some(i=>il(e,t,i)&&Fn(i)!==it)}function JD(e,t,n){return n.some(i=>il(e,t,i))}function il(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function ZD(e,t,n,i){return Fn(e)!==i&&(i===it||!il(t,n,e))?!1:vg(t,e,n).matched}function tx(e,t,n){return t.length===0&&!e.children[n]}var lg=class{};function ex(e,t,n,i,o,a,u="emptyOnly"){return new hg(e,t,n,i,o,u,a).recognize()}var nx=31,hg=class{constructor(t,n,i,o,a,u,l){this.injector=t,this.configLoader=n,this.rootComponentType=i,this.config=o,this.urlTree=a,this.paramsInheritanceStrategy=u,this.urlSerializer=l,this.applyRedirects=new ug(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new jt(4002,`'${t.segmentGroup}'`)}recognize(){let t=NI(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(Tt(n=>{let i=new ya([],Object.freeze({}),Object.freeze(W({},this.urlTree.queryParams)),this.urlTree.fragment,{},it,this.rootComponentType,null,{}),o=new He(i,n),a=new Jc("",o),u=cD(i,[],this.urlTree.queryParams,this.urlTree.fragment);return u.queryParams=this.urlTree.queryParams,a.url=this.urlSerializer.serialize(u),this.inheritParamsAndData(a._root,null),{state:a,tree:u}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t,it).pipe(uo(i=>{if(i instanceof tl)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof ba?this.noMatchError(i):i}))}inheritParamsAndData(t,n){let i=t.value,o=dg(i,n,this.paramsInheritanceStrategy);i.params=Object.freeze(o.params),i.data=Object.freeze(o.data),t.children.forEach(a=>this.inheritParamsAndData(a,i))}processSegmentGroup(t,n,i,o){return i.segments.length===0&&i.hasChildren()?this.processChildren(t,n,i):this.processSegment(t,n,i,i.segments,o,!0).pipe(Tt(a=>a instanceof He?[a]:[]))}processChildren(t,n,i){let o=[];for(let a of Object.keys(i.children))a==="primary"?o.unshift(a):o.push(a);return qe(o).pipe(co(a=>{let u=i.children[a],l=SD(n,a);return this.processSegmentGroup(t,l,u,a)}),Pb((a,u)=>(a.push(...u),a)),dp(null),kb(),Be(a=>{if(a===null)return fo(i);let u=nE(a);return rx(u),tt(u)}))}processSegment(t,n,i,o,a,u){return qe(n).pipe(co(l=>this.processSegmentAgainstRoute(l._injector??t,n,l,i,o,a,u).pipe(uo(f=>{if(f instanceof ba)return tt(null);throw f}))),dr(l=>!!l),uo(l=>{if(tE(l))return tx(i,o,a)?tt(new lg):fo(i);throw l}))}processSegmentAgainstRoute(t,n,i,o,a,u,l){return ZD(i,o,a,u)?i.redirectTo===void 0?this.matchSegmentAgainstRoute(t,o,i,a,u):this.allowRedirects&&l?this.expandSegmentAgainstRouteUsingRedirect(t,o,n,i,a,u):fo(o):fo(o)}expandSegmentAgainstRouteUsingRedirect(t,n,i,o,a,u){let{matched:l,consumedSegments:f,positionalParamSegments:p,remainingSegments:m}=vg(n,o,a);if(!l)return fo(n);o.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>nx&&(this.allowRedirects=!1));let y=this.applyRedirects.applyRedirectCommands(f,o.redirectTo,p);return this.applyRedirects.lineralizeSegments(o,y).pipe(Be(w=>this.processSegment(t,i,n,w.concat(m),u,!1)))}matchSegmentAgainstRoute(t,n,i,o,a){let u=$D(n,i,o,t,this.urlSerializer);return i.path==="**"&&(n.children={}),u.pipe(wn(l=>l.matched?(t=i._injector??t,this.getChildConfig(t,i,o).pipe(wn(({routes:f})=>{let p=i._loadedInjector??t,{consumedSegments:m,remainingSegments:y,parameters:w}=l,I=new ya(m,w,Object.freeze(W({},this.urlTree.queryParams)),this.urlTree.fragment,ox(i),Fn(i),i.component??i._loadedComponent??null,i,sx(i)),{segmentGroup:E,slicedSegments:T}=NI(n,m,y,f);if(T.length===0&&E.hasChildren())return this.processChildren(p,f,E).pipe(Tt(x=>x===null?null:new He(I,x)));if(f.length===0&&T.length===0)return tt(new He(I,[]));let A=Fn(i)===a;return this.processSegment(p,f,E,T,A?it:a,!0).pipe(Tt(x=>new He(I,x instanceof He?[x]:[])))}))):fo(n)))}getChildConfig(t,n,i){return n.children?tt({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?tt({routes:n._loadedRoutes,injector:n._loadedInjector}):zD(t,n,i,this.urlSerializer).pipe(Be(o=>o?this.configLoader.loadChildren(t,n).pipe(ue(a=>{n._loadedRoutes=a.routes,n._loadedInjector=a.injector})):GD(n))):tt({routes:[],injector:t})}};function rx(e){e.sort((t,n)=>t.value.outlet===it?-1:n.value.outlet===it?1:t.value.outlet.localeCompare(n.value.outlet))}function ix(e){let t=e.value.routeConfig;return t&&t.path===""}function nE(e){let t=[],n=new Set;for(let i of e){if(!ix(i)){t.push(i);continue}let o=t.find(a=>i.value.routeConfig===a.value.routeConfig);o!==void 0?(o.children.push(...i.children),n.add(o)):t.push(i)}for(let i of n){let o=nE(i.children);t.push(new He(i.value,o))}return t.filter(i=>!n.has(i))}function ox(e){return e.data||{}}function sx(e){return e.resolve||{}}function ax(e,t,n,i,o,a){return Be(u=>ex(e,t,n,i,u.extractedUrl,o,a).pipe(Tt(({state:l,tree:f})=>we(W({},u),{targetSnapshot:l,urlAfterRedirects:f}))))}function ux(e,t){return Be(n=>{let{targetSnapshot:i,guards:{canActivateChecks:o}}=n;if(!o.length)return tt(n);let a=new Set(o.map(f=>f.route)),u=new Set;for(let f of a)if(!u.has(f))for(let p of rE(f))u.add(p);let l=0;return qe(u).pipe(co(f=>a.has(f)?cx(f,i,e,t):(f.data=dg(f,f.parent,e).resolve,tt(void 0))),ue(()=>l++),pp(1),Be(f=>l===u.size?tt(n):fr))})}function rE(e){let t=e.children.map(n=>rE(n)).flat();return[e,...t]}function cx(e,t,n,i){let o=e.routeConfig,a=e._resolve;return o?.title!==void 0&&!QI(o)&&(a[Ia]=o.title),lx(a,e,t,i).pipe(Tt(u=>(e._resolvedData=u,e.data=dg(e,e.parent,n).resolve,null)))}function lx(e,t,n,i){let o=Bp(e);if(o.length===0)return tt({});let a={};return qe(o).pipe(Be(u=>hx(e[u],t,n,i).pipe(dr(),ue(l=>{a[u]=l}))),pp(1),xb(a),uo(u=>tE(u)?fr:Xs(u)))}function hx(e,t,n,i){let o=Ta(t)??i,a=Eo(e,o),u=a.resolve?a.resolve(t,n):vr(o,()=>a(t,n));return Ir(u)}function Vp(e){return wn(t=>{let n=e(t);return n?qe(n).pipe(Tt(()=>t)):tt(t)})}var iE=(()=>{let t=class t{buildTitle(i){let o,a=i.root;for(;a!==void 0;)o=this.getResolvedTitleForRoute(a)??o,a=a.children.find(u=>u.outlet===it);return o}getResolvedTitleForRoute(i){return i.data[Ia]}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=It({token:t,factory:()=>J(fx),providedIn:"root"});let e=t;return e})(),fx=(()=>{let t=class t extends iE{constructor(i){super(),this.title=i}updateTitle(i){let o=this.buildTitle(i);o!==void 0&&this.title.setTitle(o)}};t.\u0275fac=function(o){return new(o||t)(Et(SI))},t.\u0275prov=It({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),_a=new ce("",{providedIn:"root",factory:()=>({})}),el=new ce(""),yg=(()=>{let t=class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=J(Mc)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return tt(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let o=Ir(i.loadComponent()).pipe(Tt(oE),ue(u=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=u}),Ac(()=>{this.componentLoaders.delete(i)})),a=new lp(o,()=>new ci).pipe(cp());return this.componentLoaders.set(i,a),a}loadChildren(i,o){if(this.childrenLoaders.get(o))return this.childrenLoaders.get(o);if(o._loadedRoutes)return tt({routes:o._loadedRoutes,injector:o._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(o);let u=dx(o,this.compiler,i,this.onLoadEndListener).pipe(Ac(()=>{this.childrenLoaders.delete(o)})),l=new lp(u,()=>new ci).pipe(cp());return this.childrenLoaders.set(o,l),l}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=It({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function dx(e,t,n,i){return Ir(e.loadChildren()).pipe(Tt(oE),Be(o=>o instanceof Qb||Array.isArray(o)?tt(o):qe(t.compileModuleAsync(o))),Tt(o=>{i&&i(e);let a,u,l=!1;return Array.isArray(o)?(u=o,l=!0):(a=o.create(n).injector,u=a.get(el,[],{optional:!0,self:!0}).flat()),{routes:u.map(mg),injector:a}}))}function px(e){return e&&typeof e=="object"&&"default"in e}function oE(e){return px(e)?e.default:e}var wg=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=It({token:t,factory:()=>J(gx),providedIn:"root"});let e=t;return e})(),gx=(()=>{let t=class t{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,o){return i}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=It({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),sE=new ce(""),aE=new ce("");function mx(e,t,n){let i=e.get(aE),o=e.get(ze);return e.get(be).runOutsideAngular(()=>{if(!o.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,Promise.resolve();let a,u=new Promise(p=>{a=p}),l=o.startViewTransition(()=>(a(),vx(e))),{onViewTransitionCreated:f}=i;return f&&vr(e,()=>f({transition:l,from:t,to:n})),u})}function vx(e){return new Promise(t=>{$b(t,{injector:e})})}var bg=(()=>{let t=class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ci,this.transitionAbortSubject=new ci,this.configLoader=J(yg),this.environmentInjector=J(Zs),this.urlSerializer=J(Ea),this.rootContexts=J(Sa),this.location=J(ra),this.inputBindingEnabled=J(rl,{optional:!0})!==null,this.titleStrategy=J(iE),this.options=J(_a,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=J(wg),this.createViewTransition=J(sE,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>tt(void 0),this.rootComponentType=null;let i=a=>this.events.next(new Yp(a)),o=a=>this.events.next(new Xp(a));this.configLoader.onLoadEndListener=o,this.configLoader.onLoadStartListener=i}complete(){this.transitions?.complete()}handleNavigationRequest(i){let o=++this.navigationId;this.transitions?.next(we(W(W({},this.transitions.value),i),{id:o}))}setupNavigations(i,o,a){return this.transitions=new sn({id:0,currentUrlTree:o,currentRawUrl:o,extractedUrl:this.urlHandlingStrategy.extract(o),urlAfterRedirects:this.urlHandlingStrategy.extract(o),rawUrl:o,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ha,restoredState:null,currentSnapshot:a.snapshot,targetSnapshot:null,currentRouterState:a,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(li(u=>u.id!==0),Tt(u=>we(W({},u),{extractedUrl:this.urlHandlingStrategy.extract(u.rawUrl)})),wn(u=>{let l=!1,f=!1;return tt(u).pipe(wn(p=>{if(this.navigationId>u.id)return this.cancelNavigationTransition(u,"",Ke.SupersededByNewNavigation),fr;this.currentTransition=u,this.currentNavigation={id:p.id,initialUrl:p.rawUrl,extractedUrl:p.extractedUrl,trigger:p.source,extras:p.extras,previousNavigation:this.lastSuccessfulNavigation?we(W({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let m=!i.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),y=p.extras.onSameUrlNavigation??i.onSameUrlNavigation;if(!m&&y!=="reload"){let w="";return this.events.next(new br(p.id,this.urlSerializer.serialize(p.rawUrl),w,$c.IgnoredSameUrlNavigation)),p.resolve(null),fr}if(this.urlHandlingStrategy.shouldProcessUrl(p.rawUrl))return tt(p).pipe(wn(w=>{let I=this.transitions?.getValue();return this.events.next(new wo(w.id,this.urlSerializer.serialize(w.extractedUrl),w.source,w.restoredState)),I!==this.transitions?.getValue()?fr:Promise.resolve(w)}),ax(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,this.paramsInheritanceStrategy),ue(w=>{u.targetSnapshot=w.targetSnapshot,u.urlAfterRedirects=w.urlAfterRedirects,this.currentNavigation=we(W({},this.currentNavigation),{finalUrl:w.urlAfterRedirects});let I=new Wc(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(I)}));if(m&&this.urlHandlingStrategy.shouldProcessUrl(p.currentRawUrl)){let{id:w,extractedUrl:I,source:E,restoredState:T,extras:A}=p,x=new wo(w,this.urlSerializer.serialize(I),E,T);this.events.next(x);let F=$I(this.rootComponentType).snapshot;return this.currentTransition=u=we(W({},p),{targetSnapshot:F,urlAfterRedirects:I,extras:we(W({},A),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=I,tt(u)}else{let w="";return this.events.next(new br(p.id,this.urlSerializer.serialize(p.extractedUrl),w,$c.IgnoredByUrlHandlingStrategy)),p.resolve(null),fr}}),ue(p=>{let m=new Gp(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(m)}),Tt(p=>(this.currentTransition=u=we(W({},p),{guards:CD(p.targetSnapshot,p.currentSnapshot,this.rootContexts)}),u)),MD(this.environmentInjector,p=>this.events.next(p)),ue(p=>{if(u.guardsResult=p.guardsResult,yo(p.guardsResult))throw XI(this.urlSerializer,p.guardsResult);let m=new $p(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot,!!p.guardsResult);this.events.next(m)}),li(p=>p.guardsResult?!0:(this.cancelNavigationTransition(p,"",Ke.GuardRejected),!1)),Vp(p=>{if(p.guards.canActivateChecks.length)return tt(p).pipe(ue(m=>{let y=new Wp(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(y)}),wn(m=>{let y=!1;return tt(m).pipe(ux(this.paramsInheritanceStrategy,this.environmentInjector),ue({next:()=>y=!0,complete:()=>{y||this.cancelNavigationTransition(m,"",Ke.NoDataFromResolver)}}))}),ue(m=>{let y=new Qp(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(y)}))}),Vp(p=>{let m=y=>{let w=[];y.routeConfig?.loadComponent&&!y.routeConfig._loadedComponent&&w.push(this.configLoader.loadComponent(y.routeConfig).pipe(ue(I=>{y.component=I}),Tt(()=>{})));for(let I of y.children)w.push(...m(I));return w};return _c(m(p.targetSnapshot.root)).pipe(dp(null),lo(1))}),Vp(()=>this.afterPreactivation()),wn(()=>{let{currentSnapshot:p,targetSnapshot:m}=u,y=this.createViewTransition?.(this.environmentInjector,p.root,m.root);return y?qe(y).pipe(Tt(()=>u)):tt(u)}),Tt(p=>{let m=vD(i.routeReuseStrategy,p.targetSnapshot,p.currentRouterState);return this.currentTransition=u=we(W({},p),{targetRouterState:m}),this.currentNavigation.targetRouterState=m,u}),ue(()=>{this.events.next(new ma)}),TD(this.rootContexts,i.routeReuseStrategy,p=>this.events.next(p),this.inputBindingEnabled),lo(1),ue({next:p=>{l=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Yn(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects))),this.titleStrategy?.updateTitle(p.targetRouterState.snapshot),p.resolve(!0)},complete:()=>{l=!0}}),Lb(this.transitionAbortSubject.pipe(ue(p=>{throw p}))),Ac(()=>{!l&&!f&&this.cancelNavigationTransition(u,"",Ke.SupersededByNewNavigation),this.currentTransition?.id===u.id&&(this.currentNavigation=null,this.currentTransition=null)}),uo(p=>{if(f=!0,ZI(p))this.events.next(new wr(u.id,this.urlSerializer.serialize(u.extractedUrl),p.message,p.cancellationCode)),bD(p)?this.events.next(new va(p.url)):u.resolve(!1);else{this.events.next(new ga(u.id,this.urlSerializer.serialize(u.extractedUrl),p,u.targetSnapshot??void 0));try{u.resolve(i.errorHandler(p))}catch(m){this.options.resolveNavigationPromiseOnError?u.resolve(!1):u.reject(m)}}return fr}))}))}cancelNavigationTransition(i,o,a){let u=new wr(i.id,this.urlSerializer.serialize(i.extractedUrl),o,a);this.events.next(u),i.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=It({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function yx(e){return e!==ha}var wx=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=It({token:t,factory:()=>J(bx),providedIn:"root"});let e=t;return e})(),fg=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},bx=(()=>{let t=class t extends fg{};t.\u0275fac=(()=>{let i;return function(a){return(i||(i=vp(t)))(a||t)}})(),t.\u0275prov=It({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),uE=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=It({token:t,factory:()=>J(Ix),providedIn:"root"});let e=t;return e})(),Ix=(()=>{let t=class t extends uE{constructor(){super(...arguments),this.location=J(ra),this.urlSerializer=J(Ea),this.options=J(_a,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=J(wg),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new yr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=$I(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(i){return this.location.subscribe(o=>{o.type==="popstate"&&i(o.url,o.state)})}handleRouterEvent(i,o){if(i instanceof wo)this.stateMemento=this.createStateMemento();else if(i instanceof br)this.rawUrlTree=o.initialUrl;else if(i instanceof Wc){if(this.urlUpdateStrategy==="eager"&&!o.extras.skipLocationChange){let a=this.urlHandlingStrategy.merge(o.finalUrl,o.initialUrl);this.setBrowserUrl(a,o)}}else i instanceof ma?(this.currentUrlTree=o.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(o.finalUrl,o.initialUrl),this.routerState=o.targetRouterState,this.urlUpdateStrategy==="deferred"&&(o.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,o))):i instanceof wr&&(i.code===Ke.GuardRejected||i.code===Ke.NoDataFromResolver)?this.restoreHistory(o):i instanceof ga?this.restoreHistory(o,!0):i instanceof Yn&&(this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId)}setBrowserUrl(i,o){let a=this.urlSerializer.serialize(i);if(this.location.isCurrentPathEqualTo(a)||o.extras.replaceUrl){let u=this.browserPageId,l=W(W({},o.extras.state),this.generateNgRouterState(o.id,u));this.location.replaceState(a,"",l)}else{let u=W(W({},o.extras.state),this.generateNgRouterState(o.id,this.browserPageId+1));this.location.go(a,"",u)}}restoreHistory(i,o=!1){if(this.canceledNavigationResolution==="computed"){let a=this.browserPageId,u=this.currentPageId-a;u!==0?this.location.historyGo(u):this.currentUrlTree===i.finalUrl&&u===0&&(this.resetState(i),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(o&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,o){return this.canceledNavigationResolution==="computed"?{navigationId:i,\u0275routerPageId:o}:{navigationId:i}}};t.\u0275fac=(()=>{let i;return function(a){return(i||(i=vp(t)))(a||t)}})(),t.\u0275prov=It({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),ca=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(ca||{});function cE(e,t){e.events.pipe(li(n=>n instanceof Yn||n instanceof wr||n instanceof ga||n instanceof br),Tt(n=>n instanceof Yn||n instanceof br?ca.COMPLETE:(n instanceof wr?n.code===Ke.Redirect||n.code===Ke.SupersededByNewNavigation:!1)?ca.REDIRECTING:ca.FAILED),li(n=>n!==ca.REDIRECTING),lo(1)).subscribe(()=>{t()})}function Ex(e){throw e}var Sx={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Tx={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ge=(()=>{let t=class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=J(xc),this.stateManager=J(uE),this.options=J(_a,{optional:!0})||{},this.pendingTasks=J(Yb),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=J(bg),this.urlSerializer=J(Ea),this.location=J(ra),this.urlHandlingStrategy=J(wg),this._events=new ci,this.errorHandler=this.options.errorHandler||Ex,this.navigated=!1,this.routeReuseStrategy=J(wx),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=J(el,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!J(rl,{optional:!0}),this.eventsSubscription=new Ab,this.isNgZoneEnabled=J(be)instanceof be&&be.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:i=>{this.console.warn(i)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let i=this.navigationTransitions.events.subscribe(o=>{try{let a=this.navigationTransitions.currentTransition,u=this.navigationTransitions.currentNavigation;if(a!==null&&u!==null){if(this.stateManager.handleRouterEvent(o,u),o instanceof wr&&o.code!==Ke.Redirect&&o.code!==Ke.SupersededByNewNavigation)this.navigated=!0;else if(o instanceof Yn)this.navigated=!0;else if(o instanceof va){let l=this.urlHandlingStrategy.merge(o.url,a.currentRawUrl),f={info:a.extras.info,skipLocationChange:a.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||yx(a.source)};this.scheduleNavigation(l,ha,null,f,{resolve:a.resolve,reject:a.reject,promise:a.promise})}}_x(o)&&this._events.next(o)}catch(a){this.navigationTransitions.transitionAbortSubject.next(a)}});this.eventsSubscription.add(i)}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ha,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((i,o)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(i,"popstate",o)},0)})}navigateToSyncWithBrowser(i,o,a){let u={replaceUrl:!0},l=a?.navigationId?a:null;if(a){let p=W({},a);delete p.navigationId,delete p.\u0275routerPageId,Object.keys(p).length!==0&&(u.state=p)}let f=this.parseUrl(i);this.scheduleNavigation(f,o,l,u)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(mg),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(i,o={}){let{relativeTo:a,queryParams:u,fragment:l,queryParamsHandling:f,preserveFragment:p}=o,m=p?this.currentUrlTree.fragment:l,y=null;switch(f){case"merge":y=W(W({},this.currentUrlTree.queryParams),u);break;case"preserve":y=this.currentUrlTree.queryParams;break;default:y=u||null}y!==null&&(y=this.removeEmptyProps(y));let w;try{let I=a?a.snapshot:this.routerState.snapshot.root;w=zI(I)}catch{(typeof i[0]!="string"||!i[0].startsWith("/"))&&(i=[]),w=this.currentUrlTree.root}return HI(w,i,y,m??null)}navigateByUrl(i,o={skipLocationChange:!1}){let a=yo(i)?i:this.parseUrl(i),u=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(u,ha,null,o)}navigate(i,o={skipLocationChange:!1}){return Cx(i),this.navigateByUrl(this.createUrlTree(i,o),o)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){try{return this.urlSerializer.parse(i)}catch{return this.urlSerializer.parse("/")}}isActive(i,o){let a;if(o===!0?a=W({},Sx):o===!1?a=W({},Tx):a=o,yo(i))return CI(this.currentUrlTree,i,a);let u=this.parseUrl(i);return CI(this.currentUrlTree,u,a)}removeEmptyProps(i){return Object.entries(i).reduce((o,[a,u])=>(u!=null&&(o[a]=u),o),{})}scheduleNavigation(i,o,a,u,l){if(this.disposed)return Promise.resolve(!1);let f,p,m;l?(f=l.resolve,p=l.reject,m=l.promise):m=new Promise((w,I)=>{f=w,p=I});let y=this.pendingTasks.add();return cE(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(y))}),this.navigationTransitions.handleNavigationRequest({source:o,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:i,extras:u,resolve:f,reject:p,promise:m,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),m.catch(w=>Promise.reject(w))}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=It({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Cx(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new jt(4008,!1)}function _x(e){return!(e instanceof ma)&&!(e instanceof va)}var nl=class{};var Ax=(()=>{let t=class t{constructor(i,o,a,u,l){this.router=i,this.injector=a,this.preloadingStrategy=u,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(li(i=>i instanceof Yn),co(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,o){let a=[];for(let u of o){u.providers&&!u._injector&&(u._injector=Ep(u.providers,i,`Route: ${u.path}`));let l=u._injector??i,f=u._loadedInjector??l;(u.loadChildren&&!u._loadedRoutes&&u.canLoad===void 0||u.loadComponent&&!u._loadedComponent)&&a.push(this.preloadConfig(l,u)),(u.children||u._loadedRoutes)&&a.push(this.processRoutes(f,u.children??u._loadedRoutes))}return qe(a).pipe(hp())}preloadConfig(i,o){return this.preloadingStrategy.preload(o,()=>{let a;o.loadChildren&&o.canLoad===void 0?a=this.loader.loadChildren(i,o):a=tt(null);let u=a.pipe(Be(l=>l===null?tt(void 0):(o._loadedRoutes=l.routes,o._loadedInjector=l.injector,this.processRoutes(l.injector??i,l.routes))));if(o.loadComponent&&!o._loadedComponent){let l=this.loader.loadComponent(o);return qe([u,l]).pipe(hp())}else return u})}};t.\u0275fac=function(o){return new(o||t)(Et(Ge),Et(Mc),Et(Zs),Et(nl),Et(yg))},t.\u0275prov=It({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),lE=new ce(""),Ox=(()=>{let t=class t{constructor(i,o,a,u,l={}){this.urlSerializer=i,this.transitions=o,this.viewportScroller=a,this.zone=u,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration||="disabled",l.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof wo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof Yn?(this.lastId=i.id,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.urlAfterRedirects).fragment)):i instanceof br&&i.code===$c.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof Qc&&(i.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(i.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,o){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Qc(i,this.lastSource==="popstate"?this.store[this.restoredId]:null,o))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};t.\u0275fac=function(o){Nc()},t.\u0275prov=It({token:t,factory:t.\u0275fac});let e=t;return e})();function Rx(e){return e.routerState.root}function Aa(e,t){return{\u0275kind:e,\u0275providers:t}}function Nx(){let e=J(yp);return t=>{let n=e.get(Cp);if(t!==n.components[0])return;let i=e.get(Ge),o=e.get(hE);e.get(Ig)===1&&i.initialNavigation(),e.get(fE,null,gp.Optional)?.setUpPreloading(),e.get(lE,null,gp.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}var hE=new ce("",{factory:()=>new ci}),Ig=new ce("",{providedIn:"root",factory:()=>1});function Dx(){return Aa(2,[{provide:Ig,useValue:0},{provide:Tp,multi:!0,deps:[yp],useFactory:t=>{let n=t.get(aI,Promise.resolve());return()=>n.then(()=>new Promise(i=>{let o=t.get(Ge),a=t.get(hE);cE(o,()=>{i(!0)}),t.get(bg).afterPreactivation=()=>(i(!0),a.closed?tt(void 0):a),o.initialNavigation()}))}}])}function xx(){return Aa(3,[{provide:Tp,multi:!0,useFactory:()=>{let t=J(Ge);return()=>{t.setUpLocationChangeListener()}}},{provide:Ig,useValue:2}])}var fE=new ce("");function kx(e){return Aa(0,[{provide:fE,useExisting:Ax},{provide:nl,useExisting:e}])}function Px(){return Aa(8,[RI,{provide:rl,useExisting:RI}])}function Mx(e){let t=[{provide:sE,useValue:mx},{provide:aE,useValue:W({skipNextTransition:!!e?.skipInitialTransition},e)}];return Aa(9,t)}var DI=new ce("ROUTER_FORROOT_GUARD"),Lx=[ra,{provide:Ea,useClass:da},Ge,Sa,{provide:bo,useFactory:Rx,deps:[Ge]},yg,[]],Eg=(()=>{let t=class t{constructor(i){}static forRoot(i,o){return{ngModule:t,providers:[Lx,[],{provide:el,multi:!0,useValue:i},{provide:DI,useFactory:Vx,deps:[[Ge,new mp,new Ub]]},{provide:_a,useValue:o||{}},o?.useHash?Ux():jx(),Fx(),o?.preloadingStrategy?kx(o.preloadingStrategy).\u0275providers:[],o?.initialNavigation?qx(o):[],o?.bindToComponentInputs?Px().\u0275providers:[],o?.enableViewTransitions?Mx().\u0275providers:[],Bx()]}}static forChild(i){return{ngModule:t,providers:[{provide:el,multi:!0,useValue:i}]}}};t.\u0275fac=function(o){return new(o||t)(Et(DI,8))},t.\u0275mod=mr({type:t}),t.\u0275inj=gr({});let e=t;return e})();function Fx(){return{provide:lE,useFactory:()=>{let e=J(dI),t=J(be),n=J(_a),i=J(bg),o=J(Ea);return n.scrollOffset&&e.setOffset(n.scrollOffset),new Ox(o,i,e,t,n)}}}function Ux(){return{provide:Ap,useClass:cI}}function jx(){return{provide:Ap,useClass:uI}}function Vx(e){return"guarded"}function qx(e){return[e.initialNavigation==="disabled"?xx().\u0275providers:[],e.initialNavigation==="enabledBlocking"?Dx().\u0275providers:[]]}var xI=new ce("");function Bx(){return[{provide:xI,useFactory:Nx},{provide:tI,multi:!0,useExisting:xI}]}var Pe=(FE(),up(LE)),$e=class{static init(t){return Pe.default.initializeApp(t),[]}static getFirestore(){return Pe.default.firestore()}static _getFirestore(){return Pe.default.firestore}static getAuth(){return Pe.default.auth()}static getStorage(){return Pe.default.storage()}static getFirestoreTimestamp(){return Pe.default.firestore.Timestamp.now()}};jE();var Tr=class{constructor(){this.auth=$e.getAuth()}createAccountWith(t){return new Promise((n,i)=>{this.auth.createUserWithEmailAndPassword(t.email,t.password).then(o=>{try{t.onComplete(o)}catch{}n(o)}).catch(o=>{try{t.onFail(o)}catch{}i(o)})})}signInAnonymously(t){return new Promise((n,i)=>{this.auth.signInAnonymously().then(o=>{try{t.onComplete(o)}catch{}n(o)}).catch(o=>{try{t.onFail(o)}catch{}i(o)})})}signInWith(t){return new Promise((n,i)=>{t.provider?this.auth.signInWithPopup(this.getProvider(t.provider)).then(o=>{try{t.onComplete(o)}catch{}n(o)}).catch(o=>{try{t.onFail(o)}catch{}i(o)}):this.auth.signInWithEmailAndPassword(t.email,t.password).then(o=>{try{t.onComplete(o)}catch{}n(o)}).catch(o=>{try{t.onFail(o)}catch{}i(o)})})}getProvider(t){switch(t.toLowerCase()){case"google":return new Pe.default.auth.GoogleAuthProvider;case"apple":return new Pe.default.auth.OAuthProvider("apple.com");case"facebook":return new Pe.default.auth.FacebookAuthProvider;case"yahoo":return new Pe.default.auth.OAuthProvider("yahoo.com");case"github":return new Pe.default.auth.GithubAuthProvider;case"twitter":return new Pe.default.auth.TwitterAuthProvider;case"microsoft":return new Pe.default.auth.OAuthProvider("microsoft.com")}}signOut(t){return new Promise((n,i)=>{t?this.auth.signOut().then(()=>{try{t.onComplete()}catch{}n()}).catch(()=>{try{t.onFail()}catch{}i(new Error("Failed to signout."))}):this.auth.signOut()})}listenToSignInStateChanges(t){this.auth.onAuthStateChanged(n=>{t(n)})}sendVerificationEmail(){try{this.validateIsSignedIn(),this.auth.currentUser.sendEmailVerification()}catch(t){console.error(`${t} User must be signed in to use the sendVerificaitonEmail() function.`)}}sendPasswordResetEmail(t){t.onComplete?this.auth.sendPasswordResetEmail(t.email).then(()=>t.onComplete(`Instructions to reset password was sent to ${t.email}.`)).catch(()=>t.onComplete("Failed to send password reset email.")):this.auth.sendPasswordResetEmail(t.email)}isEmailVerified(){try{return this.validateIsSignedIn(),this.auth.currentUser.emailVerified}catch(t){console.error(`User must be signed in to use the isEmailVerified() function. 
${t}`)}return!1}isSignedIn(){return this.auth.currentUser!=null||this.auth.currentUser!=null}validateIsSignedIn(){if(!this.isSignedIn())throw new Error("No user was signed in.")}getAuth(){return this.auth}checkSignInState(t){let n=this.getAuth().currentUser;try{t.whenChanged(n)}catch{}if(this.isSignedIn()){try{t.whenSignedIn(n)}catch{}if(this.isEmailVerified())try{t.whenSignedInAndEmailVerified(n)}catch{}else try{t.whenSignedInAndEmailNotVerified(n)}catch{}}else try{t.whenSignedOut(n)}catch{}}};var VE=(()=>{let t=class t{constructor(){this.firebasetsAuth=new Tr,this.router=new Ge}toLoginSubmit(i,o){let a=i.value,u=o.value;this.firebasetsAuth.signInWith({email:a,password:u,onComplete:l=>{alert("Logged in"),this.router.navigate(["feed"])},onFail:l=>{alert("Email and password not match!")}})}toSignup(){this.router.navigate(["signup"])}toReset(){this.router.navigate(["reset"])}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=an({type:t,selectors:[["app-login"]],decls:45,vars:0,consts:[["loginEmail",""],["loginPassword",""],[1,"session"],[1,"left"],["enable-background","new 0 0 300 302.5","version","1.1","viewBox","0 0 300 302.5",0,"xml","space","preserve","xmlns","http://www.w3.org/2000/svg"],["type","text/css"],["d","m126 302.2c-2.3 0.7-5.7 0.2-7.7-1.2l-105-71.6c-2-1.3-3.7-4.4-3.9-6.7l-9.4-126.7c-0.2-2.4 1.1-5.6 2.8-7.2l93.2-86.4c1.7-1.6 5.1-2.6 7.4-2.3l125.6 18.9c2.3 0.4 5.2 2.3 6.4 4.4l63.5 110.1c1.2 2 1.4 5.5 0.6 7.7l-46.4 118.3c-0.9 2.2-3.4 4.6-5.7 5.3l-121.4 37.4zm63.4-102.7c2.3-0.7 4.8-3.1 5.7-5.3l19.9-50.8c0.9-2.2 0.6-5.7-0.6-7.7l-27.3-47.3c-1.2-2-4.1-4-6.4-4.4l-53.9-8c-2.3-0.4-5.7 0.7-7.4 2.3l-40 37.1c-1.7 1.6-3 4.9-2.8 7.2l4.1 54.4c0.2 2.4 1.9 5.4 3.9 6.7l45.1 30.8c2 1.3 5.4 1.9 7.7 1.2l52-16.2z",1,"st01"],["action","","autocomplete","off",1,"log-in"],[1,"floating-label"],["placeholder","Email","type","email","name","email","id","email","autocomplete","off","required",""],["for","email"],[1,"icon"],["enable-background","new 0 0 100 100","version","1.1","viewBox","0 0 100 100",0,"xml","space","preserve","xmlns","http://www.w3.org/2000/svg"],["transform","translate(0 -952.36)"],["d","m17.5 977c-1.3 0-2.4 1.1-2.4 2.4v45.9c0 1.3 1.1 2.4 2.4 2.4h64.9c1.3 0 2.4-1.1 2.4-2.4v-45.9c0-1.3-1.1-2.4-2.4-2.4h-64.9zm2.4 4.8h60.2v1.2l-30.1 22-30.1-22v-1.2zm0 7l28.7 21c0.8 0.6 2 0.6 2.8 0l28.7-21v34.1h-60.2v-34.1z"],["width","100","height","100",1,"st0"],["placeholder","Password","type","password","name","password","id","password","autocomplete","off","required",""],["for","password"],["enable-background","new 0 0 24 24","version","1.1","viewBox","0 0 24 24",0,"xml","space","preserve","xmlns","http://www.w3.org/2000/svg"],["width","24","height","24",1,"st0"],["d","M19,21H5V9h14V21z M6,20h12V10H6V20z",1,"st1"],["d","M16.5,10h-1V7c0-1.9-1.6-3.5-3.5-3.5S8.5,5.1,8.5,7v3h-1V7c0-2.5,2-4.5,4.5-4.5s4.5,2,4.5,4.5V10z",1,"st1"],["d","m12 16.5c-0.8 0-1.5-0.7-1.5-1.5s0.7-1.5 1.5-1.5 1.5 0.7 1.5 1.5-0.7 1.5-1.5 1.5zm0-2c-0.3 0-0.5 0.2-0.5 0.5s0.2 0.5 0.5 0.5 0.5-0.2 0.5-0.5-0.2-0.5-0.5-0.5z",1,"st1"],["type","submit","onClick","return false;",3,"click"],["target","_blank",1,"discrete",2,"margin-bottom","-35px",3,"click"],["target","_blank",1,"discrete",3,"click"]],template:function(o,a){if(o&1){let u=ho();B(0,"body")(1,"div",2)(2,"div",3),xe(),B(3,"svg",4)(4,"style",5),ot(5," .st01 { fill: #fff; } "),$(),gt(6,"path",6),$()(),ke(),B(7,"form",7)(8,"h4"),ot(9,"Login to "),B(10,"span"),ot(11,"1Thing."),$()(),B(12,"p"),ot(13,"Welcome back! Log in to your account to view feed today."),$(),B(14,"div",8),gt(15,"input",9,0),B(17,"label",10),ot(18,"Email:"),$(),B(19,"div",11),xe(),B(20,"svg",12)(21,"style",5),ot(22," .st0 { fill: none; } "),$(),B(23,"g",13),gt(24,"path",14),$(),gt(25,"rect",15),$()()(),ke(),B(26,"div",8),gt(27,"input",16,1),B(29,"label",17),ot(30,"Password:"),$(),B(31,"div",11),xe(),B(32,"svg",18)(33,"style",5),ot(34," .st0 { fill: none; } .st1 { fill: #010101; } "),$(),gt(35,"rect",19)(36,"path",20)(37,"path",21)(38,"path",22),$()()(),ke(),B(39,"button",23),bn("click",function(){Pn(u);let f=In(16),p=In(28);return Mn(a.toLoginSubmit(f,p))}),ot(40,"Log in"),$(),B(41,"a",24),bn("click",function(){return Pn(u),Mn(a.toSignup())}),ot(42,"Create an account"),$(),B(43,"a",25),bn("click",function(){return Pn(u),Mn(a.toReset())}),ot(44,"Reset Password"),$()()()()}},styles:[".all[_ngcontent-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,San Francisco,Helvetica,Arial,sans-serif;font-weight:300;margin:0}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100vh;width:100vw;margin:0;display:flex;align-items:flex-start;justify-content:flex-start;background:#f3f2f2}h4[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:#000;opacity:.85}label[_ngcontent-%COMP%]{font-size:12.5px;color:#000;opacity:.8;font-weight:400}form[_ngcontent-%COMP%]{padding:40px 30px 20px;background:#fefefe;display:flex;flex-direction:column;align-items:flex-start;width:300px}form[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:20px;color:#00000080}form[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#000;font-weight:700}form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:155%;font-size:14px;color:#000;opacity:.65;font-weight:400;max-width:200px;margin-bottom:40px}a.discrete[_ngcontent-%COMP%]{color:#0006;font-size:14px;border-bottom:solid 1px rgba(0,0,0,0);padding-bottom:4px;margin-left:auto;font-weight:300;transition:all .3s ease;margin-top:40px;cursor:pointer}a.discrete[_ngcontent-%COMP%]:hover{border-bottom:solid 1px rgba(0,0,0,.2)}button[_ngcontent-%COMP%]{-webkit-appearance:none;width:auto;min-width:100px;border-radius:24px;text-align:center;padding:15px 40px;margin-top:5px;background-color:#b08bf8;color:#fff;font-size:14px;margin-left:auto;font-weight:500;box-shadow:0 2px 6px -1px #00000021;border:none;transition:all .3s ease;outline:0}button[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 2px 6px -1px #b69de6a6}button[_ngcontent-%COMP%]:hover:active{transform:scale(.99)}input[_ngcontent-%COMP%]{font-size:16px;padding:20px 0;height:56px;border:none;border-bottom:solid 1px rgba(0,0,0,.1);background:#fff;width:280px;box-sizing:border-box;transition:all .3s linear;color:#000;font-weight:400;-webkit-appearance:none}input[_ngcontent-%COMP%]:focus{border-bottom:solid 1px #b69de6;outline:0;box-shadow:0 2px 6px -8px #b69de673}.floating-label[_ngcontent-%COMP%]{position:relative;margin-bottom:10px;width:100%}.floating-label[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;top:calc(50% - 7px);left:0;opacity:0;transition:all .3s ease;padding-left:44px}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:calc(100% - 44px);margin-left:auto;display:flex}.floating-label[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{position:absolute;top:0;left:-13px;height:56px;width:44px;display:flex}.floating-label[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:30px;width:30px;margin:auto;opacity:.15;transition:all .3s ease}.floating-label[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{transition:all .3s ease}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:-moz-placeholder-shown){padding:28px 0 12px}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:-ms-input-placeholder){padding:28px 0 12px}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:placeholder-shown){padding:28px 0 12px}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:-moz-placeholder-shown) + label[_ngcontent-%COMP%]{transform:translateY(-10px);opacity:.7}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:-ms-input-placeholder) + label[_ngcontent-%COMP%]{transform:translateY(-10px);opacity:.7}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:placeholder-shown) + label[_ngcontent-%COMP%]{transform:translateY(-10px);opacity:.7}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid:not(:-moz-placeholder-shown) + label[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{opacity:1}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid:not(:-ms-input-placeholder) + label[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{opacity:1}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid:not(:placeholder-shown) + label[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{opacity:1}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid:not(:-moz-placeholder-shown) + label[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#b69de6}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid:not(:-ms-input-placeholder) + label[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#b69de6}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid:not(:placeholder-shown) + label[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#b69de6}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:valid):not(:focus) + label[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%]{-webkit-animation-name:_ngcontent-%COMP%_shake-shake;animation-name:_ngcontent-%COMP%_shake-shake;-webkit-animation-duration:.3s;animation-duration:.3s}@-webkit-keyframes _ngcontent-%COMP%_shake-shake{0%{transform:translate(-3px)}20%{transform:translate(3px)}40%{transform:translate(-3px)}60%{transform:translate(3px)}80%{transform:translate(-3px)}to{transform:translate(0)}}.session[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:auto;height:auto;margin:auto;background:#fff;border-radius:4px;box-shadow:0 2px 6px -1px #0000001f}.left[_ngcontent-%COMP%]{width:220px;height:auto;min-height:100%;position:relative;background-image:url(https://images.pexels.com/photos/114979/pexels-photo-114979.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940);background-size:cover;border-top-left-radius:4px;border-bottom-left-radius:4px}.left[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:40px;width:auto;margin:20px}"]});let e=t;return e})();a_();var Ch=class{constructor(){this.listeners=new Map}appendArray(t){return $e._getFirestore().FieldValue.arrayUnion(t)}increment(t){return $e._getFirestore().FieldValue.increment(t)}genDocId(){return $e.getFirestore().collection("TEMP").doc().id}all(t){let n=$e.getFirestore().batch();for(let i of t.operations)i.getOperation(n);return new Promise((i,o)=>{n.commit().then(()=>{try{t.onComplete()}catch{}i()}).catch(a=>{try{t.onFail(a)}catch{}o(a)})})}create(t){return new Promise((n,i)=>{if(t.data==null||t.data==null)throw new Error("Error creating data. Data is null or undefined.");if(this.isCollectionPath(t.path)){let o=this.genCollectionReference(t.path).doc();o.set(t.data).then(()=>{try{t.onComplete(o.id)}catch{}n(o.id)}).catch(a=>{try{t.onFail(a)}catch{}i(a)})}else if(this.isDocumentPath(t.path)){let o=this.genDocumentReference(t.path);o.set(t.data).then(()=>{try{t.onComplete(o.id)}catch{}n(o.id)}).catch(a=>{try{t.onFail(a)}catch{}i(a)})}})}delete(t){return new Promise((n,i)=>{this.checkDocumentPathValidity(t.path),this.genDocumentReference(t.path).delete().then(()=>{try{t.onComplete()}catch{}n()}).catch(o=>{try{t.onFail(o)}catch{}i(o)})})}update(t){return new Promise((n,i)=>{this.checkDocumentPathValidity(t.path);let o=this.genDocumentReference(t.path);o.update(t.data).then(()=>{try{t.onComplete(o)}catch{}n(o)}).catch(a=>{try{t.onFail(a)}catch{}i(a)})})}getCollection(t){let n=this.genCollectionReference(t.path);return(t.where!=null||t.where!=null)&&t.where.length>0?new Promise((i,o)=>{let a,u=Array(t.where)[0];for(let l=0;l<u.length;l++)a==null?a=u[l].getQuery(n):a=u[l].concatQuery(a);a.get().then(l=>{try{t.onComplete(l)}catch{}i(l)}).catch(l=>{try{t.onFail(l)}catch{}o(l)})}):new Promise((i,o)=>{n.get().then(a=>{try{t.onComplete(a)}catch{}i(a)}).catch(a=>{try{t.onFail(a)}catch{}o(a)})})}getDocument(t){return new Promise((n,i)=>{this.genDocumentReference(t.path).get().then(o=>{try{t.onComplete(o)}catch{}n(o)}).catch(o=>{try{t.onFail(o)}catch{}i(o)})})}listenToDocument(t){this.validateListenerName(t.name),this.addListener(t.name,this.genDocumentReference(t.path).onSnapshot(n=>{try{t.onUpdate(n)}catch{}}))}listenToCollection(t){this.validateListenerName(t.name);let n=this.genCollectionReference(t.path);if((t.where!=null||t.where!=null)&&t.where.length>0){let i,o=Array(t.where)[0];for(let a=0;a<o.length;a++)i==null?i=o[a].getQuery(n):i=o[a].concatQuery(i);this.addListener(t.name,i.onSnapshot(a=>{try{t.onUpdate(a)}catch{}}))}else this.addListener(t.name,n.onSnapshot(i=>{try{t.onUpdate(i)}catch{}}))}genCollectionReference(t){this.checkCollectionPathValidity(t);let n=Array(t)[0],i,o;for(let a=0;a<n.length;a++)a%2==0?i==null?i=$e.getFirestore().collection(n[a]):i=o.collection(n[a]):o=i.doc(n[a]);return i}genDocumentReference(t){this.checkDocumentPathValidity(t);let n=Array(t)[0],i,o;for(let a=0;a<n.length;a++)a%2==0?i==null?i=$e.getFirestore().collection(n[a]):i=o.collection(n[a]):o=i.doc(n[a]);return o}addListener(t,n){return this.listeners.set(t,n),n}stopListeningTo(t){try{this.listeners.get(t)(),this.listeners.delete(t)}catch{}}stopListeningToAll(){this.listeners.forEach((t,n,i)=>{this.stopListeningTo(n)})}validateListenerName(t){if(t==null||t==null||typeof t!="string"||t.trim().length<=0)throw"Listener name cannot be empty.";if(this.listeners.get(t)!=null)throw`Listener name: ${t} is already taken.`}checkCollectionPathValidity(t){if(t==null||t==null||t.length<=0||!this.isCollectionPath(t))throw"Not a valid path to a collection."}isCollectionPath(t){return Array(t)[0].length%2==1}checkDocumentPathValidity(t){if(t==null||t==null||t.length<=0||!this.isDocumentPath(t))throw"Not a valid path to a document."}isDocumentPath(t){return Array(t)[0].length%2==0}};var u_=(()=>{let t=class t{constructor(i){this.firestore=new Ch,this.firebasetsAuth=new Tr,this.router=i}ToSubmitSignup(i,o,a,u,l){let f=i.value,p=o.value,m=a.value,y=u.value,w=l.value;this.isAMatch(y,w)?this.firebasetsAuth.createAccountWith({email:m,password:y,onComplete:I=>{let E=I.user;alert("Registered Successfully"),E?this.firestore.create({path:["Users",E.uid],data:{publicName:f,username:p},onComplete:T=>{alert("Profile Created"),i.value="",o.value="",this.router.navigate([""])},onFail:T=>{console.error("Firestore Error:",T),alert(T)}}):(console.error("User object is null."),alert("Failed to create profile. Please try again."))},onFail:I=>{console.error("Authentication Error:",I),alert("Failed to create profile. Please try again.")}}):alert("Passwords do not match.")}isAMatch(i,o){return i===o}toLogin(){this.router.navigate([""])}};t.\u0275fac=function(o){return new(o||t)(Ip(Ge))},t.\u0275cmp=an({type:t,selectors:[["app-signup"]],decls:80,vars:0,consts:[["signupName",""],["signupUsername",""],["signupEmail",""],["signupPassword",""],["signupConfirmPassword",""],[1,"session"],[1,"left"],["enable-background","new 0 0 300 302.5","version","1.1","viewBox","0 0 300 302.5",0,"xml","space","preserve","xmlns","http://www.w3.org/2000/svg"],["type","text/css"],["d","m126 302.2c-2.3 0.7-5.7 0.2-7.7-1.2l-105-71.6c-2-1.3-3.7-4.4-3.9-6.7l-9.4-126.7c-0.2-2.4 1.1-5.6 2.8-7.2l93.2-86.4c1.7-1.6 5.1-2.6 7.4-2.3l125.6 18.9c2.3 0.4 5.2 2.3 6.4 4.4l63.5 110.1c1.2 2 1.4 5.5 0.6 7.7l-46.4 118.3c-0.9 2.2-3.4 4.6-5.7 5.3l-121.4 37.4zm63.4-102.7c2.3-0.7 4.8-3.1 5.7-5.3l19.9-50.8c0.9-2.2 0.6-5.7-0.6-7.7l-27.3-47.3c-1.2-2-4.1-4-6.4-4.4l-53.9-8c-2.3-0.4-5.7 0.7-7.4 2.3l-40 37.1c-1.7 1.6-3 4.9-2.8 7.2l4.1 54.4c0.2 2.4 1.9 5.4 3.9 6.7l45.1 30.8c2 1.3 5.4 1.9 7.7 1.2l52-16.2z",1,"st01"],["action","","autocomplete","off",1,"log-in"],[1,"floating-label"],["placeholder","Name","type","text","name","text","id","Name","autocomplete","off","required",""],["for","username"],[1,"icon"],["enable-background","new 0 0 100 100","version","1.1","viewBox","0 0 100 100",0,"xml","space","preserve","xmlns","http://www.w3.org/2000/svg"],["transform","translate(0 -952.36)"],["d","m17.5 977c-1.3 0-2.4 1.1-2.4 2.4v45.9c0 1.3 1.1 2.4 2.4 2.4h64.9c1.3 0 2.4-1.1 2.4-2.4v-45.9c0-1.3-1.1-2.4-2.4-2.4h-64.9zm2.4 4.8h60.2v1.2l-30.1 22-30.1-22v-1.2zm0 7l28.7 21c0.8 0.6 2 0.6 2.8 0l28.7-21v34.1h-60.2v-34.1z"],["width","100","height","100",1,"st0"],["placeholder","Username","type","text","name","text","id","username","autocomplete","off","required",""],["placeholder","Email","type","email","name","email","id","email","autocomplete","off","required",""],["for","email"],["placeholder","Password","type","password","name","password","id","password","autocomplete","off","required",""],["for","password"],["enable-background","new 0 0 24 24","version","1.1","viewBox","0 0 24 24",0,"xml","space","preserve","xmlns","http://www.w3.org/2000/svg"],["width","24","height","24",1,"st0"],["d","M19,21H5V9h14V21z M6,20h12V10H6V20z",1,"st1"],["d","M16.5,10h-1V7c0-1.9-1.6-3.5-3.5-3.5S8.5,5.1,8.5,7v3h-1V7c0-2.5,2-4.5,4.5-4.5s4.5,2,4.5,4.5V10z",1,"st1"],["d","m12 16.5c-0.8 0-1.5-0.7-1.5-1.5s0.7-1.5 1.5-1.5 1.5 0.7 1.5 1.5-0.7 1.5-1.5 1.5zm0-2c-0.3 0-0.5 0.2-0.5 0.5s0.2 0.5 0.5 0.5 0.5-0.2 0.5-0.5-0.2-0.5-0.5-0.5z",1,"st1"],["placeholder","Comfirm Password","type","password","name","password_2","id","password_2","autocomplete","off","required",""],["for","password_2"],["type","submit","onClick","return false;",3,"click"],["target","_blank",1,"discrete",3,"click"]],template:function(o,a){if(o&1){let u=ho();B(0,"body")(1,"div",5)(2,"div",6),xe(),B(3,"svg",7)(4,"style",8),ot(5," .st01 { fill: #fff; } "),$(),gt(6,"path",9),$()(),ke(),B(7,"form",10)(8,"h4"),ot(9,"Sign up, "),B(10,"span"),ot(11,"1Thing."),$()(),B(12,"p"),ot(13,"Join now for view feed today."),$(),B(14,"div",11),gt(15,"input",12,0),B(17,"label",13),ot(18,"Name - Lastname:"),$(),B(19,"div",14),xe(),B(20,"svg",15)(21,"style",8),ot(22," .st0 { fill: none; } "),$(),B(23,"g",16),gt(24,"path",17),$(),gt(25,"rect",18),$()()(),ke(),B(26,"div",11),gt(27,"input",19,1),B(29,"label",13),ot(30,"Username:"),$(),B(31,"div",14),xe(),B(32,"svg",15)(33,"style",8),ot(34," .st0 { fill: none; } "),$(),B(35,"g",16),gt(36,"path",17),$(),gt(37,"rect",18),$()()(),ke(),B(38,"div",11),gt(39,"input",20,2),B(41,"label",21),ot(42,"Email:"),$(),B(43,"div",14),xe(),B(44,"svg",15)(45,"style",8),ot(46," .st0 { fill: none; } "),$(),B(47,"g",16),gt(48,"path",17),$(),gt(49,"rect",18),$()()(),ke(),B(50,"div",11),gt(51,"input",22,3),B(53,"label",23),ot(54,"Password:"),$(),B(55,"div",14),xe(),B(56,"svg",24)(57,"style",8),ot(58," .st0 { fill: none; } .st1 { fill: #010101; } "),$(),gt(59,"rect",25)(60,"path",26)(61,"path",27)(62,"path",28),$()()(),ke(),B(63,"div",11),gt(64,"input",29,4),B(66,"label",30),ot(67,"Confirm Password:"),$(),B(68,"div",14),xe(),B(69,"svg",24)(70,"style",8),ot(71," .st0 { fill: none; } .st1 { fill: #010101; } "),$(),gt(72,"rect",25)(73,"path",26)(74,"path",27)(75,"path",28),$()()(),ke(),B(76,"button",31),bn("click",function(){Pn(u);let f=In(16),p=In(28),m=In(40),y=In(52),w=In(65);return Mn(a.ToSubmitSignup(f,p,m,y,w))}),ot(77,"Sign Up"),$(),B(78,"a",32),bn("click",function(){return Pn(u),Mn(a.toLogin())}),ot(79,"Back to Signin"),$()()()()}},styles:[".all[_ngcontent-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,San Francisco,Helvetica,Arial,sans-serif;font-weight:300;margin:0}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100vh;width:100vw;margin:0;display:flex;align-items:flex-start;justify-content:flex-start;background:#f3f2f2}h4[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:#000;opacity:.85}label[_ngcontent-%COMP%]{font-size:12.5px;color:#000;opacity:.8;font-weight:400}form[_ngcontent-%COMP%]{padding:40px 30px 20px;background:#fefefe;display:flex;flex-direction:column;align-items:flex-start;width:300px}form[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:20px;color:#00000080}form[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#000;font-weight:700}form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:155%;font-size:14px;color:#000;opacity:.65;font-weight:400;max-width:200px;margin-bottom:40px}a.discrete[_ngcontent-%COMP%]{color:#0006;font-size:14px;border-bottom:solid 1px rgba(0,0,0,0);padding-bottom:4px;margin-left:auto;font-weight:300;transition:all .3s ease;margin-top:40px;cursor:pointer}a.discrete[_ngcontent-%COMP%]:hover{border-bottom:solid 1px rgba(0,0,0,.2)}button[_ngcontent-%COMP%]{-webkit-appearance:none;width:auto;min-width:100px;border-radius:24px;text-align:center;padding:15px 40px;margin-top:5px;background-color:#b08bf8;color:#fff;font-size:14px;margin-left:auto;font-weight:500;box-shadow:0 2px 6px -1px #00000021;border:none;transition:all .3s ease;outline:0}button[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 2px 6px -1px #b69de6a6}button[_ngcontent-%COMP%]:hover:active{transform:scale(.99)}input[_ngcontent-%COMP%]{font-size:16px;padding:20px 0;height:56px;border:none;border-bottom:solid 1px rgba(0,0,0,.1);background:#fff;width:280px;box-sizing:border-box;transition:all .3s linear;color:#000;font-weight:400;-webkit-appearance:none}input[_ngcontent-%COMP%]:focus{border-bottom:solid 1px #b69de6;outline:0;box-shadow:0 2px 6px -8px #b69de673}.floating-label[_ngcontent-%COMP%]{position:relative;margin-bottom:10px;width:100%}.floating-label[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;top:calc(50% - 7px);left:0;opacity:0;transition:all .3s ease;padding-left:44px}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:calc(100% - 44px);margin-left:auto;display:flex}.floating-label[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{position:absolute;top:0;left:-13px;height:56px;width:44px;display:flex}.floating-label[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:30px;width:30px;margin:auto;opacity:.15;transition:all .3s ease}.floating-label[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{transition:all .3s ease}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:-moz-placeholder-shown){padding:28px 0 12px}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:-ms-input-placeholder){padding:28px 0 12px}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:placeholder-shown){padding:28px 0 12px}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:-moz-placeholder-shown) + label[_ngcontent-%COMP%]{transform:translateY(-10px);opacity:.7}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:-ms-input-placeholder) + label[_ngcontent-%COMP%]{transform:translateY(-10px);opacity:.7}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:placeholder-shown) + label[_ngcontent-%COMP%]{transform:translateY(-10px);opacity:.7}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid:not(:-moz-placeholder-shown) + label[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{opacity:1}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid:not(:-ms-input-placeholder) + label[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{opacity:1}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid:not(:placeholder-shown) + label[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{opacity:1}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid:not(:-moz-placeholder-shown) + label[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#b69de6}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid:not(:-ms-input-placeholder) + label[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#b69de6}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid:not(:placeholder-shown) + label[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#b69de6}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:valid):not(:focus) + label[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%]{-webkit-animation-name:_ngcontent-%COMP%_shake-shake;animation-name:_ngcontent-%COMP%_shake-shake;-webkit-animation-duration:.3s;animation-duration:.3s}@-webkit-keyframes _ngcontent-%COMP%_shake-shake{0%{transform:translate(-3px)}20%{transform:translate(3px)}40%{transform:translate(-3px)}60%{transform:translate(3px)}80%{transform:translate(-3px)}to{transform:translate(0)}}.session[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:auto;height:auto;margin:auto;background:#fff;border-radius:4px;box-shadow:0 2px 6px -1px #0000001f}.left[_ngcontent-%COMP%]{width:220px;height:auto;min-height:100%;position:relative;background-image:url(https://images.pexels.com/photos/114979/pexels-photo-114979.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940);background-size:cover;border-top-left-radius:4px;border-bottom-left-radius:4px}.left[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:40px;width:auto;margin:20px}"]});let e=t;return e})();var c_=(()=>{let t=class t{constructor(){this.firebasetsAuth=new Tr,this.router=new Ge}toLogin(){this.router.navigate([""])}toResetSubmit(i){let o=i.value;this.firebasetsAuth.sendPasswordResetEmail({email:o,onComplete:a=>{alert(`Reset Email sent to ${o}`),this.router.navigate([""])}})}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=an({type:t,selectors:[["app-resetemail"]],decls:29,vars:0,consts:[["resetEmail",""],[1,"session"],[1,"left"],["enable-background","new 0 0 300 302.5","version","1.1","viewBox","0 0 300 302.5",0,"xml","space","preserve","xmlns","http://www.w3.org/2000/svg"],["type","text/css"],["d","m126 302.2c-2.3 0.7-5.7 0.2-7.7-1.2l-105-71.6c-2-1.3-3.7-4.4-3.9-6.7l-9.4-126.7c-0.2-2.4 1.1-5.6 2.8-7.2l93.2-86.4c1.7-1.6 5.1-2.6 7.4-2.3l125.6 18.9c2.3 0.4 5.2 2.3 6.4 4.4l63.5 110.1c1.2 2 1.4 5.5 0.6 7.7l-46.4 118.3c-0.9 2.2-3.4 4.6-5.7 5.3l-121.4 37.4zm63.4-102.7c2.3-0.7 4.8-3.1 5.7-5.3l19.9-50.8c0.9-2.2 0.6-5.7-0.6-7.7l-27.3-47.3c-1.2-2-4.1-4-6.4-4.4l-53.9-8c-2.3-0.4-5.7 0.7-7.4 2.3l-40 37.1c-1.7 1.6-3 4.9-2.8 7.2l4.1 54.4c0.2 2.4 1.9 5.4 3.9 6.7l45.1 30.8c2 1.3 5.4 1.9 7.7 1.2l52-16.2z",1,"st01"],["action","","autocomplete","off",1,"log-in"],[1,"floating-label"],["placeholder","Email","type","email","name","email","id","email","autocomplete","off","required",""],["for","email"],[1,"icon"],["enable-background","new 0 0 100 100","version","1.1","viewBox","0 0 100 100",0,"xml","space","preserve","xmlns","http://www.w3.org/2000/svg"],["transform","translate(0 -952.36)"],["d","m17.5 977c-1.3 0-2.4 1.1-2.4 2.4v45.9c0 1.3 1.1 2.4 2.4 2.4h64.9c1.3 0 2.4-1.1 2.4-2.4v-45.9c0-1.3-1.1-2.4-2.4-2.4h-64.9zm2.4 4.8h60.2v1.2l-30.1 22-30.1-22v-1.2zm0 7l28.7 21c0.8 0.6 2 0.6 2.8 0l28.7-21v34.1h-60.2v-34.1z"],["width","100","height","100",1,"st0"],["type","submit","onClick","return false;",3,"click"],["target","_blank",1,"discrete",3,"click"]],template:function(o,a){if(o&1){let u=ho();B(0,"body")(1,"div",1)(2,"div",2),xe(),B(3,"svg",3)(4,"style",4),ot(5," .st01 { fill: #fff; } "),$(),gt(6,"path",5),$()(),ke(),B(7,"form",6)(8,"h4")(9,"span"),ot(10,"Reset Password."),$()(),B(11,"p"),ot(12,"Put your E-mail and get reset password in your email. "),$(),B(13,"div",7),gt(14,"input",8,0),B(16,"label",9),ot(17,"Email:"),$(),B(18,"div",10),xe(),B(19,"svg",11)(20,"style",4),ot(21," .st0 { fill: none; } "),$(),B(22,"g",12),gt(23,"path",13),$(),gt(24,"rect",14),$()()(),ke(),B(25,"button",15),bn("click",function(){Pn(u);let f=In(15);return Mn(a.toResetSubmit(f))}),ot(26,"Reset"),$(),B(27,"a",16),bn("click",function(){return Pn(u),Mn(a.toLogin())}),ot(28,"Back to Login"),$()()()()}},styles:[".all[_ngcontent-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,San Francisco,Helvetica,Arial,sans-serif;font-weight:300;margin:0}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100vh;width:100vw;margin:0;display:flex;align-items:flex-start;justify-content:flex-start;background:#f3f2f2}h4[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:#000;opacity:.85}label[_ngcontent-%COMP%]{font-size:12.5px;color:#000;opacity:.8;font-weight:400}form[_ngcontent-%COMP%]{padding:40px 30px 20px;background:#fefefe;display:flex;flex-direction:column;align-items:flex-start;width:300px}form[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:20px;color:#00000080}form[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#000;font-weight:700}form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:155%;font-size:14px;color:#000;opacity:.65;font-weight:400;max-width:200px;margin-bottom:40px}a.discrete[_ngcontent-%COMP%]{color:#0006;font-size:14px;border-bottom:solid 1px rgba(0,0,0,0);padding-bottom:4px;margin-left:auto;font-weight:300;transition:all .3s ease;margin-top:40px;cursor:pointer}a.discrete[_ngcontent-%COMP%]:hover{border-bottom:solid 1px rgba(0,0,0,.2)}button[_ngcontent-%COMP%]{-webkit-appearance:none;width:auto;min-width:100px;border-radius:24px;text-align:center;padding:15px 40px;margin-top:5px;background-color:#b08bf8;color:#fff;font-size:14px;margin-left:auto;font-weight:500;box-shadow:0 2px 6px -1px #00000021;border:none;transition:all .3s ease;outline:0}button[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 2px 6px -1px #b69de6a6}button[_ngcontent-%COMP%]:hover:active{transform:scale(.99)}input[_ngcontent-%COMP%]{font-size:16px;padding:20px 0;height:56px;border:none;border-bottom:solid 1px rgba(0,0,0,.1);background:#fff;width:280px;box-sizing:border-box;transition:all .3s linear;color:#000;font-weight:400;-webkit-appearance:none}input[_ngcontent-%COMP%]:focus{border-bottom:solid 1px #b69de6;outline:0;box-shadow:0 2px 6px -8px #b69de673}.floating-label[_ngcontent-%COMP%]{position:relative;margin-bottom:10px;width:100%}.floating-label[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;top:calc(50% - 7px);left:0;opacity:0;transition:all .3s ease;padding-left:44px}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:calc(100% - 44px);margin-left:auto;display:flex}.floating-label[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{position:absolute;top:0;left:-13px;height:56px;width:44px;display:flex}.floating-label[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:30px;width:30px;margin:auto;opacity:.15;transition:all .3s ease}.floating-label[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{transition:all .3s ease}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:-moz-placeholder-shown){padding:28px 0 12px}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:-ms-input-placeholder){padding:28px 0 12px}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:placeholder-shown){padding:28px 0 12px}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:-moz-placeholder-shown) + label[_ngcontent-%COMP%]{transform:translateY(-10px);opacity:.7}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:-ms-input-placeholder) + label[_ngcontent-%COMP%]{transform:translateY(-10px);opacity:.7}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:placeholder-shown) + label[_ngcontent-%COMP%]{transform:translateY(-10px);opacity:.7}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid:not(:-moz-placeholder-shown) + label[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{opacity:1}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid:not(:-ms-input-placeholder) + label[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{opacity:1}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid:not(:placeholder-shown) + label[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{opacity:1}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid:not(:-moz-placeholder-shown) + label[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#b69de6}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid:not(:-ms-input-placeholder) + label[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#b69de6}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid:not(:placeholder-shown) + label[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#b69de6}.floating-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:valid):not(:focus) + label[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%]{-webkit-animation-name:_ngcontent-%COMP%_shake-shake;animation-name:_ngcontent-%COMP%_shake-shake;-webkit-animation-duration:.3s;animation-duration:.3s}@-webkit-keyframes _ngcontent-%COMP%_shake-shake{0%{transform:translate(-3px)}20%{transform:translate(3px)}40%{transform:translate(-3px)}60%{transform:translate(3px)}80%{transform:translate(-3px)}to{transform:translate(0)}}.session[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:auto;height:auto;margin:auto;background:#fff;border-radius:4px;box-shadow:0 2px 6px -1px #0000001f}.left[_ngcontent-%COMP%]{width:220px;height:auto;min-height:100%;position:relative;background-image:url(https://images.pexels.com/photos/114979/pexels-photo-114979.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940);background-size:cover;border-top-left-radius:4px;border-bottom-left-radius:4px}.left[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:40px;width:auto;margin:20px}"]});let e=t;return e})();var l_=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=an({type:t,selectors:[["app-feed"]],decls:2,vars:0,template:function(o,a){o&1&&(B(0,"p"),ot(1,"feed works!"),$())}});let e=t;return e})();var d2=[{path:"",component:VE},{path:"signup",component:u_},{path:"reset",component:c_},{path:"feed",component:l_}],h_=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=mr({type:t}),t.\u0275inj=gr({imports:[Eg.forRoot(d2),Eg]});let e=t;return e})();var f_=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=an({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(o,a){o&1&&gt(0,"router-outlet")},dependencies:[gg]});let e=t;return e})();var p2="@",g2=(()=>{let t=class t{constructor(i,o,a,u,l){this.doc=i,this.delegate=o,this.zone=a,this.animationType=u,this.moduleImpl=l,this._rendererFactoryPromise=null,this.scheduler=J(Kb,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-EBIQWXRP.js")).catch(o=>{throw new jt(5300,!1)}).then(({\u0275createEngine:o,\u0275AnimationRendererFactory:a})=>{this._engine=o(this.animationType,this.doc,this.scheduler);let u=new a(this.delegate,this._engine,this.zone);return this.delegate=u,u})}createRenderer(i,o){let a=this.delegate.createRenderer(i,o);if(a.\u0275type===0)return a;typeof a.throwOnSyntheticProps=="boolean"&&(a.throwOnSyntheticProps=!1);let u=new xv(a);return o?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(l=>{let f=l.createRenderer(i,o);u.use(f)}).catch(l=>{u.use(a)}),u}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};t.\u0275fac=function(o){Nc()},t.\u0275prov=It({token:t,factory:t.\u0275fac});let e=t;return e})(),xv=class{constructor(t){this.delegate=t,this.replay=[],this.\u0275type=1}use(t){if(this.delegate=t,this.replay!==null){for(let n of this.replay)n(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,n){return this.delegate.createElement(t,n)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,n){this.delegate.appendChild(t,n)}insertBefore(t,n,i,o){this.delegate.insertBefore(t,n,i,o)}removeChild(t,n,i){this.delegate.removeChild(t,n,i)}selectRootElement(t,n){return this.delegate.selectRootElement(t,n)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,n,i,o){this.delegate.setAttribute(t,n,i,o)}removeAttribute(t,n,i){this.delegate.removeAttribute(t,n,i)}addClass(t,n){this.delegate.addClass(t,n)}removeClass(t,n){this.delegate.removeClass(t,n)}setStyle(t,n,i,o){this.delegate.setStyle(t,n,i,o)}removeStyle(t,n,i){this.delegate.removeStyle(t,n,i)}setProperty(t,n,i){this.shouldReplay(n)&&this.replay.push(o=>o.setProperty(t,n,i)),this.delegate.setProperty(t,n,i)}setValue(t,n){this.delegate.setValue(t,n)}listen(t,n,i){return this.shouldReplay(n)&&this.replay.push(o=>o.listen(t,n,i)),this.delegate.listen(t,n,i)}shouldReplay(t){return this.replay!==null&&t.startsWith(p2)}};function d_(e="animations"){return Gb("NgAsyncAnimations"),Oc([{provide:Dc,useFactory:(t,n,i)=>new g2(t,n,i,e),deps:[ze,Uc,be]},{provide:Hb,useValue:e==="noop"?"NoopAnimations":"BrowserAnimations"}])}var p_={production:!0,firebaseConfig:{apiKey:"AIzaSyDQSvJxcPBsFa6sttkCEwookpEp9Ghxsio",authDomain:"thing-702bc.firebaseapp.com",projectId:"thing-702bc",storageBucket:"thing-702bc.appspot.com",messagingSenderId:"855219867760",appId:"1:855219867760:web:6c89ba7257b02a332ca4b5",measurementId:"G-VZ7L6RQT3V"}};var g_=(()=>{let t=class t{constructor(){$e.init(p_.firebaseConfig)}};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=mr({type:t,bootstrap:[f_]}),t.\u0275inj=gr({providers:[d_()],imports:[EI,h_]});let e=t;return e})();II().bootstrapModule(g_).catch(e=>console.error(e));
